var mk=Object.defineProperty;var gk=(n,e,t)=>e in n?mk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var SR=(n,e,t)=>gk(n,typeof e!="symbol"?e+"":e,t);function vk(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function jE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bT={exports:{}},Og={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TR;function xk(){if(TR)return Og;TR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var s=null;if(a!==void 0&&(s=""+a),r.key!==void 0&&(s=""+r.key),"key"in r){a={};for(var l in r)l!=="key"&&(a[l]=r[l])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:s,ref:r!==void 0?r:null,props:a}}return Og.Fragment=e,Og.jsx=t,Og.jsxs=t,Og}var AR;function yk(){return AR||(AR=1,bT.exports=xk()),bT.exports}var Be=yk(),MT={exports:{}},wn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bR;function _k(){if(bR)return wn;bR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(j){return j===null||typeof j!="object"?null:(j=g&&j[g]||j["@@iterator"],typeof j=="function"?j:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function S(j,le,H){this.props=j,this.context=le,this.refs=T,this.updater=H||y}S.prototype.isReactComponent={},S.prototype.setState=function(j,le){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,le,"setState")},S.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function A(){}A.prototype=S.prototype;function R(j,le,H){this.props=j,this.context=le,this.refs=T,this.updater=H||y}var w=R.prototype=new A;w.constructor=R,E(w,S.prototype),w.isPureReactComponent=!0;var D=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function U(j,le,H,q,V,Q){return H=Q.ref,{$$typeof:n,type:j,key:le,ref:H!==void 0?H:null,props:Q}}function I(j,le){return U(j.type,le,void 0,void 0,void 0,j.props)}function C(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function L(j){var le={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(H){return le[H]})}var k=/\/+/g;function G(j,le){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):le.toString(36)}function ee(){}function ve(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ee,ee):(j.status="pending",j.then(function(le){j.status==="pending"&&(j.status="fulfilled",j.value=le)},function(le){j.status==="pending"&&(j.status="rejected",j.reason=le)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function pe(j,le,H,q,V){var Q=typeof j;(Q==="undefined"||Q==="boolean")&&(j=null);var ge=!1;if(j===null)ge=!0;else switch(Q){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(j.$$typeof){case n:case e:ge=!0;break;case p:return ge=j._init,pe(ge(j._payload),le,H,q,V)}}if(ge)return V=V(j),ge=q===""?"."+G(j,0):q,D(V)?(H="",ge!=null&&(H=ge.replace(k,"$&/")+"/"),pe(V,le,H,"",function(Ce){return Ce})):V!=null&&(C(V)&&(V=I(V,H+(V.key==null||j&&j.key===V.key?"":(""+V.key).replace(k,"$&/")+"/")+ge)),le.push(V)),1;ge=0;var Ae=q===""?".":q+":";if(D(j))for(var Ee=0;Ee<j.length;Ee++)q=j[Ee],Q=Ae+G(q,Ee),ge+=pe(q,le,H,Q,V);else if(Ee=v(j),typeof Ee=="function")for(j=Ee.call(j),Ee=0;!(q=j.next()).done;)q=q.value,Q=Ae+G(q,Ee++),ge+=pe(q,le,H,Q,V);else if(Q==="object"){if(typeof j.then=="function")return pe(ve(j),le,H,q,V);throw le=String(j),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return ge}function W(j,le,H){if(j==null)return j;var q=[],V=0;return pe(j,q,"","",function(Q){return le.call(H,Q,V++)}),q}function K(j){if(j._status===-1){var le=j._result;le=le(),le.then(function(H){(j._status===0||j._status===-1)&&(j._status=1,j._result=H)},function(H){(j._status===0||j._status===-1)&&(j._status=2,j._result=H)}),j._status===-1&&(j._status=0,j._result=le)}if(j._status===1)return j._result.default;throw j._result}var ie=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function ne(){}return wn.Children={map:W,forEach:function(j,le,H){W(j,function(){le.apply(this,arguments)},H)},count:function(j){var le=0;return W(j,function(){le++}),le},toArray:function(j){return W(j,function(le){return le})||[]},only:function(j){if(!C(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},wn.Component=S,wn.Fragment=t,wn.Profiler=r,wn.PureComponent=R,wn.StrictMode=i,wn.Suspense=u,wn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,wn.__COMPILER_RUNTIME={__proto__:null,c:function(j){return P.H.useMemoCache(j)}},wn.cache=function(j){return function(){return j.apply(null,arguments)}},wn.cloneElement=function(j,le,H){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var q=E({},j.props),V=j.key,Q=void 0;if(le!=null)for(ge in le.ref!==void 0&&(Q=void 0),le.key!==void 0&&(V=""+le.key),le)!F.call(le,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&le.ref===void 0||(q[ge]=le[ge]);var ge=arguments.length-2;if(ge===1)q.children=H;else if(1<ge){for(var Ae=Array(ge),Ee=0;Ee<ge;Ee++)Ae[Ee]=arguments[Ee+2];q.children=Ae}return U(j.type,V,void 0,void 0,Q,q)},wn.createContext=function(j){return j={$$typeof:s,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:a,_context:j},j},wn.createElement=function(j,le,H){var q,V={},Q=null;if(le!=null)for(q in le.key!==void 0&&(Q=""+le.key),le)F.call(le,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(V[q]=le[q]);var ge=arguments.length-2;if(ge===1)V.children=H;else if(1<ge){for(var Ae=Array(ge),Ee=0;Ee<ge;Ee++)Ae[Ee]=arguments[Ee+2];V.children=Ae}if(j&&j.defaultProps)for(q in ge=j.defaultProps,ge)V[q]===void 0&&(V[q]=ge[q]);return U(j,Q,void 0,void 0,null,V)},wn.createRef=function(){return{current:null}},wn.forwardRef=function(j){return{$$typeof:l,render:j}},wn.isValidElement=C,wn.lazy=function(j){return{$$typeof:p,_payload:{_status:-1,_result:j},_init:K}},wn.memo=function(j,le){return{$$typeof:h,type:j,compare:le===void 0?null:le}},wn.startTransition=function(j){var le=P.T,H={};P.T=H;try{var q=j(),V=P.S;V!==null&&V(H,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(ne,ie)}catch(Q){ie(Q)}finally{P.T=le}},wn.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},wn.use=function(j){return P.H.use(j)},wn.useActionState=function(j,le,H){return P.H.useActionState(j,le,H)},wn.useCallback=function(j,le){return P.H.useCallback(j,le)},wn.useContext=function(j){return P.H.useContext(j)},wn.useDebugValue=function(){},wn.useDeferredValue=function(j,le){return P.H.useDeferredValue(j,le)},wn.useEffect=function(j,le,H){var q=P.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(j,le)},wn.useId=function(){return P.H.useId()},wn.useImperativeHandle=function(j,le,H){return P.H.useImperativeHandle(j,le,H)},wn.useInsertionEffect=function(j,le){return P.H.useInsertionEffect(j,le)},wn.useLayoutEffect=function(j,le){return P.H.useLayoutEffect(j,le)},wn.useMemo=function(j,le){return P.H.useMemo(j,le)},wn.useOptimistic=function(j,le){return P.H.useOptimistic(j,le)},wn.useReducer=function(j,le,H){return P.H.useReducer(j,le,H)},wn.useRef=function(j){return P.H.useRef(j)},wn.useState=function(j){return P.H.useState(j)},wn.useSyncExternalStore=function(j,le,H){return P.H.useSyncExternalStore(j,le,H)},wn.useTransition=function(){return P.H.useTransition()},wn.version="19.1.0",wn}var MR;function $p(){return MR||(MR=1,MT.exports=_k()),MT.exports}var De=$p();const Fa=jE(De),AN=vk({__proto__:null,default:Fa},[De]);var wT={exports:{}},Ng={},RT={exports:{}},CT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wR;function Ek(){return wR||(wR=1,function(n){function e(W,K){var ie=W.length;W.push(K);e:for(;0<ie;){var ne=ie-1>>>1,j=W[ne];if(0<r(j,K))W[ne]=K,W[ie]=j,ie=ne;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var K=W[0],ie=W.pop();if(ie!==K){W[0]=ie;e:for(var ne=0,j=W.length,le=j>>>1;ne<le;){var H=2*(ne+1)-1,q=W[H],V=H+1,Q=W[V];if(0>r(q,ie))V<j&&0>r(Q,q)?(W[ne]=Q,W[V]=ie,ne=V):(W[ne]=q,W[H]=ie,ne=H);else if(V<j&&0>r(Q,ie))W[ne]=Q,W[V]=ie,ne=V;else break e}}return K}function r(W,K){var ie=W.sortIndex-K.sortIndex;return ie!==0?ie:W.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var u=[],h=[],p=1,g=null,v=3,y=!1,E=!1,T=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function D(W){for(var K=t(h);K!==null;){if(K.callback===null)i(h);else if(K.startTime<=W)i(h),K.sortIndex=K.expirationTime,e(u,K);else break;K=t(h)}}function P(W){if(T=!1,D(W),!E)if(t(u)!==null)E=!0,F||(F=!0,G());else{var K=t(h);K!==null&&pe(P,K.startTime-W)}}var F=!1,U=-1,I=5,C=-1;function L(){return S?!0:!(n.unstable_now()-C<I)}function k(){if(S=!1,F){var W=n.unstable_now();C=W;var K=!0;try{e:{E=!1,T&&(T=!1,R(U),U=-1),y=!0;var ie=v;try{t:{for(D(W),g=t(u);g!==null&&!(g.expirationTime>W&&L());){var ne=g.callback;if(typeof ne=="function"){g.callback=null,v=g.priorityLevel;var j=ne(g.expirationTime<=W);if(W=n.unstable_now(),typeof j=="function"){g.callback=j,D(W),K=!0;break t}g===t(u)&&i(u),D(W)}else i(u);g=t(u)}if(g!==null)K=!0;else{var le=t(h);le!==null&&pe(P,le.startTime-W),K=!1}}break e}finally{g=null,v=ie,y=!1}K=void 0}}finally{K?G():F=!1}}}var G;if(typeof w=="function")G=function(){w(k)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ve=ee.port2;ee.port1.onmessage=k,G=function(){ve.postMessage(null)}}else G=function(){A(k,0)};function pe(W,K){U=A(function(){W(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(W){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var ie=v;v=K;try{return W()}finally{v=ie}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(W,K){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ie=v;v=W;try{return K()}finally{v=ie}},n.unstable_scheduleCallback=function(W,K,ie){var ne=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ne+ie:ne):ie=ne,W){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ie+j,W={id:p++,callback:K,priorityLevel:W,startTime:ie,expirationTime:j,sortIndex:-1},ie>ne?(W.sortIndex=ie,e(h,W),t(u)===null&&W===t(h)&&(T?(R(U),U=-1):T=!0,pe(P,ie-ne))):(W.sortIndex=j,e(u,W),E||y||(E=!0,F||(F=!0,G()))),W},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(W){var K=v;return function(){var ie=v;v=K;try{return W.apply(this,arguments)}finally{v=ie}}}}(CT)),CT}var RR;function Sk(){return RR||(RR=1,RT.exports=Ek()),RT.exports}var OT={exports:{}},Oa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CR;function Tk(){if(CR)return Oa;CR=1;var n=$p();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(u,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:u,containerInfo:h,implementation:p}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Oa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Oa.createPortal=function(u,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(u,h,null,p)},Oa.flushSync=function(u){var h=s.T,p=i.p;try{if(s.T=null,i.p=2,u)return u()}finally{s.T=h,i.p=p,i.d.f()}},Oa.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(u,h))},Oa.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},Oa.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var p=h.as,g=l(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?i.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:y}):p==="script"&&i.d.X(u,{crossOrigin:g,integrity:v,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Oa.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=l(h.as,h.crossOrigin);i.d.M(u,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(u)},Oa.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=l(p,h.crossOrigin);i.d.L(u,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Oa.preloadModule=function(u,h){if(typeof u=="string")if(h){var p=l(h.as,h.crossOrigin);i.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(u)},Oa.requestFormReset=function(u){i.d.r(u)},Oa.unstable_batchedUpdates=function(u,h){return u(h)},Oa.useFormState=function(u,h,p){return s.H.useFormState(u,h,p)},Oa.useFormStatus=function(){return s.H.useHostTransitionStatus()},Oa.version="19.1.0",Oa}var OR;function bN(){if(OR)return OT.exports;OR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),OT.exports=Tk(),OT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NR;function Ak(){if(NR)return Ng;NR=1;var n=Sk(),e=$p(),t=bN();function i(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,m=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(m=c.return),o=c.return;while(o)}return c.tag===3?m:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(a(o)!==o)throw Error(i(188))}function u(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(i(188));return c!==o?null:o}for(var m=o,x=c;;){var b=m.return;if(b===null)break;var O=b.alternate;if(O===null){if(x=b.return,x!==null){m=x;continue}break}if(b.child===O.child){for(O=b.child;O;){if(O===m)return l(b),o;if(O===x)return l(b),c;O=O.sibling}throw Error(i(188))}if(m.return!==x.return)m=b,x=O;else{for(var z=!1,te=b.child;te;){if(te===m){z=!0,m=b,x=O;break}if(te===x){z=!0,x=b,m=O;break}te=te.sibling}if(!z){for(te=O.child;te;){if(te===m){z=!0,m=O,x=b;break}if(te===x){z=!0,x=O,m=b;break}te=te.sibling}if(!z)throw Error(i(189))}}if(m.alternate!==x)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?o:c}function h(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=h(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),w=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function G(o){return o===null||typeof o!="object"?null:(o=k&&o[k]||o["@@iterator"],typeof o=="function"?o:null)}var ee=Symbol.for("react.client.reference");function ve(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ee?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case S:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case F:return"SuspenseList";case C:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case y:return"Portal";case w:return(o.displayName||"Context")+".Provider";case R:return(o._context.displayName||"Context")+".Consumer";case D:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case U:return c=o.displayName||null,c!==null?c:ve(o.type)||"Memo";case I:c=o._payload,o=o._init;try{return ve(o(c))}catch{}}return null}var pe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ne=[],j=-1;function le(o){return{current:o}}function H(o){0>j||(o.current=ne[j],ne[j]=null,j--)}function q(o,c){j++,ne[j]=o.current,o.current=c}var V=le(null),Q=le(null),ge=le(null),Ae=le(null);function Ee(o,c){switch(q(ge,c),q(Q,o),q(V,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?Zw(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=Zw(c),o=Qw(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}H(V),q(V,o)}function Ce(){H(V),H(Q),H(ge)}function Ne(o){o.memoizedState!==null&&q(Ae,o);var c=V.current,m=Qw(c,o.type);c!==m&&(q(Q,o),q(V,m))}function st(o){Q.current===o&&(H(V),H(Q)),Ae.current===o&&(H(Ae),bg._currentValue=ie)}var se=Object.prototype.hasOwnProperty,vt=n.unstable_scheduleCallback,J=n.unstable_cancelCallback,Ze=n.unstable_shouldYield,Ie=n.unstable_requestPaint,Re=n.unstable_now,Pe=n.unstable_getCurrentPriorityLevel,ut=n.unstable_ImmediatePriority,$e=n.unstable_UserBlockingPriority,yt=n.unstable_NormalPriority,kt=n.unstable_LowPriority,ce=n.unstable_IdlePriority,Y=n.log,Oe=n.unstable_setDisableYieldValue,ze=null,Qe=null;function He(o){if(typeof Y=="function"&&Oe(o),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ze,o)}catch{}}var St=Math.clz32?Math.clz32:bt,it=Math.log,xt=Math.LN2;function bt(o){return o>>>=0,o===0?32:31-(it(o)/xt|0)|0}var Je=256,At=4194304;function Bt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Xt(o,c,m){var x=o.pendingLanes;if(x===0)return 0;var b=0,O=o.suspendedLanes,z=o.pingedLanes;o=o.warmLanes;var te=x&134217727;return te!==0?(x=te&~O,x!==0?b=Bt(x):(z&=te,z!==0?b=Bt(z):m||(m=te&~o,m!==0&&(b=Bt(m))))):(te=x&~O,te!==0?b=Bt(te):z!==0?b=Bt(z):m||(m=x&~o,m!==0&&(b=Bt(m)))),b===0?0:c!==0&&c!==b&&(c&O)===0&&(O=b&-b,m=c&-c,O>=m||O===32&&(m&4194048)!==0)?c:b}function Mt(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Kt(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Me(){var o=Je;return Je<<=1,(Je&4194048)===0&&(Je=256),o}function Ct(){var o=At;return At<<=1,(At&62914560)===0&&(At=4194304),o}function pt(o){for(var c=[],m=0;31>m;m++)c.push(o);return c}function It(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function gt(o,c,m,x,b,O){var z=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var te=o.entanglements,ye=o.expirationTimes,Ge=o.hiddenUpdates;for(m=z&~m;0<m;){var at=31-St(m),ct=1<<at;te[at]=0,ye[at]=-1;var je=Ge[at];if(je!==null)for(Ge[at]=null,at=0;at<je.length;at++){var qe=je[at];qe!==null&&(qe.lane&=-536870913)}m&=~ct}x!==0&&lt(o,x,0),O!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=O&~(z&~c))}function lt(o,c,m){o.pendingLanes|=c,o.suspendedLanes&=~c;var x=31-St(c);o.entangledLanes|=c,o.entanglements[x]=o.entanglements[x]|1073741824|m&4194090}function Ft(o,c){var m=o.entangledLanes|=c;for(o=o.entanglements;m;){var x=31-St(m),b=1<<x;b&c|o[x]&c&&(o[x]|=c),m&=~b}}function $t(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function kn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Nn(){var o=K.p;return o!==0?o:(o=window.event,o===void 0?32:gR(o.type))}function qr(o,c){var m=K.p;try{return K.p=o,c()}finally{K.p=m}}var Vi=Math.random().toString(36).slice(2),Ui="__reactFiber$"+Vi,Ri="__reactProps$"+Vi,xr="__reactContainer$"+Vi,Kr="__reactEvents$"+Vi,Oc="__reactListeners$"+Vi,Z="__reactHandles$"+Vi,ue="__reactResources$"+Vi,oe="__reactMarker$"+Vi;function ae(o){delete o[Ui],delete o[Ri],delete o[Kr],delete o[Oc],delete o[Z]}function fe(o){var c=o[Ui];if(c)return c;for(var m=o.parentNode;m;){if(c=m[xr]||m[Ui]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(o=tR(o);o!==null;){if(m=o[Ui])return m;o=tR(o)}return c}o=m,m=o.parentNode}return null}function de(o){if(o=o[Ui]||o[xr]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function Ve(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(i(33))}function et(o){var c=o[ue];return c||(c=o[ue]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ue(o){o[oe]=!0}var Xe=new Set,Ye={};function ht(o,c){X(o,c),X(o+"Capture",c)}function X(o,c){for(Ye[o]=c,o=0;o<c.length;o++)Xe.add(c[o])}var me=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xe={},Te={};function Se(o){return se.call(Te,o)?!0:se.call(xe,o)?!1:me.test(o)?Te[o]=!0:(xe[o]=!0,!1)}function tt(o,c,m){if(Se(c))if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var x=c.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+m)}}function mt(o,c,m){if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+m)}}function Et(o,c,m,x){if(x===null)o.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(m);return}o.setAttributeNS(c,m,""+x)}}var Ot,Yt;function Wt(o){if(Ot===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);Ot=c&&c[1]||"",Yt=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ot+o+Yt}var Pt=!1;function dn(o,c){if(!o||Pt)return"";Pt=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(c){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(qe){var je=qe}Reflect.construct(o,[],ct)}else{try{ct.call()}catch(qe){je=qe}o.call(ct.prototype)}}else{try{throw Error()}catch(qe){je=qe}(ct=o())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(qe){if(qe&&je&&typeof qe.stack=="string")return[qe.stack,je.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=x.DetermineComponentFrameRoot(),z=O[0],te=O[1];if(z&&te){var ye=z.split(`
`),Ge=te.split(`
`);for(b=x=0;x<ye.length&&!ye[x].includes("DetermineComponentFrameRoot");)x++;for(;b<Ge.length&&!Ge[b].includes("DetermineComponentFrameRoot");)b++;if(x===ye.length||b===Ge.length)for(x=ye.length-1,b=Ge.length-1;1<=x&&0<=b&&ye[x]!==Ge[b];)b--;for(;1<=x&&0<=b;x--,b--)if(ye[x]!==Ge[b]){if(x!==1||b!==1)do if(x--,b--,0>b||ye[x]!==Ge[b]){var at=`
`+ye[x].replace(" at new "," at ");return o.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",o.displayName)),at}while(1<=x&&0<=b);break}}}finally{Pt=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?Wt(m):""}function yn(o){switch(o.tag){case 26:case 27:case 5:return Wt(o.type);case 16:return Wt("Lazy");case 13:return Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return dn(o.type,!1);case 11:return dn(o.type.render,!1);case 1:return dn(o.type,!0);case 31:return Wt("Activity");default:return""}}function vi(o){try{var c="";do c+=yn(o),o=o.return;while(o);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function Sn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function jn(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Zt(o){var c=jn(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),x=""+o[c];if(!o.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,O=m.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return b.call(this)},set:function(z){x=""+z,O.call(this,z)}}),Object.defineProperty(o,c,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(z){x=""+z},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function ri(o){o._valueTracker||(o._valueTracker=Zt(o))}function Un(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var m=c.getValue(),x="";return o&&(x=jn(o)?o.checked?"true":"false":o.value),o=x,o!==m?(c.setValue(o),!0):!1}function lr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var lo=/[\n"\\]/g;function li(o){return o.replace(lo,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function co(o,c,m,x,b,O,z,te){o.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.type=z:o.removeAttribute("type"),c!=null?z==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Sn(c)):o.value!==""+Sn(c)&&(o.value=""+Sn(c)):z!=="submit"&&z!=="reset"||o.removeAttribute("value"),c!=null?Ir(o,z,Sn(c)):m!=null?Ir(o,z,Sn(m)):x!=null&&o.removeAttribute("value"),b==null&&O!=null&&(o.defaultChecked=!!O),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?o.name=""+Sn(te):o.removeAttribute("name")}function si(o,c,m,x,b,O,z,te){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.type=O),c!=null||m!=null){if(!(O!=="submit"&&O!=="reset"||c!=null))return;m=m!=null?""+Sn(m):"",c=c!=null?""+Sn(c):m,te||c===o.value||(o.value=c),o.defaultValue=c}x=x??b,x=typeof x!="function"&&typeof x!="symbol"&&!!x,o.checked=te?o.checked:!!x,o.defaultChecked=!!x,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(o.name=z)}function Ir(o,c,m){c==="number"&&lr(o.ownerDocument)===o||o.defaultValue===""+m||(o.defaultValue=""+m)}function Qi(o,c,m,x){if(o=o.options,c){c={};for(var b=0;b<m.length;b++)c["$"+m[b]]=!0;for(m=0;m<o.length;m++)b=c.hasOwnProperty("$"+o[m].value),o[m].selected!==b&&(o[m].selected=b),b&&x&&(o[m].defaultSelected=!0)}else{for(m=""+Sn(m),c=null,b=0;b<o.length;b++){if(o[b].value===m){o[b].selected=!0,x&&(o[b].defaultSelected=!0);return}c!==null||o[b].disabled||(c=o[b])}c!==null&&(c.selected=!0)}}function yr(o,c,m){if(c!=null&&(c=""+Sn(c),c!==o.value&&(o.value=c),m==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=m!=null?""+Sn(m):""}function _r(o,c,m,x){if(c==null){if(x!=null){if(m!=null)throw Error(i(92));if(pe(x)){if(1<x.length)throw Error(i(93));x=x[0]}m=x}m==null&&(m=""),c=m}m=Sn(c),o.defaultValue=m,x=o.textContent,x===m&&x!==""&&x!==null&&(o.value=x)}function sa(o,c){if(c){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=c;return}}o.textContent=c}var uo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $f(o,c,m){var x=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?x?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":x?o.setProperty(c,m):typeof m!="number"||m===0||uo.has(c)?c==="float"?o.cssFloat=m:o[c]=(""+m).trim():o[c]=m+"px"}function eh(o,c,m){if(c!=null&&typeof c!="object")throw Error(i(62));if(o=o.style,m!=null){for(var x in m)!m.hasOwnProperty(x)||c!=null&&c.hasOwnProperty(x)||(x.indexOf("--")===0?o.setProperty(x,""):x==="float"?o.cssFloat="":o[x]="");for(var b in c)x=c[b],c.hasOwnProperty(b)&&m[b]!==x&&$f(o,b,x)}else for(var O in c)c.hasOwnProperty(O)&&$f(o,O,c[O])}function qd(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function th(o){return Fx.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Kd=null;function Zd(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Dl=null,Nc=null;function xm(o){var c=de(o);if(c&&(o=c.stateNode)){var m=o[Ri]||null;e:switch(o=c.stateNode,c.type){case"input":if(co(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+li(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var x=m[c];if(x!==o&&x.form===o.form){var b=x[Ri]||null;if(!b)throw Error(i(90));co(x,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(c=0;c<m.length;c++)x=m[c],x.form===o.form&&Un(x)}break e;case"textarea":yr(o,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Qi(o,!!m.multiple,c,!1)}}}var nh=!1;function ym(o,c,m){if(nh)return o(c,m);nh=!0;try{var x=o(c);return x}finally{if(nh=!1,(Dl!==null||Nc!==null)&&(wo(),Dl&&(c=Dl,o=Nc,Nc=Dl=null,xm(c),o)))for(c=0;c<o.length;c++)xm(o[c])}}function Ru(o,c){var m=o.stateNode;if(m===null)return null;var x=m[Ri]||null;if(x===null)return null;m=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(i(231,c,typeof m));return m}var fo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ih=!1;if(fo)try{var Cu={};Object.defineProperty(Cu,"passive",{get:function(){ih=!0}}),window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{ih=!1}var qo=null,_m=null,Qd=null;function Em(){if(Qd)return Qd;var o,c=_m,m=c.length,x,b="value"in qo?qo.value:qo.textContent,O=b.length;for(o=0;o<m&&c[o]===b[o];o++);var z=m-o;for(x=1;x<=z&&c[m-x]===b[O-x];x++);return Qd=b.slice(o,1<x?1-x:void 0)}function Il(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Ou(){return!0}function rh(){return!1}function oa(o){function c(m,x,b,O,z){this._reactName=m,this._targetInst=b,this.type=x,this.nativeEvent=O,this.target=z,this.currentTarget=null;for(var te in o)o.hasOwnProperty(te)&&(m=o[te],this[te]=m?m(O):O[te]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Ou:rh,this.isPropagationStopped=rh,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Ou)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Ou)},persist:function(){},isPersistent:Ou}),c}var Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=oa(Ll),Du=p({},Ll,{view:0,detail:0}),Px=oa(Du),Ko,Iu,Lu,Uu=p({},Du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Lu&&(Lu&&o.type==="mousemove"?(Ko=o.screenX-Lu.screenX,Iu=o.screenY-Lu.screenY):Iu=Ko=0,Lu=o),Ko)},movementY:function(o){return"movementY"in o?o.movementY:Iu}}),Sm=oa(Uu),Bx=p({},Uu,{dataTransfer:0}),GS=oa(Bx),Lr=p({},Du,{relatedTarget:0}),Jd=oa(Lr),kx=p({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0}),zx=oa(kx),Vx=p({},Ll,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Hx=oa(Vx),ah=p({},Ll,{data:0}),$d=oa(ah),Gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tm(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Wx[o])?!!c[o]:!1}function sh(){return Tm}var Yx=p({},Du,{key:function(o){if(o.key){var c=Gx[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Il(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Xx[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sh,charCode:function(o){return o.type==="keypress"?Il(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Il(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Am=oa(Yx),bm=p({},Uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e0=oa(bm),jx=p({},Du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sh}),Mm=oa(jx),qx=p({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zo=oa(qx),wm=p({},Uu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),XS=oa(wm),Kx=p({},Ll,{newState:0,oldState:0}),Ul=oa(Kx),Qo=[9,13,27,32],oh=fo&&"CompositionEvent"in window,Dc=null;fo&&"documentMode"in document&&(Dc=document.documentMode);var lh=fo&&"TextEvent"in window&&!Dc,ch=fo&&(!oh||Dc&&8<Dc&&11>=Dc),Fl=" ",Ur=!1;function uh(o,c){switch(o){case"keyup":return Qo.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rm(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Pl=!1;function fh(o,c){switch(o){case"compositionend":return Rm(c);case"keypress":return c.which!==32?null:(Ur=!0,Fl);case"textInput":return o=c.data,o===Fl&&Ur?null:o;default:return null}}function Cm(o,c){if(Pl)return o==="compositionend"||!oh&&uh(o,c)?(o=Em(),Qd=_m=qo=null,Pl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return ch&&c.locale!=="ko"?null:c.data;default:return null}}var t0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Om(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!t0[o.type]:c==="textarea"}function Sa(o,c,m,x){Dl?Nc?Nc.push(x):Nc=[x]:Dl=x,c=q1(c,"onChange"),0<c.length&&(m=new Nu("onChange","change",null,m,x),o.push({event:m,listeners:c}))}var Fu=null,Ic=null;function Zx(o){Ww(o,0)}function hh(o){var c=Ve(o);if(Un(c))return o}function n0(o,c){if(o==="change")return c}var i0=!1;if(fo){var r0;if(fo){var Pu="oninput"in document;if(!Pu){var Bu=document.createElement("div");Bu.setAttribute("oninput","return;"),Pu=typeof Bu.oninput=="function"}r0=Pu}else r0=!1;i0=r0&&(!document.documentMode||9<document.documentMode)}function wi(){Fu&&(Fu.detachEvent("onpropertychange",Qx),Ic=Fu=null)}function Qx(o){if(o.propertyName==="value"&&hh(Ic)){var c=[];Sa(c,Ic,o,Zd(o)),ym(Zx,c)}}function WS(o,c,m){o==="focusin"?(wi(),Fu=c,Ic=m,Fu.attachEvent("onpropertychange",Qx)):o==="focusout"&&wi()}function Jx(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return hh(Ic)}function dh(o,c){if(o==="click")return hh(c)}function Bl(o,c){if(o==="input"||o==="change")return hh(c)}function $x(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Ta=typeof Object.is=="function"?Object.is:$x;function Vs(o,c){if(Ta(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var m=Object.keys(o),x=Object.keys(c);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var b=m[x];if(!se.call(c,b)||!Ta(o[b],c[b]))return!1}return!0}function Aa(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Nm(o,c){var m=Aa(o);o=0;for(var x;m;){if(m.nodeType===3){if(x=o+m.textContent.length,o<=c&&x>=c)return{node:m,offset:c-o};o=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Aa(m)}}function Dm(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Dm(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Im(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=lr(o.document);c instanceof o.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)o=c.contentWindow;else break;c=lr(o.document)}return c}function ph(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var Lm=fo&&"documentMode"in document&&11>=document.documentMode,Jo=null,a0=null,mh=null,s0=!1;function Um(o,c,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;s0||Jo==null||Jo!==lr(x)||(x=Jo,"selectionStart"in x&&ph(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),mh&&Vs(mh,x)||(mh=x,x=q1(a0,"onSelect"),0<x.length&&(c=new Nu("onSelect","select",null,c,m),o.push({event:c,listeners:x}),c.target=Jo)))}function Fr(o,c){var m={};return m[o.toLowerCase()]=c.toLowerCase(),m["Webkit"+o]="webkit"+c,m["Moz"+o]="moz"+c,m}var kl={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},o0={},e1={};fo&&(e1=document.createElement("div").style,"AnimationEvent"in window||(delete kl.animationend.animation,delete kl.animationiteration.animation,delete kl.animationstart.animation),"TransitionEvent"in window||delete kl.transitionend.transition);function $o(o){if(o0[o])return o0[o];if(!kl[o])return o;var c=kl[o],m;for(m in c)if(c.hasOwnProperty(m)&&m in e1)return o0[o]=c[m];return o}var la=$o("animationend"),Fm=$o("animationiteration"),ba=$o("animationstart"),t1=$o("transitionrun"),el=$o("transitionstart"),ku=$o("transitioncancel"),tl=$o("transitionend"),l0=new Map,gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gh.push("scrollEnd");function Er(o,c){l0.set(o,c),ht(c,[o])}var Pm=new WeakMap;function Pr(o,c){if(typeof o=="object"&&o!==null){var m=Pm.get(o);return m!==void 0?m:(c={value:o,source:c,stack:vi(c)},Pm.set(o,c),c)}return{value:o,source:c,stack:vi(c)}}var Zr=[],vs=0,c0=0;function vh(){for(var o=vs,c=c0=vs=0;c<o;){var m=Zr[c];Zr[c++]=null;var x=Zr[c];Zr[c++]=null;var b=Zr[c];Zr[c++]=null;var O=Zr[c];if(Zr[c++]=null,x!==null&&b!==null){var z=x.pending;z===null?b.next=b:(b.next=z.next,z.next=b),x.pending=b}O!==0&&Bm(m,b,O)}}function zl(o,c,m,x){Zr[vs++]=o,Zr[vs++]=c,Zr[vs++]=m,Zr[vs++]=x,c0|=x,o.lanes|=x,o=o.alternate,o!==null&&(o.lanes|=x)}function u0(o,c,m,x){return zl(o,c,m,x),zu(o)}function nl(o,c){return zl(o,null,null,c),zu(o)}function Bm(o,c,m){o.lanes|=m;var x=o.alternate;x!==null&&(x.lanes|=m);for(var b=!1,O=o.return;O!==null;)O.childLanes|=m,x=O.alternate,x!==null&&(x.childLanes|=m),O.tag===22&&(o=O.stateNode,o===null||o._visibility&1||(b=!0)),o=O,O=O.return;return o.tag===3?(O=o.stateNode,b&&c!==null&&(b=31-St(m),o=O.hiddenUpdates,x=o[b],x===null?o[b]=[c]:x.push(c),c.lane=m|536870912),O):null}function zu(o){if(50<Mo)throw Mo=0,Qc=null,Error(i(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Vl={};function km(o,c,m,x){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ma(o,c,m,x){return new km(o,c,m,x)}function xh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Hi(o,c){var m=o.alternate;return m===null?(m=Ma(o.tag,c,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=c,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&65011712,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,c=o.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function zm(o,c){o.flags&=65011714;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,c=m.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Sr(o,c,m,x,b,O){var z=0;if(x=o,typeof o=="function")xh(o)&&(z=1);else if(typeof o=="string")z=nk(o,m,V.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case C:return o=Ma(31,m,c,b),o.elementType=C,o.lanes=O,o;case E:return Hl(m.children,b,O,c);case T:z=8,b|=24;break;case S:return o=Ma(12,m,c,b|2),o.elementType=S,o.lanes=O,o;case P:return o=Ma(13,m,c,b),o.elementType=P,o.lanes=O,o;case F:return o=Ma(19,m,c,b),o.elementType=F,o.lanes=O,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case A:case w:z=10;break e;case R:z=9;break e;case D:z=11;break e;case U:z=14;break e;case I:z=16,x=null;break e}z=29,m=Error(i(130,o===null?"null":typeof o,"")),x=null}return c=Ma(z,m,c,b),c.elementType=o,c.type=x,c.lanes=O,c}function Hl(o,c,m,x){return o=Ma(7,o,x,c),o.lanes=m,o}function yh(o,c,m){return o=Ma(6,o,null,c),o.lanes=m,o}function f0(o,c,m){return c=Ma(4,o.children!==null?o.children:[],o.key,c),c.lanes=m,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Vu=[],wa=0,_h=null,Hu=0,Br=[],ja=0,Gl=null,ho=1,po="";function il(o,c){Vu[wa++]=Hu,Vu[wa++]=_h,_h=o,Hu=c}function h0(o,c,m){Br[ja++]=ho,Br[ja++]=po,Br[ja++]=Gl,Gl=o;var x=ho;o=po;var b=32-St(x)-1;x&=~(1<<b),m+=1;var O=32-St(c)+b;if(30<O){var z=b-b%5;O=(x&(1<<z)-1).toString(32),x>>=z,b-=z,ho=1<<32-St(c)+b|m<<b|x,po=O+o}else ho=1<<O|m<<b|x,po=o}function Vm(o){o.return!==null&&(il(o,1),h0(o,1,0))}function Hm(o){for(;o===_h;)_h=Vu[--wa],Vu[wa]=null,Hu=Vu[--wa],Vu[wa]=null;for(;o===Gl;)Gl=Br[--ja],Br[ja]=null,po=Br[--ja],Br[ja]=null,ho=Br[--ja],Br[ja]=null}var ca=null,Ci=null,Wn=!1,xs=null,qa=!1,d0=Error(i(519));function Xl(o){var c=Error(i(418,""));throw Lc(Pr(c,o)),d0}function n1(o){var c=o.stateNode,m=o.type,x=o.memoizedProps;switch(c[Ui]=o,c[Ri]=x,m){case"dialog":zn("cancel",c),zn("close",c);break;case"iframe":case"object":case"embed":zn("load",c);break;case"video":case"audio":for(m=0;m<yg.length;m++)zn(yg[m],c);break;case"source":zn("error",c);break;case"img":case"image":case"link":zn("error",c),zn("load",c);break;case"details":zn("toggle",c);break;case"input":zn("invalid",c),si(c,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),ri(c);break;case"select":zn("invalid",c);break;case"textarea":zn("invalid",c),_r(c,x.value,x.defaultValue,x.children),ri(c)}m=x.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||x.suppressHydrationWarning===!0||Kw(c.textContent,m)?(x.popover!=null&&(zn("beforetoggle",c),zn("toggle",c)),x.onScroll!=null&&zn("scroll",c),x.onScrollEnd!=null&&zn("scrollend",c),x.onClick!=null&&(c.onclick=K1),c=!0):c=!1,c||Xl(o)}function Gm(o){for(ca=o.return;ca;)switch(ca.tag){case 5:case 13:qa=!1;return;case 27:case 3:qa=!0;return;default:ca=ca.return}}function Hs(o){if(o!==ca)return!1;if(!Wn)return Gm(o),Wn=!0,!1;var c=o.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=o.type,m=!(m!=="form"&&m!=="button")||fT(o.type,o.memoizedProps)),m=!m),m&&Ci&&Xl(o),Gm(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(m=o.data,m==="/$"){if(c===0){Ci=vl(o.nextSibling);break e}c--}else m!=="$"&&m!=="$!"&&m!=="$?"||c++;o=o.nextSibling}Ci=null}}else c===27?(c=Ci,pf(o.type)?(o=mT,mT=null,Ci=o):Ci=c):Ci=ca?vl(o.stateNode.nextSibling):null;return!0}function Gu(){Ci=ca=null,Wn=!1}function $n(){var o=xs;return o!==null&&(tn===null?tn=o:tn.push.apply(tn,o),xs=null),o}function Lc(o){xs===null?xs=[o]:xs.push(o)}var Xm=le(null),Wl=null,rl=null;function Yl(o,c,m){q(Xm,c._currentValue),c._currentValue=m}function al(o){o._currentValue=Xm.current,H(Xm)}function Wm(o,c,m){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===m)break;o=o.return}}function Eh(o,c,m,x){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var O=b.dependencies;if(O!==null){var z=b.child;O=O.firstContext;e:for(;O!==null;){var te=O;O=b;for(var ye=0;ye<c.length;ye++)if(te.context===c[ye]){O.lanes|=m,te=O.alternate,te!==null&&(te.lanes|=m),Wm(O.return,m,o),x||(z=null);break e}O=te.next}}else if(b.tag===18){if(z=b.return,z===null)throw Error(i(341));z.lanes|=m,O=z.alternate,O!==null&&(O.lanes|=m),Wm(z,m,o),z=null}else z=b.child;if(z!==null)z.return=b;else for(z=b;z!==null;){if(z===o){z=null;break}if(b=z.sibling,b!==null){b.return=z.return,z=b;break}z=z.return}b=z}}function ys(o,c,m,x){o=null;for(var b=c,O=!1;b!==null;){if(!O){if((b.flags&524288)!==0)O=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var z=b.alternate;if(z===null)throw Error(i(387));if(z=z.memoizedProps,z!==null){var te=b.type;Ta(b.pendingProps.value,z.value)||(o!==null?o.push(te):o=[te])}}else if(b===Ae.current){if(z=b.alternate,z===null)throw Error(i(387));z.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(bg):o=[bg])}b=b.return}o!==null&&Eh(c,o,m,x),c.flags|=262144}function Sh(o){for(o=o.firstContext;o!==null;){if(!Ta(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function mo(o){Wl=o,rl=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Fi(o){return p0(Wl,o)}function Th(o,c){return Wl===null&&mo(o),p0(o,c)}function p0(o,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},rl===null){if(o===null)throw Error(i(308));rl=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else rl=rl.next=c;return m}var Ym=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(m,x){o.push(x)}};this.abort=function(){c.aborted=!0,o.forEach(function(m){return m()})}},YS=n.unstable_scheduleCallback,i1=n.unstable_NormalPriority,Ji={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function m0(){return{controller:new Ym,data:new Map,refCount:0}}function Xu(o){o.refCount--,o.refCount===0&&YS(i1,function(){o.controller.abort()})}var Wu=null,Ah=0,gn=0,Yu=null;function Ka(o,c){if(Wu===null){var m=Wu=[];Ah=0,gn=nT(),Yu={status:"pending",value:void 0,then:function(x){m.push(x)}}}return Ah++,c.then(g0,g0),c}function g0(){if(--Ah===0&&Wu!==null){Yu!==null&&(Yu.status="fulfilled");var o=Wu;Wu=null,gn=0,Yu=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function jS(o,c){var m=[],x={status:"pending",value:null,reason:null,then:function(b){m.push(b)}};return o.then(function(){x.status="fulfilled",x.value=c;for(var b=0;b<m.length;b++)(0,m[b])(c)},function(b){for(x.status="rejected",x.reason=b,b=0;b<m.length;b++)(0,m[b])(void 0)}),x}var bh=W.S;W.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&Ka(o,c),bh!==null&&bh(o,c)};var _s=le(null);function jl(){var o=_s.current;return o!==null?o:pn.pooledCache}function Mh(o,c){c===null?q(_s,_s.current):q(_s,c.pool)}function v0(){var o=jl();return o===null?null:{parent:Ji._currentValue,pool:o}}var wh=Error(i(460)),jm=Error(i(474)),Gs=Error(i(542)),Rh={then:function(){}};function x0(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ju(){}function y0(o,c,m){switch(m=o[m],m===void 0?o.push(c):m!==c&&(c.then(ju,ju),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,r1(o),o;default:if(typeof c.status=="string")c.then(ju,ju);else{if(o=pn,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=c,o.status="pending",o.then(function(x){if(c.status==="pending"){var b=c;b.status="fulfilled",b.value=x}},function(x){if(c.status==="pending"){var b=c;b.status="rejected",b.reason=x}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,r1(o),o}throw Es=c,wh}}var Es=null;function qm(){if(Es===null)throw Error(i(459));var o=Es;return Es=null,o}function r1(o){if(o===wh||o===Gs)throw Error(i(483))}var sl=!1;function Km(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sn(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function go(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ol(o,c,m){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(ei&2)!==0){var b=x.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),x.pending=c,c=zu(o),Bm(o,null,m),c}return zl(o,x,c,m),zu(o)}function Uc(o,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var x=c.lanes;x&=o.pendingLanes,m|=x,c.lanes=m,Ft(o,m)}}function qu(o,c){var m=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var b=null,O=null;if(m=m.firstBaseUpdate,m!==null){do{var z={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};O===null?b=O=z:O=O.next=z,m=m.next}while(m!==null);O===null?b=O=c:O=O.next=c}else b=O=c;m={baseState:x.baseState,firstBaseUpdate:b,lastBaseUpdate:O,shared:x.shared,callbacks:x.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=c}var Zm=!1;function Ch(){if(Zm){var o=Yu;if(o!==null)throw o}}function Ku(o,c,m,x){Zm=!1;var b=o.updateQueue;sl=!1;var O=b.firstBaseUpdate,z=b.lastBaseUpdate,te=b.shared.pending;if(te!==null){b.shared.pending=null;var ye=te,Ge=ye.next;ye.next=null,z===null?O=Ge:z.next=Ge,z=ye;var at=o.alternate;at!==null&&(at=at.updateQueue,te=at.lastBaseUpdate,te!==z&&(te===null?at.firstBaseUpdate=Ge:te.next=Ge,at.lastBaseUpdate=ye))}if(O!==null){var ct=b.baseState;z=0,at=Ge=ye=null,te=O;do{var je=te.lane&-536870913,qe=je!==te.lane;if(qe?(Qt&je)===je:(x&je)===je){je!==0&&je===gn&&(Zm=!0),at!==null&&(at=at.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var un=o,nn=te;je=c;var Si=m;switch(nn.tag){case 1:if(un=nn.payload,typeof un=="function"){ct=un.call(Si,ct,je);break e}ct=un;break e;case 3:un.flags=un.flags&-65537|128;case 0:if(un=nn.payload,je=typeof un=="function"?un.call(Si,ct,je):un,je==null)break e;ct=p({},ct,je);break e;case 2:sl=!0}}je=te.callback,je!==null&&(o.flags|=64,qe&&(o.flags|=8192),qe=b.callbacks,qe===null?b.callbacks=[je]:qe.push(je))}else qe={lane:je,tag:te.tag,payload:te.payload,callback:te.callback,next:null},at===null?(Ge=at=qe,ye=ct):at=at.next=qe,z|=je;if(te=te.next,te===null){if(te=b.shared.pending,te===null)break;qe=te,te=qe.next,qe.next=null,b.lastBaseUpdate=qe,b.shared.pending=null}}while(!0);at===null&&(ye=ct),b.baseState=ye,b.firstBaseUpdate=Ge,b.lastBaseUpdate=at,O===null&&(b.shared.lanes=0),Qs|=z,o.lanes=z,o.memoizedState=ct}}function Zu(o,c){if(typeof o!="function")throw Error(i(191,o));o.call(c)}function a1(o,c){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)Zu(m[o],c)}var Qu=le(null),_0=le(0);function s1(o,c){o=ws,q(_0,o),q(Qu,c),ws=o|c.baseLanes}function Qm(){q(_0,ws),q(Qu,Qu.current)}function Oh(){ws=_0.current,H(Qu),H(_0)}var ll=0,vn=null,ai=null,$i=null,E0=!1,ql=!1,ua=!1,cr=0,Ss=0,kr=null,o1=0;function Gi(){throw Error(i(321))}function Qr(o,c){if(c===null)return!1;for(var m=0;m<c.length&&m<o.length;m++)if(!Ta(o[m],c[m]))return!1;return!0}function cl(o,c,m,x,b,O){return ll=O,vn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,W.H=o===null||o.memoizedState===null?O0:dg,ua=!1,O=m(x,b),ua=!1,ql&&(O=c1(c,m,x,b)),l1(o),O}function l1(o){W.H=Ih;var c=ai!==null&&ai.next!==null;if(ll=0,$i=ai=vn=null,E0=!1,Ss=0,kr=null,c)throw Error(i(300));o===null||Tr||(o=o.dependencies,o!==null&&Sh(o)&&(Tr=!0))}function c1(o,c,m,x){vn=o;var b=0;do{if(ql&&(kr=null),Ss=0,ql=!1,25<=b)throw Error(i(301));if(b+=1,$i=ai=null,o.updateQueue!=null){var O=o.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}W.H=U1,O=c(m,x)}while(ql);return O}function qS(){var o=W.H,c=o.useState()[0];return c=typeof c.then=="function"?Xs(c):c,o=o.useState()[0],(ai!==null?ai.memoizedState:null)!==o&&(vn.flags|=1024),c}function Jm(){var o=cr!==0;return cr=0,o}function S0(o,c,m){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~m}function $m(o){if(E0){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}E0=!1}ll=0,$i=ai=vn=null,ql=!1,Ss=cr=0,kr=null}function fa(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $i===null?vn.memoizedState=$i=o:$i=$i.next=o,$i}function er(){if(ai===null){var o=vn.alternate;o=o!==null?o.memoizedState:null}else o=ai.next;var c=$i===null?vn.memoizedState:$i.next;if(c!==null)$i=c,ai=o;else{if(o===null)throw vn.alternate===null?Error(i(467)):Error(i(310));ai=o,o={memoizedState:ai.memoizedState,baseState:ai.baseState,baseQueue:ai.baseQueue,queue:ai.queue,next:null},$i===null?vn.memoizedState=$i=o:$i=$i.next=o}return $i}function Kl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xs(o){var c=Ss;return Ss+=1,kr===null&&(kr=[]),o=y0(kr,o,c),c=vn,($i===null?c.memoizedState:$i.next)===null&&(c=c.alternate,W.H=c===null||c.memoizedState===null?O0:dg),o}function T0(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Xs(o);if(o.$$typeof===w)return Fi(o)}throw Error(i(438,String(o)))}function eg(o){var c=null,m=vn.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var x=vn.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(c={data:x.data.map(function(b){return b.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=Kl(),vn.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(o),x=0;x<o;x++)m[x]=L;return c.index++,m}function ul(o,c){return typeof c=="function"?c(o):c}function Zl(o){var c=er();return tg(c,ai,o)}function tg(o,c,m){var x=o.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=m;var b=o.baseQueue,O=x.pending;if(O!==null){if(b!==null){var z=b.next;b.next=O.next,O.next=z}c.baseQueue=b=O,x.pending=null}if(O=o.baseState,b===null)o.memoizedState=O;else{c=b.next;var te=z=null,ye=null,Ge=c,at=!1;do{var ct=Ge.lane&-536870913;if(ct!==Ge.lane?(Qt&ct)===ct:(ll&ct)===ct){var je=Ge.revertLane;if(je===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),ct===gn&&(at=!0);else if((ll&je)===je){Ge=Ge.next,je===gn&&(at=!0);continue}else ct={lane:0,revertLane:Ge.revertLane,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},ye===null?(te=ye=ct,z=O):ye=ye.next=ct,vn.lanes|=je,Qs|=je;ct=Ge.action,ua&&m(O,ct),O=Ge.hasEagerState?Ge.eagerState:m(O,ct)}else je={lane:ct,revertLane:Ge.revertLane,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},ye===null?(te=ye=je,z=O):ye=ye.next=je,vn.lanes|=ct,Qs|=ct;Ge=Ge.next}while(Ge!==null&&Ge!==c);if(ye===null?z=O:ye.next=te,!Ta(O,o.memoizedState)&&(Tr=!0,at&&(m=Yu,m!==null)))throw m;o.memoizedState=O,o.baseState=z,o.baseQueue=ye,x.lastRenderedState=O}return b===null&&(x.lanes=0),[o.memoizedState,x.dispatch]}function ng(o){var c=er(),m=c.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=o;var x=m.dispatch,b=m.pending,O=c.memoizedState;if(b!==null){m.pending=null;var z=b=b.next;do O=o(O,z.action),z=z.next;while(z!==b);Ta(O,c.memoizedState)||(Tr=!0),c.memoizedState=O,c.baseQueue===null&&(c.baseState=O),m.lastRenderedState=O}return[O,x]}function u1(o,c,m){var x=vn,b=er(),O=Wn;if(O){if(m===void 0)throw Error(i(407));m=m()}else m=c();var z=!Ta((ai||b).memoizedState,m);z&&(b.memoizedState=m,Tr=!0),b=b.queue;var te=h1.bind(null,x,b,o);if(ef(2048,8,te,[o]),b.getSnapshot!==c||z||$i!==null&&$i.memoizedState.tag&1){if(x.flags|=2048,$u(9,Nh(),f1.bind(null,x,b,m,c),null),pn===null)throw Error(i(349));O||(ll&124)!==0||Ju(x,c,m)}return m}function Ju(o,c,m){o.flags|=16384,o={getSnapshot:c,value:m},c=vn.updateQueue,c===null?(c=Kl(),vn.updateQueue=c,c.stores=[o]):(m=c.stores,m===null?c.stores=[o]:m.push(o))}function f1(o,c,m,x){c.value=m,c.getSnapshot=x,d1(c)&&p1(o)}function h1(o,c,m){return m(function(){d1(c)&&p1(o)})}function d1(o){var c=o.getSnapshot;o=o.value;try{var m=c();return!Ta(o,m)}catch{return!0}}function p1(o){var c=nl(o,2);c!==null&&pa(c,o,2)}function ig(o){var c=fa();if(typeof o=="function"){var m=o;if(o=m(),ua){He(!0);try{m()}finally{He(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:o},c}function m1(o,c,m,x){return o.baseState=m,tg(o,ai,typeof x=="function"?x:ul)}function KS(o,c,m,x,b){if(C0(o))throw Error(i(485));if(o=c.action,o!==null){var O={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){O.listeners.push(z)}};W.T!==null?m(!0):O.isTransition=!1,x(O),m=c.pending,m===null?(O.next=c.pending=O,g1(c,O)):(O.next=m.next,c.pending=m.next=O)}}function g1(o,c){var m=c.action,x=c.payload,b=o.state;if(c.isTransition){var O=W.T,z={};W.T=z;try{var te=m(b,x),ye=W.S;ye!==null&&ye(z,te),v1(o,c,te)}catch(Ge){rg(o,c,Ge)}finally{W.T=O}}else try{O=m(b,x),v1(o,c,O)}catch(Ge){rg(o,c,Ge)}}function v1(o,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(x){x1(o,c,x)},function(x){return rg(o,c,x)}):x1(o,c,m)}function x1(o,c,m){c.status="fulfilled",c.value=m,y1(c),o.state=m,c=o.pending,c!==null&&(m=c.next,m===c?o.pending=null:(m=m.next,c.next=m,g1(o,m)))}function rg(o,c,m){var x=o.pending;if(o.pending=null,x!==null){x=x.next;do c.status="rejected",c.reason=m,y1(c),c=c.next;while(c!==x)}o.action=null}function y1(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function ag(o,c){return c}function _1(o,c){if(Wn){var m=pn.formState;if(m!==null){e:{var x=vn;if(Wn){if(Ci){t:{for(var b=Ci,O=qa;b.nodeType!==8;){if(!O){b=null;break t}if(b=vl(b.nextSibling),b===null){b=null;break t}}O=b.data,b=O==="F!"||O==="F"?b:null}if(b){Ci=vl(b.nextSibling),x=b.data==="F!";break e}}Xl(x)}x=!1}x&&(c=m[0])}}return m=fa(),m.memoizedState=m.baseState=c,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:c},m.queue=x,m=I1.bind(null,vn,x),x.dispatch=m,x=ig(!1),O=R0.bind(null,vn,!1,x.queue),x=fa(),b={state:c,dispatch:null,action:o,pending:null},x.queue=b,m=KS.bind(null,vn,b,O,m),b.dispatch=m,x.memoizedState=o,[c,m,!1]}function E1(o){var c=er();return S1(c,ai,o)}function S1(o,c,m){if(c=tg(o,c,ag)[0],o=Zl(ul)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var x=Xs(c)}catch(z){throw z===wh?Gs:z}else x=c;c=er();var b=c.queue,O=b.dispatch;return m!==c.memoizedState&&(vn.flags|=2048,$u(9,Nh(),ZS.bind(null,b,m),null)),[x,O,o]}function ZS(o,c){o.action=c}function T1(o){var c=er(),m=ai;if(m!==null)return S1(c,m,o);er(),c=c.memoizedState,m=er();var x=m.queue.dispatch;return m.memoizedState=o,[c,x,!1]}function $u(o,c,m,x){return o={tag:o,create:m,deps:x,inst:c,next:null},c=vn.updateQueue,c===null&&(c=Kl(),vn.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=o.next=o:(x=m.next,m.next=o,o.next=x,c.lastEffect=o),o}function Nh(){return{destroy:void 0,resource:void 0}}function sg(){return er().memoizedState}function A0(o,c,m,x){var b=fa();x=x===void 0?null:x,vn.flags|=o,b.memoizedState=$u(1|c,Nh(),m,x)}function ef(o,c,m,x){var b=er();x=x===void 0?null:x;var O=b.memoizedState.inst;ai!==null&&x!==null&&Qr(x,ai.memoizedState.deps)?b.memoizedState=$u(c,O,m,x):(vn.flags|=o,b.memoizedState=$u(1|c,O,m,x))}function og(o,c){A0(8390656,8,o,c)}function lg(o,c){ef(2048,8,o,c)}function b0(o,c){return ef(4,2,o,c)}function M0(o,c){return ef(4,4,o,c)}function A1(o,c){if(typeof c=="function"){o=o();var m=c(o);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function b1(o,c,m){m=m!=null?m.concat([o]):null,ef(4,4,A1.bind(null,c,o),m)}function cg(){}function M1(o,c){var m=er();c=c===void 0?null:c;var x=m.memoizedState;return c!==null&&Qr(c,x[1])?x[0]:(m.memoizedState=[o,c],o)}function ug(o,c){var m=er();c=c===void 0?null:c;var x=m.memoizedState;if(c!==null&&Qr(c,x[1]))return x[0];if(x=o(),ua){He(!0);try{o()}finally{He(!1)}}return m.memoizedState=[x,c],x}function w0(o,c,m){return m===void 0||(ll&1073741824)!==0?o.memoizedState=c:(o.memoizedState=m,o=V0(),vn.lanes|=o,Qs|=o,m)}function w1(o,c,m,x){return Ta(m,c)?m:Qu.current!==null?(o=w0(o,m,x),Ta(o,c)||(Tr=!0),o):(ll&42)===0?(Tr=!0,o.memoizedState=m):(o=V0(),vn.lanes|=o,Qs|=o,c)}function R1(o,c,m,x,b){var O=K.p;K.p=O!==0&&8>O?O:8;var z=W.T,te={};W.T=te,R0(o,!1,c,m);try{var ye=b(),Ge=W.S;if(Ge!==null&&Ge(te,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var at=jS(ye,x);Dh(o,c,at,ki(o))}else Dh(o,c,x,ki(o))}catch(ct){Dh(o,c,{then:function(){},status:"rejected",reason:ct},ki())}finally{K.p=O,W.T=z}}function QS(){}function fg(o,c,m,x){if(o.tag!==5)throw Error(i(476));var b=C1(o).queue;R1(o,b,c,ie,m===null?QS:function(){return O1(o),m(x)})}function C1(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:ie},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:m},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function O1(o){var c=C1(o).next.queue;Dh(o,c,{},ki())}function hg(){return Fi(bg)}function N1(){return er().memoizedState}function D1(){return er().memoizedState}function JS(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var m=ki();o=go(m);var x=ol(c,o,m);x!==null&&(pa(x,c,m),Uc(x,c,m)),c={cache:m0()},o.payload=c;return}c=c.return}}function $S(o,c,m){var x=ki();m={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},C0(o)?L1(c,m):(m=u0(o,c,m,x),m!==null&&(pa(m,o,x),Za(m,c,x)))}function I1(o,c,m){var x=ki();Dh(o,c,m,x)}function Dh(o,c,m,x){var b={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(C0(o))L1(c,b);else{var O=o.alternate;if(o.lanes===0&&(O===null||O.lanes===0)&&(O=c.lastRenderedReducer,O!==null))try{var z=c.lastRenderedState,te=O(z,m);if(b.hasEagerState=!0,b.eagerState=te,Ta(te,z))return zl(o,c,b,0),pn===null&&vh(),!1}catch{}finally{}if(m=u0(o,c,b,x),m!==null)return pa(m,o,x),Za(m,c,x),!0}return!1}function R0(o,c,m,x){if(x={lane:2,revertLane:nT(),action:x,hasEagerState:!1,eagerState:null,next:null},C0(o)){if(c)throw Error(i(479))}else c=u0(o,m,x,2),c!==null&&pa(c,o,2)}function C0(o){var c=o.alternate;return o===vn||c!==null&&c===vn}function L1(o,c){ql=E0=!0;var m=o.pending;m===null?c.next=c:(c.next=m.next,m.next=c),o.pending=c}function Za(o,c,m){if((m&4194048)!==0){var x=c.lanes;x&=o.pendingLanes,m|=x,c.lanes=m,Ft(o,m)}}var Ih={readContext:Fi,use:T0,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useLayoutEffect:Gi,useInsertionEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi,useDeferredValue:Gi,useTransition:Gi,useSyncExternalStore:Gi,useId:Gi,useHostTransitionStatus:Gi,useFormState:Gi,useActionState:Gi,useOptimistic:Gi,useMemoCache:Gi,useCacheRefresh:Gi},O0={readContext:Fi,use:T0,useCallback:function(o,c){return fa().memoizedState=[o,c===void 0?null:c],o},useContext:Fi,useEffect:og,useImperativeHandle:function(o,c,m){m=m!=null?m.concat([o]):null,A0(4194308,4,A1.bind(null,c,o),m)},useLayoutEffect:function(o,c){return A0(4194308,4,o,c)},useInsertionEffect:function(o,c){A0(4,2,o,c)},useMemo:function(o,c){var m=fa();c=c===void 0?null:c;var x=o();if(ua){He(!0);try{o()}finally{He(!1)}}return m.memoizedState=[x,c],x},useReducer:function(o,c,m){var x=fa();if(m!==void 0){var b=m(c);if(ua){He(!0);try{m(c)}finally{He(!1)}}}else b=c;return x.memoizedState=x.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},x.queue=o,o=o.dispatch=$S.bind(null,vn,o),[x.memoizedState,o]},useRef:function(o){var c=fa();return o={current:o},c.memoizedState=o},useState:function(o){o=ig(o);var c=o.queue,m=I1.bind(null,vn,c);return c.dispatch=m,[o.memoizedState,m]},useDebugValue:cg,useDeferredValue:function(o,c){var m=fa();return w0(m,o,c)},useTransition:function(){var o=ig(!1);return o=R1.bind(null,vn,o.queue,!0,!1),fa().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,m){var x=vn,b=fa();if(Wn){if(m===void 0)throw Error(i(407));m=m()}else{if(m=c(),pn===null)throw Error(i(349));(Qt&124)!==0||Ju(x,c,m)}b.memoizedState=m;var O={value:m,getSnapshot:c};return b.queue=O,og(h1.bind(null,x,O,o),[o]),x.flags|=2048,$u(9,Nh(),f1.bind(null,x,O,m,c),null),m},useId:function(){var o=fa(),c=pn.identifierPrefix;if(Wn){var m=po,x=ho;m=(x&~(1<<32-St(x)-1)).toString(32)+m,c="«"+c+"R"+m,m=cr++,0<m&&(c+="H"+m.toString(32)),c+="»"}else m=o1++,c="«"+c+"r"+m.toString(32)+"»";return o.memoizedState=c},useHostTransitionStatus:hg,useFormState:_1,useActionState:_1,useOptimistic:function(o){var c=fa();c.memoizedState=c.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=R0.bind(null,vn,!0,m),m.dispatch=c,[o,c]},useMemoCache:eg,useCacheRefresh:function(){return fa().memoizedState=JS.bind(null,vn)}},dg={readContext:Fi,use:T0,useCallback:M1,useContext:Fi,useEffect:lg,useImperativeHandle:b1,useInsertionEffect:b0,useLayoutEffect:M0,useMemo:ug,useReducer:Zl,useRef:sg,useState:function(){return Zl(ul)},useDebugValue:cg,useDeferredValue:function(o,c){var m=er();return w1(m,ai.memoizedState,o,c)},useTransition:function(){var o=Zl(ul)[0],c=er().memoizedState;return[typeof o=="boolean"?o:Xs(o),c]},useSyncExternalStore:u1,useId:N1,useHostTransitionStatus:hg,useFormState:E1,useActionState:E1,useOptimistic:function(o,c){var m=er();return m1(m,ai,o,c)},useMemoCache:eg,useCacheRefresh:D1},U1={readContext:Fi,use:T0,useCallback:M1,useContext:Fi,useEffect:lg,useImperativeHandle:b1,useInsertionEffect:b0,useLayoutEffect:M0,useMemo:ug,useReducer:ng,useRef:sg,useState:function(){return ng(ul)},useDebugValue:cg,useDeferredValue:function(o,c){var m=er();return ai===null?w0(m,o,c):w1(m,ai.memoizedState,o,c)},useTransition:function(){var o=ng(ul)[0],c=er().memoizedState;return[typeof o=="boolean"?o:Xs(o),c]},useSyncExternalStore:u1,useId:N1,useHostTransitionStatus:hg,useFormState:T1,useActionState:T1,useOptimistic:function(o,c){var m=er();return ai!==null?m1(m,ai,o,c):(m.baseState=o,[o,m.queue.dispatch])},useMemoCache:eg,useCacheRefresh:D1},Fc=null,Lh=0;function Uh(o){var c=Lh;return Lh+=1,Fc===null&&(Fc=[]),y0(Fc,o,c)}function tf(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function N0(o,c){throw c.$$typeof===g?Error(i(525)):(o=Object.prototype.toString.call(c),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function F1(o){var c=o._init;return c(o._payload)}function P1(o){function c(Le,we){if(o){var ke=Le.deletions;ke===null?(Le.deletions=[we],Le.flags|=16):ke.push(we)}}function m(Le,we){if(!o)return null;for(;we!==null;)c(Le,we),we=we.sibling;return null}function x(Le){for(var we=new Map;Le!==null;)Le.key!==null?we.set(Le.key,Le):we.set(Le.index,Le),Le=Le.sibling;return we}function b(Le,we){return Le=Hi(Le,we),Le.index=0,Le.sibling=null,Le}function O(Le,we,ke){return Le.index=ke,o?(ke=Le.alternate,ke!==null?(ke=ke.index,ke<we?(Le.flags|=67108866,we):ke):(Le.flags|=67108866,we)):(Le.flags|=1048576,we)}function z(Le){return o&&Le.alternate===null&&(Le.flags|=67108866),Le}function te(Le,we,ke,ot){return we===null||we.tag!==6?(we=yh(ke,Le.mode,ot),we.return=Le,we):(we=b(we,ke),we.return=Le,we)}function ye(Le,we,ke,ot){var zt=ke.type;return zt===E?at(Le,we,ke.props.children,ot,ke.key):we!==null&&(we.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===I&&F1(zt)===we.type)?(we=b(we,ke.props),tf(we,ke),we.return=Le,we):(we=Sr(ke.type,ke.key,ke.props,null,Le.mode,ot),tf(we,ke),we.return=Le,we)}function Ge(Le,we,ke,ot){return we===null||we.tag!==4||we.stateNode.containerInfo!==ke.containerInfo||we.stateNode.implementation!==ke.implementation?(we=f0(ke,Le.mode,ot),we.return=Le,we):(we=b(we,ke.children||[]),we.return=Le,we)}function at(Le,we,ke,ot,zt){return we===null||we.tag!==7?(we=Hl(ke,Le.mode,ot,zt),we.return=Le,we):(we=b(we,ke),we.return=Le,we)}function ct(Le,we,ke){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=yh(""+we,Le.mode,ke),we.return=Le,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case v:return ke=Sr(we.type,we.key,we.props,null,Le.mode,ke),tf(ke,we),ke.return=Le,ke;case y:return we=f0(we,Le.mode,ke),we.return=Le,we;case I:var ot=we._init;return we=ot(we._payload),ct(Le,we,ke)}if(pe(we)||G(we))return we=Hl(we,Le.mode,ke,null),we.return=Le,we;if(typeof we.then=="function")return ct(Le,Uh(we),ke);if(we.$$typeof===w)return ct(Le,Th(Le,we),ke);N0(Le,we)}return null}function je(Le,we,ke,ot){var zt=we!==null?we.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return zt!==null?null:te(Le,we,""+ke,ot);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case v:return ke.key===zt?ye(Le,we,ke,ot):null;case y:return ke.key===zt?Ge(Le,we,ke,ot):null;case I:return zt=ke._init,ke=zt(ke._payload),je(Le,we,ke,ot)}if(pe(ke)||G(ke))return zt!==null?null:at(Le,we,ke,ot,null);if(typeof ke.then=="function")return je(Le,we,Uh(ke),ot);if(ke.$$typeof===w)return je(Le,we,Th(Le,ke),ot);N0(Le,ke)}return null}function qe(Le,we,ke,ot,zt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return Le=Le.get(ke)||null,te(we,Le,""+ot,zt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case v:return Le=Le.get(ot.key===null?ke:ot.key)||null,ye(we,Le,ot,zt);case y:return Le=Le.get(ot.key===null?ke:ot.key)||null,Ge(we,Le,ot,zt);case I:var Pn=ot._init;return ot=Pn(ot._payload),qe(Le,we,ke,ot,zt)}if(pe(ot)||G(ot))return Le=Le.get(ke)||null,at(we,Le,ot,zt,null);if(typeof ot.then=="function")return qe(Le,we,ke,Uh(ot),zt);if(ot.$$typeof===w)return qe(Le,we,ke,Th(we,ot),zt);N0(we,ot)}return null}function un(Le,we,ke,ot){for(var zt=null,Pn=null,qt=we,rn=we=0,ea=null;qt!==null&&rn<ke.length;rn++){qt.index>rn?(ea=qt,qt=null):ea=qt.sibling;var ni=je(Le,qt,ke[rn],ot);if(ni===null){qt===null&&(qt=ea);break}o&&qt&&ni.alternate===null&&c(Le,qt),we=O(ni,we,rn),Pn===null?zt=ni:Pn.sibling=ni,Pn=ni,qt=ea}if(rn===ke.length)return m(Le,qt),Wn&&il(Le,rn),zt;if(qt===null){for(;rn<ke.length;rn++)qt=ct(Le,ke[rn],ot),qt!==null&&(we=O(qt,we,rn),Pn===null?zt=qt:Pn.sibling=qt,Pn=qt);return Wn&&il(Le,rn),zt}for(qt=x(qt);rn<ke.length;rn++)ea=qe(qt,Le,rn,ke[rn],ot),ea!==null&&(o&&ea.alternate!==null&&qt.delete(ea.key===null?rn:ea.key),we=O(ea,we,rn),Pn===null?zt=ea:Pn.sibling=ea,Pn=ea);return o&&qt.forEach(function(yf){return c(Le,yf)}),Wn&&il(Le,rn),zt}function nn(Le,we,ke,ot){if(ke==null)throw Error(i(151));for(var zt=null,Pn=null,qt=we,rn=we=0,ea=null,ni=ke.next();qt!==null&&!ni.done;rn++,ni=ke.next()){qt.index>rn?(ea=qt,qt=null):ea=qt.sibling;var yf=je(Le,qt,ni.value,ot);if(yf===null){qt===null&&(qt=ea);break}o&&qt&&yf.alternate===null&&c(Le,qt),we=O(yf,we,rn),Pn===null?zt=yf:Pn.sibling=yf,Pn=yf,qt=ea}if(ni.done)return m(Le,qt),Wn&&il(Le,rn),zt;if(qt===null){for(;!ni.done;rn++,ni=ke.next())ni=ct(Le,ni.value,ot),ni!==null&&(we=O(ni,we,rn),Pn===null?zt=ni:Pn.sibling=ni,Pn=ni);return Wn&&il(Le,rn),zt}for(qt=x(qt);!ni.done;rn++,ni=ke.next())ni=qe(qt,Le,rn,ni.value,ot),ni!==null&&(o&&ni.alternate!==null&&qt.delete(ni.key===null?rn:ni.key),we=O(ni,we,rn),Pn===null?zt=ni:Pn.sibling=ni,Pn=ni);return o&&qt.forEach(function(pk){return c(Le,pk)}),Wn&&il(Le,rn),zt}function Si(Le,we,ke,ot){if(typeof ke=="object"&&ke!==null&&ke.type===E&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case v:e:{for(var zt=ke.key;we!==null;){if(we.key===zt){if(zt=ke.type,zt===E){if(we.tag===7){m(Le,we.sibling),ot=b(we,ke.props.children),ot.return=Le,Le=ot;break e}}else if(we.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===I&&F1(zt)===we.type){m(Le,we.sibling),ot=b(we,ke.props),tf(ot,ke),ot.return=Le,Le=ot;break e}m(Le,we);break}else c(Le,we);we=we.sibling}ke.type===E?(ot=Hl(ke.props.children,Le.mode,ot,ke.key),ot.return=Le,Le=ot):(ot=Sr(ke.type,ke.key,ke.props,null,Le.mode,ot),tf(ot,ke),ot.return=Le,Le=ot)}return z(Le);case y:e:{for(zt=ke.key;we!==null;){if(we.key===zt)if(we.tag===4&&we.stateNode.containerInfo===ke.containerInfo&&we.stateNode.implementation===ke.implementation){m(Le,we.sibling),ot=b(we,ke.children||[]),ot.return=Le,Le=ot;break e}else{m(Le,we);break}else c(Le,we);we=we.sibling}ot=f0(ke,Le.mode,ot),ot.return=Le,Le=ot}return z(Le);case I:return zt=ke._init,ke=zt(ke._payload),Si(Le,we,ke,ot)}if(pe(ke))return un(Le,we,ke,ot);if(G(ke)){if(zt=G(ke),typeof zt!="function")throw Error(i(150));return ke=zt.call(ke),nn(Le,we,ke,ot)}if(typeof ke.then=="function")return Si(Le,we,Uh(ke),ot);if(ke.$$typeof===w)return Si(Le,we,Th(Le,ke),ot);N0(Le,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,we!==null&&we.tag===6?(m(Le,we.sibling),ot=b(we,ke),ot.return=Le,Le=ot):(m(Le,we),ot=yh(ke,Le.mode,ot),ot.return=Le,Le=ot),z(Le)):m(Le,we)}return function(Le,we,ke,ot){try{Lh=0;var zt=Si(Le,we,ke,ot);return Fc=null,zt}catch(qt){if(qt===wh||qt===Gs)throw qt;var Pn=Ma(29,qt,null,Le.mode);return Pn.lanes=ot,Pn.return=Le,Pn}finally{}}}var Pc=P1(!0),B1=P1(!1),ci=le(null),Ws=null;function Ql(o){var c=o.alternate;q(Xi,Xi.current&1),q(ci,o),Ws===null&&(c===null||Qu.current!==null||c.memoizedState!==null)&&(Ws=o)}function k1(o){if(o.tag===22){if(q(Xi,Xi.current),q(ci,o),Ws===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Ws=o)}}else Jl()}function Jl(){q(Xi,Xi.current),q(ci,ci.current)}function vo(o){H(ci),Ws===o&&(Ws=null),H(Xi)}var Xi=le(0);function fl(o){for(var c=o;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||pT(m)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function $l(o,c,m,x){c=o.memoizedState,m=m(x,c),m=m==null?c:p({},c,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var ha={enqueueSetState:function(o,c,m){o=o._reactInternals;var x=ki(),b=go(x);b.payload=c,m!=null&&(b.callback=m),c=ol(o,b,x),c!==null&&(pa(c,o,x),Uc(c,o,x))},enqueueReplaceState:function(o,c,m){o=o._reactInternals;var x=ki(),b=go(x);b.tag=1,b.payload=c,m!=null&&(b.callback=m),c=ol(o,b,x),c!==null&&(pa(c,o,x),Uc(c,o,x))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var m=ki(),x=go(m);x.tag=2,c!=null&&(x.callback=c),c=ol(o,x,m),c!==null&&(pa(c,o,m),Uc(c,o,m))}};function z1(o,c,m,x,b,O,z){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,O,z):c.prototype&&c.prototype.isPureReactComponent?!Vs(m,x)||!Vs(b,O):!0}function V1(o,c,m,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,x),c.state!==o&&ha.enqueueReplaceState(c,c.state,null)}function xo(o,c){var m=c;if("ref"in c){m={};for(var x in c)x!=="ref"&&(m[x]=c[x])}if(o=o.defaultProps){m===c&&(m=p({},m));for(var b in o)m[b]===void 0&&(m[b]=o[b])}return m}var Bc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Fh(o){Bc(o)}function D0(o){console.error(o)}function H1(o){Bc(o)}function I0(o,c){try{var m=o.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(x){setTimeout(function(){throw x})}}function Ts(o,c,m){try{var x=o.onCaughtError;x(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function L0(o,c,m){return m=go(m),m.tag=3,m.payload={element:null},m.callback=function(){I0(o,c)},m}function G1(o){return o=go(o),o.tag=3,o}function U0(o,c,m,x){var b=m.type.getDerivedStateFromError;if(typeof b=="function"){var O=x.value;o.payload=function(){return b(O)},o.callback=function(){Ts(c,m,x)}}var z=m.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(o.callback=function(){Ts(c,m,x),typeof b!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var te=x.stack;this.componentDidCatch(x.value,{componentStack:te!==null?te:""})})}function eT(o,c,m,x,b){if(m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(c=m.alternate,c!==null&&ys(c,m,b,!0),m=ci.current,m!==null){switch(m.tag){case 13:return Ws===null?f():m.alternate===null&&bi===0&&(bi=3),m.flags&=-257,m.flags|=65536,m.lanes=b,x===Rh?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([x]):c.add(x),Ke(o,x,b)),!1;case 22:return m.flags|=65536,x===Rh?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([x])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([x]):m.add(x)),Ke(o,x,b)),!1}throw Error(i(435,m.tag))}return Ke(o,x,b),f(),!1}if(Wn)return c=ci.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=b,x!==d0&&(o=Error(i(422),{cause:x}),Lc(Pr(o,m)))):(x!==d0&&(c=Error(i(423),{cause:x}),Lc(Pr(c,m))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,x=Pr(x,m),b=L0(o.stateNode,x,b),qu(o,b),bi!==4&&(bi=2)),!1;var O=Error(i(520),{cause:x});if(O=Pr(O,m),ti===null?ti=[O]:ti.push(O),bi!==4&&(bi=2),c===null)return!0;x=Pr(x,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,o=b&-b,m.lanes|=o,o=L0(m.stateNode,x,o),qu(m,o),!1;case 1:if(c=m.type,O=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(rs===null||!rs.has(O))))return m.flags|=65536,b&=-b,m.lanes|=b,b=G1(b),U0(b,o,m,x),qu(m,b),!1}m=m.return}while(m!==null);return!1}var X1=Error(i(461)),Tr=!1;function Wi(o,c,m,x){c.child=o===null?B1(c,null,m,x):Pc(c,o.child,m,x)}function Ra(o,c,m,x,b){m=m.render;var O=c.ref;if("ref"in x){var z={};for(var te in x)te!=="ref"&&(z[te]=x[te])}else z=x;return mo(c),x=cl(o,c,m,z,O,b),te=Jm(),o!==null&&!Tr?(S0(o,c,b),Ar(o,c,b)):(Wn&&te&&Vm(c),c.flags|=1,Wi(o,c,x,b),c.child)}function Ca(o,c,m,x,b){if(o===null){var O=m.type;return typeof O=="function"&&!xh(O)&&O.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=O,pg(o,c,O,x,b)):(o=Sr(m.type,null,x,c,c.mode,b),o.ref=c.ref,o.return=c,c.child=o)}if(O=o.child,!Ph(o,b)){var z=O.memoizedProps;if(m=m.compare,m=m!==null?m:Vs,m(z,x)&&o.ref===c.ref)return Ar(o,c,b)}return c.flags|=1,o=Hi(O,x),o.ref=c.ref,o.return=c,c.child=o}function pg(o,c,m,x,b){if(o!==null){var O=o.memoizedProps;if(Vs(O,x)&&o.ref===c.ref)if(Tr=!1,c.pendingProps=x=O,Ph(o,b))(o.flags&131072)!==0&&(Tr=!0);else return c.lanes=o.lanes,Ar(o,c,b)}return nf(o,c,m,x,b)}function kc(o,c,m){var x=c.pendingProps,b=x.children,O=o!==null?o.memoizedState:null;if(x.mode==="hidden"){if((c.flags&128)!==0){if(x=O!==null?O.baseLanes|m:m,o!==null){for(b=c.child=o.child,O=0;b!==null;)O=O|b.lanes|b.childLanes,b=b.sibling;c.childLanes=O&~x}else c.childLanes=0,c.child=null;return zc(o,c,x,m)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Mh(c,O!==null?O.cachePool:null),O!==null?s1(c,O):Qm(),k1(c);else return c.lanes=c.childLanes=536870912,zc(o,c,O!==null?O.baseLanes|m:m,m)}else O!==null?(Mh(c,O.cachePool),s1(c,O),Jl(),c.memoizedState=null):(o!==null&&Mh(c,null),Qm(),Jl());return Wi(o,c,b,m),c.child}function zc(o,c,m,x){var b=jl();return b=b===null?null:{parent:Ji._currentValue,pool:b},c.memoizedState={baseLanes:m,cachePool:b},o!==null&&Mh(c,null),Qm(),k1(c),o!==null&&ys(o,c,x,!0),null}function Vc(o,c){var m=c.ref;if(m===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(o===null||o.ref!==m)&&(c.flags|=4194816)}}function nf(o,c,m,x,b){return mo(c),m=cl(o,c,m,x,void 0,b),x=Jm(),o!==null&&!Tr?(S0(o,c,b),Ar(o,c,b)):(Wn&&x&&Vm(c),c.flags|=1,Wi(o,c,m,b),c.child)}function Qa(o,c,m,x,b,O){return mo(c),c.updateQueue=null,m=c1(c,x,m,b),l1(o),x=Jm(),o!==null&&!Tr?(S0(o,c,O),Ar(o,c,O)):(Wn&&x&&Vm(c),c.flags|=1,Wi(o,c,m,O),c.child)}function Ja(o,c,m,x,b){if(mo(c),c.stateNode===null){var O=Vl,z=m.contextType;typeof z=="object"&&z!==null&&(O=Fi(z)),O=new m(x,O),c.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=ha,c.stateNode=O,O._reactInternals=c,O=c.stateNode,O.props=x,O.state=c.memoizedState,O.refs={},Km(c),z=m.contextType,O.context=typeof z=="object"&&z!==null?Fi(z):Vl,O.state=c.memoizedState,z=m.getDerivedStateFromProps,typeof z=="function"&&($l(c,m,z,x),O.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(z=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),z!==O.state&&ha.enqueueReplaceState(O,O.state,null),Ku(c,x,O,b),Ch(),O.state=c.memoizedState),typeof O.componentDidMount=="function"&&(c.flags|=4194308),x=!0}else if(o===null){O=c.stateNode;var te=c.memoizedProps,ye=xo(m,te);O.props=ye;var Ge=O.context,at=m.contextType;z=Vl,typeof at=="object"&&at!==null&&(z=Fi(at));var ct=m.getDerivedStateFromProps;at=typeof ct=="function"||typeof O.getSnapshotBeforeUpdate=="function",te=c.pendingProps!==te,at||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(te||Ge!==z)&&V1(c,O,x,z),sl=!1;var je=c.memoizedState;O.state=je,Ku(c,x,O,b),Ch(),Ge=c.memoizedState,te||je!==Ge||sl?(typeof ct=="function"&&($l(c,m,ct,x),Ge=c.memoizedState),(ye=sl||z1(c,m,ye,x,je,Ge,z))?(at||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(c.flags|=4194308)):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=Ge),O.props=x,O.state=Ge,O.context=z,x=ye):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{O=c.stateNode,sn(o,c),z=c.memoizedProps,at=xo(m,z),O.props=at,ct=c.pendingProps,je=O.context,Ge=m.contextType,ye=Vl,typeof Ge=="object"&&Ge!==null&&(ye=Fi(Ge)),te=m.getDerivedStateFromProps,(Ge=typeof te=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(z!==ct||je!==ye)&&V1(c,O,x,ye),sl=!1,je=c.memoizedState,O.state=je,Ku(c,x,O,b),Ch();var qe=c.memoizedState;z!==ct||je!==qe||sl||o!==null&&o.dependencies!==null&&Sh(o.dependencies)?(typeof te=="function"&&($l(c,m,te,x),qe=c.memoizedState),(at=sl||z1(c,m,at,x,je,qe,ye)||o!==null&&o.dependencies!==null&&Sh(o.dependencies))?(Ge||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(x,qe,ye),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(x,qe,ye)),typeof O.componentDidUpdate=="function"&&(c.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof O.componentDidUpdate!="function"||z===o.memoizedProps&&je===o.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&je===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=qe),O.props=x,O.state=qe,O.context=ye,x=at):(typeof O.componentDidUpdate!="function"||z===o.memoizedProps&&je===o.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&je===o.memoizedState||(c.flags|=1024),x=!1)}return O=x,Vc(o,c),x=(c.flags&128)!==0,O||x?(O=c.stateNode,m=x&&typeof m.getDerivedStateFromError!="function"?null:O.render(),c.flags|=1,o!==null&&x?(c.child=Pc(c,o.child,null,b),c.child=Pc(c,null,m,b)):Wi(o,c,m,b),c.memoizedState=O.state,o=c.child):o=Ar(o,c,b),o}function ec(o,c,m,x){return Gu(),c.flags|=256,Wi(o,c,m,x),c.child}var Ys={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function js(o){return{baseLanes:o,cachePool:v0()}}function ur(o,c,m){return o=o!==null?o.childLanes&~m:0,c&&(o|=Rs),o}function rf(o,c,m){var x=c.pendingProps,b=!1,O=(c.flags&128)!==0,z;if((z=O)||(z=o!==null&&o.memoizedState===null?!1:(Xi.current&2)!==0),z&&(b=!0,c.flags&=-129),z=(c.flags&32)!==0,c.flags&=-33,o===null){if(Wn){if(b?Ql(c):Jl(),Wn){var te=Ci,ye;if(ye=te){e:{for(ye=te,te=qa;ye.nodeType!==8;){if(!te){te=null;break e}if(ye=vl(ye.nextSibling),ye===null){te=null;break e}}te=ye}te!==null?(c.memoizedState={dehydrated:te,treeContext:Gl!==null?{id:ho,overflow:po}:null,retryLane:536870912,hydrationErrors:null},ye=Ma(18,null,null,0),ye.stateNode=te,ye.return=c,c.child=ye,ca=c,Ci=null,ye=!0):ye=!1}ye||Xl(c)}if(te=c.memoizedState,te!==null&&(te=te.dehydrated,te!==null))return pT(te)?c.lanes=32:c.lanes=536870912,null;vo(c)}return te=x.children,x=x.fallback,b?(Jl(),b=c.mode,te=Hc({mode:"hidden",children:te},b),x=Hl(x,b,m,null),te.return=c,x.return=c,te.sibling=x,c.child=te,b=c.child,b.memoizedState=js(m),b.childLanes=ur(o,z,m),c.memoizedState=Ys,x):(Ql(c),yo(c,te))}if(ye=o.memoizedState,ye!==null&&(te=ye.dehydrated,te!==null)){if(O)c.flags&256?(Ql(c),c.flags&=-257,c=zr(o,c,m)):c.memoizedState!==null?(Jl(),c.child=o.child,c.flags|=128,c=null):(Jl(),b=x.fallback,te=c.mode,x=Hc({mode:"visible",children:x.children},te),b=Hl(b,te,m,null),b.flags|=2,x.return=c,b.return=c,x.sibling=b,c.child=x,Pc(c,o.child,null,m),x=c.child,x.memoizedState=js(m),x.childLanes=ur(o,z,m),c.memoizedState=Ys,c=b);else if(Ql(c),pT(te)){if(z=te.nextSibling&&te.nextSibling.dataset,z)var Ge=z.dgst;z=Ge,x=Error(i(419)),x.stack="",x.digest=z,Lc({value:x,source:null,stack:null}),c=zr(o,c,m)}else if(Tr||ys(o,c,m,!1),z=(m&o.childLanes)!==0,Tr||z){if(z=pn,z!==null&&(x=m&-m,x=(x&42)!==0?1:$t(x),x=(x&(z.suspendedLanes|m))!==0?0:x,x!==0&&x!==ye.retryLane))throw ye.retryLane=x,nl(o,x),pa(z,o,x),X1;te.data==="$?"||f(),c=zr(o,c,m)}else te.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=ye.treeContext,Ci=vl(te.nextSibling),ca=c,Wn=!0,xs=null,qa=!1,o!==null&&(Br[ja++]=ho,Br[ja++]=po,Br[ja++]=Gl,ho=o.id,po=o.overflow,Gl=c),c=yo(c,x.children),c.flags|=4096);return c}return b?(Jl(),b=x.fallback,te=c.mode,ye=o.child,Ge=ye.sibling,x=Hi(ye,{mode:"hidden",children:x.children}),x.subtreeFlags=ye.subtreeFlags&65011712,Ge!==null?b=Hi(Ge,b):(b=Hl(b,te,m,null),b.flags|=2),b.return=c,x.return=c,x.sibling=b,c.child=x,x=b,b=c.child,te=o.child.memoizedState,te===null?te=js(m):(ye=te.cachePool,ye!==null?(Ge=Ji._currentValue,ye=ye.parent!==Ge?{parent:Ge,pool:Ge}:ye):ye=v0(),te={baseLanes:te.baseLanes|m,cachePool:ye}),b.memoizedState=te,b.childLanes=ur(o,z,m),c.memoizedState=Ys,x):(Ql(c),m=o.child,o=m.sibling,m=Hi(m,{mode:"visible",children:x.children}),m.return=c,m.sibling=null,o!==null&&(z=c.deletions,z===null?(c.deletions=[o],c.flags|=16):z.push(o)),c.child=m,c.memoizedState=null,m)}function yo(o,c){return c=Hc({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Hc(o,c){return o=Ma(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function zr(o,c,m){return Pc(c,o.child,null,m),o=yo(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Vr(o,c,m){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),Wm(o.return,c,m)}function Vn(o,c,m,x,b){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:b}:(O.isBackwards=c,O.rendering=null,O.renderingStartTime=0,O.last=x,O.tail=m,O.tailMode=b)}function As(o,c,m){var x=c.pendingProps,b=x.revealOrder,O=x.tail;if(Wi(o,c,x.children,m),x=Xi.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Vr(o,m,c);else if(o.tag===19)Vr(o,m,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}switch(q(Xi,x),b){case"forwards":for(m=c.child,b=null;m!==null;)o=m.alternate,o!==null&&fl(o)===null&&(b=m),m=m.sibling;m=b,m===null?(b=c.child,c.child=null):(b=m.sibling,m.sibling=null),Vn(c,!1,b,m,O);break;case"backwards":for(m=null,b=c.child,c.child=null;b!==null;){if(o=b.alternate,o!==null&&fl(o)===null){c.child=b;break}o=b.sibling,b.sibling=m,m=b,b=o}Vn(c,!0,m,null,O);break;case"together":Vn(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Ar(o,c,m){if(o!==null&&(c.dependencies=o.dependencies),Qs|=c.lanes,(m&c.childLanes)===0)if(o!==null){if(ys(o,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(i(153));if(c.child!==null){for(o=c.child,m=Hi(o,o.pendingProps),c.child=m,m.return=c;o.sibling!==null;)o=o.sibling,m=m.sibling=Hi(o,o.pendingProps),m.return=c;m.sibling=null}return c.child}function Ph(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Sh(o)))}function bs(o,c,m){switch(c.tag){case 3:Ee(c,c.stateNode.containerInfo),Yl(c,Ji,o.memoizedState.cache),Gu();break;case 27:case 5:Ne(c);break;case 4:Ee(c,c.stateNode.containerInfo);break;case 10:Yl(c,c.type,c.memoizedProps.value);break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(Ql(c),c.flags|=128,null):(m&c.child.childLanes)!==0?rf(o,c,m):(Ql(c),o=Ar(o,c,m),o!==null?o.sibling:null);Ql(c);break;case 19:var b=(o.flags&128)!==0;if(x=(m&c.childLanes)!==0,x||(ys(o,c,m,!1),x=(m&c.childLanes)!==0),b){if(x)return As(o,c,m);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),q(Xi,Xi.current),x)break;return null;case 22:case 23:return c.lanes=0,kc(o,c,m);case 24:Yl(c,Ji,o.memoizedState.cache)}return Ar(o,c,m)}function Gc(o,c,m){if(o!==null)if(o.memoizedProps!==c.pendingProps)Tr=!0;else{if(!Ph(o,m)&&(c.flags&128)===0)return Tr=!1,bs(o,c,m);Tr=(o.flags&131072)!==0}else Tr=!1,Wn&&(c.flags&1048576)!==0&&h0(c,Hu,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var x=c.elementType,b=x._init;if(x=b(x._payload),c.type=x,typeof x=="function")xh(x)?(o=xo(x,o),c.tag=1,c=Ja(null,c,x,o,m)):(c.tag=0,c=nf(null,c,x,o,m));else{if(x!=null){if(b=x.$$typeof,b===D){c.tag=11,c=Ra(null,c,x,o,m);break e}else if(b===U){c.tag=14,c=Ca(null,c,x,o,m);break e}}throw c=ve(x)||x,Error(i(306,c,""))}}return c;case 0:return nf(o,c,c.type,c.pendingProps,m);case 1:return x=c.type,b=xo(x,c.pendingProps),Ja(o,c,x,b,m);case 3:e:{if(Ee(c,c.stateNode.containerInfo),o===null)throw Error(i(387));x=c.pendingProps;var O=c.memoizedState;b=O.element,sn(o,c),Ku(c,x,null,m);var z=c.memoizedState;if(x=z.cache,Yl(c,Ji,x),x!==O.cache&&Eh(c,[Ji],m,!0),Ch(),x=z.element,O.isDehydrated)if(O={element:x,isDehydrated:!1,cache:z.cache},c.updateQueue.baseState=O,c.memoizedState=O,c.flags&256){c=ec(o,c,x,m);break e}else if(x!==b){b=Pr(Error(i(424)),c),Lc(b),c=ec(o,c,x,m);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ci=vl(o.firstChild),ca=c,Wn=!0,xs=null,qa=!0,m=B1(c,null,x,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Gu(),x===b){c=Ar(o,c,m);break e}Wi(o,c,x,m)}c=c.child}return c;case 26:return Vc(o,c),o===null?(m=aR(c.type,null,c.pendingProps,null))?c.memoizedState=m:Wn||(m=c.type,o=c.pendingProps,x=Z1(ge.current).createElement(m),x[Ui]=c,x[Ri]=o,ma(x,m,o),Ue(x),c.stateNode=x):c.memoizedState=aR(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ne(c),o===null&&Wn&&(x=c.stateNode=nR(c.type,c.pendingProps,ge.current),ca=c,qa=!0,b=Ci,pf(c.type)?(mT=b,Ci=vl(x.firstChild)):Ci=b),Wi(o,c,c.pendingProps.children,m),Vc(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Wn&&((b=x=Ci)&&(x=GB(x,c.type,c.pendingProps,qa),x!==null?(c.stateNode=x,ca=c,Ci=vl(x.firstChild),qa=!1,b=!0):b=!1),b||Xl(c)),Ne(c),b=c.type,O=c.pendingProps,z=o!==null?o.memoizedProps:null,x=O.children,fT(b,O)?x=null:z!==null&&fT(b,z)&&(c.flags|=32),c.memoizedState!==null&&(b=cl(o,c,qS,null,null,m),bg._currentValue=b),Vc(o,c),Wi(o,c,x,m),c.child;case 6:return o===null&&Wn&&((o=m=Ci)&&(m=XB(m,c.pendingProps,qa),m!==null?(c.stateNode=m,ca=c,Ci=null,o=!0):o=!1),o||Xl(c)),null;case 13:return rf(o,c,m);case 4:return Ee(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=Pc(c,null,x,m):Wi(o,c,x,m),c.child;case 11:return Ra(o,c,c.type,c.pendingProps,m);case 7:return Wi(o,c,c.pendingProps,m),c.child;case 8:return Wi(o,c,c.pendingProps.children,m),c.child;case 12:return Wi(o,c,c.pendingProps.children,m),c.child;case 10:return x=c.pendingProps,Yl(c,c.type,x.value),Wi(o,c,x.children,m),c.child;case 9:return b=c.type._context,x=c.pendingProps.children,mo(c),b=Fi(b),x=x(b),c.flags|=1,Wi(o,c,x,m),c.child;case 14:return Ca(o,c,c.type,c.pendingProps,m);case 15:return pg(o,c,c.type,c.pendingProps,m);case 19:return As(o,c,m);case 31:return x=c.pendingProps,m=c.mode,x={mode:x.mode,children:x.children},o===null?(m=Hc(x,m),m.ref=c.ref,c.child=m,m.return=c,c=m):(m=Hi(o.child,x),m.ref=c.ref,c.child=m,m.return=c,c=m),c;case 22:return kc(o,c,m);case 24:return mo(c),x=Fi(Ji),o===null?(b=jl(),b===null&&(b=pn,O=m0(),b.pooledCache=O,O.refCount++,O!==null&&(b.pooledCacheLanes|=m),b=O),c.memoizedState={parent:x,cache:b},Km(c),Yl(c,Ji,b)):((o.lanes&m)!==0&&(sn(o,c),Ku(c,null,null,m),Ch()),b=o.memoizedState,O=c.memoizedState,b.parent!==x?(b={parent:x,cache:x},c.memoizedState=b,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=b),Yl(c,Ji,x)):(x=O.cache,Yl(c,Ji,x),x!==b.cache&&Eh(c,[Ji],m,!0))),Wi(o,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function qs(o){o.flags|=4}function Bh(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!uR(c)){if(c=ci.current,c!==null&&((Qt&4194048)===Qt?Ws!==null:(Qt&62914560)!==Qt&&(Qt&536870912)===0||c!==Ws))throw Es=Rh,jm;o.flags|=8192}}function hl(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Ct():536870912,o.lanes|=c,Gn|=c)}function Xc(o,c){if(!Wn)switch(o.tailMode){case"hidden":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function xi(o){var c=o.alternate!==null&&o.alternate.child===o.child,m=0,x=0;if(c)for(var b=o.child;b!==null;)m|=b.lanes|b.childLanes,x|=b.subtreeFlags&65011712,x|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)m|=b.lanes|b.childLanes,x|=b.subtreeFlags,x|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=x,o.childLanes=m,c}function mg(o,c,m){var x=c.pendingProps;switch(Hm(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xi(c),null;case 1:return xi(c),null;case 3:return m=c.stateNode,x=null,o!==null&&(x=o.memoizedState.cache),c.memoizedState.cache!==x&&(c.flags|=2048),al(Ji),Ce(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Hs(c)?qs(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,$n())),xi(c),null;case 26:return m=c.memoizedState,o===null?(qs(c),m!==null?(xi(c),Bh(c,m)):(xi(c),c.flags&=-16777217)):m?m!==o.memoizedState?(qs(c),xi(c),Bh(c,m)):(xi(c),c.flags&=-16777217):(o.memoizedProps!==x&&qs(c),xi(c),c.flags&=-16777217),null;case 27:st(c),m=ge.current;var b=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==x&&qs(c);else{if(!x){if(c.stateNode===null)throw Error(i(166));return xi(c),null}o=V.current,Hs(c)?n1(c):(o=nR(b,x,m),c.stateNode=o,qs(c))}return xi(c),null;case 5:if(st(c),m=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==x&&qs(c);else{if(!x){if(c.stateNode===null)throw Error(i(166));return xi(c),null}if(o=V.current,Hs(c))n1(c);else{switch(b=Z1(ge.current),o){case 1:o=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:o=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":o=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":o=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":o=b.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof x.is=="string"?b.createElement("select",{is:x.is}):b.createElement("select"),x.multiple?o.multiple=!0:x.size&&(o.size=x.size);break;default:o=typeof x.is=="string"?b.createElement(m,{is:x.is}):b.createElement(m)}}o[Ui]=c,o[Ri]=x;e:for(b=c.child;b!==null;){if(b.tag===5||b.tag===6)o.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===c)break e;for(;b.sibling===null;){if(b.return===null||b.return===c)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}c.stateNode=o;e:switch(ma(o,m,x),m){case"button":case"input":case"select":case"textarea":o=!!x.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&qs(c)}}return xi(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==x&&qs(c);else{if(typeof x!="string"&&c.stateNode===null)throw Error(i(166));if(o=ge.current,Hs(c)){if(o=c.stateNode,m=c.memoizedProps,x=null,b=ca,b!==null)switch(b.tag){case 27:case 5:x=b.memoizedProps}o[Ui]=c,o=!!(o.nodeValue===m||x!==null&&x.suppressHydrationWarning===!0||Kw(o.nodeValue,m)),o||Xl(c)}else o=Z1(o).createTextNode(x),o[Ui]=c,c.stateNode=o}return xi(c),null;case 13:if(x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=Hs(c),x!==null&&x.dehydrated!==null){if(o===null){if(!b)throw Error(i(318));if(b=c.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[Ui]=c}else Gu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;xi(c),b=!1}else b=$n(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return c.flags&256?(vo(c),c):(vo(c),null)}if(vo(c),(c.flags&128)!==0)return c.lanes=m,c;if(m=x!==null,o=o!==null&&o.memoizedState!==null,m){x=c.child,b=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(b=x.alternate.memoizedState.cachePool.pool);var O=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(O=x.memoizedState.cachePool.pool),O!==b&&(x.flags|=2048)}return m!==o&&m&&(c.child.flags|=8192),hl(c,c.updateQueue),xi(c),null;case 4:return Ce(),o===null&&sT(c.stateNode.containerInfo),xi(c),null;case 10:return al(c.type),xi(c),null;case 19:if(H(Xi),b=c.memoizedState,b===null)return xi(c),null;if(x=(c.flags&128)!==0,O=b.rendering,O===null)if(x)Xc(b,!1);else{if(bi!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(O=fl(o),O!==null){for(c.flags|=128,Xc(b,!1),o=O.updateQueue,c.updateQueue=o,hl(c,o),c.subtreeFlags=0,o=m,m=c.child;m!==null;)zm(m,o),m=m.sibling;return q(Xi,Xi.current&1|2),c.child}o=o.sibling}b.tail!==null&&Re()>Jr&&(c.flags|=128,x=!0,Xc(b,!1),c.lanes=4194304)}else{if(!x)if(o=fl(O),o!==null){if(c.flags|=128,x=!0,o=o.updateQueue,c.updateQueue=o,hl(c,o),Xc(b,!0),b.tail===null&&b.tailMode==="hidden"&&!O.alternate&&!Wn)return xi(c),null}else 2*Re()-b.renderingStartTime>Jr&&m!==536870912&&(c.flags|=128,x=!0,Xc(b,!1),c.lanes=4194304);b.isBackwards?(O.sibling=c.child,c.child=O):(o=b.last,o!==null?o.sibling=O:c.child=O,b.last=O)}return b.tail!==null?(c=b.tail,b.rendering=c,b.tail=c.sibling,b.renderingStartTime=Re(),c.sibling=null,o=Xi.current,q(Xi,x?o&1|2:o&1),c):(xi(c),null);case 22:case 23:return vo(c),Oh(),x=c.memoizedState!==null,o!==null?o.memoizedState!==null!==x&&(c.flags|=8192):x&&(c.flags|=8192),x?(m&536870912)!==0&&(c.flags&128)===0&&(xi(c),c.subtreeFlags&6&&(c.flags|=8192)):xi(c),m=c.updateQueue,m!==null&&hl(c,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==m&&(c.flags|=2048),o!==null&&H(_s),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),al(Ji),xi(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function af(o,c){switch(Hm(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return al(Ji),Ce(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return st(c),null;case 13:if(vo(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Gu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return H(Xi),null;case 4:return Ce(),null;case 10:return al(c.type),null;case 22:case 23:return vo(c),Oh(),o!==null&&H(_s),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return al(Ji),null;case 25:return null;default:return null}}function sf(o,c){switch(Hm(c),c.tag){case 3:al(Ji),Ce();break;case 26:case 27:case 5:st(c);break;case 4:Ce();break;case 13:vo(c);break;case 19:H(Xi);break;case 10:al(c.type);break;case 22:case 23:vo(c),Oh(),o!==null&&H(_s);break;case 24:al(Ji)}}function Wc(o,c){try{var m=c.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var b=x.next;m=b;do{if((m.tag&o)===o){x=void 0;var O=m.create,z=m.inst;x=O(),z.destroy=x}m=m.next}while(m!==b)}}catch(te){be(c,c.return,te)}}function $a(o,c,m){try{var x=c.updateQueue,b=x!==null?x.lastEffect:null;if(b!==null){var O=b.next;x=O;do{if((x.tag&o)===o){var z=x.inst,te=z.destroy;if(te!==void 0){z.destroy=void 0,b=c;var ye=m,Ge=te;try{Ge()}catch(at){be(b,ye,at)}}}x=x.next}while(x!==O)}}catch(at){be(c,c.return,at)}}function Yc(o){var c=o.updateQueue;if(c!==null){var m=o.stateNode;try{a1(c,m)}catch(x){be(o,o.return,x)}}}function dl(o,c,m){m.props=xo(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(x){be(o,c,x)}}function jc(o,c){try{var m=o.ref;if(m!==null){switch(o.tag){case 26:case 27:case 5:var x=o.stateNode;break;case 30:x=o.stateNode;break;default:x=o.stateNode}typeof m=="function"?o.refCleanup=m(x):m.current=x}}catch(b){be(o,c,b)}}function _o(o,c){var m=o.ref,x=o.refCleanup;if(m!==null)if(typeof x=="function")try{x()}catch(b){be(o,c,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(b){be(o,c,b)}else m.current=null}function of(o){var c=o.type,m=o.memoizedProps,x=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&x.focus();break e;case"img":m.src?x.src=m.src:m.srcSet&&(x.srcset=m.srcSet)}}catch(b){be(o,o.return,b)}}function kh(o,c,m){try{var x=o.stateNode;BB(x,o.type,m,c),x[Ri]=c}catch(b){be(o,o.return,b)}}function zh(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&pf(o.type)||o.tag===4}function tc(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||zh(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&pf(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function nc(o,c,m){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(o,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(o),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=K1));else if(x!==4&&(x===27&&pf(o.type)&&(m=o.stateNode,c=null),o=o.child,o!==null))for(nc(o,c,m),o=o.sibling;o!==null;)nc(o,c,m),o=o.sibling}function ic(o,c,m){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?m.insertBefore(o,c):m.appendChild(o);else if(x!==4&&(x===27&&pf(o.type)&&(m=o.stateNode),o=o.child,o!==null))for(ic(o,c,m),o=o.sibling;o!==null;)ic(o,c,m),o=o.sibling}function rc(o){var c=o.stateNode,m=o.memoizedProps;try{for(var x=o.type,b=c.attributes;b.length;)c.removeAttributeNode(b[0]);ma(c,x,m),c[Ui]=o,c[Ri]=m}catch(O){be(o,o.return,O)}}var Eo=!1,yi=!1,lf=!1,es=typeof WeakSet=="function"?WeakSet:Set,ui=null;function fr(o,c){if(o=o.containerInfo,cT=ny,o=Im(o),ph(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var b=x.anchorOffset,O=x.focusNode;x=x.focusOffset;try{m.nodeType,O.nodeType}catch{m=null;break e}var z=0,te=-1,ye=-1,Ge=0,at=0,ct=o,je=null;t:for(;;){for(var qe;ct!==m||b!==0&&ct.nodeType!==3||(te=z+b),ct!==O||x!==0&&ct.nodeType!==3||(ye=z+x),ct.nodeType===3&&(z+=ct.nodeValue.length),(qe=ct.firstChild)!==null;)je=ct,ct=qe;for(;;){if(ct===o)break t;if(je===m&&++Ge===b&&(te=z),je===O&&++at===x&&(ye=z),(qe=ct.nextSibling)!==null)break;ct=je,je=ct.parentNode}ct=qe}m=te===-1||ye===-1?null:{start:te,end:ye}}else m=null}m=m||{start:0,end:0}}else m=null;for(uT={focusedElem:o,selectionRange:m},ny=!1,ui=c;ui!==null;)if(c=ui,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,ui=o;else for(;ui!==null;){switch(c=ui,O=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&O!==null){o=void 0,m=c,b=O.memoizedProps,O=O.memoizedState,x=m.stateNode;try{var un=xo(m.type,b,m.elementType===m.type);o=x.getSnapshotBeforeUpdate(un,O),x.__reactInternalSnapshotBeforeUpdate=o}catch(nn){be(m,m.return,nn)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,m=o.nodeType,m===9)dT(o);else if(m===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":dT(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=c.sibling,o!==null){o.return=c.return,ui=o;break}ui=c.return}}function pl(o,c,m){var x=m.flags;switch(m.tag){case 0:case 11:case 15:da(o,m),x&4&&Wc(5,m);break;case 1:if(da(o,m),x&4)if(o=m.stateNode,c===null)try{o.componentDidMount()}catch(z){be(m,m.return,z)}else{var b=xo(m.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(b,c,o.__reactInternalSnapshotBeforeUpdate)}catch(z){be(m,m.return,z)}}x&64&&Yc(m),x&512&&jc(m,m.return);break;case 3:if(da(o,m),x&64&&(o=m.updateQueue,o!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{a1(o,c)}catch(z){be(m,m.return,z)}}break;case 27:c===null&&x&4&&rc(m);case 26:case 5:da(o,m),c===null&&x&4&&of(m),x&512&&jc(m,m.return);break;case 12:da(o,m);break;case 13:da(o,m),x&4&&ac(o,m),x&64&&(o=m.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(m=Mi.bind(null,m),WB(o,m))));break;case 22:if(x=m.memoizedState!==null||Eo,!x){c=c!==null&&c.memoizedState!==null||yi,b=Eo;var O=yi;Eo=x,(yi=c)&&!O?So(o,m,(m.subtreeFlags&8772)!==0):da(o,m),Eo=b,yi=O}break;case 30:break;default:da(o,m)}}function Tn(o){var c=o.alternate;c!==null&&(o.alternate=null,Tn(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&ae(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var en=null,Hn=!1;function Ms(o,c,m){for(m=m.child;m!==null;)qc(o,c,m),m=m.sibling}function qc(o,c,m){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ze,m)}catch{}switch(m.tag){case 26:yi||_o(m,c),Ms(o,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:yi||_o(m,c);var x=en,b=Hn;pf(m.type)&&(en=m.stateNode,Hn=!1),Ms(o,c,m),Eg(m.stateNode),en=x,Hn=b;break;case 5:yi||_o(m,c);case 6:if(x=en,b=Hn,en=null,Ms(o,c,m),en=x,Hn=b,en!==null)if(Hn)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(m.stateNode)}catch(O){be(m,c,O)}else try{en.removeChild(m.stateNode)}catch(O){be(m,c,O)}break;case 18:en!==null&&(Hn?(o=en,eR(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,m.stateNode),Cg(o)):eR(en,m.stateNode));break;case 4:x=en,b=Hn,en=m.stateNode.containerInfo,Hn=!0,Ms(o,c,m),en=x,Hn=b;break;case 0:case 11:case 14:case 15:yi||$a(2,m,c),yi||$a(4,m,c),Ms(o,c,m);break;case 1:yi||(_o(m,c),x=m.stateNode,typeof x.componentWillUnmount=="function"&&dl(m,c,x)),Ms(o,c,m);break;case 21:Ms(o,c,m);break;case 22:yi=(x=yi)||m.memoizedState!==null,Ms(o,c,m),yi=x;break;default:Ms(o,c,m)}}function ac(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Cg(o)}catch(m){be(c,c.return,m)}}function F0(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new es),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new es),c;default:throw Error(i(435,o.tag))}}function Kc(o,c){var m=F0(o);c.forEach(function(x){var b=on.bind(null,o,x);m.has(x)||(m.add(x),x.then(b,b))})}function br(o,c){var m=c.deletions;if(m!==null)for(var x=0;x<m.length;x++){var b=m[x],O=o,z=c,te=z;e:for(;te!==null;){switch(te.tag){case 27:if(pf(te.type)){en=te.stateNode,Hn=!1;break e}break;case 5:en=te.stateNode,Hn=!1;break e;case 3:case 4:en=te.stateNode.containerInfo,Hn=!0;break e}te=te.return}if(en===null)throw Error(i(160));qc(O,z,b),en=null,Hn=!1,O=b.alternate,O!==null&&(O.return=null),b.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)P0(c,o),c=c.sibling}var Ks=null;function P0(o,c){var m=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:br(c,o),Pi(o),x&4&&($a(3,o,o.return),Wc(3,o),$a(5,o,o.return));break;case 1:br(c,o),Pi(o),x&512&&(yi||m===null||_o(m,m.return)),x&64&&Eo&&(o=o.updateQueue,o!==null&&(x=o.callbacks,x!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?x:m.concat(x))));break;case 26:var b=Ks;if(br(c,o),Pi(o),x&512&&(yi||m===null||_o(m,m.return)),x&4){var O=m!==null?m.memoizedState:null;if(x=o.memoizedState,m===null)if(x===null)if(o.stateNode===null){e:{x=o.type,m=o.memoizedProps,b=b.ownerDocument||b;t:switch(x){case"title":O=b.getElementsByTagName("title")[0],(!O||O[oe]||O[Ui]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=b.createElement(x),b.head.insertBefore(O,b.querySelector("head > title"))),ma(O,x,m),O[Ui]=o,Ue(O),x=O;break e;case"link":var z=lR("link","href",b).get(x+(m.href||""));if(z){for(var te=0;te<z.length;te++)if(O=z[te],O.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&O.getAttribute("rel")===(m.rel==null?null:m.rel)&&O.getAttribute("title")===(m.title==null?null:m.title)&&O.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){z.splice(te,1);break t}}O=b.createElement(x),ma(O,x,m),b.head.appendChild(O);break;case"meta":if(z=lR("meta","content",b).get(x+(m.content||""))){for(te=0;te<z.length;te++)if(O=z[te],O.getAttribute("content")===(m.content==null?null:""+m.content)&&O.getAttribute("name")===(m.name==null?null:m.name)&&O.getAttribute("property")===(m.property==null?null:m.property)&&O.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&O.getAttribute("charset")===(m.charSet==null?null:m.charSet)){z.splice(te,1);break t}}O=b.createElement(x),ma(O,x,m),b.head.appendChild(O);break;default:throw Error(i(468,x))}O[Ui]=o,Ue(O),x=O}o.stateNode=x}else cR(b,o.type,o.stateNode);else o.stateNode=oR(b,x,o.memoizedProps);else O!==x?(O===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):O.count--,x===null?cR(b,o.type,o.stateNode):oR(b,x,o.memoizedProps)):x===null&&o.stateNode!==null&&kh(o,o.memoizedProps,m.memoizedProps)}break;case 27:br(c,o),Pi(o),x&512&&(yi||m===null||_o(m,m.return)),m!==null&&x&4&&kh(o,o.memoizedProps,m.memoizedProps);break;case 5:if(br(c,o),Pi(o),x&512&&(yi||m===null||_o(m,m.return)),o.flags&32){b=o.stateNode;try{sa(b,"")}catch(qe){be(o,o.return,qe)}}x&4&&o.stateNode!=null&&(b=o.memoizedProps,kh(o,b,m!==null?m.memoizedProps:b)),x&1024&&(lf=!0);break;case 6:if(br(c,o),Pi(o),x&4){if(o.stateNode===null)throw Error(i(162));x=o.memoizedProps,m=o.stateNode;try{m.nodeValue=x}catch(qe){be(o,o.return,qe)}}break;case 3:if($1=null,b=Ks,Ks=Q1(c.containerInfo),br(c,o),Ks=b,Pi(o),x&4&&m!==null&&m.memoizedState.isDehydrated)try{Cg(c.containerInfo)}catch(qe){be(o,o.return,qe)}lf&&(lf=!1,sc(o));break;case 4:x=Ks,Ks=Q1(o.stateNode.containerInfo),br(c,o),Pi(o),Ks=x;break;case 12:br(c,o),Pi(o);break;case 13:br(c,o),Pi(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(oi=Re()),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,Kc(o,x)));break;case 22:b=o.memoizedState!==null;var ye=m!==null&&m.memoizedState!==null,Ge=Eo,at=yi;if(Eo=Ge||b,yi=at||ye,br(c,o),yi=at,Eo=Ge,Pi(o),x&8192)e:for(c=o.stateNode,c._visibility=b?c._visibility&-2:c._visibility|1,b&&(m===null||ye||Eo||yi||ts(o)),m=null,c=o;;){if(c.tag===5||c.tag===26){if(m===null){ye=m=c;try{if(O=ye.stateNode,b)z=O.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{te=ye.stateNode;var ct=ye.memoizedProps.style,je=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;te.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(qe){be(ye,ye.return,qe)}}}else if(c.tag===6){if(m===null){ye=c;try{ye.stateNode.nodeValue=b?"":ye.memoizedProps}catch(qe){be(ye,ye.return,qe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}x&4&&(x=o.updateQueue,x!==null&&(m=x.retryQueue,m!==null&&(x.retryQueue=null,Kc(o,m))));break;case 19:br(c,o),Pi(o),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,Kc(o,x)));break;case 30:break;case 21:break;default:br(c,o),Pi(o)}}function Pi(o){var c=o.flags;if(c&2){try{for(var m,x=o.return;x!==null;){if(zh(x)){m=x;break}x=x.return}if(m==null)throw Error(i(160));switch(m.tag){case 27:var b=m.stateNode,O=tc(o);ic(o,O,b);break;case 5:var z=m.stateNode;m.flags&32&&(sa(z,""),m.flags&=-33);var te=tc(o);ic(o,te,z);break;case 3:case 4:var ye=m.stateNode.containerInfo,Ge=tc(o);nc(o,Ge,ye);break;default:throw Error(i(161))}}catch(at){be(o,o.return,at)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function sc(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;sc(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function da(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)pl(o,c.alternate,c),c=c.sibling}function ts(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:$a(4,c,c.return),ts(c);break;case 1:_o(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&dl(c,c.return,m),ts(c);break;case 27:Eg(c.stateNode);case 26:case 5:_o(c,c.return),ts(c);break;case 22:c.memoizedState===null&&ts(c);break;case 30:ts(c);break;default:ts(c)}o=o.sibling}}function So(o,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var x=c.alternate,b=o,O=c,z=O.flags;switch(O.tag){case 0:case 11:case 15:So(b,O,m),Wc(4,O);break;case 1:if(So(b,O,m),x=O,b=x.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Ge){be(x,x.return,Ge)}if(x=O,b=x.updateQueue,b!==null){var te=x.stateNode;try{var ye=b.shared.hiddenCallbacks;if(ye!==null)for(b.shared.hiddenCallbacks=null,b=0;b<ye.length;b++)Zu(ye[b],te)}catch(Ge){be(x,x.return,Ge)}}m&&z&64&&Yc(O),jc(O,O.return);break;case 27:rc(O);case 26:case 5:So(b,O,m),m&&x===null&&z&4&&of(O),jc(O,O.return);break;case 12:So(b,O,m);break;case 13:So(b,O,m),m&&z&4&&ac(b,O);break;case 22:O.memoizedState===null&&So(b,O,m),jc(O,O.return);break;case 30:break;default:So(b,O,m)}c=c.sibling}}function B0(o,c){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&Xu(m))}function k0(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Xu(o))}function fi(o,c,m,x){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)z0(o,c,m,x),c=c.sibling}function z0(o,c,m,x){var b=c.flags;switch(c.tag){case 0:case 11:case 15:fi(o,c,m,x),b&2048&&Wc(9,c);break;case 1:fi(o,c,m,x);break;case 3:fi(o,c,m,x),b&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Xu(o)));break;case 12:if(b&2048){fi(o,c,m,x),o=c.stateNode;try{var O=c.memoizedProps,z=O.id,te=O.onPostCommit;typeof te=="function"&&te(z,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ye){be(c,c.return,ye)}}else fi(o,c,m,x);break;case 13:fi(o,c,m,x);break;case 23:break;case 22:O=c.stateNode,z=c.alternate,c.memoizedState!==null?O._visibility&2?fi(o,c,m,x):Zs(o,c):O._visibility&2?fi(o,c,m,x):(O._visibility|=2,ml(o,c,m,x,(c.subtreeFlags&10256)!==0)),b&2048&&B0(z,c);break;case 24:fi(o,c,m,x),b&2048&&k0(c.alternate,c);break;default:fi(o,c,m,x)}}function ml(o,c,m,x,b){for(b=b&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var O=o,z=c,te=m,ye=x,Ge=z.flags;switch(z.tag){case 0:case 11:case 15:ml(O,z,te,ye,b),Wc(8,z);break;case 23:break;case 22:var at=z.stateNode;z.memoizedState!==null?at._visibility&2?ml(O,z,te,ye,b):Zs(O,z):(at._visibility|=2,ml(O,z,te,ye,b)),b&&Ge&2048&&B0(z.alternate,z);break;case 24:ml(O,z,te,ye,b),b&&Ge&2048&&k0(z.alternate,z);break;default:ml(O,z,te,ye,b)}c=c.sibling}}function Zs(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=o,x=c,b=x.flags;switch(x.tag){case 22:Zs(m,x),b&2048&&B0(x.alternate,x);break;case 24:Zs(m,x),b&2048&&k0(x.alternate,x);break;default:Zs(m,x)}c=c.sibling}}var ns=8192;function cf(o){if(o.subtreeFlags&ns)for(o=o.child;o!==null;)W1(o),o=o.sibling}function W1(o){switch(o.tag){case 26:cf(o),o.flags&ns&&o.memoizedState!==null&&rk(Ks,o.memoizedState,o.memoizedProps);break;case 5:cf(o);break;case 3:case 4:var c=Ks;Ks=Q1(o.stateNode.containerInfo),cf(o),Ks=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=ns,ns=16777216,cf(o),ns=c):cf(o));break;default:cf(o)}}function Y1(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function _i(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];ui=x,Ao(x,o)}Y1(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)gg(o),o=o.sibling}function gg(o){switch(o.tag){case 0:case 11:case 15:_i(o),o.flags&2048&&$a(9,o,o.return);break;case 3:_i(o);break;case 12:_i(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,To(o)):_i(o);break;default:_i(o)}}function To(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];ui=x,Ao(x,o)}Y1(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:$a(8,c,c.return),To(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,To(c));break;default:To(c)}o=o.sibling}}function Ao(o,c){for(;ui!==null;){var m=ui;switch(m.tag){case 0:case 11:case 15:$a(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var x=m.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Xu(m.memoizedState.cache)}if(x=m.child,x!==null)x.return=m,ui=x;else e:for(m=o;ui!==null;){x=ui;var b=x.sibling,O=x.return;if(Tn(x),x===m){ui=null;break e}if(b!==null){b.return=O,ui=b;break e}ui=O}}}var Bi={getCacheForType:function(o){var c=Fi(Ji),m=c.data.get(o);return m===void 0&&(m=o(),c.data.set(o,m)),m}},vg=typeof WeakMap=="function"?WeakMap:Map,ei=0,pn=null,On=null,Qt=0,_n=0,Oi=null,is=!1,uf=!1,ff=!1,ws=0,bi=0,Qs=0,bo=0,Zc=0,Rs=0,Gn=0,ti=null,tn=null,Fn=!1,oi=0,Jr=1/0,Cs=null,rs=null,hr=0,$r=null,hi=null,as=0,gl=0,Vh=null,ss=null,Mo=0,Qc=null;function ki(){if((ei&2)!==0&&Qt!==0)return Qt&-Qt;if(W.T!==null){var o=gn;return o!==0?o:nT()}return Nn()}function V0(){Rs===0&&(Rs=(Qt&536870912)===0||Wn?Me():536870912);var o=ci.current;return o!==null&&(o.flags|=32),Rs}function pa(o,c,m){(o===pn&&(_n===2||_n===9)||o.cancelPendingCommit!==null)&&(lc(o,0),Js(o,Qt,Rs,!1)),It(o,m),((ei&2)===0||o!==pn)&&(o===pn&&((ei&2)===0&&(bo|=m),bi===4&&Js(o,Qt,Rs,!1)),fc(o))}function hf(o,c,m){if((ei&6)!==0)throw Error(i(327));var x=!m&&(c&124)===0&&(c&o.expiredLanes)===0||Mt(o,c),b=x?M(o,c):d(o,c,!0),O=x;do{if(b===0){uf&&!x&&Js(o,c,0,!1);break}else{if(m=o.current.alternate,O&&!oc(m)){b=d(o,c,!1),O=!1;continue}if(b===2){if(O=c,o.errorRecoveryDisabledLanes&O)var z=0;else z=o.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){c=z;e:{var te=o;b=ti;var ye=te.current.memoizedState.isDehydrated;if(ye&&(lc(te,z).flags|=256),z=d(te,z,!1),z!==2){if(ff&&!ye){te.errorRecoveryDisabledLanes|=O,bo|=O,b=4;break e}O=tn,tn=b,O!==null&&(tn===null?tn=O:tn.push.apply(tn,O))}b=z}if(O=!1,b!==2)continue}}if(b===1){lc(o,0),Js(o,c,0,!0);break}e:{switch(x=o,O=b,O){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Js(x,c,Rs,!is);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(b=oi+300-Re(),10<b)){if(Js(x,c,Rs,!is),Xt(x,0,!0)!==0)break e;x.timeoutHandle=Jw(Hh.bind(null,x,m,tn,Cs,Fn,c,Rs,bo,Gn,is,O,2,-0,0),b);break e}Hh(x,m,tn,Cs,Fn,c,Rs,bo,Gn,is,O,0,-0,0)}}break}while(!0);fc(o)}function Hh(o,c,m,x,b,O,z,te,ye,Ge,at,ct,je,qe){if(o.timeoutHandle=-1,ct=c.subtreeFlags,(ct&8192||(ct&16785408)===16785408)&&(Ag={stylesheets:null,count:0,unsuspend:ik},W1(c),ct=ak(),ct!==null)){o.cancelPendingCommit=ct(Tt.bind(null,o,c,O,m,x,b,z,te,ye,at,1,je,qe)),Js(o,O,z,!Ge);return}Tt(o,c,O,m,x,b,z,te,ye)}function oc(o){for(var c=o;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var x=0;x<m.length;x++){var b=m[x],O=b.getSnapshot;b=b.value;try{if(!Ta(O(),b))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Js(o,c,m,x){c&=~Zc,c&=~bo,o.suspendedLanes|=c,o.pingedLanes&=~c,x&&(o.warmLanes|=c),x=o.expirationTimes;for(var b=c;0<b;){var O=31-St(b),z=1<<O;x[O]=-1,b&=~z}m!==0&&lt(o,m,c)}function wo(){return(ei&6)===0?(xg(0),!1):!0}function Jc(){if(On!==null){if(_n===0)var o=On.return;else o=On,rl=Wl=null,$m(o),Fc=null,Lh=0,o=On;for(;o!==null;)sf(o.alternate,o),o=o.return;On=null}}function lc(o,c){var m=o.timeoutHandle;m!==-1&&(o.timeoutHandle=-1,zB(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),Jc(),pn=o,On=m=Hi(o.current,null),Qt=c,_n=0,Oi=null,is=!1,uf=Mt(o,c),ff=!1,Gn=Rs=Zc=bo=Qs=bi=0,tn=ti=null,Fn=!1,(c&8)!==0&&(c|=c&32);var x=o.entangledLanes;if(x!==0)for(o=o.entanglements,x&=c;0<x;){var b=31-St(x),O=1<<b;c|=o[b],x&=~O}return ws=c,vh(),m}function H0(o,c){vn=null,W.H=Ih,c===wh||c===Gs?(c=qm(),_n=3):c===jm?(c=qm(),_n=4):_n=c===X1?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Oi=c,On===null&&(bi=1,I0(o,Pr(c,o.current)))}function df(){var o=W.H;return W.H=Ih,o===null?Ih:o}function G0(){var o=W.A;return W.A=Bi,o}function f(){bi=4,is||(Qt&4194048)!==Qt&&ci.current!==null||(uf=!0),(Qs&134217727)===0&&(bo&134217727)===0||pn===null||Js(pn,Qt,Rs,!1)}function d(o,c,m){var x=ei;ei|=2;var b=df(),O=G0();(pn!==o||Qt!==c)&&(Cs=null,lc(o,c)),c=!1;var z=bi;e:do try{if(_n!==0&&On!==null){var te=On,ye=Oi;switch(_n){case 8:Jc(),z=6;break e;case 3:case 2:case 9:case 6:ci.current===null&&(c=!0);var Ge=_n;if(_n=0,Oi=null,_e(o,te,ye,Ge),m&&uf){z=0;break e}break;default:Ge=_n,_n=0,Oi=null,_e(o,te,ye,Ge)}}_(),z=bi;break}catch(at){H0(o,at)}while(!0);return c&&o.shellSuspendCounter++,rl=Wl=null,ei=x,W.H=b,W.A=O,On===null&&(pn=null,Qt=0,vh()),z}function _(){for(;On!==null;)B(On)}function M(o,c){var m=ei;ei|=2;var x=df(),b=G0();pn!==o||Qt!==c?(Cs=null,Jr=Re()+500,lc(o,c)):uf=Mt(o,c);e:do try{if(_n!==0&&On!==null){c=On;var O=Oi;t:switch(_n){case 1:_n=0,Oi=null,_e(o,c,O,1);break;case 2:case 9:if(x0(O)){_n=0,Oi=null,re(c);break}c=function(){_n!==2&&_n!==9||pn!==o||(_n=7),fc(o)},O.then(c,c);break e;case 3:_n=7;break e;case 4:_n=5;break e;case 7:x0(O)?(_n=0,Oi=null,re(c)):(_n=0,Oi=null,_e(o,c,O,7));break;case 5:var z=null;switch(On.tag){case 26:z=On.memoizedState;case 5:case 27:var te=On;if(!z||uR(z)){_n=0,Oi=null;var ye=te.sibling;if(ye!==null)On=ye;else{var Ge=te.return;Ge!==null?(On=Ge,Fe(Ge)):On=null}break t}}_n=0,Oi=null,_e(o,c,O,5);break;case 6:_n=0,Oi=null,_e(o,c,O,6);break;case 8:Jc(),bi=6;break e;default:throw Error(i(462))}}N();break}catch(at){H0(o,at)}while(!0);return rl=Wl=null,W.H=x,W.A=b,ei=m,On!==null?0:(pn=null,Qt=0,vh(),bi)}function N(){for(;On!==null&&!Ze();)B(On)}function B(o){var c=Gc(o.alternate,o,ws);o.memoizedProps=o.pendingProps,c===null?Fe(o):On=c}function re(o){var c=o,m=c.alternate;switch(c.tag){case 15:case 0:c=Qa(m,c,c.pendingProps,c.type,void 0,Qt);break;case 11:c=Qa(m,c,c.pendingProps,c.type.render,c.ref,Qt);break;case 5:$m(c);default:sf(m,c),c=On=zm(c,ws),c=Gc(m,c,ws)}o.memoizedProps=o.pendingProps,c===null?Fe(o):On=c}function _e(o,c,m,x){rl=Wl=null,$m(c),Fc=null,Lh=0;var b=c.return;try{if(eT(o,b,c,m,Qt)){bi=1,I0(o,Pr(m,o.current)),On=null;return}}catch(O){if(b!==null)throw On=b,O;bi=1,I0(o,Pr(m,o.current)),On=null;return}c.flags&32768?(Wn||x===1?o=!0:uf||(Qt&536870912)!==0?o=!1:(is=o=!0,(x===2||x===9||x===3||x===6)&&(x=ci.current,x!==null&&x.tag===13&&(x.flags|=16384))),rt(c,o)):Fe(c)}function Fe(o){var c=o;do{if((c.flags&32768)!==0){rt(c,is);return}o=c.return;var m=mg(c.alternate,c,ws);if(m!==null){On=m;return}if(c=c.sibling,c!==null){On=c;return}On=c=o}while(c!==null);bi===0&&(bi=5)}function rt(o,c){do{var m=af(o.alternate,o);if(m!==null){m.flags&=32767,On=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(o=o.sibling,o!==null)){On=o;return}On=o=m}while(o!==null);bi=6,On=null}function Tt(o,c,m,x,b,O,z,te,ye){o.cancelPendingCommit=null;do cc();while(hr!==0);if((ei&6)!==0)throw Error(i(327));if(c!==null){if(c===o.current)throw Error(i(177));if(O=c.lanes|c.childLanes,O|=c0,gt(o,m,O,z,te,ye),o===pn&&(On=pn=null,Qt=0),hi=c,$r=o,as=m,gl=O,Vh=b,ss=x,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Yn(yt,function(){return uc(),null})):(o.callbackNode=null,o.callbackPriority=0),x=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||x){x=W.T,W.T=null,b=K.p,K.p=2,z=ei,ei|=4;try{fr(o,c,m)}finally{ei=z,K.p=b,W.T=x}}hr=1,Nt(),Lt(),mn()}}function Nt(){if(hr===1){hr=0;var o=$r,c=hi,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=W.T,W.T=null;var x=K.p;K.p=2;var b=ei;ei|=4;try{P0(c,o);var O=uT,z=Im(o.containerInfo),te=O.focusedElem,ye=O.selectionRange;if(z!==te&&te&&te.ownerDocument&&Dm(te.ownerDocument.documentElement,te)){if(ye!==null&&ph(te)){var Ge=ye.start,at=ye.end;if(at===void 0&&(at=Ge),"selectionStart"in te)te.selectionStart=Ge,te.selectionEnd=Math.min(at,te.value.length);else{var ct=te.ownerDocument||document,je=ct&&ct.defaultView||window;if(je.getSelection){var qe=je.getSelection(),un=te.textContent.length,nn=Math.min(ye.start,un),Si=ye.end===void 0?nn:Math.min(ye.end,un);!qe.extend&&nn>Si&&(z=Si,Si=nn,nn=z);var Le=Nm(te,nn),we=Nm(te,Si);if(Le&&we&&(qe.rangeCount!==1||qe.anchorNode!==Le.node||qe.anchorOffset!==Le.offset||qe.focusNode!==we.node||qe.focusOffset!==we.offset)){var ke=ct.createRange();ke.setStart(Le.node,Le.offset),qe.removeAllRanges(),nn>Si?(qe.addRange(ke),qe.extend(we.node,we.offset)):(ke.setEnd(we.node,we.offset),qe.addRange(ke))}}}}for(ct=[],qe=te;qe=qe.parentNode;)qe.nodeType===1&&ct.push({element:qe,left:qe.scrollLeft,top:qe.scrollTop});for(typeof te.focus=="function"&&te.focus(),te=0;te<ct.length;te++){var ot=ct[te];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}ny=!!cT,uT=cT=null}finally{ei=b,K.p=x,W.T=m}}o.current=c,hr=2}}function Lt(){if(hr===2){hr=0;var o=$r,c=hi,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=W.T,W.T=null;var x=K.p;K.p=2;var b=ei;ei|=4;try{pl(o,c.alternate,c)}finally{ei=b,K.p=x,W.T=m}}hr=3}}function mn(){if(hr===4||hr===3){hr=0,Ie();var o=$r,c=hi,m=as,x=ss;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?hr=5:(hr=0,hi=$r=null,os(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(rs=null),kn(m),c=c.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ze,c,void 0,(c.current.flags&128)===128)}catch{}if(x!==null){c=W.T,b=K.p,K.p=2,W.T=null;try{for(var O=o.onRecoverableError,z=0;z<x.length;z++){var te=x[z];O(te.value,{componentStack:te.stack})}}finally{W.T=c,K.p=b}}(as&3)!==0&&cc(),fc(o),b=o.pendingLanes,(m&4194090)!==0&&(b&42)!==0?o===Qc?Mo++:(Mo=0,Qc=o):Mo=0,xg(0)}}function os(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Xu(c)))}function cc(o){return Nt(),Lt(),mn(),uc()}function uc(){if(hr!==5)return!1;var o=$r,c=gl;gl=0;var m=kn(as),x=W.T,b=K.p;try{K.p=32>m?32:m,W.T=null,m=Vh,Vh=null;var O=$r,z=as;if(hr=0,hi=$r=null,as=0,(ei&6)!==0)throw Error(i(331));var te=ei;if(ei|=4,gg(O.current),z0(O,O.current,z,m),ei=te,xg(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ze,O)}catch{}return!0}finally{K.p=b,W.T=x,os(o,c)}}function We(o,c,m){c=Pr(m,c),c=L0(o.stateNode,c,2),o=ol(o,c,2),o!==null&&(It(o,2),fc(o))}function be(o,c,m){if(o.tag===3)We(o,o,m);else for(;c!==null;){if(c.tag===3){We(c,o,m);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(rs===null||!rs.has(x))){o=Pr(m,o),m=G1(2),x=ol(c,m,2),x!==null&&(U0(m,x,c,o),It(x,2),fc(x));break}}c=c.return}}function Ke(o,c,m){var x=o.pingCache;if(x===null){x=o.pingCache=new vg;var b=new Set;x.set(c,b)}else b=x.get(c),b===void 0&&(b=new Set,x.set(c,b));b.has(m)||(ff=!0,b.add(m),o=_t.bind(null,o,c,m),c.then(o,o))}function _t(o,c,m){var x=o.pingCache;x!==null&&x.delete(c),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,pn===o&&(Qt&m)===m&&(bi===4||bi===3&&(Qt&62914560)===Qt&&300>Re()-oi?(ei&2)===0&&lc(o,0):Zc|=m,Gn===Qt&&(Gn=0)),fc(o)}function jt(o,c){c===0&&(c=Ct()),o=nl(o,c),o!==null&&(It(o,c),fc(o))}function Mi(o){var c=o.memoizedState,m=0;c!==null&&(m=c.retryLane),jt(o,m)}function on(o,c){var m=0;switch(o.tag){case 13:var x=o.stateNode,b=o.memoizedState;b!==null&&(m=b.retryLane);break;case 19:x=o.stateNode;break;case 22:x=o.stateNode._retryCache;break;default:throw Error(i(314))}x!==null&&x.delete(c),jt(o,m)}function Yn(o,c){return vt(o,c)}var Yi=null,Dn=null,Ro=!1,X0=!1,tT=!1,Gh=0;function fc(o){o!==Dn&&o.next===null&&(Dn===null?Yi=Dn=o:Dn=Dn.next=o),X0=!0,Ro||(Ro=!0,NB())}function xg(o,c){if(!tT&&X0){tT=!0;do for(var m=!1,x=Yi;x!==null;){if(o!==0){var b=x.pendingLanes;if(b===0)var O=0;else{var z=x.suspendedLanes,te=x.pingedLanes;O=(1<<31-St(42|o)+1)-1,O&=b&~(z&~te),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(m=!0,Hw(x,O))}else O=Qt,O=Xt(x,x===pn?O:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(O&3)===0||Mt(x,O)||(m=!0,Hw(x,O));x=x.next}while(m);tT=!1}}function OB(){kw()}function kw(){X0=Ro=!1;var o=0;Gh!==0&&(kB()&&(o=Gh),Gh=0);for(var c=Re(),m=null,x=Yi;x!==null;){var b=x.next,O=zw(x,c);O===0?(x.next=null,m===null?Yi=b:m.next=b,b===null&&(Dn=m)):(m=x,(o!==0||(O&3)!==0)&&(X0=!0)),x=b}xg(o)}function zw(o,c){for(var m=o.suspendedLanes,x=o.pingedLanes,b=o.expirationTimes,O=o.pendingLanes&-62914561;0<O;){var z=31-St(O),te=1<<z,ye=b[z];ye===-1?((te&m)===0||(te&x)!==0)&&(b[z]=Kt(te,c)):ye<=c&&(o.expiredLanes|=te),O&=~te}if(c=pn,m=Qt,m=Xt(o,o===c?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x=o.callbackNode,m===0||o===c&&(_n===2||_n===9)||o.cancelPendingCommit!==null)return x!==null&&x!==null&&J(x),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||Mt(o,m)){if(c=m&-m,c===o.callbackPriority)return c;switch(x!==null&&J(x),kn(m)){case 2:case 8:m=$e;break;case 32:m=yt;break;case 268435456:m=ce;break;default:m=yt}return x=Vw.bind(null,o),m=vt(m,x),o.callbackPriority=c,o.callbackNode=m,c}return x!==null&&x!==null&&J(x),o.callbackPriority=2,o.callbackNode=null,2}function Vw(o,c){if(hr!==0&&hr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var m=o.callbackNode;if(cc()&&o.callbackNode!==m)return null;var x=Qt;return x=Xt(o,o===pn?x:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x===0?null:(hf(o,x,c),zw(o,Re()),o.callbackNode!=null&&o.callbackNode===m?Vw.bind(null,o):null)}function Hw(o,c){if(cc())return null;hf(o,c,!0)}function NB(){VB(function(){(ei&6)!==0?vt(ut,OB):kw()})}function nT(){return Gh===0&&(Gh=Me()),Gh}function Gw(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:th(""+o)}function Xw(o,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,o.id&&m.setAttribute("form",o.id),c.parentNode.insertBefore(m,c),o=new FormData(o),m.parentNode.removeChild(m),o}function DB(o,c,m,x,b){if(c==="submit"&&m&&m.stateNode===b){var O=Gw((b[Ri]||null).action),z=x.submitter;z&&(c=(c=z[Ri]||null)?Gw(c.formAction):z.getAttribute("formAction"),c!==null&&(O=c,z=null));var te=new Nu("action","action",null,x,b);o.push({event:te,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Gh!==0){var ye=z?Xw(b,z):new FormData(b);fg(m,{pending:!0,data:ye,method:b.method,action:O},null,ye)}}else typeof O=="function"&&(te.preventDefault(),ye=z?Xw(b,z):new FormData(b),fg(m,{pending:!0,data:ye,method:b.method,action:O},O,ye))},currentTarget:b}]})}}for(var iT=0;iT<gh.length;iT++){var rT=gh[iT],IB=rT.toLowerCase(),LB=rT[0].toUpperCase()+rT.slice(1);Er(IB,"on"+LB)}Er(la,"onAnimationEnd"),Er(Fm,"onAnimationIteration"),Er(ba,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(t1,"onTransitionRun"),Er(el,"onTransitionStart"),Er(ku,"onTransitionCancel"),Er(tl,"onTransitionEnd"),X("onMouseEnter",["mouseout","mouseover"]),X("onMouseLeave",["mouseout","mouseover"]),X("onPointerEnter",["pointerout","pointerover"]),X("onPointerLeave",["pointerout","pointerover"]),ht("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ht("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ht("onBeforeInput",["compositionend","keypress","textInput","paste"]),ht("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ht("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ht("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yg));function Ww(o,c){c=(c&4)!==0;for(var m=0;m<o.length;m++){var x=o[m],b=x.event;x=x.listeners;e:{var O=void 0;if(c)for(var z=x.length-1;0<=z;z--){var te=x[z],ye=te.instance,Ge=te.currentTarget;if(te=te.listener,ye!==O&&b.isPropagationStopped())break e;O=te,b.currentTarget=Ge;try{O(b)}catch(at){Bc(at)}b.currentTarget=null,O=ye}else for(z=0;z<x.length;z++){if(te=x[z],ye=te.instance,Ge=te.currentTarget,te=te.listener,ye!==O&&b.isPropagationStopped())break e;O=te,b.currentTarget=Ge;try{O(b)}catch(at){Bc(at)}b.currentTarget=null,O=ye}}}}function zn(o,c){var m=c[Kr];m===void 0&&(m=c[Kr]=new Set);var x=o+"__bubble";m.has(x)||(Yw(c,o,2,!1),m.add(x))}function aT(o,c,m){var x=0;c&&(x|=4),Yw(m,o,x,c)}var j1="_reactListening"+Math.random().toString(36).slice(2);function sT(o){if(!o[j1]){o[j1]=!0,Xe.forEach(function(m){m!=="selectionchange"&&(UB.has(m)||aT(m,!1,o),aT(m,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[j1]||(c[j1]=!0,aT("selectionchange",!1,c))}}function Yw(o,c,m,x){switch(gR(c)){case 2:var b=lk;break;case 8:b=ck;break;default:b=_T}m=b.bind(null,c,m,o),b=void 0,!ih||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),x?b!==void 0?o.addEventListener(c,m,{capture:!0,passive:b}):o.addEventListener(c,m,!0):b!==void 0?o.addEventListener(c,m,{passive:b}):o.addEventListener(c,m,!1)}function oT(o,c,m,x,b){var O=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var z=x.tag;if(z===3||z===4){var te=x.stateNode.containerInfo;if(te===b)break;if(z===4)for(z=x.return;z!==null;){var ye=z.tag;if((ye===3||ye===4)&&z.stateNode.containerInfo===b)return;z=z.return}for(;te!==null;){if(z=fe(te),z===null)return;if(ye=z.tag,ye===5||ye===6||ye===26||ye===27){x=O=z;continue e}te=te.parentNode}}x=x.return}ym(function(){var Ge=O,at=Zd(m),ct=[];e:{var je=l0.get(o);if(je!==void 0){var qe=Nu,un=o;switch(o){case"keypress":if(Il(m)===0)break e;case"keydown":case"keyup":qe=Am;break;case"focusin":un="focus",qe=Jd;break;case"focusout":un="blur",qe=Jd;break;case"beforeblur":case"afterblur":qe=Jd;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=Sm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=GS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=Mm;break;case la:case Fm:case ba:qe=zx;break;case tl:qe=Zo;break;case"scroll":case"scrollend":qe=Px;break;case"wheel":qe=XS;break;case"copy":case"cut":case"paste":qe=Hx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=e0;break;case"toggle":case"beforetoggle":qe=Ul}var nn=(c&4)!==0,Si=!nn&&(o==="scroll"||o==="scrollend"),Le=nn?je!==null?je+"Capture":null:je;nn=[];for(var we=Ge,ke;we!==null;){var ot=we;if(ke=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||ke===null||Le===null||(ot=Ru(we,Le),ot!=null&&nn.push(_g(we,ot,ke))),Si)break;we=we.return}0<nn.length&&(je=new qe(je,un,null,m,at),ct.push({event:je,listeners:nn}))}}if((c&7)===0){e:{if(je=o==="mouseover"||o==="pointerover",qe=o==="mouseout"||o==="pointerout",je&&m!==Kd&&(un=m.relatedTarget||m.fromElement)&&(fe(un)||un[xr]))break e;if((qe||je)&&(je=at.window===at?at:(je=at.ownerDocument)?je.defaultView||je.parentWindow:window,qe?(un=m.relatedTarget||m.toElement,qe=Ge,un=un?fe(un):null,un!==null&&(Si=a(un),nn=un.tag,un!==Si||nn!==5&&nn!==27&&nn!==6)&&(un=null)):(qe=null,un=Ge),qe!==un)){if(nn=Sm,ot="onMouseLeave",Le="onMouseEnter",we="mouse",(o==="pointerout"||o==="pointerover")&&(nn=e0,ot="onPointerLeave",Le="onPointerEnter",we="pointer"),Si=qe==null?je:Ve(qe),ke=un==null?je:Ve(un),je=new nn(ot,we+"leave",qe,m,at),je.target=Si,je.relatedTarget=ke,ot=null,fe(at)===Ge&&(nn=new nn(Le,we+"enter",un,m,at),nn.target=ke,nn.relatedTarget=Si,ot=nn),Si=ot,qe&&un)t:{for(nn=qe,Le=un,we=0,ke=nn;ke;ke=W0(ke))we++;for(ke=0,ot=Le;ot;ot=W0(ot))ke++;for(;0<we-ke;)nn=W0(nn),we--;for(;0<ke-we;)Le=W0(Le),ke--;for(;we--;){if(nn===Le||Le!==null&&nn===Le.alternate)break t;nn=W0(nn),Le=W0(Le)}nn=null}else nn=null;qe!==null&&jw(ct,je,qe,nn,!1),un!==null&&Si!==null&&jw(ct,Si,un,nn,!0)}}e:{if(je=Ge?Ve(Ge):window,qe=je.nodeName&&je.nodeName.toLowerCase(),qe==="select"||qe==="input"&&je.type==="file")var zt=n0;else if(Om(je))if(i0)zt=Bl;else{zt=Jx;var Pn=WS}else qe=je.nodeName,!qe||qe.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?Ge&&qd(Ge.elementType)&&(zt=n0):zt=dh;if(zt&&(zt=zt(o,Ge))){Sa(ct,zt,m,at);break e}Pn&&Pn(o,je,Ge),o==="focusout"&&Ge&&je.type==="number"&&Ge.memoizedProps.value!=null&&Ir(je,"number",je.value)}switch(Pn=Ge?Ve(Ge):window,o){case"focusin":(Om(Pn)||Pn.contentEditable==="true")&&(Jo=Pn,a0=Ge,mh=null);break;case"focusout":mh=a0=Jo=null;break;case"mousedown":s0=!0;break;case"contextmenu":case"mouseup":case"dragend":s0=!1,Um(ct,m,at);break;case"selectionchange":if(Lm)break;case"keydown":case"keyup":Um(ct,m,at)}var qt;if(oh)e:{switch(o){case"compositionstart":var rn="onCompositionStart";break e;case"compositionend":rn="onCompositionEnd";break e;case"compositionupdate":rn="onCompositionUpdate";break e}rn=void 0}else Pl?uh(o,m)&&(rn="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(rn="onCompositionStart");rn&&(ch&&m.locale!=="ko"&&(Pl||rn!=="onCompositionStart"?rn==="onCompositionEnd"&&Pl&&(qt=Em()):(qo=at,_m="value"in qo?qo.value:qo.textContent,Pl=!0)),Pn=q1(Ge,rn),0<Pn.length&&(rn=new $d(rn,o,null,m,at),ct.push({event:rn,listeners:Pn}),qt?rn.data=qt:(qt=Rm(m),qt!==null&&(rn.data=qt)))),(qt=lh?fh(o,m):Cm(o,m))&&(rn=q1(Ge,"onBeforeInput"),0<rn.length&&(Pn=new $d("onBeforeInput","beforeinput",null,m,at),ct.push({event:Pn,listeners:rn}),Pn.data=qt)),DB(ct,o,Ge,m,at)}Ww(ct,c)})}function _g(o,c,m){return{instance:o,listener:c,currentTarget:m}}function q1(o,c){for(var m=c+"Capture",x=[];o!==null;){var b=o,O=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||O===null||(b=Ru(o,m),b!=null&&x.unshift(_g(o,b,O)),b=Ru(o,c),b!=null&&x.push(_g(o,b,O))),o.tag===3)return x;o=o.return}return[]}function W0(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function jw(o,c,m,x,b){for(var O=c._reactName,z=[];m!==null&&m!==x;){var te=m,ye=te.alternate,Ge=te.stateNode;if(te=te.tag,ye!==null&&ye===x)break;te!==5&&te!==26&&te!==27||Ge===null||(ye=Ge,b?(Ge=Ru(m,O),Ge!=null&&z.unshift(_g(m,Ge,ye))):b||(Ge=Ru(m,O),Ge!=null&&z.push(_g(m,Ge,ye)))),m=m.return}z.length!==0&&o.push({event:c,listeners:z})}var FB=/\r\n?/g,PB=/\u0000|\uFFFD/g;function qw(o){return(typeof o=="string"?o:""+o).replace(FB,`
`).replace(PB,"")}function Kw(o,c){return c=qw(c),qw(o)===c}function K1(){}function Ei(o,c,m,x,b,O){switch(m){case"children":typeof x=="string"?c==="body"||c==="textarea"&&x===""||sa(o,x):(typeof x=="number"||typeof x=="bigint")&&c!=="body"&&sa(o,""+x);break;case"className":mt(o,"class",x);break;case"tabIndex":mt(o,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":mt(o,m,x);break;case"style":eh(o,x,O);break;case"data":if(c!=="object"){mt(o,"data",x);break}case"src":case"href":if(x===""&&(c!=="a"||m!=="href")){o.removeAttribute(m);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(m);break}x=th(""+x),o.setAttribute(m,x);break;case"action":case"formAction":if(typeof x=="function"){o.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(m==="formAction"?(c!=="input"&&Ei(o,c,"name",b.name,b,null),Ei(o,c,"formEncType",b.formEncType,b,null),Ei(o,c,"formMethod",b.formMethod,b,null),Ei(o,c,"formTarget",b.formTarget,b,null)):(Ei(o,c,"encType",b.encType,b,null),Ei(o,c,"method",b.method,b,null),Ei(o,c,"target",b.target,b,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(m);break}x=th(""+x),o.setAttribute(m,x);break;case"onClick":x!=null&&(o.onclick=K1);break;case"onScroll":x!=null&&zn("scroll",o);break;case"onScrollEnd":x!=null&&zn("scrollend",o);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(m=x.__html,m!=null){if(b.children!=null)throw Error(i(60));o.innerHTML=m}}break;case"multiple":o.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":o.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){o.removeAttribute("xlink:href");break}m=th(""+x),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(m,""+x):o.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(m,""):o.removeAttribute(m);break;case"capture":case"download":x===!0?o.setAttribute(m,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(m,x):o.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?o.setAttribute(m,x):o.removeAttribute(m);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?o.removeAttribute(m):o.setAttribute(m,x);break;case"popover":zn("beforetoggle",o),zn("toggle",o),tt(o,"popover",x);break;case"xlinkActuate":Et(o,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Et(o,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Et(o,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Et(o,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Et(o,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Et(o,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Et(o,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Et(o,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Et(o,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":tt(o,"is",x);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=vm.get(m)||m,tt(o,m,x))}}function lT(o,c,m,x,b,O){switch(m){case"style":eh(o,x,O);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(m=x.__html,m!=null){if(b.children!=null)throw Error(i(60));o.innerHTML=m}}break;case"children":typeof x=="string"?sa(o,x):(typeof x=="number"||typeof x=="bigint")&&sa(o,""+x);break;case"onScroll":x!=null&&zn("scroll",o);break;case"onScrollEnd":x!=null&&zn("scrollend",o);break;case"onClick":x!=null&&(o.onclick=K1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ye.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(b=m.endsWith("Capture"),c=m.slice(2,b?m.length-7:void 0),O=o[Ri]||null,O=O!=null?O[m]:null,typeof O=="function"&&o.removeEventListener(c,O,b),typeof x=="function")){typeof O!="function"&&O!==null&&(m in o?o[m]=null:o.hasAttribute(m)&&o.removeAttribute(m)),o.addEventListener(c,x,b);break e}m in o?o[m]=x:x===!0?o.setAttribute(m,""):tt(o,m,x)}}}function ma(o,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zn("error",o),zn("load",o);var x=!1,b=!1,O;for(O in m)if(m.hasOwnProperty(O)){var z=m[O];if(z!=null)switch(O){case"src":x=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Ei(o,c,O,z,m,null)}}b&&Ei(o,c,"srcSet",m.srcSet,m,null),x&&Ei(o,c,"src",m.src,m,null);return;case"input":zn("invalid",o);var te=O=z=b=null,ye=null,Ge=null;for(x in m)if(m.hasOwnProperty(x)){var at=m[x];if(at!=null)switch(x){case"name":b=at;break;case"type":z=at;break;case"checked":ye=at;break;case"defaultChecked":Ge=at;break;case"value":O=at;break;case"defaultValue":te=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(i(137,c));break;default:Ei(o,c,x,at,m,null)}}si(o,O,te,ye,Ge,z,b,!1),ri(o);return;case"select":zn("invalid",o),x=z=O=null;for(b in m)if(m.hasOwnProperty(b)&&(te=m[b],te!=null))switch(b){case"value":O=te;break;case"defaultValue":z=te;break;case"multiple":x=te;default:Ei(o,c,b,te,m,null)}c=O,m=z,o.multiple=!!x,c!=null?Qi(o,!!x,c,!1):m!=null&&Qi(o,!!x,m,!0);return;case"textarea":zn("invalid",o),O=b=x=null;for(z in m)if(m.hasOwnProperty(z)&&(te=m[z],te!=null))switch(z){case"value":x=te;break;case"defaultValue":b=te;break;case"children":O=te;break;case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(91));break;default:Ei(o,c,z,te,m,null)}_r(o,x,b,O),ri(o);return;case"option":for(ye in m)if(m.hasOwnProperty(ye)&&(x=m[ye],x!=null))switch(ye){case"selected":o.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Ei(o,c,ye,x,m,null)}return;case"dialog":zn("beforetoggle",o),zn("toggle",o),zn("cancel",o),zn("close",o);break;case"iframe":case"object":zn("load",o);break;case"video":case"audio":for(x=0;x<yg.length;x++)zn(yg[x],o);break;case"image":zn("error",o),zn("load",o);break;case"details":zn("toggle",o);break;case"embed":case"source":case"link":zn("error",o),zn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ge in m)if(m.hasOwnProperty(Ge)&&(x=m[Ge],x!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Ei(o,c,Ge,x,m,null)}return;default:if(qd(c)){for(at in m)m.hasOwnProperty(at)&&(x=m[at],x!==void 0&&lT(o,c,at,x,m,void 0));return}}for(te in m)m.hasOwnProperty(te)&&(x=m[te],x!=null&&Ei(o,c,te,x,m,null))}function BB(o,c,m,x){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,O=null,z=null,te=null,ye=null,Ge=null,at=null;for(qe in m){var ct=m[qe];if(m.hasOwnProperty(qe)&&ct!=null)switch(qe){case"checked":break;case"value":break;case"defaultValue":ye=ct;default:x.hasOwnProperty(qe)||Ei(o,c,qe,null,x,ct)}}for(var je in x){var qe=x[je];if(ct=m[je],x.hasOwnProperty(je)&&(qe!=null||ct!=null))switch(je){case"type":O=qe;break;case"name":b=qe;break;case"checked":Ge=qe;break;case"defaultChecked":at=qe;break;case"value":z=qe;break;case"defaultValue":te=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(i(137,c));break;default:qe!==ct&&Ei(o,c,je,qe,x,ct)}}co(o,z,te,ye,Ge,at,O,b);return;case"select":qe=z=te=je=null;for(O in m)if(ye=m[O],m.hasOwnProperty(O)&&ye!=null)switch(O){case"value":break;case"multiple":qe=ye;default:x.hasOwnProperty(O)||Ei(o,c,O,null,x,ye)}for(b in x)if(O=x[b],ye=m[b],x.hasOwnProperty(b)&&(O!=null||ye!=null))switch(b){case"value":je=O;break;case"defaultValue":te=O;break;case"multiple":z=O;default:O!==ye&&Ei(o,c,b,O,x,ye)}c=te,m=z,x=qe,je!=null?Qi(o,!!m,je,!1):!!x!=!!m&&(c!=null?Qi(o,!!m,c,!0):Qi(o,!!m,m?[]:"",!1));return;case"textarea":qe=je=null;for(te in m)if(b=m[te],m.hasOwnProperty(te)&&b!=null&&!x.hasOwnProperty(te))switch(te){case"value":break;case"children":break;default:Ei(o,c,te,null,x,b)}for(z in x)if(b=x[z],O=m[z],x.hasOwnProperty(z)&&(b!=null||O!=null))switch(z){case"value":je=b;break;case"defaultValue":qe=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:b!==O&&Ei(o,c,z,b,x,O)}yr(o,je,qe);return;case"option":for(var un in m)if(je=m[un],m.hasOwnProperty(un)&&je!=null&&!x.hasOwnProperty(un))switch(un){case"selected":o.selected=!1;break;default:Ei(o,c,un,null,x,je)}for(ye in x)if(je=x[ye],qe=m[ye],x.hasOwnProperty(ye)&&je!==qe&&(je!=null||qe!=null))switch(ye){case"selected":o.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:Ei(o,c,ye,je,x,qe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nn in m)je=m[nn],m.hasOwnProperty(nn)&&je!=null&&!x.hasOwnProperty(nn)&&Ei(o,c,nn,null,x,je);for(Ge in x)if(je=x[Ge],qe=m[Ge],x.hasOwnProperty(Ge)&&je!==qe&&(je!=null||qe!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(i(137,c));break;default:Ei(o,c,Ge,je,x,qe)}return;default:if(qd(c)){for(var Si in m)je=m[Si],m.hasOwnProperty(Si)&&je!==void 0&&!x.hasOwnProperty(Si)&&lT(o,c,Si,void 0,x,je);for(at in x)je=x[at],qe=m[at],!x.hasOwnProperty(at)||je===qe||je===void 0&&qe===void 0||lT(o,c,at,je,x,qe);return}}for(var Le in m)je=m[Le],m.hasOwnProperty(Le)&&je!=null&&!x.hasOwnProperty(Le)&&Ei(o,c,Le,null,x,je);for(ct in x)je=x[ct],qe=m[ct],!x.hasOwnProperty(ct)||je===qe||je==null&&qe==null||Ei(o,c,ct,je,x,qe)}var cT=null,uT=null;function Z1(o){return o.nodeType===9?o:o.ownerDocument}function Zw(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qw(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function fT(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var hT=null;function kB(){var o=window.event;return o&&o.type==="popstate"?o===hT?!1:(hT=o,!0):(hT=null,!1)}var Jw=typeof setTimeout=="function"?setTimeout:void 0,zB=typeof clearTimeout=="function"?clearTimeout:void 0,$w=typeof Promise=="function"?Promise:void 0,VB=typeof queueMicrotask=="function"?queueMicrotask:typeof $w<"u"?function(o){return $w.resolve(null).then(o).catch(HB)}:Jw;function HB(o){setTimeout(function(){throw o})}function pf(o){return o==="head"}function eR(o,c){var m=c,x=0,b=0;do{var O=m.nextSibling;if(o.removeChild(m),O&&O.nodeType===8)if(m=O.data,m==="/$"){if(0<x&&8>x){m=x;var z=o.ownerDocument;if(m&1&&Eg(z.documentElement),m&2&&Eg(z.body),m&4)for(m=z.head,Eg(m),z=m.firstChild;z;){var te=z.nextSibling,ye=z.nodeName;z[oe]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&z.rel.toLowerCase()==="stylesheet"||m.removeChild(z),z=te}}if(b===0){o.removeChild(O),Cg(c);return}b--}else m==="$"||m==="$?"||m==="$!"?b++:x=m.charCodeAt(0)-48;else x=0;m=O}while(m);Cg(c)}function dT(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":dT(m),ae(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}o.removeChild(m)}}function GB(o,c,m,x){for(;o.nodeType===1;){var b=m;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!x&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(x){if(!o[oe])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(O=o.getAttribute("rel"),O==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(O!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(O=o.getAttribute("src"),(O!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&O&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var O=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===O)return o}else return o;if(o=vl(o.nextSibling),o===null)break}return null}function XB(o,c,m){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!m||(o=vl(o.nextSibling),o===null))return null;return o}function pT(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function WB(o,c){var m=o.ownerDocument;if(o.data!=="$?"||m.readyState==="complete")c();else{var x=function(){c(),m.removeEventListener("DOMContentLoaded",x)};m.addEventListener("DOMContentLoaded",x),o._reactRetry=x}}function vl(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var mT=null;function tR(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(c===0)return o;c--}else m==="/$"&&c++}o=o.previousSibling}return null}function nR(o,c,m){switch(c=Z1(m),o){case"html":if(o=c.documentElement,!o)throw Error(i(452));return o;case"head":if(o=c.head,!o)throw Error(i(453));return o;case"body":if(o=c.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function Eg(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);ae(o)}var Co=new Map,iR=new Set;function Q1(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var $c=K.d;K.d={f:YB,r:jB,D:qB,C:KB,L:ZB,m:QB,X:$B,S:JB,M:ek};function YB(){var o=$c.f(),c=wo();return o||c}function jB(o){var c=de(o);c!==null&&c.tag===5&&c.type==="form"?O1(c):$c.r(o)}var Y0=typeof document>"u"?null:document;function rR(o,c,m){var x=Y0;if(x&&typeof c=="string"&&c){var b=li(c);b='link[rel="'+o+'"][href="'+b+'"]',typeof m=="string"&&(b+='[crossorigin="'+m+'"]'),iR.has(b)||(iR.add(b),o={rel:o,crossOrigin:m,href:c},x.querySelector(b)===null&&(c=x.createElement("link"),ma(c,"link",o),Ue(c),x.head.appendChild(c)))}}function qB(o){$c.D(o),rR("dns-prefetch",o,null)}function KB(o,c){$c.C(o,c),rR("preconnect",o,c)}function ZB(o,c,m){$c.L(o,c,m);var x=Y0;if(x&&o&&c){var b='link[rel="preload"][as="'+li(c)+'"]';c==="image"&&m&&m.imageSrcSet?(b+='[imagesrcset="'+li(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(b+='[imagesizes="'+li(m.imageSizes)+'"]')):b+='[href="'+li(o)+'"]';var O=b;switch(c){case"style":O=j0(o);break;case"script":O=q0(o)}Co.has(O)||(o=p({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:o,as:c},m),Co.set(O,o),x.querySelector(b)!==null||c==="style"&&x.querySelector(Sg(O))||c==="script"&&x.querySelector(Tg(O))||(c=x.createElement("link"),ma(c,"link",o),Ue(c),x.head.appendChild(c)))}}function QB(o,c){$c.m(o,c);var m=Y0;if(m&&o){var x=c&&typeof c.as=="string"?c.as:"script",b='link[rel="modulepreload"][as="'+li(x)+'"][href="'+li(o)+'"]',O=b;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=q0(o)}if(!Co.has(O)&&(o=p({rel:"modulepreload",href:o},c),Co.set(O,o),m.querySelector(b)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Tg(O)))return}x=m.createElement("link"),ma(x,"link",o),Ue(x),m.head.appendChild(x)}}}function JB(o,c,m){$c.S(o,c,m);var x=Y0;if(x&&o){var b=et(x).hoistableStyles,O=j0(o);c=c||"default";var z=b.get(O);if(!z){var te={loading:0,preload:null};if(z=x.querySelector(Sg(O)))te.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},m),(m=Co.get(O))&&gT(o,m);var ye=z=x.createElement("link");Ue(ye),ma(ye,"link",o),ye._p=new Promise(function(Ge,at){ye.onload=Ge,ye.onerror=at}),ye.addEventListener("load",function(){te.loading|=1}),ye.addEventListener("error",function(){te.loading|=2}),te.loading|=4,J1(z,c,x)}z={type:"stylesheet",instance:z,count:1,state:te},b.set(O,z)}}}function $B(o,c){$c.X(o,c);var m=Y0;if(m&&o){var x=et(m).hoistableScripts,b=q0(o),O=x.get(b);O||(O=m.querySelector(Tg(b)),O||(o=p({src:o,async:!0},c),(c=Co.get(b))&&vT(o,c),O=m.createElement("script"),Ue(O),ma(O,"link",o),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(b,O))}}function ek(o,c){$c.M(o,c);var m=Y0;if(m&&o){var x=et(m).hoistableScripts,b=q0(o),O=x.get(b);O||(O=m.querySelector(Tg(b)),O||(o=p({src:o,async:!0,type:"module"},c),(c=Co.get(b))&&vT(o,c),O=m.createElement("script"),Ue(O),ma(O,"link",o),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(b,O))}}function aR(o,c,m,x){var b=(b=ge.current)?Q1(b):null;if(!b)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=j0(m.href),m=et(b).hoistableStyles,x=m.get(c),x||(x={type:"style",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){o=j0(m.href);var O=et(b).hoistableStyles,z=O.get(o);if(z||(b=b.ownerDocument||b,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(o,z),(O=b.querySelector(Sg(o)))&&!O._p&&(z.instance=O,z.state.loading=5),Co.has(o)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Co.set(o,m),O||tk(b,o,m,z.state))),c&&x===null)throw Error(i(528,""));return z}if(c&&x!==null)throw Error(i(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=q0(m),m=et(b).hoistableScripts,x=m.get(c),x||(x={type:"script",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function j0(o){return'href="'+li(o)+'"'}function Sg(o){return'link[rel="stylesheet"]['+o+"]"}function sR(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function tk(o,c,m,x){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?x.loading=1:(c=o.createElement("link"),x.preload=c,c.addEventListener("load",function(){return x.loading|=1}),c.addEventListener("error",function(){return x.loading|=2}),ma(c,"link",m),Ue(c),o.head.appendChild(c))}function q0(o){return'[src="'+li(o)+'"]'}function Tg(o){return"script[async]"+o}function oR(o,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var x=o.querySelector('style[data-href~="'+li(m.href)+'"]');if(x)return c.instance=x,Ue(x),x;var b=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return x=(o.ownerDocument||o).createElement("style"),Ue(x),ma(x,"style",b),J1(x,m.precedence,o),c.instance=x;case"stylesheet":b=j0(m.href);var O=o.querySelector(Sg(b));if(O)return c.state.loading|=4,c.instance=O,Ue(O),O;x=sR(m),(b=Co.get(b))&&gT(x,b),O=(o.ownerDocument||o).createElement("link"),Ue(O);var z=O;return z._p=new Promise(function(te,ye){z.onload=te,z.onerror=ye}),ma(O,"link",x),c.state.loading|=4,J1(O,m.precedence,o),c.instance=O;case"script":return O=q0(m.src),(b=o.querySelector(Tg(O)))?(c.instance=b,Ue(b),b):(x=m,(b=Co.get(O))&&(x=p({},m),vT(x,b)),o=o.ownerDocument||o,b=o.createElement("script"),Ue(b),ma(b,"link",x),o.head.appendChild(b),c.instance=b);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(x=c.instance,c.state.loading|=4,J1(x,m.precedence,o));return c.instance}function J1(o,c,m){for(var x=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=x.length?x[x.length-1]:null,O=b,z=0;z<x.length;z++){var te=x[z];if(te.dataset.precedence===c)O=te;else if(O!==b)break}O?O.parentNode.insertBefore(o,O.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(o,c.firstChild))}function gT(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function vT(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var $1=null;function lR(o,c,m){if($1===null){var x=new Map,b=$1=new Map;b.set(m,x)}else b=$1,x=b.get(m),x||(x=new Map,b.set(m,x));if(x.has(o))return x;for(x.set(o,null),m=m.getElementsByTagName(o),b=0;b<m.length;b++){var O=m[b];if(!(O[oe]||O[Ui]||o==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var z=O.getAttribute(c)||"";z=o+z;var te=x.get(z);te?te.push(O):x.set(z,[O])}}return x}function cR(o,c,m){o=o.ownerDocument||o,o.head.insertBefore(m,c==="title"?o.querySelector("head > title"):null)}function nk(o,c,m){if(m===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function uR(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Ag=null;function ik(){}function rk(o,c,m){if(Ag===null)throw Error(i(475));var x=Ag;if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=j0(m.href),O=o.querySelector(Sg(b));if(O){o=O._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(x.count++,x=ey.bind(x),o.then(x,x)),c.state.loading|=4,c.instance=O,Ue(O);return}O=o.ownerDocument||o,m=sR(m),(b=Co.get(b))&&gT(m,b),O=O.createElement("link"),Ue(O);var z=O;z._p=new Promise(function(te,ye){z.onload=te,z.onerror=ye}),ma(O,"link",m),c.instance=O}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(x.count++,c=ey.bind(x),o.addEventListener("load",c),o.addEventListener("error",c))}}function ak(){if(Ag===null)throw Error(i(475));var o=Ag;return o.stylesheets&&o.count===0&&xT(o,o.stylesheets),0<o.count?function(c){var m=setTimeout(function(){if(o.stylesheets&&xT(o,o.stylesheets),o.unsuspend){var x=o.unsuspend;o.unsuspend=null,x()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(m)}}:null}function ey(){if(this.count--,this.count===0){if(this.stylesheets)xT(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var ty=null;function xT(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,ty=new Map,c.forEach(sk,o),ty=null,ey.call(o))}function sk(o,c){if(!(c.state.loading&4)){var m=ty.get(o);if(m)var x=m.get(null);else{m=new Map,ty.set(o,m);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<b.length;O++){var z=b[O];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(m.set(z.dataset.precedence,z),x=z)}x&&m.set(null,x)}b=c.instance,z=b.getAttribute("data-precedence"),O=m.get(z)||x,O===x&&m.set(null,b),m.set(z,b),this.count++,x=ey.bind(this),b.addEventListener("load",x),b.addEventListener("error",x),O?O.parentNode.insertBefore(b,O.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),c.state.loading|=4}}var bg={$$typeof:w,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function ok(o,c,m,x,b,O,z,te){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.hiddenUpdates=pt(null),this.identifierPrefix=x,this.onUncaughtError=b,this.onCaughtError=O,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function fR(o,c,m,x,b,O,z,te,ye,Ge,at,ct){return o=new ok(o,c,m,z,te,ye,Ge,ct),c=1,O===!0&&(c|=24),O=Ma(3,null,null,c),o.current=O,O.stateNode=o,c=m0(),c.refCount++,o.pooledCache=c,c.refCount++,O.memoizedState={element:x,isDehydrated:m,cache:c},Km(O),o}function hR(o){return o?(o=Vl,o):Vl}function dR(o,c,m,x,b,O){b=hR(b),x.context===null?x.context=b:x.pendingContext=b,x=go(c),x.payload={element:m},O=O===void 0?null:O,O!==null&&(x.callback=O),m=ol(o,x,c),m!==null&&(pa(m,o,c),Uc(m,o,c))}function pR(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<c?m:c}}function yT(o,c){pR(o,c),(o=o.alternate)&&pR(o,c)}function mR(o){if(o.tag===13){var c=nl(o,67108864);c!==null&&pa(c,o,67108864),yT(o,67108864)}}var ny=!0;function lk(o,c,m,x){var b=W.T;W.T=null;var O=K.p;try{K.p=2,_T(o,c,m,x)}finally{K.p=O,W.T=b}}function ck(o,c,m,x){var b=W.T;W.T=null;var O=K.p;try{K.p=8,_T(o,c,m,x)}finally{K.p=O,W.T=b}}function _T(o,c,m,x){if(ny){var b=ET(x);if(b===null)oT(o,c,x,iy,m),vR(o,x);else if(fk(b,o,c,m,x))x.stopPropagation();else if(vR(o,x),c&4&&-1<uk.indexOf(o)){for(;b!==null;){var O=de(b);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var z=Bt(O.pendingLanes);if(z!==0){var te=O;for(te.pendingLanes|=2,te.entangledLanes|=2;z;){var ye=1<<31-St(z);te.entanglements[1]|=ye,z&=~ye}fc(O),(ei&6)===0&&(Jr=Re()+500,xg(0))}}break;case 13:te=nl(O,2),te!==null&&pa(te,O,2),wo(),yT(O,2)}if(O=ET(x),O===null&&oT(o,c,x,iy,m),O===b)break;b=O}b!==null&&x.stopPropagation()}else oT(o,c,x,null,m)}}function ET(o){return o=Zd(o),ST(o)}var iy=null;function ST(o){if(iy=null,o=fe(o),o!==null){var c=a(o);if(c===null)o=null;else{var m=c.tag;if(m===13){if(o=s(c),o!==null)return o;o=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return iy=o,null}function gR(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pe()){case ut:return 2;case $e:return 8;case yt:case kt:return 32;case ce:return 268435456;default:return 32}default:return 32}}var TT=!1,mf=null,gf=null,vf=null,Mg=new Map,wg=new Map,xf=[],uk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vR(o,c){switch(o){case"focusin":case"focusout":mf=null;break;case"dragenter":case"dragleave":gf=null;break;case"mouseover":case"mouseout":vf=null;break;case"pointerover":case"pointerout":Mg.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":wg.delete(c.pointerId)}}function Rg(o,c,m,x,b,O){return o===null||o.nativeEvent!==O?(o={blockedOn:c,domEventName:m,eventSystemFlags:x,nativeEvent:O,targetContainers:[b]},c!==null&&(c=de(c),c!==null&&mR(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),o)}function fk(o,c,m,x,b){switch(c){case"focusin":return mf=Rg(mf,o,c,m,x,b),!0;case"dragenter":return gf=Rg(gf,o,c,m,x,b),!0;case"mouseover":return vf=Rg(vf,o,c,m,x,b),!0;case"pointerover":var O=b.pointerId;return Mg.set(O,Rg(Mg.get(O)||null,o,c,m,x,b)),!0;case"gotpointercapture":return O=b.pointerId,wg.set(O,Rg(wg.get(O)||null,o,c,m,x,b)),!0}return!1}function xR(o){var c=fe(o.target);if(c!==null){var m=a(c);if(m!==null){if(c=m.tag,c===13){if(c=s(m),c!==null){o.blockedOn=c,qr(o.priority,function(){if(m.tag===13){var x=ki();x=$t(x);var b=nl(m,x);b!==null&&pa(b,m,x),yT(m,x)}});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ry(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var m=ET(o.nativeEvent);if(m===null){m=o.nativeEvent;var x=new m.constructor(m.type,m);Kd=x,m.target.dispatchEvent(x),Kd=null}else return c=de(m),c!==null&&mR(c),o.blockedOn=m,!1;c.shift()}return!0}function yR(o,c,m){ry(o)&&m.delete(c)}function hk(){TT=!1,mf!==null&&ry(mf)&&(mf=null),gf!==null&&ry(gf)&&(gf=null),vf!==null&&ry(vf)&&(vf=null),Mg.forEach(yR),wg.forEach(yR)}function ay(o,c){o.blockedOn===c&&(o.blockedOn=null,TT||(TT=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hk)))}var sy=null;function _R(o){sy!==o&&(sy=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){sy===o&&(sy=null);for(var c=0;c<o.length;c+=3){var m=o[c],x=o[c+1],b=o[c+2];if(typeof x!="function"){if(ST(x||m)===null)continue;break}var O=de(m);O!==null&&(o.splice(c,3),c-=3,fg(O,{pending:!0,data:b,method:m.method,action:x},x,b))}}))}function Cg(o){function c(ye){return ay(ye,o)}mf!==null&&ay(mf,o),gf!==null&&ay(gf,o),vf!==null&&ay(vf,o),Mg.forEach(c),wg.forEach(c);for(var m=0;m<xf.length;m++){var x=xf[m];x.blockedOn===o&&(x.blockedOn=null)}for(;0<xf.length&&(m=xf[0],m.blockedOn===null);)xR(m),m.blockedOn===null&&xf.shift();if(m=(o.ownerDocument||o).$$reactFormReplay,m!=null)for(x=0;x<m.length;x+=3){var b=m[x],O=m[x+1],z=b[Ri]||null;if(typeof O=="function")z||_R(m);else if(z){var te=null;if(O&&O.hasAttribute("formAction")){if(b=O,z=O[Ri]||null)te=z.formAction;else if(ST(b)!==null)continue}else te=z.action;typeof te=="function"?m[x+1]=te:(m.splice(x,3),x-=3),_R(m)}}}function AT(o){this._internalRoot=o}oy.prototype.render=AT.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(i(409));var m=c.current,x=ki();dR(m,x,o,c,null,null)},oy.prototype.unmount=AT.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;dR(o.current,2,null,o,null,null),wo(),c[xr]=null}};function oy(o){this._internalRoot=o}oy.prototype.unstable_scheduleHydration=function(o){if(o){var c=Nn();o={blockedOn:null,target:o,priority:c};for(var m=0;m<xf.length&&c!==0&&c<xf[m].priority;m++);xf.splice(m,0,o),m===0&&xR(o)}};var ER=e.version;if(ER!=="19.1.0")throw Error(i(527,ER,"19.1.0"));K.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=u(c),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var dk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ly=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ly.isDisabled&&ly.supportsFiber)try{ze=ly.inject(dk),Qe=ly}catch{}}return Ng.createRoot=function(o,c){if(!r(o))throw Error(i(299));var m=!1,x="",b=Fh,O=D0,z=H1,te=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(te=c.unstable_transitionCallbacks)),c=fR(o,1,!1,null,null,m,x,b,O,z,te,null),o[xr]=c.current,sT(o),new AT(c)},Ng.hydrateRoot=function(o,c,m){if(!r(o))throw Error(i(299));var x=!1,b="",O=Fh,z=D0,te=H1,ye=null,Ge=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(b=m.identifierPrefix),m.onUncaughtError!==void 0&&(O=m.onUncaughtError),m.onCaughtError!==void 0&&(z=m.onCaughtError),m.onRecoverableError!==void 0&&(te=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ye=m.unstable_transitionCallbacks),m.formState!==void 0&&(Ge=m.formState)),c=fR(o,1,!0,c,m??null,x,b,O,z,te,ye,Ge),c.context=hR(null),m=c.current,x=ki(),x=$t(x),b=go(x),b.callback=null,ol(m,b,x),m=x,c.current.lanes=m,It(c,m),fc(c),o[xr]=c.current,sT(o),new oy(c)},Ng.version="19.1.0",Ng}var DR;function bk(){if(DR)return wT.exports;DR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wT.exports=Ak(),wT.exports}var Mk=bk();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const fx="178",wk={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Rk={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},MN=0,gA=1,wN=2,Ck=3,RN=0,qE=1,nv=2,Tl=3,vu=0,ps=1,vc=2,fu=0,yd=1,I_=2,vA=3,xA=4,CN=5,Nf=100,ON=101,NN=102,DN=103,IN=104,LN=200,UN=201,FN=202,PN=203,L_=204,U_=205,BN=206,kN=207,zN=208,VN=209,HN=210,GN=211,XN=212,WN=213,YN=214,F_=0,P_=1,B_=2,Rd=3,k_=4,z_=5,V_=6,H_=7,hx=0,jN=1,qN=2,Ec=0,KN=1,ZN=2,QN=3,Eb=4,JN=5,$N=6,eD=7,yA="attached",tD="detached",KE=300,xu=301,Ff=302,Mv=303,wv=304,em=306,Rv=1e3,ko=1001,Cv=1002,_a=1003,Sb=1004,Ok=1004,Sp=1005,Nk=1005,Xr=1006,iv=1007,Dk=1007,xc=1008,Ik=1008,Go=1009,Tb=1010,Ab=1011,Bp=1012,ZE=1013,yu=1014,Us=1015,tm=1016,QE=1017,JE=1018,kp=1020,bb=35902,Mb=1021,wb=1022,Va=1023,zp=1026,Vp=1027,$E=1028,dx=1029,Rb=1030,eS=1031,Lk=1032,tS=1033,rv=33776,av=33777,sv=33778,ov=33779,G_=35840,X_=35841,W_=35842,Y_=35843,j_=36196,q_=37492,K_=37496,Z_=37808,Q_=37809,J_=37810,$_=37811,eE=37812,tE=37813,nE=37814,iE=37815,rE=37816,aE=37817,sE=37818,oE=37819,lE=37820,cE=37821,lv=36492,uE=36494,fE=36495,Cb=36283,hE=36284,dE=36285,pE=36286,nD=2200,iD=2201,rD=2202,Ov=2300,mE=2301,T_=2302,dd=2400,pd=2401,Nv=2402,nS=2500,Ob=2501,Uk=0,Fk=1,Pk=2,aD=3200,sD=3201,Bk=3202,kk=3203,Xf=0,oD=1,lu="",Pa="srgb",Pf="srgb-linear",Dv="linear",pi="srgb",zk=0,od=7680,Vk=7681,Hk=7682,Gk=7683,Xk=34055,Wk=34056,Yk=5386,jk=512,qk=513,Kk=514,Zk=515,Qk=516,Jk=517,$k=518,_A=519,lD=512,cD=513,uD=514,Nb=515,fD=516,hD=517,dD=518,pD=519,Iv=35044,e5=35048,t5=35040,n5=35045,i5=35049,r5=35041,a5=35046,s5=35050,o5=35042,l5="100",EA="300 es",zo=2e3,Lv=2001,c5={COMPUTE:"compute",RENDER:"render"},u5={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},f5={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};class Mc{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}}const Na=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let IR=1234567;const _d=Math.PI/180,Hp=180/Math.PI;function ao(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Na[n&255]+Na[n>>8&255]+Na[n>>16&255]+Na[n>>24&255]+"-"+Na[e&255]+Na[e>>8&255]+"-"+Na[e>>16&15|64]+Na[e>>24&255]+"-"+Na[t&63|128]+Na[t>>8&255]+"-"+Na[t>>16&255]+Na[t>>24&255]+Na[i&255]+Na[i>>8&255]+Na[i>>16&255]+Na[i>>24&255]).toLowerCase()}function xn(n,e,t){return Math.max(e,Math.min(t,n))}function Db(n,e){return(n%e+e)%e}function h5(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function d5(n,e,t){return n!==e?(t-n)/(e-n):0}function cv(n,e,t){return(1-t)*n+t*e}function p5(n,e,t,i){return cv(n,e,1-Math.exp(-t*i))}function m5(n,e=1){return e-Math.abs(Db(n,e*2)-e)}function g5(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function v5(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function x5(n,e){return n+Math.floor(Math.random()*(e-n+1))}function y5(n,e){return n+Math.random()*(e-n)}function _5(n){return n*(.5-Math.random())}function E5(n){n!==void 0&&(IR=n);let e=IR+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function S5(n){return n*_d}function T5(n){return n*Hp}function A5(n){return(n&n-1)===0&&n!==0}function b5(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function M5(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function w5(n,e,t,i,r){const a=Math.cos,s=Math.sin,l=a(t/2),u=s(t/2),h=a((e+i)/2),p=s((e+i)/2),g=a((e-i)/2),v=s((e-i)/2),y=a((i-e)/2),E=s((i-e)/2);switch(r){case"XYX":n.set(l*p,u*g,u*v,l*h);break;case"YZY":n.set(u*v,l*p,u*g,l*h);break;case"ZXZ":n.set(u*g,u*v,l*p,l*h);break;case"XZX":n.set(l*p,u*E,u*y,l*h);break;case"YXY":n.set(u*y,l*p,u*E,l*h);break;case"ZYZ":n.set(u*E,u*y,l*p,l*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function hs(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function An(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const R5={DEG2RAD:_d,RAD2DEG:Hp,generateUUID:ao,clamp:xn,euclideanModulo:Db,mapLinear:h5,inverseLerp:d5,lerp:cv,damp:p5,pingpong:m5,smoothstep:g5,smootherstep:v5,randInt:x5,randFloat:y5,randFloatSpread:_5,seededRandom:E5,degToRad:S5,radToDeg:T5,isPowerOfTwo:A5,ceilPowerOfTwo:b5,floorPowerOfTwo:M5,setQuaternionFromProperEuler:w5,normalize:An,denormalize:hs};class ft{constructor(e=0,t=0){ft.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(xn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(xn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*i-s*r+e.x,this.y=a*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ps{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,a,s,l){let u=i[r+0],h=i[r+1],p=i[r+2],g=i[r+3];const v=a[s+0],y=a[s+1],E=a[s+2],T=a[s+3];if(l===0){e[t+0]=u,e[t+1]=h,e[t+2]=p,e[t+3]=g;return}if(l===1){e[t+0]=v,e[t+1]=y,e[t+2]=E,e[t+3]=T;return}if(g!==T||u!==v||h!==y||p!==E){let S=1-l;const A=u*v+h*y+p*E+g*T,R=A>=0?1:-1,w=1-A*A;if(w>Number.EPSILON){const P=Math.sqrt(w),F=Math.atan2(P,A*R);S=Math.sin(S*F)/P,l=Math.sin(l*F)/P}const D=l*R;if(u=u*S+v*D,h=h*S+y*D,p=p*S+E*D,g=g*S+T*D,S===1-l){const P=1/Math.sqrt(u*u+h*h+p*p+g*g);u*=P,h*=P,p*=P,g*=P}}e[t]=u,e[t+1]=h,e[t+2]=p,e[t+3]=g}static multiplyQuaternionsFlat(e,t,i,r,a,s){const l=i[r],u=i[r+1],h=i[r+2],p=i[r+3],g=a[s],v=a[s+1],y=a[s+2],E=a[s+3];return e[t]=l*E+p*g+u*y-h*v,e[t+1]=u*E+p*v+h*g-l*y,e[t+2]=h*E+p*y+l*v-u*g,e[t+3]=p*E-l*g-u*v-h*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,a=e._z,s=e._order,l=Math.cos,u=Math.sin,h=l(i/2),p=l(r/2),g=l(a/2),v=u(i/2),y=u(r/2),E=u(a/2);switch(s){case"XYZ":this._x=v*p*g+h*y*E,this._y=h*y*g-v*p*E,this._z=h*p*E+v*y*g,this._w=h*p*g-v*y*E;break;case"YXZ":this._x=v*p*g+h*y*E,this._y=h*y*g-v*p*E,this._z=h*p*E-v*y*g,this._w=h*p*g+v*y*E;break;case"ZXY":this._x=v*p*g-h*y*E,this._y=h*y*g+v*p*E,this._z=h*p*E+v*y*g,this._w=h*p*g-v*y*E;break;case"ZYX":this._x=v*p*g-h*y*E,this._y=h*y*g+v*p*E,this._z=h*p*E-v*y*g,this._w=h*p*g+v*y*E;break;case"YZX":this._x=v*p*g+h*y*E,this._y=h*y*g+v*p*E,this._z=h*p*E-v*y*g,this._w=h*p*g-v*y*E;break;case"XZY":this._x=v*p*g-h*y*E,this._y=h*y*g-v*p*E,this._z=h*p*E+v*y*g,this._w=h*p*g+v*y*E;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],a=t[8],s=t[1],l=t[5],u=t[9],h=t[2],p=t[6],g=t[10],v=i+l+g;if(v>0){const y=.5/Math.sqrt(v+1);this._w=.25/y,this._x=(p-u)*y,this._y=(a-h)*y,this._z=(s-r)*y}else if(i>l&&i>g){const y=2*Math.sqrt(1+i-l-g);this._w=(p-u)/y,this._x=.25*y,this._y=(r+s)/y,this._z=(a+h)/y}else if(l>g){const y=2*Math.sqrt(1+l-i-g);this._w=(a-h)/y,this._x=(r+s)/y,this._y=.25*y,this._z=(u+p)/y}else{const y=2*Math.sqrt(1+g-i-l);this._w=(s-r)/y,this._x=(a+h)/y,this._y=(u+p)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(xn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,a=e._z,s=e._w,l=t._x,u=t._y,h=t._z,p=t._w;return this._x=i*p+s*l+r*h-a*u,this._y=r*p+s*u+a*l-i*h,this._z=a*p+s*h+i*u-r*l,this._w=s*p-i*l-r*u-a*h,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,a=this._z,s=this._w;let l=s*e._w+i*e._x+r*e._y+a*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=s,this._x=i,this._y=r,this._z=a,this;const u=1-l*l;if(u<=Number.EPSILON){const y=1-t;return this._w=y*s+t*this._w,this._x=y*i+t*this._x,this._y=y*r+t*this._y,this._z=y*a+t*this._z,this.normalize(),this}const h=Math.sqrt(u),p=Math.atan2(h,l),g=Math.sin((1-t)*p)/h,v=Math.sin(t*p)/h;return this._w=s*g+this._w*v,this._x=i*g+this._x*v,this._y=r*g+this._y*v,this._z=a*g+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class he{constructor(e=0,t=0,i=0){he.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(LR.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(LR.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6]*r,this.y=a[1]*t+a[4]*i+a[7]*r,this.z=a[2]*t+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=e.elements,s=1/(a[3]*t+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*i+a[8]*r+a[12])*s,this.y=(a[1]*t+a[5]*i+a[9]*r+a[13])*s,this.z=(a[2]*t+a[6]*i+a[10]*r+a[14])*s,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,a=e.x,s=e.y,l=e.z,u=e.w,h=2*(s*r-l*i),p=2*(l*t-a*r),g=2*(a*i-s*t);return this.x=t+u*h+s*g-l*p,this.y=i+u*p+l*h-a*g,this.z=r+u*g+a*p-s*h,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r,this.y=a[1]*t+a[5]*i+a[9]*r,this.z=a[2]*t+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this.z=xn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this.z=xn(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(xn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,a=e.z,s=t.x,l=t.y,u=t.z;return this.x=r*u-a*l,this.y=a*s-i*u,this.z=i*l-r*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return NT.copy(this).projectOnVector(e),this.sub(NT)}reflect(e){return this.sub(NT.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(xn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const NT=new he,LR=new Ps;class En{constructor(e,t,i,r,a,s,l,u,h){En.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,s,l,u,h)}set(e,t,i,r,a,s,l,u,h){const p=this.elements;return p[0]=e,p[1]=r,p[2]=l,p[3]=t,p[4]=a,p[5]=u,p[6]=i,p[7]=s,p[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,s=i[0],l=i[3],u=i[6],h=i[1],p=i[4],g=i[7],v=i[2],y=i[5],E=i[8],T=r[0],S=r[3],A=r[6],R=r[1],w=r[4],D=r[7],P=r[2],F=r[5],U=r[8];return a[0]=s*T+l*R+u*P,a[3]=s*S+l*w+u*F,a[6]=s*A+l*D+u*U,a[1]=h*T+p*R+g*P,a[4]=h*S+p*w+g*F,a[7]=h*A+p*D+g*U,a[2]=v*T+y*R+E*P,a[5]=v*S+y*w+E*F,a[8]=v*A+y*D+E*U,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],h=e[7],p=e[8];return t*s*p-t*l*h-i*a*p+i*l*u+r*a*h-r*s*u}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],h=e[7],p=e[8],g=p*s-l*h,v=l*u-p*a,y=h*a-s*u,E=t*g+i*v+r*y;if(E===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/E;return e[0]=g*T,e[1]=(r*h-p*i)*T,e[2]=(l*i-r*s)*T,e[3]=v*T,e[4]=(p*t-r*u)*T,e[5]=(r*a-l*t)*T,e[6]=y*T,e[7]=(i*u-h*t)*T,e[8]=(s*t-i*a)*T,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,a,s,l){const u=Math.cos(a),h=Math.sin(a);return this.set(i*u,i*h,-i*(u*s+h*l)+s+e,-r*h,r*u,-r*(-h*s+u*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(DT.makeScale(e,t)),this}rotate(e){return this.premultiply(DT.makeRotation(-e)),this}translate(e,t){return this.premultiply(DT.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const DT=new En;function mD(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const C5={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Tp(n,e){return new C5[n](e)}function Uv(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function gD(){const n=Uv("canvas");return n.style.display="block",n}const UR={};function Dp(n){n in UR||(UR[n]=!0,console.warn(n))}function O5(n,e,t){return new Promise(function(i,r){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:i()}}setTimeout(a,t)})}function N5(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function D5(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const FR=new En().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),PR=new En().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function I5(){const n={enabled:!0,workingColorSpace:Pf,spaces:{},convert:function(r,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===pi&&(r.r=hu(r.r),r.g=hu(r.g),r.b=hu(r.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===pi&&(r.r=Ip(r.r),r.g=Ip(r.g),r.b=Ip(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===lu?Dv:this.spaces[r].transfer},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,s){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return Dp("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return Dp("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Pf]:{primaries:e,whitePoint:i,transfer:Dv,toXYZ:FR,fromXYZ:PR,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Pa},outputColorSpaceConfig:{drawingBufferColorSpace:Pa}},[Pa]:{primaries:e,whitePoint:i,transfer:pi,toXYZ:FR,fromXYZ:PR,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Pa}}}),n}const Xn=I5();function hu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Ip(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let K0;class vD{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{K0===void 0&&(K0=Uv("canvas")),K0.width=e.width,K0.height=e.height;const r=K0.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=K0}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Uv("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let s=0;s<a.length;s++)a[s]=hu(a[s]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(hu(t[i]/255)*255):t[i]=hu(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let L5=0;class If{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:L5++}),this.uuid=ao(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let s=0,l=r.length;s<l;s++)r[s].isDataTexture?a.push(IT(r[s].image)):a.push(IT(r[s]))}else a=IT(r);i.url=a}return t||(e.images[this.uuid]=i),i}}function IT(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?vD.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let U5=0;const LT=new he;class ar extends Mc{constructor(e=ar.DEFAULT_IMAGE,t=ar.DEFAULT_MAPPING,i=ko,r=ko,a=Xr,s=xc,l=Va,u=Go,h=ar.DEFAULT_ANISOTROPY,p=lu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:U5++}),this.uuid=ao(),this.name="",this.source=new If(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=s,this.anisotropy=h,this.format=l,this.internalFormat=null,this.type=u,this.offset=new ft(0,0),this.repeat=new ft(1,1),this.center=new ft(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new En,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=p,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(LT).x}get height(){return this.source.getSize(LT).y}get depth(){return this.source.getSize(LT).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==KE)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Rv:e.x=e.x-Math.floor(e.x);break;case ko:e.x=e.x<0?0:1;break;case Cv:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Rv:e.y=e.y-Math.floor(e.y);break;case ko:e.y=e.y<0?0:1;break;case Cv:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ar.DEFAULT_IMAGE=null;ar.DEFAULT_MAPPING=KE;ar.DEFAULT_ANISOTROPY=1;class Kn{constructor(e=0,t=0,i=0,r=1){Kn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r+s[12]*a,this.y=s[1]*t+s[5]*i+s[9]*r+s[13]*a,this.z=s[2]*t+s[6]*i+s[10]*r+s[14]*a,this.w=s[3]*t+s[7]*i+s[11]*r+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,a;const u=e.elements,h=u[0],p=u[4],g=u[8],v=u[1],y=u[5],E=u[9],T=u[2],S=u[6],A=u[10];if(Math.abs(p-v)<.01&&Math.abs(g-T)<.01&&Math.abs(E-S)<.01){if(Math.abs(p+v)<.1&&Math.abs(g+T)<.1&&Math.abs(E+S)<.1&&Math.abs(h+y+A-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(h+1)/2,D=(y+1)/2,P=(A+1)/2,F=(p+v)/4,U=(g+T)/4,I=(E+S)/4;return w>D&&w>P?w<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(w),r=F/i,a=U/i):D>P?D<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(D),i=F/r,a=I/r):P<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(P),i=U/a,r=I/a),this.set(i,r,a,t),this}let R=Math.sqrt((S-E)*(S-E)+(g-T)*(g-T)+(v-p)*(v-p));return Math.abs(R)<.001&&(R=1),this.x=(S-E)/R,this.y=(g-T)/R,this.z=(v-p)/R,this.w=Math.acos((h+y+A-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this.z=xn(this.z,e.z,t.z),this.w=xn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this.z=xn(this.z,e,t),this.w=xn(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(xn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ib extends Mc{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Xr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new Kn(0,0,e,t),this.scissorTest=!1,this.viewport=new Kn(0,0,e,t);const r={width:e,height:t,depth:i.depth},a=new ar(r);this.textures=[];const s=i.count;for(let l=0;l<s;l++)this.textures[l]=a.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:Xr,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new If(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class bc extends Ib{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class iS extends ar{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=_a,this.minFilter=_a,this.wrapR=ko,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class F5 extends bc{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new iS(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class rS extends ar{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=_a,this.minFilter=_a,this.wrapR=ko,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class P5 extends bc{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new rS(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Ha{constructor(e=new he(1/0,1/0,1/0),t=new he(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(xl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(xl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=xl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,l=a.count;s<l;s++)e.isMesh===!0?e.getVertexPosition(s,xl):xl.fromBufferAttribute(a,s),xl.applyMatrix4(e.matrixWorld),this.expandByPoint(xl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),cy.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),cy.copy(i.boundingBox)),cy.applyMatrix4(e.matrixWorld),this.union(cy)}const r=e.children;for(let a=0,s=r.length;a<s;a++)this.expandByObject(r[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,xl),xl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Dg),uy.subVectors(this.max,Dg),Z0.subVectors(e.a,Dg),Q0.subVectors(e.b,Dg),J0.subVectors(e.c,Dg),_f.subVectors(Q0,Z0),Ef.subVectors(J0,Q0),Xh.subVectors(Z0,J0);let t=[0,-_f.z,_f.y,0,-Ef.z,Ef.y,0,-Xh.z,Xh.y,_f.z,0,-_f.x,Ef.z,0,-Ef.x,Xh.z,0,-Xh.x,-_f.y,_f.x,0,-Ef.y,Ef.x,0,-Xh.y,Xh.x,0];return!UT(t,Z0,Q0,J0,uy)||(t=[1,0,0,0,1,0,0,0,1],!UT(t,Z0,Q0,J0,uy))?!1:(fy.crossVectors(_f,Ef),t=[fy.x,fy.y,fy.z],UT(t,Z0,Q0,J0,uy))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,xl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(xl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(eu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),eu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),eu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),eu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),eu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),eu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),eu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),eu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(eu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const eu=[new he,new he,new he,new he,new he,new he,new he,new he],xl=new he,cy=new Ha,Z0=new he,Q0=new he,J0=new he,_f=new he,Ef=new he,Xh=new he,Dg=new he,uy=new he,fy=new he,Wh=new he;function UT(n,e,t,i,r){for(let a=0,s=n.length-3;a<=s;a+=3){Wh.fromArray(n,a);const l=r.x*Math.abs(Wh.x)+r.y*Math.abs(Wh.y)+r.z*Math.abs(Wh.z),u=e.dot(Wh),h=t.dot(Wh),p=i.dot(Wh);if(Math.max(-Math.max(u,h,p),Math.min(u,h,p))>l)return!1}return!0}const B5=new Ha,Ig=new he,FT=new he;class Ea{constructor(e=new he,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):B5.setFromPoints(e).getCenter(i);let r=0;for(let a=0,s=e.length;a<s;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ig.subVectors(e,this.center);const t=Ig.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Ig,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(FT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ig.copy(e.center).add(FT)),this.expandByPoint(Ig.copy(e.center).sub(FT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const tu=new he,PT=new he,hy=new he,Sf=new he,BT=new he,dy=new he,kT=new he;class nm{constructor(e=new he,t=new he(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,tu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=tu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(tu.copy(this.origin).addScaledVector(this.direction,t),tu.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){PT.copy(e).add(t).multiplyScalar(.5),hy.copy(t).sub(e).normalize(),Sf.copy(this.origin).sub(PT);const a=e.distanceTo(t)*.5,s=-this.direction.dot(hy),l=Sf.dot(this.direction),u=-Sf.dot(hy),h=Sf.lengthSq(),p=Math.abs(1-s*s);let g,v,y,E;if(p>0)if(g=s*u-l,v=s*l-u,E=a*p,g>=0)if(v>=-E)if(v<=E){const T=1/p;g*=T,v*=T,y=g*(g+s*v+2*l)+v*(s*g+v+2*u)+h}else v=a,g=Math.max(0,-(s*v+l)),y=-g*g+v*(v+2*u)+h;else v=-a,g=Math.max(0,-(s*v+l)),y=-g*g+v*(v+2*u)+h;else v<=-E?(g=Math.max(0,-(-s*a+l)),v=g>0?-a:Math.min(Math.max(-a,-u),a),y=-g*g+v*(v+2*u)+h):v<=E?(g=0,v=Math.min(Math.max(-a,-u),a),y=v*(v+2*u)+h):(g=Math.max(0,-(s*a+l)),v=g>0?a:Math.min(Math.max(-a,-u),a),y=-g*g+v*(v+2*u)+h);else v=s>0?-a:a,g=Math.max(0,-(s*v+l)),y=-g*g+v*(v+2*u)+h;return i&&i.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(PT).addScaledVector(hy,v),y}intersectSphere(e,t){tu.subVectors(e.center,this.origin);const i=tu.dot(this.direction),r=tu.dot(tu)-i*i,a=e.radius*e.radius;if(r>a)return null;const s=Math.sqrt(a-r),l=i-s,u=i+s;return u<0?null:l<0?this.at(u,t):this.at(l,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,a,s,l,u;const h=1/this.direction.x,p=1/this.direction.y,g=1/this.direction.z,v=this.origin;return h>=0?(i=(e.min.x-v.x)*h,r=(e.max.x-v.x)*h):(i=(e.max.x-v.x)*h,r=(e.min.x-v.x)*h),p>=0?(a=(e.min.y-v.y)*p,s=(e.max.y-v.y)*p):(a=(e.max.y-v.y)*p,s=(e.min.y-v.y)*p),i>s||a>r||((a>i||isNaN(i))&&(i=a),(s<r||isNaN(r))&&(r=s),g>=0?(l=(e.min.z-v.z)*g,u=(e.max.z-v.z)*g):(l=(e.max.z-v.z)*g,u=(e.min.z-v.z)*g),i>u||l>r)||((l>i||i!==i)&&(i=l),(u<r||r!==r)&&(r=u),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,tu)!==null}intersectTriangle(e,t,i,r,a){BT.subVectors(t,e),dy.subVectors(i,e),kT.crossVectors(BT,dy);let s=this.direction.dot(kT),l;if(s>0){if(r)return null;l=1}else if(s<0)l=-1,s=-s;else return null;Sf.subVectors(this.origin,e);const u=l*this.direction.dot(dy.crossVectors(Sf,dy));if(u<0)return null;const h=l*this.direction.dot(BT.cross(Sf));if(h<0||u+h>s)return null;const p=-l*Sf.dot(kT);return p<0?null:this.at(p/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class cn{constructor(e,t,i,r,a,s,l,u,h,p,g,v,y,E,T,S){cn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,s,l,u,h,p,g,v,y,E,T,S)}set(e,t,i,r,a,s,l,u,h,p,g,v,y,E,T,S){const A=this.elements;return A[0]=e,A[4]=t,A[8]=i,A[12]=r,A[1]=a,A[5]=s,A[9]=l,A[13]=u,A[2]=h,A[6]=p,A[10]=g,A[14]=v,A[3]=y,A[7]=E,A[11]=T,A[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new cn().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/$0.setFromMatrixColumn(e,0).length(),a=1/$0.setFromMatrixColumn(e,1).length(),s=1/$0.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=0,t[8]=i[8]*s,t[9]=i[9]*s,t[10]=i[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,a=e.z,s=Math.cos(i),l=Math.sin(i),u=Math.cos(r),h=Math.sin(r),p=Math.cos(a),g=Math.sin(a);if(e.order==="XYZ"){const v=s*p,y=s*g,E=l*p,T=l*g;t[0]=u*p,t[4]=-u*g,t[8]=h,t[1]=y+E*h,t[5]=v-T*h,t[9]=-l*u,t[2]=T-v*h,t[6]=E+y*h,t[10]=s*u}else if(e.order==="YXZ"){const v=u*p,y=u*g,E=h*p,T=h*g;t[0]=v+T*l,t[4]=E*l-y,t[8]=s*h,t[1]=s*g,t[5]=s*p,t[9]=-l,t[2]=y*l-E,t[6]=T+v*l,t[10]=s*u}else if(e.order==="ZXY"){const v=u*p,y=u*g,E=h*p,T=h*g;t[0]=v-T*l,t[4]=-s*g,t[8]=E+y*l,t[1]=y+E*l,t[5]=s*p,t[9]=T-v*l,t[2]=-s*h,t[6]=l,t[10]=s*u}else if(e.order==="ZYX"){const v=s*p,y=s*g,E=l*p,T=l*g;t[0]=u*p,t[4]=E*h-y,t[8]=v*h+T,t[1]=u*g,t[5]=T*h+v,t[9]=y*h-E,t[2]=-h,t[6]=l*u,t[10]=s*u}else if(e.order==="YZX"){const v=s*u,y=s*h,E=l*u,T=l*h;t[0]=u*p,t[4]=T-v*g,t[8]=E*g+y,t[1]=g,t[5]=s*p,t[9]=-l*p,t[2]=-h*p,t[6]=y*g+E,t[10]=v-T*g}else if(e.order==="XZY"){const v=s*u,y=s*h,E=l*u,T=l*h;t[0]=u*p,t[4]=-g,t[8]=h*p,t[1]=v*g+T,t[5]=s*p,t[9]=y*g-E,t[2]=E*g-y,t[6]=l*p,t[10]=T*g+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(k5,e,z5)}lookAt(e,t,i){const r=this.elements;return $s.subVectors(e,t),$s.lengthSq()===0&&($s.z=1),$s.normalize(),Tf.crossVectors(i,$s),Tf.lengthSq()===0&&(Math.abs(i.z)===1?$s.x+=1e-4:$s.z+=1e-4,$s.normalize(),Tf.crossVectors(i,$s)),Tf.normalize(),py.crossVectors($s,Tf),r[0]=Tf.x,r[4]=py.x,r[8]=$s.x,r[1]=Tf.y,r[5]=py.y,r[9]=$s.y,r[2]=Tf.z,r[6]=py.z,r[10]=$s.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,s=i[0],l=i[4],u=i[8],h=i[12],p=i[1],g=i[5],v=i[9],y=i[13],E=i[2],T=i[6],S=i[10],A=i[14],R=i[3],w=i[7],D=i[11],P=i[15],F=r[0],U=r[4],I=r[8],C=r[12],L=r[1],k=r[5],G=r[9],ee=r[13],ve=r[2],pe=r[6],W=r[10],K=r[14],ie=r[3],ne=r[7],j=r[11],le=r[15];return a[0]=s*F+l*L+u*ve+h*ie,a[4]=s*U+l*k+u*pe+h*ne,a[8]=s*I+l*G+u*W+h*j,a[12]=s*C+l*ee+u*K+h*le,a[1]=p*F+g*L+v*ve+y*ie,a[5]=p*U+g*k+v*pe+y*ne,a[9]=p*I+g*G+v*W+y*j,a[13]=p*C+g*ee+v*K+y*le,a[2]=E*F+T*L+S*ve+A*ie,a[6]=E*U+T*k+S*pe+A*ne,a[10]=E*I+T*G+S*W+A*j,a[14]=E*C+T*ee+S*K+A*le,a[3]=R*F+w*L+D*ve+P*ie,a[7]=R*U+w*k+D*pe+P*ne,a[11]=R*I+w*G+D*W+P*j,a[15]=R*C+w*ee+D*K+P*le,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],a=e[12],s=e[1],l=e[5],u=e[9],h=e[13],p=e[2],g=e[6],v=e[10],y=e[14],E=e[3],T=e[7],S=e[11],A=e[15];return E*(+a*u*g-r*h*g-a*l*v+i*h*v+r*l*y-i*u*y)+T*(+t*u*y-t*h*v+a*s*v-r*s*y+r*h*p-a*u*p)+S*(+t*h*g-t*l*y-a*s*g+i*s*y+a*l*p-i*h*p)+A*(-r*l*p-t*u*g+t*l*v+r*s*g-i*s*v+i*u*p)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],h=e[7],p=e[8],g=e[9],v=e[10],y=e[11],E=e[12],T=e[13],S=e[14],A=e[15],R=g*S*h-T*v*h+T*u*y-l*S*y-g*u*A+l*v*A,w=E*v*h-p*S*h-E*u*y+s*S*y+p*u*A-s*v*A,D=p*T*h-E*g*h+E*l*y-s*T*y-p*l*A+s*g*A,P=E*g*u-p*T*u-E*l*v+s*T*v+p*l*S-s*g*S,F=t*R+i*w+r*D+a*P;if(F===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const U=1/F;return e[0]=R*U,e[1]=(T*v*a-g*S*a-T*r*y+i*S*y+g*r*A-i*v*A)*U,e[2]=(l*S*a-T*u*a+T*r*h-i*S*h-l*r*A+i*u*A)*U,e[3]=(g*u*a-l*v*a-g*r*h+i*v*h+l*r*y-i*u*y)*U,e[4]=w*U,e[5]=(p*S*a-E*v*a+E*r*y-t*S*y-p*r*A+t*v*A)*U,e[6]=(E*u*a-s*S*a-E*r*h+t*S*h+s*r*A-t*u*A)*U,e[7]=(s*v*a-p*u*a+p*r*h-t*v*h-s*r*y+t*u*y)*U,e[8]=D*U,e[9]=(E*g*a-p*T*a-E*i*y+t*T*y+p*i*A-t*g*A)*U,e[10]=(s*T*a-E*l*a+E*i*h-t*T*h-s*i*A+t*l*A)*U,e[11]=(p*l*a-s*g*a-p*i*h+t*g*h+s*i*y-t*l*y)*U,e[12]=P*U,e[13]=(p*T*r-E*g*r+E*i*v-t*T*v-p*i*S+t*g*S)*U,e[14]=(E*l*r-s*T*r-E*i*u+t*T*u+s*i*S-t*l*S)*U,e[15]=(s*g*r-p*l*r+p*i*u-t*g*u-s*i*v+t*l*v)*U,this}scale(e){const t=this.elements,i=e.x,r=e.y,a=e.z;return t[0]*=i,t[4]*=r,t[8]*=a,t[1]*=i,t[5]*=r,t[9]*=a,t[2]*=i,t[6]*=r,t[10]*=a,t[3]*=i,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),a=1-i,s=e.x,l=e.y,u=e.z,h=a*s,p=a*l;return this.set(h*s+i,h*l-r*u,h*u+r*l,0,h*l+r*u,p*l+i,p*u-r*s,0,h*u-r*l,p*u+r*s,a*u*u+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,a,s){return this.set(1,i,a,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,a=t._x,s=t._y,l=t._z,u=t._w,h=a+a,p=s+s,g=l+l,v=a*h,y=a*p,E=a*g,T=s*p,S=s*g,A=l*g,R=u*h,w=u*p,D=u*g,P=i.x,F=i.y,U=i.z;return r[0]=(1-(T+A))*P,r[1]=(y+D)*P,r[2]=(E-w)*P,r[3]=0,r[4]=(y-D)*F,r[5]=(1-(v+A))*F,r[6]=(S+R)*F,r[7]=0,r[8]=(E+w)*U,r[9]=(S-R)*U,r[10]=(1-(v+T))*U,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let a=$0.set(r[0],r[1],r[2]).length();const s=$0.set(r[4],r[5],r[6]).length(),l=$0.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],yl.copy(this);const h=1/a,p=1/s,g=1/l;return yl.elements[0]*=h,yl.elements[1]*=h,yl.elements[2]*=h,yl.elements[4]*=p,yl.elements[5]*=p,yl.elements[6]*=p,yl.elements[8]*=g,yl.elements[9]*=g,yl.elements[10]*=g,t.setFromRotationMatrix(yl),i.x=a,i.y=s,i.z=l,this}makePerspective(e,t,i,r,a,s,l=zo){const u=this.elements,h=2*a/(t-e),p=2*a/(i-r),g=(t+e)/(t-e),v=(i+r)/(i-r);let y,E;if(l===zo)y=-(s+a)/(s-a),E=-2*s*a/(s-a);else if(l===Lv)y=-s/(s-a),E=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return u[0]=h,u[4]=0,u[8]=g,u[12]=0,u[1]=0,u[5]=p,u[9]=v,u[13]=0,u[2]=0,u[6]=0,u[10]=y,u[14]=E,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,i,r,a,s,l=zo){const u=this.elements,h=1/(t-e),p=1/(i-r),g=1/(s-a),v=(t+e)*h,y=(i+r)*p;let E,T;if(l===zo)E=(s+a)*g,T=-2*g;else if(l===Lv)E=a*g,T=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return u[0]=2*h,u[4]=0,u[8]=0,u[12]=-v,u[1]=0,u[5]=2*p,u[9]=0,u[13]=-y,u[2]=0,u[6]=0,u[10]=T,u[14]=-E,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const $0=new he,yl=new cn,k5=new he(0,0,0),z5=new he(1,1,1),Tf=new he,py=new he,$s=new he,BR=new cn,kR=new Ps;class so{constructor(e=0,t=0,i=0,r=so.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,a=r[0],s=r[4],l=r[8],u=r[1],h=r[5],p=r[9],g=r[2],v=r[6],y=r[10];switch(t){case"XYZ":this._y=Math.asin(xn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,y),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(v,h),this._z=0);break;case"YXZ":this._x=Math.asin(-xn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(l,y),this._z=Math.atan2(u,h)):(this._y=Math.atan2(-g,a),this._z=0);break;case"ZXY":this._x=Math.asin(xn(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,y),this._z=Math.atan2(-s,h)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-xn(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,y),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-s,h));break;case"YZX":this._z=Math.asin(xn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-p,h),this._y=Math.atan2(-g,a)):(this._x=0,this._y=Math.atan2(l,y));break;case"XZY":this._z=Math.asin(-xn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(v,h),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-p,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return BR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(BR,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return kR.setFromEuler(this),this.setFromQuaternion(kR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}so.DEFAULT_ORDER="XYZ";class Gp{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let V5=0;const zR=new he,ep=new Ps,nu=new cn,my=new he,Lg=new he,H5=new he,G5=new Ps,VR=new he(1,0,0),HR=new he(0,1,0),GR=new he(0,0,1),XR={type:"added"},X5={type:"removed"},tp={type:"childadded",child:null},zT={type:"childremoved",child:null};class Qn extends Mc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:V5++}),this.uuid=ao(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Qn.DEFAULT_UP.clone();const e=new he,t=new so,i=new Ps,r=new he(1,1,1);function a(){i.setFromEuler(t,!1)}function s(){t.setFromQuaternion(i,void 0,!1)}t._onChange(a),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new cn},normalMatrix:{value:new En}}),this.matrix=new cn,this.matrixWorld=new cn,this.matrixAutoUpdate=Qn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Qn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Gp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return ep.setFromAxisAngle(e,t),this.quaternion.multiply(ep),this}rotateOnWorldAxis(e,t){return ep.setFromAxisAngle(e,t),this.quaternion.premultiply(ep),this}rotateX(e){return this.rotateOnAxis(VR,e)}rotateY(e){return this.rotateOnAxis(HR,e)}rotateZ(e){return this.rotateOnAxis(GR,e)}translateOnAxis(e,t){return zR.copy(e).applyQuaternion(this.quaternion),this.position.add(zR.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(VR,e)}translateY(e){return this.translateOnAxis(HR,e)}translateZ(e){return this.translateOnAxis(GR,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(nu.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?my.copy(e):my.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Lg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?nu.lookAt(Lg,my,this.up):nu.lookAt(my,Lg,this.up),this.quaternion.setFromRotationMatrix(nu),r&&(nu.extractRotation(r.matrixWorld),ep.setFromRotationMatrix(nu),this.quaternion.premultiply(ep.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(XR),tp.child=e,this.dispatchEvent(tp),tp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(X5),zT.child=e,this.dispatchEvent(zT),zT.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),nu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),nu.multiply(e.parent.matrixWorld)),e.applyMatrix4(nu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(XR),tp.child=e,this.dispatchEvent(tp),tp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const s=this.children[i].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Lg,e,H5),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Lg,G5,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(l=>({...l})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let h=0,p=u.length;h<p;h++){const g=u[h];a(e.shapes,g)}else a(e.shapes,u)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,h=this.material.length;u<h;u++)l.push(a(e.materials,this.material[u]));r.material=l}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];r.animations.push(a(e.animations,u))}}if(t){const l=s(e.geometries),u=s(e.materials),h=s(e.textures),p=s(e.images),g=s(e.shapes),v=s(e.skeletons),y=s(e.animations),E=s(e.nodes);l.length>0&&(i.geometries=l),u.length>0&&(i.materials=u),h.length>0&&(i.textures=h),p.length>0&&(i.images=p),g.length>0&&(i.shapes=g),v.length>0&&(i.skeletons=v),y.length>0&&(i.animations=y),E.length>0&&(i.nodes=E)}return i.object=r,i;function s(l){const u=[];for(const h in l){const p=l[h];delete p.metadata,u.push(p)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Qn.DEFAULT_UP=new he(0,1,0);Qn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Qn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _l=new he,iu=new he,VT=new he,ru=new he,np=new he,ip=new he,WR=new he,HT=new he,GT=new he,XT=new he,WT=new Kn,YT=new Kn,jT=new Kn;class Ls{constructor(e=new he,t=new he,i=new he){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),_l.subVectors(e,t),r.cross(_l);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,i,r,a){_l.subVectors(r,t),iu.subVectors(i,t),VT.subVectors(e,t);const s=_l.dot(_l),l=_l.dot(iu),u=_l.dot(VT),h=iu.dot(iu),p=iu.dot(VT),g=s*h-l*l;if(g===0)return a.set(0,0,0),null;const v=1/g,y=(h*u-l*p)*v,E=(s*p-l*u)*v;return a.set(1-y-E,E,y)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,ru)===null?!1:ru.x>=0&&ru.y>=0&&ru.x+ru.y<=1}static getInterpolation(e,t,i,r,a,s,l,u){return this.getBarycoord(e,t,i,r,ru)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(a,ru.x),u.addScaledVector(s,ru.y),u.addScaledVector(l,ru.z),u)}static getInterpolatedAttribute(e,t,i,r,a,s){return WT.setScalar(0),YT.setScalar(0),jT.setScalar(0),WT.fromBufferAttribute(e,t),YT.fromBufferAttribute(e,i),jT.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(WT,a.x),s.addScaledVector(YT,a.y),s.addScaledVector(jT,a.z),s}static isFrontFacing(e,t,i,r){return _l.subVectors(i,t),iu.subVectors(e,t),_l.cross(iu).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _l.subVectors(this.c,this.b),iu.subVectors(this.a,this.b),_l.cross(iu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ls.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ls.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,a){return Ls.getInterpolation(e,this.a,this.b,this.c,t,i,r,a)}containsPoint(e){return Ls.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ls.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,a=this.c;let s,l;np.subVectors(r,i),ip.subVectors(a,i),HT.subVectors(e,i);const u=np.dot(HT),h=ip.dot(HT);if(u<=0&&h<=0)return t.copy(i);GT.subVectors(e,r);const p=np.dot(GT),g=ip.dot(GT);if(p>=0&&g<=p)return t.copy(r);const v=u*g-p*h;if(v<=0&&u>=0&&p<=0)return s=u/(u-p),t.copy(i).addScaledVector(np,s);XT.subVectors(e,a);const y=np.dot(XT),E=ip.dot(XT);if(E>=0&&y<=E)return t.copy(a);const T=y*h-u*E;if(T<=0&&h>=0&&E<=0)return l=h/(h-E),t.copy(i).addScaledVector(ip,l);const S=p*E-y*g;if(S<=0&&g-p>=0&&y-E>=0)return WR.subVectors(a,r),l=(g-p)/(g-p+(y-E)),t.copy(r).addScaledVector(WR,l);const A=1/(S+T+v);return s=T*A,l=v*A,t.copy(i).addScaledVector(np,s).addScaledVector(ip,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const xD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Af={h:0,s:0,l:0},gy={h:0,s:0,l:0};function qT(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Ut{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Pa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Xn.colorSpaceToWorking(this,t),this}setRGB(e,t,i,r=Xn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Xn.colorSpaceToWorking(this,r),this}setHSL(e,t,i,r=Xn.workingColorSpace){if(e=Db(e,1),t=xn(t,0,1),i=xn(i,0,1),t===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+t):i+t-i*t,s=2*i-a;this.r=qT(s,a,e+1/3),this.g=qT(s,a,e),this.b=qT(s,a,e-1/3)}return Xn.colorSpaceToWorking(this,r),this}setStyle(e,t=Pa){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=r[1],l=r[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Pa){const i=xD[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=hu(e.r),this.g=hu(e.g),this.b=hu(e.b),this}copyLinearToSRGB(e){return this.r=Ip(e.r),this.g=Ip(e.g),this.b=Ip(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Pa){return Xn.workingToColorSpace(Da.copy(this),e),Math.round(xn(Da.r*255,0,255))*65536+Math.round(xn(Da.g*255,0,255))*256+Math.round(xn(Da.b*255,0,255))}getHexString(e=Pa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Xn.workingColorSpace){Xn.workingToColorSpace(Da.copy(this),t);const i=Da.r,r=Da.g,a=Da.b,s=Math.max(i,r,a),l=Math.min(i,r,a);let u,h;const p=(l+s)/2;if(l===s)u=0,h=0;else{const g=s-l;switch(h=p<=.5?g/(s+l):g/(2-s-l),s){case i:u=(r-a)/g+(r<a?6:0);break;case r:u=(a-i)/g+2;break;case a:u=(i-r)/g+4;break}u/=6}return e.h=u,e.s=h,e.l=p,e}getRGB(e,t=Xn.workingColorSpace){return Xn.workingToColorSpace(Da.copy(this),t),e.r=Da.r,e.g=Da.g,e.b=Da.b,e}getStyle(e=Pa){Xn.workingToColorSpace(Da.copy(this),e);const t=Da.r,i=Da.g,r=Da.b;return e!==Pa?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Af),this.setHSL(Af.h+e,Af.s+t,Af.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Af),e.getHSL(gy);const i=cv(Af.h,gy.h,t),r=cv(Af.s,gy.s,t),a=cv(Af.l,gy.l,t);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*t+a[3]*i+a[6]*r,this.g=a[1]*t+a[4]*i+a[7]*r,this.b=a[2]*t+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Da=new Ut;Ut.NAMES=xD;let W5=0;class Wa extends Mc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:W5++}),this.uuid=ao(),this.name="",this.type="Material",this.blending=yd,this.side=vu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=L_,this.blendDst=U_,this.blendEquation=Nf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ut(0,0,0),this.blendAlpha=0,this.depthFunc=Rd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=_A,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=od,this.stencilZFail=od,this.stencilZPass=od,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==yd&&(i.blending=this.blending),this.side!==vu&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==L_&&(i.blendSrc=this.blendSrc),this.blendDst!==U_&&(i.blendDst=this.blendDst),this.blendEquation!==Nf&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Rd&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==_A&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==od&&(i.stencilFail=this.stencilFail),this.stencilZFail!==od&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==od&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const s=[];for(const l in a){const u=a[l];delete u.metadata,s.push(u)}return s}if(t){const a=r(e.textures),s=r(e.images);a.length>0&&(i.textures=a),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=t[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Wf extends Wa{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new so,this.combine=hx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const cu=Y5();function Y5(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let u=0;u<256;++u){const h=u-127;h<-27?(i[u]=0,i[u|256]=32768,r[u]=24,r[u|256]=24):h<-14?(i[u]=1024>>-h-14,i[u|256]=1024>>-h-14|32768,r[u]=-h-1,r[u|256]=-h-1):h<=15?(i[u]=h+15<<10,i[u|256]=h+15<<10|32768,r[u]=13,r[u|256]=13):h<128?(i[u]=31744,i[u|256]=64512,r[u]=24,r[u|256]=24):(i[u]=31744,i[u|256]=64512,r[u]=13,r[u|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),l=new Uint32Array(64);for(let u=1;u<1024;++u){let h=u<<13,p=0;for(;(h&8388608)===0;)h<<=1,p-=8388608;h&=-8388609,p+=947912704,a[u]=h|p}for(let u=1024;u<2048;++u)a[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)s[u]=u<<23;s[31]=1199570944,s[32]=2147483648;for(let u=33;u<63;++u)s[u]=2147483648+(u-32<<23);s[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(l[u]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:l}}function Ns(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=xn(n,-65504,65504),cu.floatView[0]=n;const e=cu.uint32View[0],t=e>>23&511;return cu.baseTable[t]+((e&8388607)>>cu.shiftTable[t])}function Kg(n){const e=n>>10;return cu.uint32View[0]=cu.mantissaTable[cu.offsetTable[e]+(n&1023)]+cu.exponentTable[e],cu.floatView[0]}class j5{static toHalfFloat(e){return Ns(e)}static fromHalfFloat(e){return Kg(e)}}const Mr=new he,vy=new ft;let q5=0;class Ai{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:q5++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Iv,this.updateRanges=[],this.gpuType=Us,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)vy.fromBufferAttribute(this,t),vy.applyMatrix3(e),this.setXY(t,vy.x,vy.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Mr.fromBufferAttribute(this,t),Mr.applyMatrix3(e),this.setXYZ(t,Mr.x,Mr.y,Mr.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Mr.fromBufferAttribute(this,t),Mr.applyMatrix4(e),this.setXYZ(t,Mr.x,Mr.y,Mr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Mr.fromBufferAttribute(this,t),Mr.applyNormalMatrix(e),this.setXYZ(t,Mr.x,Mr.y,Mr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Mr.fromBufferAttribute(this,t),Mr.transformDirection(e),this.setXYZ(t,Mr.x,Mr.y,Mr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=hs(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=An(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=hs(t,this.array)),t}setX(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=hs(t,this.array)),t}setY(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=hs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=hs(t,this.array)),t}setW(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),i=An(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),i=An(i,this.array),r=An(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),i=An(i,this.array),r=An(r,this.array),a=An(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Iv&&(e.usage=this.usage),e}}class K5 extends Ai{constructor(e,t,i){super(new Int8Array(e),t,i)}}class Z5 extends Ai{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class Q5 extends Ai{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class J5 extends Ai{constructor(e,t,i){super(new Int16Array(e),t,i)}}class Lb extends Ai{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class $5 extends Ai{constructor(e,t,i){super(new Int32Array(e),t,i)}}class Ub extends Ai{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class e6 extends Ai{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Kg(this.array[e*this.itemSize]);return this.normalized&&(t=hs(t,this.array)),t}setX(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize]=Ns(t),this}getY(e){let t=Kg(this.array[e*this.itemSize+1]);return this.normalized&&(t=hs(t,this.array)),t}setY(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+1]=Ns(t),this}getZ(e){let t=Kg(this.array[e*this.itemSize+2]);return this.normalized&&(t=hs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+2]=Ns(t),this}getW(e){let t=Kg(this.array[e*this.itemSize+3]);return this.normalized&&(t=hs(t,this.array)),t}setW(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+3]=Ns(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),i=An(i,this.array)),this.array[e+0]=Ns(t),this.array[e+1]=Ns(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),i=An(i,this.array),r=An(r,this.array)),this.array[e+0]=Ns(t),this.array[e+1]=Ns(i),this.array[e+2]=Ns(r),this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),i=An(i,this.array),r=An(r,this.array),a=An(a,this.array)),this.array[e+0]=Ns(t),this.array[e+1]=Ns(i),this.array[e+2]=Ns(r),this.array[e+3]=Ns(a),this}}class Gt extends Ai{constructor(e,t,i){super(new Float32Array(e),t,i)}}let t6=0;const Oo=new cn,KT=new Qn,rp=new he,eo=new Ha,Ug=new Ha,ta=new he;class Mn extends Mc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:t6++}),this.uuid=ao(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(mD(e)?Ub:Lb)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new En().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Oo.makeRotationFromQuaternion(e),this.applyMatrix4(Oo),this}rotateX(e){return Oo.makeRotationX(e),this.applyMatrix4(Oo),this}rotateY(e){return Oo.makeRotationY(e),this.applyMatrix4(Oo),this}rotateZ(e){return Oo.makeRotationZ(e),this.applyMatrix4(Oo),this}translate(e,t,i){return Oo.makeTranslation(e,t,i),this.applyMatrix4(Oo),this}scale(e,t,i){return Oo.makeScale(e,t,i),this.applyMatrix4(Oo),this}lookAt(e){return KT.lookAt(e),KT.updateMatrix(),this.applyMatrix4(KT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(rp).negate(),this.translate(rp.x,rp.y,rp.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const s=e[r];i.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Gt(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const a=e[r];t.setXYZ(r,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ha);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new he(-1/0,-1/0,-1/0),new he(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const a=t[i];eo.setFromBufferAttribute(a),this.morphTargetsRelative?(ta.addVectors(this.boundingBox.min,eo.min),this.boundingBox.expandByPoint(ta),ta.addVectors(this.boundingBox.max,eo.max),this.boundingBox.expandByPoint(ta)):(this.boundingBox.expandByPoint(eo.min),this.boundingBox.expandByPoint(eo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ea);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new he,1/0);return}if(e){const i=this.boundingSphere.center;if(eo.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const l=t[a];Ug.setFromBufferAttribute(l),this.morphTargetsRelative?(ta.addVectors(eo.min,Ug.min),eo.expandByPoint(ta),ta.addVectors(eo.max,Ug.max),eo.expandByPoint(ta)):(eo.expandByPoint(Ug.min),eo.expandByPoint(Ug.max))}eo.getCenter(i);let r=0;for(let a=0,s=e.count;a<s;a++)ta.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(ta));if(t)for(let a=0,s=t.length;a<s;a++){const l=t[a],u=this.morphTargetsRelative;for(let h=0,p=l.count;h<p;h++)ta.fromBufferAttribute(l,h),u&&(rp.fromBufferAttribute(e,h),ta.add(rp)),r=Math.max(r,i.distanceToSquared(ta))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ai(new Float32Array(4*i.count),4));const s=this.getAttribute("tangent"),l=[],u=[];for(let I=0;I<i.count;I++)l[I]=new he,u[I]=new he;const h=new he,p=new he,g=new he,v=new ft,y=new ft,E=new ft,T=new he,S=new he;function A(I,C,L){h.fromBufferAttribute(i,I),p.fromBufferAttribute(i,C),g.fromBufferAttribute(i,L),v.fromBufferAttribute(a,I),y.fromBufferAttribute(a,C),E.fromBufferAttribute(a,L),p.sub(h),g.sub(h),y.sub(v),E.sub(v);const k=1/(y.x*E.y-E.x*y.y);isFinite(k)&&(T.copy(p).multiplyScalar(E.y).addScaledVector(g,-y.y).multiplyScalar(k),S.copy(g).multiplyScalar(y.x).addScaledVector(p,-E.x).multiplyScalar(k),l[I].add(T),l[C].add(T),l[L].add(T),u[I].add(S),u[C].add(S),u[L].add(S))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let I=0,C=R.length;I<C;++I){const L=R[I],k=L.start,G=L.count;for(let ee=k,ve=k+G;ee<ve;ee+=3)A(e.getX(ee+0),e.getX(ee+1),e.getX(ee+2))}const w=new he,D=new he,P=new he,F=new he;function U(I){P.fromBufferAttribute(r,I),F.copy(P);const C=l[I];w.copy(C),w.sub(P.multiplyScalar(P.dot(C))).normalize(),D.crossVectors(F,C);const k=D.dot(u[I])<0?-1:1;s.setXYZW(I,w.x,w.y,w.z,k)}for(let I=0,C=R.length;I<C;++I){const L=R[I],k=L.start,G=L.count;for(let ee=k,ve=k+G;ee<ve;ee+=3)U(e.getX(ee+0)),U(e.getX(ee+1)),U(e.getX(ee+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Ai(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let v=0,y=i.count;v<y;v++)i.setXYZ(v,0,0,0);const r=new he,a=new he,s=new he,l=new he,u=new he,h=new he,p=new he,g=new he;if(e)for(let v=0,y=e.count;v<y;v+=3){const E=e.getX(v+0),T=e.getX(v+1),S=e.getX(v+2);r.fromBufferAttribute(t,E),a.fromBufferAttribute(t,T),s.fromBufferAttribute(t,S),p.subVectors(s,a),g.subVectors(r,a),p.cross(g),l.fromBufferAttribute(i,E),u.fromBufferAttribute(i,T),h.fromBufferAttribute(i,S),l.add(p),u.add(p),h.add(p),i.setXYZ(E,l.x,l.y,l.z),i.setXYZ(T,u.x,u.y,u.z),i.setXYZ(S,h.x,h.y,h.z)}else for(let v=0,y=t.count;v<y;v+=3)r.fromBufferAttribute(t,v+0),a.fromBufferAttribute(t,v+1),s.fromBufferAttribute(t,v+2),p.subVectors(s,a),g.subVectors(r,a),p.cross(g),i.setXYZ(v+0,p.x,p.y,p.z),i.setXYZ(v+1,p.x,p.y,p.z),i.setXYZ(v+2,p.x,p.y,p.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)ta.fromBufferAttribute(e,t),ta.normalize(),e.setXYZ(t,ta.x,ta.y,ta.z)}toNonIndexed(){function e(l,u){const h=l.array,p=l.itemSize,g=l.normalized,v=new h.constructor(u.length*p);let y=0,E=0;for(let T=0,S=u.length;T<S;T++){l.isInterleavedBufferAttribute?y=u[T]*l.data.stride+l.offset:y=u[T]*p;for(let A=0;A<p;A++)v[E++]=h[y++]}return new Ai(v,p,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Mn,i=this.index.array,r=this.attributes;for(const l in r){const u=r[l],h=e(u,i);t.setAttribute(l,h)}const a=this.morphAttributes;for(const l in a){const u=[],h=a[l];for(let p=0,g=h.length;p<g;p++){const v=h[p],y=e(v,i);u.push(y)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let l=0,u=s.length;l<u;l++){const h=s[l];t.addGroup(h.start,h.count,h.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const h in u)u[h]!==void 0&&(e[h]=u[h]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const u in i){const h=i[u];e.data.attributes[u]=h.toJSON(e.data)}const r={};let a=!1;for(const u in this.morphAttributes){const h=this.morphAttributes[u],p=[];for(let g=0,v=h.length;g<v;g++){const y=h[g];p.push(y.toJSON(e.data))}p.length>0&&(r[u]=p,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const h in r){const p=r[h];this.setAttribute(h,p.clone(t))}const a=e.morphAttributes;for(const h in a){const p=[],g=a[h];for(let v=0,y=g.length;v<y;v++)p.push(g[v].clone(t));this.morphAttributes[h]=p}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let h=0,p=s.length;h<p;h++){const g=s[h];this.addGroup(g.start,g.count,g.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const YR=new cn,Yh=new nm,xy=new Ea,jR=new he,yy=new he,_y=new he,Ey=new he,ZT=new he,Sy=new he,qR=new he,Ty=new he;class Nr extends Qn{constructor(e=new Mn,t=new Wf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,s=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const l=this.morphTargetInfluences;if(a&&l){Sy.set(0,0,0);for(let u=0,h=a.length;u<h;u++){const p=l[u],g=a[u];p!==0&&(ZT.fromBufferAttribute(g,e),s?Sy.addScaledVector(ZT,p):Sy.addScaledVector(ZT.sub(t),p))}t.add(Sy)}return t}raycast(e,t){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),xy.copy(i.boundingSphere),xy.applyMatrix4(a),Yh.copy(e.ray).recast(e.near),!(xy.containsPoint(Yh.origin)===!1&&(Yh.intersectSphere(xy,jR)===null||Yh.origin.distanceToSquared(jR)>(e.far-e.near)**2))&&(YR.copy(a).invert(),Yh.copy(e.ray).applyMatrix4(YR),!(i.boundingBox!==null&&Yh.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Yh)))}_computeIntersections(e,t,i){let r;const a=this.geometry,s=this.material,l=a.index,u=a.attributes.position,h=a.attributes.uv,p=a.attributes.uv1,g=a.attributes.normal,v=a.groups,y=a.drawRange;if(l!==null)if(Array.isArray(s))for(let E=0,T=v.length;E<T;E++){const S=v[E],A=s[S.materialIndex],R=Math.max(S.start,y.start),w=Math.min(l.count,Math.min(S.start+S.count,y.start+y.count));for(let D=R,P=w;D<P;D+=3){const F=l.getX(D),U=l.getX(D+1),I=l.getX(D+2);r=Ay(this,A,e,i,h,p,g,F,U,I),r&&(r.faceIndex=Math.floor(D/3),r.face.materialIndex=S.materialIndex,t.push(r))}}else{const E=Math.max(0,y.start),T=Math.min(l.count,y.start+y.count);for(let S=E,A=T;S<A;S+=3){const R=l.getX(S),w=l.getX(S+1),D=l.getX(S+2);r=Ay(this,s,e,i,h,p,g,R,w,D),r&&(r.faceIndex=Math.floor(S/3),t.push(r))}}else if(u!==void 0)if(Array.isArray(s))for(let E=0,T=v.length;E<T;E++){const S=v[E],A=s[S.materialIndex],R=Math.max(S.start,y.start),w=Math.min(u.count,Math.min(S.start+S.count,y.start+y.count));for(let D=R,P=w;D<P;D+=3){const F=D,U=D+1,I=D+2;r=Ay(this,A,e,i,h,p,g,F,U,I),r&&(r.faceIndex=Math.floor(D/3),r.face.materialIndex=S.materialIndex,t.push(r))}}else{const E=Math.max(0,y.start),T=Math.min(u.count,y.start+y.count);for(let S=E,A=T;S<A;S+=3){const R=S,w=S+1,D=S+2;r=Ay(this,s,e,i,h,p,g,R,w,D),r&&(r.faceIndex=Math.floor(S/3),t.push(r))}}}}function n6(n,e,t,i,r,a,s,l){let u;if(e.side===ps?u=i.intersectTriangle(s,a,r,!0,l):u=i.intersectTriangle(r,a,s,e.side===vu,l),u===null)return null;Ty.copy(l),Ty.applyMatrix4(n.matrixWorld);const h=t.ray.origin.distanceTo(Ty);return h<t.near||h>t.far?null:{distance:h,point:Ty.clone(),object:n}}function Ay(n,e,t,i,r,a,s,l,u,h){n.getVertexPosition(l,yy),n.getVertexPosition(u,_y),n.getVertexPosition(h,Ey);const p=n6(n,e,t,i,yy,_y,Ey,qR);if(p){const g=new he;Ls.getBarycoord(qR,yy,_y,Ey,g),r&&(p.uv=Ls.getInterpolatedAttribute(r,l,u,h,g,new ft)),a&&(p.uv1=Ls.getInterpolatedAttribute(a,l,u,h,g,new ft)),s&&(p.normal=Ls.getInterpolatedAttribute(s,l,u,h,g,new he),p.normal.dot(i.direction)>0&&p.normal.multiplyScalar(-1));const v={a:l,b:u,c:h,normal:new he,materialIndex:0};Ls.getNormal(yy,_y,Ey,v.normal),p.face=v,p.barycoord=g}return p}class kd extends Mn{constructor(e=1,t=1,i=1,r=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:a,depthSegments:s};const l=this;r=Math.floor(r),a=Math.floor(a),s=Math.floor(s);const u=[],h=[],p=[],g=[];let v=0,y=0;E("z","y","x",-1,-1,i,t,e,s,a,0),E("z","y","x",1,-1,i,t,-e,s,a,1),E("x","z","y",1,1,e,i,t,r,s,2),E("x","z","y",1,-1,e,i,-t,r,s,3),E("x","y","z",1,-1,e,t,i,r,a,4),E("x","y","z",-1,-1,e,t,-i,r,a,5),this.setIndex(u),this.setAttribute("position",new Gt(h,3)),this.setAttribute("normal",new Gt(p,3)),this.setAttribute("uv",new Gt(g,2));function E(T,S,A,R,w,D,P,F,U,I,C){const L=D/U,k=P/I,G=D/2,ee=P/2,ve=F/2,pe=U+1,W=I+1;let K=0,ie=0;const ne=new he;for(let j=0;j<W;j++){const le=j*k-ee;for(let H=0;H<pe;H++){const q=H*L-G;ne[T]=q*R,ne[S]=le*w,ne[A]=ve,h.push(ne.x,ne.y,ne.z),ne[T]=0,ne[S]=0,ne[A]=F>0?1:-1,p.push(ne.x,ne.y,ne.z),g.push(H/U),g.push(1-j/I),K+=1}}for(let j=0;j<I;j++)for(let le=0;le<U;le++){const H=v+le+pe*j,q=v+le+pe*(j+1),V=v+(le+1)+pe*(j+1),Q=v+(le+1)+pe*j;u.push(H,q,Q),u.push(q,V,Q),ie+=6}l.addGroup(y,ie,C),y+=ie,v+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Xp(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function cs(n){const e={};for(let t=0;t<n.length;t++){const i=Xp(n[t]);for(const r in i)e[r]=i[r]}return e}function i6(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function yD(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Xn.workingColorSpace}const _D={clone:Xp,merge:cs};var r6=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,a6=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Xo extends Wa{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=r6,this.fragmentShader=a6,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Xp(e.uniforms),this.uniformsGroups=i6(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?t.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[r]={type:"m4",value:s.toArray()}:t.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class aS extends Qn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new cn,this.projectionMatrix=new cn,this.projectionMatrixInverse=new cn,this.coordinateSystem=zo}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const bf=new he,KR=new ft,ZR=new ft;class ia extends aS{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Hp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(_d*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Hp*2*Math.atan(Math.tan(_d*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){bf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(bf.x,bf.y).multiplyScalar(-e/bf.z),bf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(bf.x,bf.y).multiplyScalar(-e/bf.z)}getViewSize(e,t){return this.getViewBounds(e,KR,ZR),t.subVectors(ZR,KR)}setViewOffset(e,t,i,r,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(_d*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,a=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const u=s.fullWidth,h=s.fullHeight;a+=s.offsetX*r/u,t-=s.offsetY*i/h,r*=s.width/u,i*=s.height/h}const l=this.filmOffset;l!==0&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const ap=-90,sp=1;class ED extends Qn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new ia(ap,sp,e,t);r.layers=this.layers,this.add(r);const a=new ia(ap,sp,e,t);a.layers=this.layers,this.add(a);const s=new ia(ap,sp,e,t);s.layers=this.layers,this.add(s);const l=new ia(ap,sp,e,t);l.layers=this.layers,this.add(l);const u=new ia(ap,sp,e,t);u.layers=this.layers,this.add(u);const h=new ia(ap,sp,e,t);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,a,s,l,u]=t;for(const h of t)this.remove(h);if(e===zo)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===Lv)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const h of t)this.add(h),h.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,l,u,h,p]=this.children,g=e.getRenderTarget(),v=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),E=e.xr.enabled;e.xr.enabled=!1;const T=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,a),e.setRenderTarget(i,1,r),e.render(t,s),e.setRenderTarget(i,2,r),e.render(t,l),e.setRenderTarget(i,3,r),e.render(t,u),e.setRenderTarget(i,4,r),e.render(t,h),i.texture.generateMipmaps=T,e.setRenderTarget(i,5,r),e.render(t,p),e.setRenderTarget(g,v,y),e.xr.enabled=E,i.texture.needsPMREMUpdate=!0}}class px extends ar{constructor(e=[],t=xu,i,r,a,s,l,u,h,p){super(e,t,i,r,a,s,l,u,h,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class SD extends bc{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new px(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new kd(5,5,5),a=new Xo({name:"CubemapFromEquirect",uniforms:Xp(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ps,blending:fu});a.uniforms.tEquirect.value=t;const s=new Nr(r,a),l=t.minFilter;return t.minFilter===xc&&(t.minFilter=Xr),new ED(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,i,r);e.setRenderTarget(a)}}class Ap extends Qn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const s6={type:"move"};class A_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ap,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ap,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new he,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new he),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ap,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new he,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new he),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,a=null,s=null;const l=this._targetRay,u=this._grip,h=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(h&&e.hand){s=!0;for(const T of e.hand.values()){const S=t.getJointPose(T,i),A=this._getHandJoint(h,T);S!==null&&(A.matrix.fromArray(S.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,A.jointRadius=S.radius),A.visible=S!==null}const p=h.joints["index-finger-tip"],g=h.joints["thumb-tip"],v=p.position.distanceTo(g.position),y=.02,E=.005;h.inputState.pinching&&v>y+E?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&v<=y-E&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,i),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1));l!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(s6)))}return l!==null&&(l.visible=r!==null),u!==null&&(u.visible=a!==null),h!==null&&(h.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Ap;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class sS{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ut(e),this.density=t}clone(){return new sS(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class oS{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ut(e),this.near=t,this.far=i}clone(){return new oS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Fb extends Qn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new so,this.environmentIntensity=1,this.environmentRotation=new so,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class lS{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Iv,this.updateRanges=[],this.version=0,this.uuid=ao()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ao()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ao()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ls=new he;class Cd{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)ls.fromBufferAttribute(this,t),ls.applyMatrix4(e),this.setXYZ(t,ls.x,ls.y,ls.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ls.fromBufferAttribute(this,t),ls.applyNormalMatrix(e),this.setXYZ(t,ls.x,ls.y,ls.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ls.fromBufferAttribute(this,t),ls.transformDirection(e),this.setXYZ(t,ls.x,ls.y,ls.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=hs(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=An(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=An(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=An(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=An(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=An(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=hs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=hs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=hs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=hs(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=An(t,this.array),i=An(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=An(t,this.array),i=An(i,this.array),r=An(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=An(t,this.array),i=An(i,this.array),r=An(r,this.array),a=An(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new Ai(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Cd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Pb extends Wa{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ut(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let op;const Fg=new he,lp=new he,cp=new he,up=new ft,Pg=new ft,TD=new cn,by=new he,Bg=new he,My=new he,QR=new ft,QT=new ft,JR=new ft;class AD extends Qn{constructor(e=new Pb){if(super(),this.isSprite=!0,this.type="Sprite",op===void 0){op=new Mn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new lS(t,5);op.setIndex([0,1,2,0,2,3]),op.setAttribute("position",new Cd(i,3,0,!1)),op.setAttribute("uv",new Cd(i,2,3,!1))}this.geometry=op,this.material=e,this.center=new ft(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),lp.setFromMatrixScale(this.matrixWorld),TD.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),cp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&lp.multiplyScalar(-cp.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const s=this.center;wy(by.set(-.5,-.5,0),cp,s,lp,r,a),wy(Bg.set(.5,-.5,0),cp,s,lp,r,a),wy(My.set(.5,.5,0),cp,s,lp,r,a),QR.set(0,0),QT.set(1,0),JR.set(1,1);let l=e.ray.intersectTriangle(by,Bg,My,!1,Fg);if(l===null&&(wy(Bg.set(-.5,.5,0),cp,s,lp,r,a),QT.set(0,1),l=e.ray.intersectTriangle(by,My,Bg,!1,Fg),l===null))return;const u=e.ray.origin.distanceTo(Fg);u<e.near||u>e.far||t.push({distance:u,point:Fg.clone(),uv:Ls.getInterpolation(Fg,by,Bg,My,QR,QT,JR,new ft),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function wy(n,e,t,i,r,a){up.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Pg.x=a*up.x-r*up.y,Pg.y=r*up.x+a*up.y):Pg.copy(up),n.copy(e),n.x+=Pg.x,n.y+=Pg.y,n.applyMatrix4(TD)}const Ry=new he,$R=new he;class bD extends Qn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const a=t[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let a;for(a=0;a<r.length&&!(t<r[a].distance);a++);return r.splice(a,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),e<a)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Ry.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Ry);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Ry.setFromMatrixPosition(e.matrixWorld),$R.setFromMatrixPosition(this.matrixWorld);const i=Ry.distanceTo($R)/e.zoom;t[0].object.visible=!0;let r,a;for(r=1,a=t.length;r<a;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),i>=s)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const s=i[r];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const eC=new he,tC=new Kn,nC=new Kn,o6=new he,iC=new cn,Cy=new he,JT=new Ea,rC=new cn,$T=new nm;class MD extends Nr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=yA,this.bindMatrix=new cn,this.bindMatrixInverse=new cn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ha),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Cy),this.boundingBox.expandByPoint(Cy)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ea),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Cy),this.boundingSphere.expandByPoint(Cy)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),JT.copy(this.boundingSphere),JT.applyMatrix4(r),e.ray.intersectsSphere(JT)!==!1&&(rC.copy(r).invert(),$T.copy(e.ray).applyMatrix4(rC),!(this.boundingBox!==null&&$T.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,$T)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Kn,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===yA?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===tD?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;tC.fromBufferAttribute(r.attributes.skinIndex,e),nC.fromBufferAttribute(r.attributes.skinWeight,e),eC.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=nC.getComponent(a);if(s!==0){const l=tC.getComponent(a);iC.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),t.addScaledVector(o6.copy(eC).applyMatrix4(iC),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Bb extends Qn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Sc extends ar{constructor(e=null,t=1,i=1,r,a,s,l,u,h=_a,p=_a,g,v){super(null,s,l,u,h,p,r,a,g,v),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const aC=new cn,l6=new cn;class cS{constructor(e=[],t=[]){this.uuid=ao(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new cn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new cn;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const l=e[a]?e[a].matrixWorld:l6;aC.multiplyMatrices(l,t[a]),aC.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new cS(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Sc(t,e,e,Va,Us);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let s=t[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new Bb),this.bones.push(s),this.boneInverses.push(new cn().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,a=t.length;r<a;r++){const s=t[r];e.bones.push(s.uuid);const l=i[r];e.boneInverses.push(l.toArray())}return e}}class Wp extends Ai{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const fp=new cn,sC=new cn,Oy=[],oC=new Ha,c6=new cn,kg=new Nr,zg=new Ea;class wD extends Nr{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Wp(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,c6)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ha),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,fp),oC.copy(e.boundingBox).applyMatrix4(fp),this.boundingBox.union(oC)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ea),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,fp),zg.copy(e.boundingSphere).applyMatrix4(fp),this.boundingSphere.union(zg)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,s=e*a+1;for(let l=0;l<i.length;l++)i[l]=r[s+l]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(kg.geometry=this.geometry,kg.material=this.material,kg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),zg.copy(this.boundingSphere),zg.applyMatrix4(i),e.ray.intersectsSphere(zg)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,fp),sC.multiplyMatrices(i,fp),kg.matrixWorld=sC,kg.raycast(e,Oy);for(let s=0,l=Oy.length;s<l;s++){const u=Oy[s];u.instanceId=a,u.object=this,t.push(u)}Oy.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Wp(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Sc(new Float32Array(r*this.count),r,this.count,$E,Us));const a=this.morphTexture.source.data.data;let s=0;for(let h=0;h<i.length;h++)s+=i[h];const l=this.geometry.morphTargetsRelative?1:1-s,u=r*e;a[u]=l,a.set(i,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const e2=new he,u6=new he,f6=new En;class Of{constructor(e=new he(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=e2.subVectors(i,t).cross(u6.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(e2),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||f6.getNormalMatrix(e),r=this.coplanarPoint(e2).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const jh=new Ea,h6=new ft(.5,.5),Ny=new he;class im{constructor(e=new Of,t=new Of,i=new Of,r=new Of,a=new Of,s=new Of){this.planes=[e,t,i,r,a,s]}set(e,t,i,r,a,s){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(i),l[3].copy(r),l[4].copy(a),l[5].copy(s),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=zo){const i=this.planes,r=e.elements,a=r[0],s=r[1],l=r[2],u=r[3],h=r[4],p=r[5],g=r[6],v=r[7],y=r[8],E=r[9],T=r[10],S=r[11],A=r[12],R=r[13],w=r[14],D=r[15];if(i[0].setComponents(u-a,v-h,S-y,D-A).normalize(),i[1].setComponents(u+a,v+h,S+y,D+A).normalize(),i[2].setComponents(u+s,v+p,S+E,D+R).normalize(),i[3].setComponents(u-s,v-p,S-E,D-R).normalize(),i[4].setComponents(u-l,v-g,S-T,D-w).normalize(),t===zo)i[5].setComponents(u+l,v+g,S+T,D+w).normalize();else if(t===Lv)i[5].setComponents(l,g,T,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),jh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),jh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(jh)}intersectsSprite(e){jh.center.set(0,0,0);const t=h6.distanceTo(e.center);return jh.radius=.7071067811865476+t,jh.applyMatrix4(e.matrixWorld),this.intersectsSphere(jh)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Ny.x=r.normal.x>0?e.max.x:e.min.x,Ny.y=r.normal.y>0?e.max.y:e.min.y,Ny.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Ny)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const hc=new cn,dc=new im;class uS{constructor(){this.coordinateSystem=zo}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(hc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),dc.setFromProjectionMatrix(hc,this.coordinateSystem),dc.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(hc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),dc.setFromProjectionMatrix(hc,this.coordinateSystem),dc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(hc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),dc.setFromProjectionMatrix(hc,this.coordinateSystem),dc.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(hc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),dc.setFromProjectionMatrix(hc,this.coordinateSystem),dc.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(hc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),dc.setFromProjectionMatrix(hc,this.coordinateSystem),dc.containsPoint(e))return!0}return!1}clone(){return new uS}}function t2(n,e){return n-e}function d6(n,e){return n.z-e.z}function p6(n,e){return e.z-n.z}class m6{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const l=a[this.index];s.push(l),this.index++,l.start=e,l.count=t,l.z=i,l.index=r}reset(){this.list.length=0,this.index=0}}const Os=new cn,g6=new Ut(1,1,1),lC=new im,v6=new uS,Dy=new Ha,qh=new Ea,Vg=new he,cC=new he,x6=new he,n2=new m6,Ia=new Nr,Iy=[];function y6(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let a=0;a<r;a++)for(let s=0;s<i;s++)e.setComponent(a+t,s,n.getComponent(a,s))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Kh(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class RD extends Nr{constructor(e,t,i=t*2,r){super(new Mn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Sc(t,e,e,Va,Us);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Sc(t,e,e,dx,yu);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Sc(t,e,e,Va,Us);i.colorSpace=Xn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:l,itemSize:u,normalized:h}=s,p=new l.constructor(i*u),g=new Ai(p,u,h);t.setAttribute(a,g)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Ai(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=t.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ha);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,Os),this.getBoundingBoxAt(a,Dy).applyMatrix4(Os),e.union(Dy)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ea);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,Os),this.getBoundingSphereAt(a,qh).applyMatrix4(Os),e.union(qh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(t2),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;Os.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(g6.toArray(s.image.data,r*4),s.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?s.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(t2),u=this._availableGeometryIds.shift(),a[u]=r):(u=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(u,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),s=t.getIndex(),l=this._geometryInfo[e];if(r&&s.count>l.reservedIndexCount||t.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=l.vertexStart,h=l.reservedVertexCount;l.vertexCount=t.getAttribute("position").count;for(const p in i.attributes){const g=t.getAttribute(p),v=i.getAttribute(p);y6(g,v,u);const y=g.itemSize;for(let E=g.count,T=h;E<T;E++){const S=u+E;for(let A=0;A<y;A++)v.setComponent(S,A,0)}v.needsUpdate=!0,v.addUpdateRange(u*y,h*y)}if(r){const p=l.indexStart,g=l.reservedIndexCount;l.indexCount=t.getIndex().count;for(let v=0;v<s.count;v++)a.setX(p+v,u+s.getX(v));for(let v=s.count,y=g;v<y;v++)a.setX(p+v,u);a.needsUpdate=!0,a.addUpdateRange(p,l.reservedIndexCount)}return l.start=r?l.indexStart:l.vertexStart,l.count=r?l.indexCount:l.vertexCount,l.boundingBox=null,t.boundingBox!==null&&(l.boundingBox=t.boundingBox.clone()),l.boundingSphere=null,t.boundingSphere!==null&&(l.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((s,l)=>l).sort((s,l)=>i[s].vertexStart-i[l].vertexStart),a=this.geometry;for(let s=0,l=i.length;s<l;s++){const u=r[s],h=i[u];if(h.active!==!1){if(a.index!==null){if(h.indexStart!==t){const{indexStart:p,vertexStart:g,reservedIndexCount:v}=h,y=a.index,E=y.array,T=e-g;for(let S=p;S<p+v;S++)E[S]=E[S]+T;y.array.copyWithin(t,p,p+v),y.addUpdateRange(t,v),h.indexStart=t}t+=h.reservedIndexCount}if(h.vertexStart!==e){const{vertexStart:p,reservedVertexCount:g}=h,v=a.attributes;for(const y in v){const E=v[y],{array:T,itemSize:S}=E;T.copyWithin(e*S,p*S,(p+g)*S),E.addUpdateRange(e*S,g*S)}h.vertexStart=e}e+=h.reservedVertexCount,h.start=a.index?h.indexStart:h.vertexStart,this._nextIndexStart=a.index?h.indexStart+h.reservedIndexCount:0,this._nextVertexStart=h.vertexStart+h.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new Ha,s=i.index,l=i.attributes.position;for(let u=r.start,h=r.start+r.count;u<h;u++){let p=u;s&&(p=s.getX(p)),a.expandByPoint(Vg.fromBufferAttribute(l,p))}r.boundingBox=a}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new Ea;this.getBoundingBoxAt(e,Dy),Dy.getCenter(a.center);const s=i.index,l=i.attributes.position;let u=0;for(let h=r.start,p=r.start+r.count;h<p;h++){let g=h;s&&(g=s.getX(g)),Vg.fromBufferAttribute(l,g),u=Math.max(u,a.center.distanceToSquared(Vg))}a.radius=Math.sqrt(u),r.boundingSphere=a}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(t2);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);Kh(this._multiDrawCounts,r),Kh(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,l=this._matricesTexture,u=this._colorsTexture;s.dispose(),this._initIndirectTexture(),Kh(s.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),Kh(l.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),Kh(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(u=>u.indexStart+u.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Mn,this._initializeGeometry(a));const s=this.geometry;a.index&&Kh(a.index.array,s.index.array);for(const l in a.attributes)Kh(a.attributes[l].array,s.attributes[l].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,s=this.geometry;Ia.material=this.material,Ia.geometry.index=s.index,Ia.geometry.attributes=s.attributes,Ia.geometry.boundingBox===null&&(Ia.geometry.boundingBox=new Ha),Ia.geometry.boundingSphere===null&&(Ia.geometry.boundingSphere=new Ea);for(let l=0,u=i.length;l<u;l++){if(!i[l].visible||!i[l].active)continue;const h=i[l].geometryIndex,p=r[h];Ia.geometry.setDrawRange(p.start,p.count),this.getMatrixAt(l,Ia.matrixWorld).premultiply(a),this.getBoundingBoxAt(h,Ia.geometry.boundingBox),this.getBoundingSphereAt(h,Ia.geometry.boundingSphere),Ia.raycast(e,Iy);for(let g=0,v=Iy.length;g<v;g++){const y=Iy[g];y.object=this,y.batchId=l,t.push(y)}Iy.length=0}Ia.material=null,Ia.geometry.index=null,Ia.geometry.attributes={},Ia.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=r.getIndex(),l=s===null?1:s.array.BYTES_PER_ELEMENT,u=this._instanceInfo,h=this._multiDrawStarts,p=this._multiDrawCounts,g=this._geometryInfo,v=this.perObjectFrustumCulled,y=this._indirectTexture,E=y.image.data,T=i.isArrayCamera?v6:lC;v&&!i.isArrayCamera&&(Os.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),lC.setFromProjectionMatrix(Os,e.coordinateSystem));let S=0;if(this.sortObjects){Os.copy(this.matrixWorld).invert(),Vg.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Os),cC.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Os);for(let w=0,D=u.length;w<D;w++)if(u[w].visible&&u[w].active){const P=u[w].geometryIndex;this.getMatrixAt(w,Os),this.getBoundingSphereAt(P,qh).applyMatrix4(Os);let F=!1;if(v&&(F=!T.intersectsSphere(qh,i)),!F){const U=g[P],I=x6.subVectors(qh.center,Vg).dot(cC);n2.push(U.start,U.count,I,w)}}const A=n2.list,R=this.customSort;R===null?A.sort(a.transparent?p6:d6):R.call(this,A,i);for(let w=0,D=A.length;w<D;w++){const P=A[w];h[S]=P.start*l,p[S]=P.count,E[S]=P.index,S++}n2.reset()}else for(let A=0,R=u.length;A<R;A++)if(u[A].visible&&u[A].active){const w=u[A].geometryIndex;let D=!1;if(v&&(this.getMatrixAt(A,Os),this.getBoundingSphereAt(w,qh).applyMatrix4(Os),D=!T.intersectsSphere(qh,i)),!D){const P=g[w];h[S]=P.start*l,p[S]=P.count,E[S]=A,S++}}y.needsUpdate=!0,this._multiDrawCount=S,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,a,s){this.onBeforeRender(e,null,r,a,s)}}class gs extends Wa{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ut(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const gE=new he,vE=new he,uC=new cn,Hg=new nm,Ly=new Ea,i2=new he,fC=new he;class Bf extends Qn{constructor(e=new Mn,t=new gs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,a=t.count;r<a;r++)gE.fromBufferAttribute(t,r-1),vE.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=gE.distanceTo(vE);e.setAttribute("lineDistance",new Gt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ly.copy(i.boundingSphere),Ly.applyMatrix4(r),Ly.radius+=a,e.ray.intersectsSphere(Ly)===!1)return;uC.copy(r).invert(),Hg.copy(e.ray).applyMatrix4(uC);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,h=this.isLineSegments?2:1,p=i.index,v=i.attributes.position;if(p!==null){const y=Math.max(0,s.start),E=Math.min(p.count,s.start+s.count);for(let T=y,S=E-1;T<S;T+=h){const A=p.getX(T),R=p.getX(T+1),w=Uy(this,e,Hg,u,A,R,T);w&&t.push(w)}if(this.isLineLoop){const T=p.getX(E-1),S=p.getX(y),A=Uy(this,e,Hg,u,T,S,E-1);A&&t.push(A)}}else{const y=Math.max(0,s.start),E=Math.min(v.count,s.start+s.count);for(let T=y,S=E-1;T<S;T+=h){const A=Uy(this,e,Hg,u,T,T+1,T);A&&t.push(A)}if(this.isLineLoop){const T=Uy(this,e,Hg,u,E-1,y,E-1);T&&t.push(T)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function Uy(n,e,t,i,r,a,s){const l=n.geometry.attributes.position;if(gE.fromBufferAttribute(l,r),vE.fromBufferAttribute(l,a),t.distanceSqToSegment(gE,vE,i2,fC)>i)return;i2.applyMatrix4(n.matrixWorld);const h=e.ray.origin.distanceTo(i2);if(!(h<e.near||h>e.far))return{distance:h,point:fC.clone().applyMatrix4(n.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:n}}const hC=new he,dC=new he;class wc extends Bf{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,a=t.count;r<a;r+=2)hC.fromBufferAttribute(t,r),dC.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+hC.distanceTo(dC);e.setAttribute("lineDistance",new Gt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class CD extends Bf{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class kb extends Wa{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ut(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const pC=new cn,SA=new nm,Fy=new Ea,Py=new he;class OD extends Qn{constructor(e=new Mn,t=new kb){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Fy.copy(i.boundingSphere),Fy.applyMatrix4(r),Fy.radius+=a,e.ray.intersectsSphere(Fy)===!1)return;pC.copy(r).invert(),SA.copy(e.ray).applyMatrix4(pC);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,h=i.index,g=i.attributes.position;if(h!==null){const v=Math.max(0,s.start),y=Math.min(h.count,s.start+s.count);for(let E=v,T=y;E<T;E++){const S=h.getX(E);Py.fromBufferAttribute(g,S),mC(Py,S,u,r,e,t,this)}}else{const v=Math.max(0,s.start),y=Math.min(g.count,s.start+s.count);for(let E=v,T=y;E<T;E++)Py.fromBufferAttribute(g,E),mC(Py,E,u,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function mC(n,e,t,i,r,a,s){const l=SA.distanceSqToPoint(n);if(l<t){const u=new he;SA.closestPointToPoint(n,u),u.applyMatrix4(i);const h=r.ray.origin.distanceTo(u);if(h<r.near||h>r.far)return;a.push({distance:h,distanceToRay:Math.sqrt(l),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class ND extends ar{constructor(e,t,i,r,a=Xr,s=Xr,l,u,h){super(e,t,i,r,a,s,l,u,h),this.isVideoTexture=!0,this.generateMipmaps=!1;const p=this;function g(){p.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class _6 extends ND{constructor(e,t,i,r,a,s,l,u){super({},e,t,i,r,a,s,l,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class E6 extends ar{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=_a,this.minFilter=_a,this.generateMipmaps=!1,this.needsUpdate=!0}}class fS extends ar{constructor(e,t,i,r,a,s,l,u,h,p,g,v){super(null,s,l,u,h,p,r,a,g,v),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class S6 extends fS{constructor(e,t,i,r,a,s){super(e,t,i,a,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ko,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class T6 extends fS{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,xu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class A6 extends ar{constructor(e,t,i,r,a,s,l,u,h){super(e,t,i,r,a,s,l,u,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}class zb extends ar{constructor(e,t,i=yu,r,a,s,l=_a,u=_a,h,p=zp,g=1){if(p!==zp&&p!==Vp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const v={width:e,height:t,depth:g};super(v,r,a,s,l,u,p,i,h),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new If(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class hS extends Mn{constructor(e=1,t=1,i=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:a},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const s=[],l=[],u=[],h=[],p=t/2,g=Math.PI/2*e,v=t,y=2*g+v,E=i*2+a,T=r+1,S=new he,A=new he;for(let R=0;R<=E;R++){let w=0,D=0,P=0,F=0;if(R<=i){const C=R/i,L=C*Math.PI/2;D=-p-e*Math.cos(L),P=e*Math.sin(L),F=-e*Math.cos(L),w=C*g}else if(R<=i+a){const C=(R-i)/a;D=-p+C*t,P=e,F=0,w=g+C*v}else{const C=(R-i-a)/i,L=C*Math.PI/2;D=p+e*Math.sin(L),P=e*Math.cos(L),F=e*Math.sin(L),w=g+v+C*g}const U=Math.max(0,Math.min(1,w/y));let I=0;R===0?I=.5/r:R===E&&(I=-.5/r);for(let C=0;C<=r;C++){const L=C/r,k=L*Math.PI*2,G=Math.sin(k),ee=Math.cos(k);A.x=-P*ee,A.y=D,A.z=P*G,l.push(A.x,A.y,A.z),S.set(-P*ee,F,P*G),S.normalize(),u.push(S.x,S.y,S.z),h.push(L+I,U)}if(R>0){const C=(R-1)*T;for(let L=0;L<r;L++){const k=C+L,G=C+L+1,ee=R*T+L,ve=R*T+L+1;s.push(k,G,ee),s.push(G,ve,ee)}}}this.setIndex(s),this.setAttribute("position",new Gt(l,3)),this.setAttribute("normal",new Gt(u,3)),this.setAttribute("uv",new Gt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hS(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class dS extends Mn{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const a=[],s=[],l=[],u=[],h=new he,p=new ft;s.push(0,0,0),l.push(0,0,1),u.push(.5,.5);for(let g=0,v=3;g<=t;g++,v+=3){const y=i+g/t*r;h.x=e*Math.cos(y),h.y=e*Math.sin(y),s.push(h.x,h.y,h.z),l.push(0,0,1),p.x=(s[v]/e+1)/2,p.y=(s[v+1]/e+1)/2,u.push(p.x,p.y)}for(let g=1;g<=t;g++)a.push(g,g+1,0);this.setIndex(a),this.setAttribute("position",new Gt(s,3)),this.setAttribute("normal",new Gt(l,3)),this.setAttribute("uv",new Gt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dS(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class mx extends Mn{constructor(e=1,t=1,i=1,r=32,a=1,s=!1,l=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:l,thetaLength:u};const h=this;r=Math.floor(r),a=Math.floor(a);const p=[],g=[],v=[],y=[];let E=0;const T=[],S=i/2;let A=0;R(),s===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(p),this.setAttribute("position",new Gt(g,3)),this.setAttribute("normal",new Gt(v,3)),this.setAttribute("uv",new Gt(y,2));function R(){const D=new he,P=new he;let F=0;const U=(t-e)/i;for(let I=0;I<=a;I++){const C=[],L=I/a,k=L*(t-e)+e;for(let G=0;G<=r;G++){const ee=G/r,ve=ee*u+l,pe=Math.sin(ve),W=Math.cos(ve);P.x=k*pe,P.y=-L*i+S,P.z=k*W,g.push(P.x,P.y,P.z),D.set(pe,U,W).normalize(),v.push(D.x,D.y,D.z),y.push(ee,1-L),C.push(E++)}T.push(C)}for(let I=0;I<r;I++)for(let C=0;C<a;C++){const L=T[C][I],k=T[C+1][I],G=T[C+1][I+1],ee=T[C][I+1];(e>0||C!==0)&&(p.push(L,k,ee),F+=3),(t>0||C!==a-1)&&(p.push(k,G,ee),F+=3)}h.addGroup(A,F,0),A+=F}function w(D){const P=E,F=new ft,U=new he;let I=0;const C=D===!0?e:t,L=D===!0?1:-1;for(let G=1;G<=r;G++)g.push(0,S*L,0),v.push(0,L,0),y.push(.5,.5),E++;const k=E;for(let G=0;G<=r;G++){const ve=G/r*u+l,pe=Math.cos(ve),W=Math.sin(ve);U.x=C*W,U.y=S*L,U.z=C*pe,g.push(U.x,U.y,U.z),v.push(0,L,0),F.x=pe*.5+.5,F.y=W*.5*L+.5,y.push(F.x,F.y),E++}for(let G=0;G<r;G++){const ee=P+G,ve=k+G;D===!0?p.push(ve,ve+1,ee):p.push(ve+1,ve,ee),I+=3}h.addGroup(A,I,D===!0?1:2),A+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mx(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class gx extends mx{constructor(e=1,t=1,i=32,r=1,a=!1,s=0,l=Math.PI*2){super(0,e,t,i,r,a,s,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:l}}static fromJSON(e){return new gx(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Yf extends Mn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const a=[],s=[];l(r),h(i),p(),this.setAttribute("position",new Gt(a,3)),this.setAttribute("normal",new Gt(a.slice(),3)),this.setAttribute("uv",new Gt(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(R){const w=new he,D=new he,P=new he;for(let F=0;F<t.length;F+=3)y(t[F+0],w),y(t[F+1],D),y(t[F+2],P),u(w,D,P,R)}function u(R,w,D,P){const F=P+1,U=[];for(let I=0;I<=F;I++){U[I]=[];const C=R.clone().lerp(D,I/F),L=w.clone().lerp(D,I/F),k=F-I;for(let G=0;G<=k;G++)G===0&&I===F?U[I][G]=C:U[I][G]=C.clone().lerp(L,G/k)}for(let I=0;I<F;I++)for(let C=0;C<2*(F-I)-1;C++){const L=Math.floor(C/2);C%2===0?(v(U[I][L+1]),v(U[I+1][L]),v(U[I][L])):(v(U[I][L+1]),v(U[I+1][L+1]),v(U[I+1][L]))}}function h(R){const w=new he;for(let D=0;D<a.length;D+=3)w.x=a[D+0],w.y=a[D+1],w.z=a[D+2],w.normalize().multiplyScalar(R),a[D+0]=w.x,a[D+1]=w.y,a[D+2]=w.z}function p(){const R=new he;for(let w=0;w<a.length;w+=3){R.x=a[w+0],R.y=a[w+1],R.z=a[w+2];const D=S(R)/2/Math.PI+.5,P=A(R)/Math.PI+.5;s.push(D,1-P)}E(),g()}function g(){for(let R=0;R<s.length;R+=6){const w=s[R+0],D=s[R+2],P=s[R+4],F=Math.max(w,D,P),U=Math.min(w,D,P);F>.9&&U<.1&&(w<.2&&(s[R+0]+=1),D<.2&&(s[R+2]+=1),P<.2&&(s[R+4]+=1))}}function v(R){a.push(R.x,R.y,R.z)}function y(R,w){const D=R*3;w.x=e[D+0],w.y=e[D+1],w.z=e[D+2]}function E(){const R=new he,w=new he,D=new he,P=new he,F=new ft,U=new ft,I=new ft;for(let C=0,L=0;C<a.length;C+=9,L+=6){R.set(a[C+0],a[C+1],a[C+2]),w.set(a[C+3],a[C+4],a[C+5]),D.set(a[C+6],a[C+7],a[C+8]),F.set(s[L+0],s[L+1]),U.set(s[L+2],s[L+3]),I.set(s[L+4],s[L+5]),P.copy(R).add(w).add(D).divideScalar(3);const k=S(P);T(F,L+0,R,k),T(U,L+2,w,k),T(I,L+4,D,k)}}function T(R,w,D,P){P<0&&R.x===1&&(s[w]=R.x-1),D.x===0&&D.z===0&&(s[w]=P/2/Math.PI+.5)}function S(R){return Math.atan2(R.z,-R.x)}function A(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yf(e.vertices,e.indices,e.radius,e.details)}}class pS extends Yf{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pS(e.radius,e.detail)}}const By=new he,ky=new he,r2=new he,zy=new Ls;class DD extends Mn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),a=Math.cos(_d*t),s=e.getIndex(),l=e.getAttribute("position"),u=s?s.count:l.count,h=[0,0,0],p=["a","b","c"],g=new Array(3),v={},y=[];for(let E=0;E<u;E+=3){s?(h[0]=s.getX(E),h[1]=s.getX(E+1),h[2]=s.getX(E+2)):(h[0]=E,h[1]=E+1,h[2]=E+2);const{a:T,b:S,c:A}=zy;if(T.fromBufferAttribute(l,h[0]),S.fromBufferAttribute(l,h[1]),A.fromBufferAttribute(l,h[2]),zy.getNormal(r2),g[0]=`${Math.round(T.x*r)},${Math.round(T.y*r)},${Math.round(T.z*r)}`,g[1]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,g[2]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let R=0;R<3;R++){const w=(R+1)%3,D=g[R],P=g[w],F=zy[p[R]],U=zy[p[w]],I=`${D}_${P}`,C=`${P}_${D}`;C in v&&v[C]?(r2.dot(v[C].normal)<=a&&(y.push(F.x,F.y,F.z),y.push(U.x,U.y,U.z)),v[C]=null):I in v||(v[I]={index0:h[R],index1:h[w],normal:r2.clone()})}}for(const E in v)if(v[E]){const{index0:T,index1:S}=v[E];By.fromBufferAttribute(l,T),ky.fromBufferAttribute(l,S),y.push(By.x,By.y,By.z),y.push(ky.x,ky.y,ky.z)}this.setAttribute("position",new Gt(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Nl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)i=this.getPoint(s/e),a+=i.distanceTo(r),t.push(a),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const a=i.length;let s;t?s=t:s=e*i[a-1];let l=0,u=a-1,h;for(;l<=u;)if(r=Math.floor(l+(u-l)/2),h=i[r]-s,h<0)l=r+1;else if(h>0)u=r-1;else{u=r;break}if(r=u,i[r]===s)return r/(a-1);const p=i[r],v=i[r+1]-p,y=(s-p)/v;return(r+y)/(a-1)}getTangent(e,t){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const s=this.getPoint(r),l=this.getPoint(a),u=t||(s.isVector2?new ft:new he);return u.copy(l).sub(s).normalize(),u}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new he,r=[],a=[],s=[],l=new he,u=new cn;for(let y=0;y<=e;y++){const E=y/e;r[y]=this.getTangentAt(E,new he)}a[0]=new he,s[0]=new he;let h=Number.MAX_VALUE;const p=Math.abs(r[0].x),g=Math.abs(r[0].y),v=Math.abs(r[0].z);p<=h&&(h=p,i.set(1,0,0)),g<=h&&(h=g,i.set(0,1,0)),v<=h&&i.set(0,0,1),l.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],l),s[0].crossVectors(r[0],a[0]);for(let y=1;y<=e;y++){if(a[y]=a[y-1].clone(),s[y]=s[y-1].clone(),l.crossVectors(r[y-1],r[y]),l.length()>Number.EPSILON){l.normalize();const E=Math.acos(xn(r[y-1].dot(r[y]),-1,1));a[y].applyMatrix4(u.makeRotationAxis(l,E))}s[y].crossVectors(r[y],a[y])}if(t===!0){let y=Math.acos(xn(a[0].dot(a[e]),-1,1));y/=e,r[0].dot(l.crossVectors(a[0],a[e]))>0&&(y=-y);for(let E=1;E<=e;E++)a[E].applyMatrix4(u.makeRotationAxis(r[E],y*E)),s[E].crossVectors(r[E],a[E])}return{tangents:r,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class mS extends Nl{constructor(e=0,t=0,i=1,r=1,a=0,s=Math.PI*2,l=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=l,this.aRotation=u}getPoint(e,t=new ft){const i=t,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(s?a=0:a=r),this.aClockwise===!0&&!s&&(a===r?a=-r:a=a-r);const l=this.aStartAngle+e*a;let u=this.aX+this.xRadius*Math.cos(l),h=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const p=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=u-this.aX,y=h-this.aY;u=v*p-y*g+this.aX,h=v*g+y*p+this.aY}return i.set(u,h)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ID extends mS{constructor(e,t,i,r,a,s){super(e,t,i,i,r,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function Vb(){let n=0,e=0,t=0,i=0;function r(a,s,l,u){n=a,e=l,t=-3*a+3*s-2*l-u,i=2*a-2*s+l+u}return{initCatmullRom:function(a,s,l,u,h){r(s,l,h*(l-a),h*(u-s))},initNonuniformCatmullRom:function(a,s,l,u,h,p,g){let v=(s-a)/h-(l-a)/(h+p)+(l-s)/p,y=(l-s)/p-(u-s)/(p+g)+(u-l)/g;v*=p,y*=p,r(s,l,v,y)},calc:function(a){const s=a*a,l=s*a;return n+e*a+t*s+i*l}}}const Vy=new he,a2=new Vb,s2=new Vb,o2=new Vb;class LD extends Nl{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new he){const i=t,r=this.points,a=r.length,s=(a-(this.closed?0:1))*e;let l=Math.floor(s),u=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:u===0&&l===a-1&&(l=a-2,u=1);let h,p;this.closed||l>0?h=r[(l-1)%a]:(Vy.subVectors(r[0],r[1]).add(r[0]),h=Vy);const g=r[l%a],v=r[(l+1)%a];if(this.closed||l+2<a?p=r[(l+2)%a]:(Vy.subVectors(r[a-1],r[a-2]).add(r[a-1]),p=Vy),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let E=Math.pow(h.distanceToSquared(g),y),T=Math.pow(g.distanceToSquared(v),y),S=Math.pow(v.distanceToSquared(p),y);T<1e-4&&(T=1),E<1e-4&&(E=T),S<1e-4&&(S=T),a2.initNonuniformCatmullRom(h.x,g.x,v.x,p.x,E,T,S),s2.initNonuniformCatmullRom(h.y,g.y,v.y,p.y,E,T,S),o2.initNonuniformCatmullRom(h.z,g.z,v.z,p.z,E,T,S)}else this.curveType==="catmullrom"&&(a2.initCatmullRom(h.x,g.x,v.x,p.x,this.tension),s2.initCatmullRom(h.y,g.y,v.y,p.y,this.tension),o2.initCatmullRom(h.z,g.z,v.z,p.z,this.tension));return i.set(a2.calc(u),s2.calc(u),o2.calc(u)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new he().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function gC(n,e,t,i,r){const a=(i-e)*.5,s=(r-t)*.5,l=n*n,u=n*l;return(2*t-2*i+a+s)*u+(-3*t+3*i-2*a-s)*l+a*n+t}function b6(n,e){const t=1-n;return t*t*e}function M6(n,e){return 2*(1-n)*n*e}function w6(n,e){return n*n*e}function uv(n,e,t,i){return b6(n,e)+M6(n,t)+w6(n,i)}function R6(n,e){const t=1-n;return t*t*t*e}function C6(n,e){const t=1-n;return 3*t*t*n*e}function O6(n,e){return 3*(1-n)*n*n*e}function N6(n,e){return n*n*n*e}function fv(n,e,t,i,r){return R6(n,e)+C6(n,t)+O6(n,i)+N6(n,r)}class Hb extends Nl{constructor(e=new ft,t=new ft,i=new ft,r=new ft){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ft){const i=t,r=this.v0,a=this.v1,s=this.v2,l=this.v3;return i.set(fv(e,r.x,a.x,s.x,l.x),fv(e,r.y,a.y,s.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class UD extends Nl{constructor(e=new he,t=new he,i=new he,r=new he){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new he){const i=t,r=this.v0,a=this.v1,s=this.v2,l=this.v3;return i.set(fv(e,r.x,a.x,s.x,l.x),fv(e,r.y,a.y,s.y,l.y),fv(e,r.z,a.z,s.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Gb extends Nl{constructor(e=new ft,t=new ft){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ft){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ft){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FD extends Nl{constructor(e=new he,t=new he){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new he){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new he){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Xb extends Nl{constructor(e=new ft,t=new ft,i=new ft){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ft){const i=t,r=this.v0,a=this.v1,s=this.v2;return i.set(uv(e,r.x,a.x,s.x),uv(e,r.y,a.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Wb extends Nl{constructor(e=new he,t=new he,i=new he){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new he){const i=t,r=this.v0,a=this.v1,s=this.v2;return i.set(uv(e,r.x,a.x,s.x),uv(e,r.y,a.y,s.y),uv(e,r.z,a.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Yb extends Nl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ft){const i=t,r=this.points,a=(r.length-1)*e,s=Math.floor(a),l=a-s,u=r[s===0?s:s-1],h=r[s],p=r[s>r.length-2?r.length-1:s+1],g=r[s>r.length-3?r.length-1:s+2];return i.set(gC(l,u.x,h.x,p.x,g.x),gC(l,u.y,h.y,p.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ft().fromArray(r))}return this}}var xE=Object.freeze({__proto__:null,ArcCurve:ID,CatmullRomCurve3:LD,CubicBezierCurve:Hb,CubicBezierCurve3:UD,EllipseCurve:mS,LineCurve:Gb,LineCurve3:FD,QuadraticBezierCurve:Xb,QuadraticBezierCurve3:Wb,SplineCurve:Yb});class PD extends Nl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new xE[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const s=r[a]-i,l=this.curves[a],u=l.getLength(),h=u===0?0:1-s/u;return l.getPointAt(h,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const s=a[r],l=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,u=s.getPoints(l);for(let h=0;h<u.length;h++){const p=u[h];i&&i.equals(p)||(t.push(p),i=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new xE[r.type]().fromJSON(r))}return this}}class yE extends PD{constructor(e){super(),this.type="Path",this.currentPoint=new ft,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Gb(this.currentPoint.clone(),new ft(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const a=new Xb(this.currentPoint.clone(),new ft(e,t),new ft(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,a,s){const l=new Hb(this.currentPoint.clone(),new ft(e,t),new ft(i,r),new ft(a,s));return this.curves.push(l),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new Yb(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,a,s){const l=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+l,t+u,i,r,a,s),this}absarc(e,t,i,r,a,s){return this.absellipse(e,t,i,i,r,a,s),this}ellipse(e,t,i,r,a,s,l,u){const h=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+h,t+p,i,r,a,s,l,u),this}absellipse(e,t,i,r,a,s,l,u){const h=new mS(e,t,i,r,a,s,l,u);if(this.curves.length>0){const g=h.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(h);const p=h.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Ed extends yE{constructor(e){super(e),this.uuid=ao(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new yE().fromJSON(r))}return this}}function D6(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let a=BD(n,0,r,t,!0);const s=[];if(!a||a.next===a.prev)return s;let l,u,h;if(i&&(a=P6(n,e,a,t)),n.length>80*t){l=1/0,u=1/0;let p=-1/0,g=-1/0;for(let v=t;v<r;v+=t){const y=n[v],E=n[v+1];y<l&&(l=y),E<u&&(u=E),y>p&&(p=y),E>g&&(g=E)}h=Math.max(p-l,g-u),h=h!==0?32767/h:0}return Fv(a,s,t,l,u,h,0),s}function BD(n,e,t,i,r){let a;if(r===q6(n,e,t,i)>0)for(let s=e;s<t;s+=i)a=vC(s/i|0,n[s],n[s+1],a);else for(let s=t-i;s>=e;s-=i)a=vC(s/i|0,n[s],n[s+1],a);return a&&Yp(a,a.next)&&(Bv(a),a=a.next),a}function Od(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Yp(t,t.next)||qi(t.prev,t,t.next)===0)){if(Bv(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Fv(n,e,t,i,r,a,s){if(!n)return;!s&&a&&H6(n,i,r,a);let l=n;for(;n.prev!==n.next;){const u=n.prev,h=n.next;if(a?L6(n,i,r,a):I6(n)){e.push(u.i,n.i,h.i),Bv(n),n=h.next,l=h.next;continue}if(n=h,n===l){s?s===1?(n=U6(Od(n),e),Fv(n,e,t,i,r,a,2)):s===2&&F6(n,e,t,i,r,a):Fv(Od(n),e,t,i,r,a,1);break}}}function I6(n){const e=n.prev,t=n,i=n.next;if(qi(e,t,i)>=0)return!1;const r=e.x,a=t.x,s=i.x,l=e.y,u=t.y,h=i.y,p=Math.min(r,a,s),g=Math.min(l,u,h),v=Math.max(r,a,s),y=Math.max(l,u,h);let E=i.next;for(;E!==e;){if(E.x>=p&&E.x<=v&&E.y>=g&&E.y<=y&&Zg(r,l,a,u,s,h,E.x,E.y)&&qi(E.prev,E,E.next)>=0)return!1;E=E.next}return!0}function L6(n,e,t,i){const r=n.prev,a=n,s=n.next;if(qi(r,a,s)>=0)return!1;const l=r.x,u=a.x,h=s.x,p=r.y,g=a.y,v=s.y,y=Math.min(l,u,h),E=Math.min(p,g,v),T=Math.max(l,u,h),S=Math.max(p,g,v),A=TA(y,E,e,t,i),R=TA(T,S,e,t,i);let w=n.prevZ,D=n.nextZ;for(;w&&w.z>=A&&D&&D.z<=R;){if(w.x>=y&&w.x<=T&&w.y>=E&&w.y<=S&&w!==r&&w!==s&&Zg(l,p,u,g,h,v,w.x,w.y)&&qi(w.prev,w,w.next)>=0||(w=w.prevZ,D.x>=y&&D.x<=T&&D.y>=E&&D.y<=S&&D!==r&&D!==s&&Zg(l,p,u,g,h,v,D.x,D.y)&&qi(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;w&&w.z>=A;){if(w.x>=y&&w.x<=T&&w.y>=E&&w.y<=S&&w!==r&&w!==s&&Zg(l,p,u,g,h,v,w.x,w.y)&&qi(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;D&&D.z<=R;){if(D.x>=y&&D.x<=T&&D.y>=E&&D.y<=S&&D!==r&&D!==s&&Zg(l,p,u,g,h,v,D.x,D.y)&&qi(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function U6(n,e){let t=n;do{const i=t.prev,r=t.next.next;!Yp(i,r)&&zD(i,t,t.next,r)&&Pv(i,r)&&Pv(r,i)&&(e.push(i.i,t.i,r.i),Bv(t),Bv(t.next),t=n=r),t=t.next}while(t!==n);return Od(t)}function F6(n,e,t,i,r,a){let s=n;do{let l=s.next.next;for(;l!==s.prev;){if(s.i!==l.i&&W6(s,l)){let u=VD(s,l);s=Od(s,s.next),u=Od(u,u.next),Fv(s,e,t,i,r,a,0),Fv(u,e,t,i,r,a,0);return}l=l.next}s=s.next}while(s!==n)}function P6(n,e,t,i){const r=[];for(let a=0,s=e.length;a<s;a++){const l=e[a]*i,u=a<s-1?e[a+1]*i:n.length,h=BD(n,l,u,i,!1);h===h.next&&(h.steiner=!0),r.push(X6(h))}r.sort(B6);for(let a=0;a<r.length;a++)t=k6(r[a],t);return t}function B6(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function k6(n,e){const t=z6(n,e);if(!t)return e;const i=VD(t,n);return Od(i,i.next),Od(t,t.next)}function z6(n,e){let t=e;const i=n.x,r=n.y;let a=-1/0,s;if(Yp(n,t))return t;do{if(Yp(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const g=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=i&&g>a&&(a=g,s=t.x<t.next.x?t:t.next,g===i))return s}t=t.next}while(t!==e);if(!s)return null;const l=s,u=s.x,h=s.y;let p=1/0;t=s;do{if(i>=t.x&&t.x>=u&&i!==t.x&&kD(r<h?i:a,r,u,h,r<h?a:i,r,t.x,t.y)){const g=Math.abs(r-t.y)/(i-t.x);Pv(t,n)&&(g<p||g===p&&(t.x>s.x||t.x===s.x&&V6(s,t)))&&(s=t,p=g)}t=t.next}while(t!==l);return s}function V6(n,e){return qi(n.prev,n,e.prev)<0&&qi(e.next,n,n.next)<0}function H6(n,e,t,i){let r=n;do r.z===0&&(r.z=TA(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,G6(r)}function G6(n){let e,t=1;do{let i=n,r;n=null;let a=null;for(e=0;i;){e++;let s=i,l=0;for(let h=0;h<t&&(l++,s=s.nextZ,!!s);h++);let u=t;for(;l>0||u>0&&s;)l!==0&&(u===0||!s||i.z<=s.z)?(r=i,i=i.nextZ,l--):(r=s,s=s.nextZ,u--),a?a.nextZ=r:n=r,r.prevZ=a,a=r;i=s}a.nextZ=null,t*=2}while(e>1);return n}function TA(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function X6(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function kD(n,e,t,i,r,a,s,l){return(r-s)*(e-l)>=(n-s)*(a-l)&&(n-s)*(i-l)>=(t-s)*(e-l)&&(t-s)*(a-l)>=(r-s)*(i-l)}function Zg(n,e,t,i,r,a,s,l){return!(n===s&&e===l)&&kD(n,e,t,i,r,a,s,l)}function W6(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Y6(n,e)&&(Pv(n,e)&&Pv(e,n)&&j6(n,e)&&(qi(n.prev,n,e.prev)||qi(n,e.prev,e))||Yp(n,e)&&qi(n.prev,n,n.next)>0&&qi(e.prev,e,e.next)>0)}function qi(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Yp(n,e){return n.x===e.x&&n.y===e.y}function zD(n,e,t,i){const r=Gy(qi(n,e,t)),a=Gy(qi(n,e,i)),s=Gy(qi(t,i,n)),l=Gy(qi(t,i,e));return!!(r!==a&&s!==l||r===0&&Hy(n,t,e)||a===0&&Hy(n,i,e)||s===0&&Hy(t,n,i)||l===0&&Hy(t,e,i))}function Hy(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Gy(n){return n>0?1:n<0?-1:0}function Y6(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&zD(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Pv(n,e){return qi(n.prev,n,n.next)<0?qi(n,e,n.next)>=0&&qi(n,n.prev,e)>=0:qi(n,e,n.prev)<0||qi(n,n.next,e)<0}function j6(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&r<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function VD(n,e){const t=AA(n.i,n.x,n.y),i=AA(e.i,e.x,e.y),r=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,a.next=i,i.prev=a,i}function vC(n,e,t,i){const r=AA(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Bv(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function AA(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function q6(n,e,t,i){let r=0;for(let a=e,s=t-i;a<t;a+=i)r+=(n[s]-n[a])*(n[a+1]+n[s+1]),s=a;return r}class K6{static triangulate(e,t,i=2){return D6(e,t,i)}}class bl{static area(e){const t=e.length;let i=0;for(let r=t-1,a=0;a<t;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return bl.area(e)<0}static triangulateShape(e,t){const i=[],r=[],a=[];xC(e),yC(i,e);let s=e.length;t.forEach(xC);for(let u=0;u<t.length;u++)r.push(s),s+=t[u].length,yC(i,t[u]);const l=K6.triangulate(i,r);for(let u=0;u<l.length;u+=3)a.push(l.slice(u,u+3));return a}}function xC(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function yC(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class gS extends Mn{constructor(e=new Ed([new ft(.5,.5),new ft(-.5,.5),new ft(-.5,-.5),new ft(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let l=0,u=e.length;l<u;l++){const h=e[l];s(h)}this.setAttribute("position",new Gt(r,3)),this.setAttribute("uv",new Gt(a,2)),this.computeVertexNormals();function s(l){const u=[],h=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,y=t.bevelThickness!==void 0?t.bevelThickness:.2,E=t.bevelSize!==void 0?t.bevelSize:y-.1,T=t.bevelOffset!==void 0?t.bevelOffset:0,S=t.bevelSegments!==void 0?t.bevelSegments:3;const A=t.extrudePath,R=t.UVGenerator!==void 0?t.UVGenerator:Z6;let w,D=!1,P,F,U,I;A&&(w=A.getSpacedPoints(p),D=!0,v=!1,P=A.computeFrenetFrames(p,!1),F=new he,U=new he,I=new he),v||(S=0,y=0,E=0,T=0);const C=l.extractPoints(h);let L=C.shape;const k=C.holes;if(!bl.isClockWise(L)){L=L.reverse();for(let J=0,Ze=k.length;J<Ze;J++){const Ie=k[J];bl.isClockWise(Ie)&&(k[J]=Ie.reverse())}}function ee(J){const Ie=10000000000000001e-36;let Re=J[0];for(let Pe=1;Pe<=J.length;Pe++){const ut=Pe%J.length,$e=J[ut],yt=$e.x-Re.x,kt=$e.y-Re.y,ce=yt*yt+kt*kt,Y=Math.max(Math.abs($e.x),Math.abs($e.y),Math.abs(Re.x),Math.abs(Re.y)),Oe=Ie*Y*Y;if(ce<=Oe){J.splice(ut,1),Pe--;continue}Re=$e}}ee(L),k.forEach(ee);const ve=k.length,pe=L;for(let J=0;J<ve;J++){const Ze=k[J];L=L.concat(Ze)}function W(J,Ze,Ie){return Ze||console.error("THREE.ExtrudeGeometry: vec does not exist"),J.clone().addScaledVector(Ze,Ie)}const K=L.length;function ie(J,Ze,Ie){let Re,Pe,ut;const $e=J.x-Ze.x,yt=J.y-Ze.y,kt=Ie.x-J.x,ce=Ie.y-J.y,Y=$e*$e+yt*yt,Oe=$e*ce-yt*kt;if(Math.abs(Oe)>Number.EPSILON){const ze=Math.sqrt(Y),Qe=Math.sqrt(kt*kt+ce*ce),He=Ze.x-yt/ze,St=Ze.y+$e/ze,it=Ie.x-ce/Qe,xt=Ie.y+kt/Qe,bt=((it-He)*ce-(xt-St)*kt)/($e*ce-yt*kt);Re=He+$e*bt-J.x,Pe=St+yt*bt-J.y;const Je=Re*Re+Pe*Pe;if(Je<=2)return new ft(Re,Pe);ut=Math.sqrt(Je/2)}else{let ze=!1;$e>Number.EPSILON?kt>Number.EPSILON&&(ze=!0):$e<-Number.EPSILON?kt<-Number.EPSILON&&(ze=!0):Math.sign(yt)===Math.sign(ce)&&(ze=!0),ze?(Re=-yt,Pe=$e,ut=Math.sqrt(Y)):(Re=$e,Pe=yt,ut=Math.sqrt(Y/2))}return new ft(Re/ut,Pe/ut)}const ne=[];for(let J=0,Ze=pe.length,Ie=Ze-1,Re=J+1;J<Ze;J++,Ie++,Re++)Ie===Ze&&(Ie=0),Re===Ze&&(Re=0),ne[J]=ie(pe[J],pe[Ie],pe[Re]);const j=[];let le,H=ne.concat();for(let J=0,Ze=ve;J<Ze;J++){const Ie=k[J];le=[];for(let Re=0,Pe=Ie.length,ut=Pe-1,$e=Re+1;Re<Pe;Re++,ut++,$e++)ut===Pe&&(ut=0),$e===Pe&&($e=0),le[Re]=ie(Ie[Re],Ie[ut],Ie[$e]);j.push(le),H=H.concat(le)}let q;if(S===0)q=bl.triangulateShape(pe,k);else{const J=[],Ze=[];for(let Ie=0;Ie<S;Ie++){const Re=Ie/S,Pe=y*Math.cos(Re*Math.PI/2),ut=E*Math.sin(Re*Math.PI/2)+T;for(let $e=0,yt=pe.length;$e<yt;$e++){const kt=W(pe[$e],ne[$e],ut);Ce(kt.x,kt.y,-Pe),Re===0&&J.push(kt)}for(let $e=0,yt=ve;$e<yt;$e++){const kt=k[$e];le=j[$e];const ce=[];for(let Y=0,Oe=kt.length;Y<Oe;Y++){const ze=W(kt[Y],le[Y],ut);Ce(ze.x,ze.y,-Pe),Re===0&&ce.push(ze)}Re===0&&Ze.push(ce)}}q=bl.triangulateShape(J,Ze)}const V=q.length,Q=E+T;for(let J=0;J<K;J++){const Ze=v?W(L[J],H[J],Q):L[J];D?(U.copy(P.normals[0]).multiplyScalar(Ze.x),F.copy(P.binormals[0]).multiplyScalar(Ze.y),I.copy(w[0]).add(U).add(F),Ce(I.x,I.y,I.z)):Ce(Ze.x,Ze.y,0)}for(let J=1;J<=p;J++)for(let Ze=0;Ze<K;Ze++){const Ie=v?W(L[Ze],H[Ze],Q):L[Ze];D?(U.copy(P.normals[J]).multiplyScalar(Ie.x),F.copy(P.binormals[J]).multiplyScalar(Ie.y),I.copy(w[J]).add(U).add(F),Ce(I.x,I.y,I.z)):Ce(Ie.x,Ie.y,g/p*J)}for(let J=S-1;J>=0;J--){const Ze=J/S,Ie=y*Math.cos(Ze*Math.PI/2),Re=E*Math.sin(Ze*Math.PI/2)+T;for(let Pe=0,ut=pe.length;Pe<ut;Pe++){const $e=W(pe[Pe],ne[Pe],Re);Ce($e.x,$e.y,g+Ie)}for(let Pe=0,ut=k.length;Pe<ut;Pe++){const $e=k[Pe];le=j[Pe];for(let yt=0,kt=$e.length;yt<kt;yt++){const ce=W($e[yt],le[yt],Re);D?Ce(ce.x,ce.y+w[p-1].y,w[p-1].x+Ie):Ce(ce.x,ce.y,g+Ie)}}}ge(),Ae();function ge(){const J=r.length/3;if(v){let Ze=0,Ie=K*Ze;for(let Re=0;Re<V;Re++){const Pe=q[Re];Ne(Pe[2]+Ie,Pe[1]+Ie,Pe[0]+Ie)}Ze=p+S*2,Ie=K*Ze;for(let Re=0;Re<V;Re++){const Pe=q[Re];Ne(Pe[0]+Ie,Pe[1]+Ie,Pe[2]+Ie)}}else{for(let Ze=0;Ze<V;Ze++){const Ie=q[Ze];Ne(Ie[2],Ie[1],Ie[0])}for(let Ze=0;Ze<V;Ze++){const Ie=q[Ze];Ne(Ie[0]+K*p,Ie[1]+K*p,Ie[2]+K*p)}}i.addGroup(J,r.length/3-J,0)}function Ae(){const J=r.length/3;let Ze=0;Ee(pe,Ze),Ze+=pe.length;for(let Ie=0,Re=k.length;Ie<Re;Ie++){const Pe=k[Ie];Ee(Pe,Ze),Ze+=Pe.length}i.addGroup(J,r.length/3-J,1)}function Ee(J,Ze){let Ie=J.length;for(;--Ie>=0;){const Re=Ie;let Pe=Ie-1;Pe<0&&(Pe=J.length-1);for(let ut=0,$e=p+S*2;ut<$e;ut++){const yt=K*ut,kt=K*(ut+1),ce=Ze+Re+yt,Y=Ze+Pe+yt,Oe=Ze+Pe+kt,ze=Ze+Re+kt;st(ce,Y,Oe,ze)}}}function Ce(J,Ze,Ie){u.push(J),u.push(Ze),u.push(Ie)}function Ne(J,Ze,Ie){se(J),se(Ze),se(Ie);const Re=r.length/3,Pe=R.generateTopUV(i,r,Re-3,Re-2,Re-1);vt(Pe[0]),vt(Pe[1]),vt(Pe[2])}function st(J,Ze,Ie,Re){se(J),se(Ze),se(Re),se(Ze),se(Ie),se(Re);const Pe=r.length/3,ut=R.generateSideWallUV(i,r,Pe-6,Pe-3,Pe-2,Pe-1);vt(ut[0]),vt(ut[1]),vt(ut[3]),vt(ut[1]),vt(ut[2]),vt(ut[3])}function se(J){r.push(u[J*3+0]),r.push(u[J*3+1]),r.push(u[J*3+2])}function vt(J){a.push(J.x),a.push(J.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return Q6(t,i,e)}static fromJSON(e,t){const i=[];for(let a=0,s=e.shapes.length;a<s;a++){const l=t[e.shapes[a]];i.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new xE[r.type]().fromJSON(r)),new gS(i,e.options)}}const Z6={generateTopUV:function(n,e,t,i,r){const a=e[t*3],s=e[t*3+1],l=e[i*3],u=e[i*3+1],h=e[r*3],p=e[r*3+1];return[new ft(a,s),new ft(l,u),new ft(h,p)]},generateSideWallUV:function(n,e,t,i,r,a){const s=e[t*3],l=e[t*3+1],u=e[t*3+2],h=e[i*3],p=e[i*3+1],g=e[i*3+2],v=e[r*3],y=e[r*3+1],E=e[r*3+2],T=e[a*3],S=e[a*3+1],A=e[a*3+2];return Math.abs(l-p)<Math.abs(s-h)?[new ft(s,1-u),new ft(h,1-g),new ft(v,1-E),new ft(T,1-A)]:[new ft(l,1-u),new ft(p,1-g),new ft(y,1-E),new ft(S,1-A)]}};function Q6(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const a=n[i];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class vS extends Yf{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new vS(e.radius,e.detail)}}class xS extends Mn{constructor(e=[new ft(0,-.5),new ft(.5,0),new ft(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=xn(r,0,Math.PI*2);const a=[],s=[],l=[],u=[],h=[],p=1/t,g=new he,v=new ft,y=new he,E=new he,T=new he;let S=0,A=0;for(let R=0;R<=e.length-1;R++)switch(R){case 0:S=e[R+1].x-e[R].x,A=e[R+1].y-e[R].y,y.x=A*1,y.y=-S,y.z=A*0,T.copy(y),y.normalize(),u.push(y.x,y.y,y.z);break;case e.length-1:u.push(T.x,T.y,T.z);break;default:S=e[R+1].x-e[R].x,A=e[R+1].y-e[R].y,y.x=A*1,y.y=-S,y.z=A*0,E.copy(y),y.x+=T.x,y.y+=T.y,y.z+=T.z,y.normalize(),u.push(y.x,y.y,y.z),T.copy(E)}for(let R=0;R<=t;R++){const w=i+R*p*r,D=Math.sin(w),P=Math.cos(w);for(let F=0;F<=e.length-1;F++){g.x=e[F].x*D,g.y=e[F].y,g.z=e[F].x*P,s.push(g.x,g.y,g.z),v.x=R/t,v.y=F/(e.length-1),l.push(v.x,v.y);const U=u[3*F+0]*D,I=u[3*F+1],C=u[3*F+0]*P;h.push(U,I,C)}}for(let R=0;R<t;R++)for(let w=0;w<e.length-1;w++){const D=w+R*e.length,P=D,F=D+e.length,U=D+e.length+1,I=D+1;a.push(P,F,I),a.push(U,I,F)}this.setIndex(a),this.setAttribute("position",new Gt(s,3)),this.setAttribute("uv",new Gt(l,2)),this.setAttribute("normal",new Gt(h,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xS(e.points,e.segments,e.phiStart,e.phiLength)}}class vx extends Yf{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new vx(e.radius,e.detail)}}class rm extends Mn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const a=e/2,s=t/2,l=Math.floor(i),u=Math.floor(r),h=l+1,p=u+1,g=e/l,v=t/u,y=[],E=[],T=[],S=[];for(let A=0;A<p;A++){const R=A*v-s;for(let w=0;w<h;w++){const D=w*g-a;E.push(D,-R,0),T.push(0,0,1),S.push(w/l),S.push(1-A/u)}}for(let A=0;A<u;A++)for(let R=0;R<l;R++){const w=R+h*A,D=R+h*(A+1),P=R+1+h*(A+1),F=R+1+h*A;y.push(w,D,F),y.push(D,P,F)}this.setIndex(y),this.setAttribute("position",new Gt(E,3)),this.setAttribute("normal",new Gt(T,3)),this.setAttribute("uv",new Gt(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rm(e.width,e.height,e.widthSegments,e.heightSegments)}}class yS extends Mn{constructor(e=.5,t=1,i=32,r=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:s},i=Math.max(3,i),r=Math.max(1,r);const l=[],u=[],h=[],p=[];let g=e;const v=(t-e)/r,y=new he,E=new ft;for(let T=0;T<=r;T++){for(let S=0;S<=i;S++){const A=a+S/i*s;y.x=g*Math.cos(A),y.y=g*Math.sin(A),u.push(y.x,y.y,y.z),h.push(0,0,1),E.x=(y.x/t+1)/2,E.y=(y.y/t+1)/2,p.push(E.x,E.y)}g+=v}for(let T=0;T<r;T++){const S=T*(i+1);for(let A=0;A<i;A++){const R=A+S,w=R,D=R+i+1,P=R+i+2,F=R+1;l.push(w,D,F),l.push(D,P,F)}}this.setIndex(l),this.setAttribute("position",new Gt(u,3)),this.setAttribute("normal",new Gt(h,3)),this.setAttribute("uv",new Gt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yS(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class _S extends Mn{constructor(e=new Ed([new ft(0,.5),new ft(-.5,-.5),new ft(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],a=[],s=[];let l=0,u=0;if(Array.isArray(e)===!1)h(e);else for(let p=0;p<e.length;p++)h(e[p]),this.addGroup(l,u,p),l+=u,u=0;this.setIndex(i),this.setAttribute("position",new Gt(r,3)),this.setAttribute("normal",new Gt(a,3)),this.setAttribute("uv",new Gt(s,2));function h(p){const g=r.length/3,v=p.extractPoints(t);let y=v.shape;const E=v.holes;bl.isClockWise(y)===!1&&(y=y.reverse());for(let S=0,A=E.length;S<A;S++){const R=E[S];bl.isClockWise(R)===!0&&(E[S]=R.reverse())}const T=bl.triangulateShape(y,E);for(let S=0,A=E.length;S<A;S++){const R=E[S];y=y.concat(R)}for(let S=0,A=y.length;S<A;S++){const R=y[S];r.push(R.x,R.y,0),a.push(0,0,1),s.push(R.x,R.y)}for(let S=0,A=T.length;S<A;S++){const R=T[S],w=R[0]+g,D=R[1]+g,P=R[2]+g;i.push(w,D,P),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return J6(t,e)}static fromJSON(e,t){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const s=t[e.shapes[r]];i.push(s)}return new _S(i,e.curveSegments)}}function J6(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class xx extends Mn{constructor(e=1,t=32,i=16,r=0,a=Math.PI*2,s=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:a,thetaStart:s,thetaLength:l},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const u=Math.min(s+l,Math.PI);let h=0;const p=[],g=new he,v=new he,y=[],E=[],T=[],S=[];for(let A=0;A<=i;A++){const R=[],w=A/i;let D=0;A===0&&s===0?D=.5/t:A===i&&u===Math.PI&&(D=-.5/t);for(let P=0;P<=t;P++){const F=P/t;g.x=-e*Math.cos(r+F*a)*Math.sin(s+w*l),g.y=e*Math.cos(s+w*l),g.z=e*Math.sin(r+F*a)*Math.sin(s+w*l),E.push(g.x,g.y,g.z),v.copy(g).normalize(),T.push(v.x,v.y,v.z),S.push(F+D,1-w),R.push(h++)}p.push(R)}for(let A=0;A<i;A++)for(let R=0;R<t;R++){const w=p[A][R+1],D=p[A][R],P=p[A+1][R],F=p[A+1][R+1];(A!==0||s>0)&&y.push(w,D,F),(A!==i-1||u<Math.PI)&&y.push(D,P,F)}this.setIndex(y),this.setAttribute("position",new Gt(E,3)),this.setAttribute("normal",new Gt(T,3)),this.setAttribute("uv",new Gt(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class ES extends Yf{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ES(e.radius,e.detail)}}class SS extends Mn{constructor(e=1,t=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const s=[],l=[],u=[],h=[],p=new he,g=new he,v=new he;for(let y=0;y<=i;y++)for(let E=0;E<=r;E++){const T=E/r*a,S=y/i*Math.PI*2;g.x=(e+t*Math.cos(S))*Math.cos(T),g.y=(e+t*Math.cos(S))*Math.sin(T),g.z=t*Math.sin(S),l.push(g.x,g.y,g.z),p.x=e*Math.cos(T),p.y=e*Math.sin(T),v.subVectors(g,p).normalize(),u.push(v.x,v.y,v.z),h.push(E/r),h.push(y/i)}for(let y=1;y<=i;y++)for(let E=1;E<=r;E++){const T=(r+1)*y+E-1,S=(r+1)*(y-1)+E-1,A=(r+1)*(y-1)+E,R=(r+1)*y+E;s.push(T,S,R),s.push(S,A,R)}this.setIndex(s),this.setAttribute("position",new Gt(l,3)),this.setAttribute("normal",new Gt(u,3)),this.setAttribute("uv",new Gt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new SS(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class TS extends Mn{constructor(e=1,t=.4,i=64,r=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:a,q:s},i=Math.floor(i),r=Math.floor(r);const l=[],u=[],h=[],p=[],g=new he,v=new he,y=new he,E=new he,T=new he,S=new he,A=new he;for(let w=0;w<=i;++w){const D=w/i*a*Math.PI*2;R(D,a,s,e,y),R(D+.01,a,s,e,E),S.subVectors(E,y),A.addVectors(E,y),T.crossVectors(S,A),A.crossVectors(T,S),T.normalize(),A.normalize();for(let P=0;P<=r;++P){const F=P/r*Math.PI*2,U=-t*Math.cos(F),I=t*Math.sin(F);g.x=y.x+(U*A.x+I*T.x),g.y=y.y+(U*A.y+I*T.y),g.z=y.z+(U*A.z+I*T.z),u.push(g.x,g.y,g.z),v.subVectors(g,y).normalize(),h.push(v.x,v.y,v.z),p.push(w/i),p.push(P/r)}}for(let w=1;w<=i;w++)for(let D=1;D<=r;D++){const P=(r+1)*(w-1)+(D-1),F=(r+1)*w+(D-1),U=(r+1)*w+D,I=(r+1)*(w-1)+D;l.push(P,F,I),l.push(F,U,I)}this.setIndex(l),this.setAttribute("position",new Gt(u,3)),this.setAttribute("normal",new Gt(h,3)),this.setAttribute("uv",new Gt(p,2));function R(w,D,P,F,U){const I=Math.cos(w),C=Math.sin(w),L=P/D*w,k=Math.cos(L);U.x=F*(2+k)*.5*I,U.y=F*(2+k)*C*.5,U.z=F*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TS(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class AS extends Mn{constructor(e=new Wb(new he(-1,-1,0),new he(-1,1,0),new he(1,1,0)),t=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const l=new he,u=new he,h=new ft;let p=new he;const g=[],v=[],y=[],E=[];T(),this.setIndex(E),this.setAttribute("position",new Gt(g,3)),this.setAttribute("normal",new Gt(v,3)),this.setAttribute("uv",new Gt(y,2));function T(){for(let w=0;w<t;w++)S(w);S(a===!1?t:0),R(),A()}function S(w){p=e.getPointAt(w/t,p);const D=s.normals[w],P=s.binormals[w];for(let F=0;F<=r;F++){const U=F/r*Math.PI*2,I=Math.sin(U),C=-Math.cos(U);u.x=C*D.x+I*P.x,u.y=C*D.y+I*P.y,u.z=C*D.z+I*P.z,u.normalize(),v.push(u.x,u.y,u.z),l.x=p.x+i*u.x,l.y=p.y+i*u.y,l.z=p.z+i*u.z,g.push(l.x,l.y,l.z)}}function A(){for(let w=1;w<=t;w++)for(let D=1;D<=r;D++){const P=(r+1)*(w-1)+(D-1),F=(r+1)*w+(D-1),U=(r+1)*w+D,I=(r+1)*(w-1)+D;E.push(P,F,I),E.push(F,U,I)}}function R(){for(let w=0;w<=t;w++)for(let D=0;D<=r;D++)h.x=w/t,h.y=D/r,y.push(h.x,h.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new AS(new xE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class HD extends Mn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new he,a=new he;if(e.index!==null){const s=e.attributes.position,l=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:l.count,materialIndex:0}]);for(let h=0,p=u.length;h<p;++h){const g=u[h],v=g.start,y=g.count;for(let E=v,T=v+y;E<T;E+=3)for(let S=0;S<3;S++){const A=l.getX(E+S),R=l.getX(E+(S+1)%3);r.fromBufferAttribute(s,A),a.fromBufferAttribute(s,R),_C(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let l=0,u=s.count/3;l<u;l++)for(let h=0;h<3;h++){const p=3*l+h,g=3*l+(h+1)%3;r.fromBufferAttribute(s,p),a.fromBufferAttribute(s,g),_C(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Gt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function _C(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var EC=Object.freeze({__proto__:null,BoxGeometry:kd,CapsuleGeometry:hS,CircleGeometry:dS,ConeGeometry:gx,CylinderGeometry:mx,DodecahedronGeometry:pS,EdgesGeometry:DD,ExtrudeGeometry:gS,IcosahedronGeometry:vS,LatheGeometry:xS,OctahedronGeometry:vx,PlaneGeometry:rm,PolyhedronGeometry:Yf,RingGeometry:yS,ShapeGeometry:_S,SphereGeometry:xx,TetrahedronGeometry:ES,TorusGeometry:SS,TorusKnotGeometry:TS,TubeGeometry:AS,WireframeGeometry:HD});class GD extends Wa{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ut(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class XD extends Xo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class jb extends Wa{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ut(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xf,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new so,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class WD extends jb{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ft(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return xn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ut(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ut(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ut(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class YD extends Wa{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ut(16777215),this.specular=new Ut(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xf,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new so,this.combine=hx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jD extends Wa{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ut(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xf,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class qD extends Wa{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xf,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class KD extends Wa{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xf,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new so,this.combine=hx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class qb extends Wa{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=aD,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Kb extends Wa{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class ZD extends Wa{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ut(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xf,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class QD extends gs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function md(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function JD(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function $D(n){function e(r,a){return n[r]-n[a]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function bA(n,e,t){const i=n.length,r=new n.constructor(i);for(let a=0,s=0;s!==i;++a){const l=t[a]*e;for(let u=0;u!==e;++u)r[s++]=n[l+u]}return r}function Zb(n,e,t,i){let r=1,a=n[0];for(;a!==void 0&&a[i]===void 0;)a=n[r++];if(a===void 0)return;let s=a[i];if(s!==void 0)if(Array.isArray(s))do s=a[i],s!==void 0&&(e.push(a.time),t.push(...s)),a=n[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[i],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=n[r++];while(a!==void 0);else do s=a[i],s!==void 0&&(e.push(a.time),t.push(s)),a=n[r++];while(a!==void 0)}function $6(n,e,t,i,r=30){const a=n.clone();a.name=e;const s=[];for(let u=0;u<a.tracks.length;++u){const h=a.tracks[u],p=h.getValueSize(),g=[],v=[];for(let y=0;y<h.times.length;++y){const E=h.times[y]*r;if(!(E<t||E>=i)){g.push(h.times[y]);for(let T=0;T<p;++T)v.push(h.values[y*p+T])}}g.length!==0&&(h.times=md(g,h.times.constructor),h.values=md(v,h.values.constructor),s.push(h))}a.tracks=s;let l=1/0;for(let u=0;u<a.tracks.length;++u)l>a.tracks[u].times[0]&&(l=a.tracks[u].times[0]);for(let u=0;u<a.tracks.length;++u)a.tracks[u].shift(-1*l);return a.resetDuration(),a}function e8(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,a=e/i;for(let s=0;s<r;++s){const l=t.tracks[s],u=l.ValueTypeName;if(u==="bool"||u==="string")continue;const h=n.tracks.find(function(A){return A.name===l.name&&A.ValueTypeName===u});if(h===void 0)continue;let p=0;const g=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);let v=0;const y=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=y/3);const E=l.times.length-1;let T;if(a<=l.times[0]){const A=p,R=g-p;T=l.values.slice(A,R)}else if(a>=l.times[E]){const A=E*g+p,R=A+g-p;T=l.values.slice(A,R)}else{const A=l.createInterpolant(),R=p,w=g-p;A.evaluate(a),T=A.resultBuffer.slice(R,w)}u==="quaternion"&&new Ps().fromArray(T).normalize().conjugate().toArray(T);const S=h.times.length;for(let A=0;A<S;++A){const R=A*y+v;if(u==="quaternion")Ps.multiplyQuaternionsFlat(h.values,R,T,0,h.values,R);else{const w=y-v*2;for(let D=0;D<w;++D)h.values[R+D]-=T[D]}}}return n.blendMode=Ob,n}class t8{static convertArray(e,t){return md(e,t)}static isTypedArray(e){return JD(e)}static getKeyframeOrder(e){return $D(e)}static sortedArray(e,t,i){return bA(e,t,i)}static flattenJSON(e,t,i,r){Zb(e,t,i,r)}static subclip(e,t,i,r,a=30){return $6(e,t,i,r,a)}static makeClipAdditive(e,t=0,i=e,r=30){return e8(e,t,i,r)}}class yx{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],a=t[i-1];e:{t:{let s;n:{i:if(!(e<r)){for(let l=i+2;;){if(r===void 0){if(e<a)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===l)break;if(a=r,r=t[++i],e<r)break t}s=t.length;break n}if(!(e>=a)){const l=t[1];e<l&&(i=2,a=l);for(let u=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===u)break;if(r=a,a=t[--i-1],e>=a)break t}s=i,i=0;break n}break e}for(;i<s;){const l=i+s>>>1;e<t[l]?s=l:i=l+1}if(r=t[i],a=t[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let s=0;s!==r;++s)t[s]=i[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class eI extends yx{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:dd,endingEnd:dd}}intervalChanged_(e,t,i){const r=this.parameterPositions;let a=e-2,s=e+1,l=r[a],u=r[s];if(l===void 0)switch(this.getSettings_().endingStart){case pd:a=e,l=2*t-i;break;case Nv:a=r.length-2,l=t+r[a]-r[a+1];break;default:a=e,l=i}if(u===void 0)switch(this.getSettings_().endingEnd){case pd:s=e,u=2*i-t;break;case Nv:s=1,u=i+r[1]-r[0];break;default:s=e-1,u=t}const h=(i-t)*.5,p=this.valueSize;this._weightPrev=h/(t-l),this._weightNext=h/(u-i),this._offsetPrev=a*p,this._offsetNext=s*p}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,u=e*l,h=u-l,p=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,y=this._weightNext,E=(i-t)/(r-t),T=E*E,S=T*E,A=-v*S+2*v*T-v*E,R=(1+v)*S+(-1.5-2*v)*T+(-.5+v)*E+1,w=(-1-y)*S+(1.5+y)*T+.5*E,D=y*S-y*T;for(let P=0;P!==l;++P)a[P]=A*s[p+P]+R*s[h+P]+w*s[u+P]+D*s[g+P];return a}}class Qb extends yx{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,u=e*l,h=u-l,p=(i-t)/(r-t),g=1-p;for(let v=0;v!==l;++v)a[v]=s[h+v]*g+s[u+v]*p;return a}}class tI extends yx{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Yo{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=md(t,this.TimeBufferType),this.values=md(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:md(e.times,Array),values:md(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new tI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Qb(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new eI(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Ov:t=this.InterpolantFactoryMethodDiscrete;break;case mE:t=this.InterpolantFactoryMethodLinear;break;case T_:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ov;case this.InterpolantFactoryMethodLinear:return mE;case this.InterpolantFactoryMethodSmooth:return T_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let a=0,s=r-1;for(;a!==r&&i[a]<e;)++a;for(;s!==-1&&i[s]>t;)--s;if(++s,a!==0||s!==r){a>=s&&(s=Math.max(s,1),a=s-1);const l=this.getValueSize();this.times=i.slice(a,s),this.values=this.values.slice(a*l,s*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let l=0;l!==a;l++){const u=i[l];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,u),e=!1;break}if(s!==null&&s>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,u,s),e=!1;break}s=u}if(r!==void 0&&JD(r))for(let l=0,u=r.length;l!==u;++l){const h=r[l];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,h),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===T_,a=e.length-1;let s=1;for(let l=1;l<a;++l){let u=!1;const h=e[l],p=e[l+1];if(h!==p&&(l!==1||h!==e[0]))if(r)u=!0;else{const g=l*i,v=g-i,y=g+i;for(let E=0;E!==i;++E){const T=t[g+E];if(T!==t[v+E]||T!==t[y+E]){u=!0;break}}}if(u){if(l!==s){e[s]=e[l];const g=l*i,v=s*i;for(let y=0;y!==i;++y)t[v+y]=t[g+y]}++s}}if(a>0){e[s]=e[a];for(let l=a*i,u=s*i,h=0;h!==i;++h)t[u+h]=t[l+h];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Yo.prototype.ValueTypeName="";Yo.prototype.TimeBufferType=Float32Array;Yo.prototype.ValueBufferType=Float32Array;Yo.prototype.DefaultInterpolation=mE;class zd extends Yo{constructor(e,t,i){super(e,t,i)}}zd.prototype.ValueTypeName="bool";zd.prototype.ValueBufferType=Array;zd.prototype.DefaultInterpolation=Ov;zd.prototype.InterpolantFactoryMethodLinear=void 0;zd.prototype.InterpolantFactoryMethodSmooth=void 0;class Jb extends Yo{constructor(e,t,i,r){super(e,t,i,r)}}Jb.prototype.ValueTypeName="color";class kv extends Yo{constructor(e,t,i,r){super(e,t,i,r)}}kv.prototype.ValueTypeName="number";class nI extends yx{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,u=(i-t)/(r-t);let h=e*l;for(let p=h+l;h!==p;h+=4)Ps.slerpFlat(a,0,s,h-l,s,h,u);return a}}class _x extends Yo{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new nI(this.times,this.values,this.getValueSize(),e)}}_x.prototype.ValueTypeName="quaternion";_x.prototype.InterpolantFactoryMethodSmooth=void 0;class Vd extends Yo{constructor(e,t,i){super(e,t,i)}}Vd.prototype.ValueTypeName="string";Vd.prototype.ValueBufferType=Array;Vd.prototype.DefaultInterpolation=Ov;Vd.prototype.InterpolantFactoryMethodLinear=void 0;Vd.prototype.InterpolantFactoryMethodSmooth=void 0;class zv extends Yo{constructor(e,t,i,r){super(e,t,i,r)}}zv.prototype.ValueTypeName="vector";class Vv{constructor(e="",t=-1,i=[],r=nS){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=ao(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let s=0,l=i.length;s!==l;++s)t.push(i8(i[s]).scale(r));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=i.length;a!==s;++a)t.push(Yo.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const a=t.length,s=[];for(let l=0;l<a;l++){let u=[],h=[];u.push((l+a-1)%a,l,(l+1)%a),h.push(0,1,0);const p=$D(u);u=bA(u,1,p),h=bA(h,1,p),!r&&u[0]===0&&(u.push(a),h.push(h[0])),s.push(new kv(".morphTargetInfluences["+t[l].name+"]",u,h).scale(1/i))}return new this(e,-1,s)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let l=0,u=e.length;l<u;l++){const h=e[l],p=h.name.match(a);if(p&&p.length>1){const g=p[1];let v=r[g];v||(r[g]=v=[]),v.push(h)}}const s=[];for(const l in r)s.push(this.CreateFromMorphTargetSequence(l,r[l],t,i));return s}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(g,v,y,E,T){if(y.length!==0){const S=[],A=[];Zb(y,S,A,E),S.length!==0&&T.push(new g(v,S,A))}},r=[],a=e.name||"default",s=e.fps||30,l=e.blendMode;let u=e.length||-1;const h=e.hierarchy||[];for(let g=0;g<h.length;g++){const v=h[g].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const y={};let E;for(E=0;E<v.length;E++)if(v[E].morphTargets)for(let T=0;T<v[E].morphTargets.length;T++)y[v[E].morphTargets[T]]=-1;for(const T in y){const S=[],A=[];for(let R=0;R!==v[E].morphTargets.length;++R){const w=v[E];S.push(w.time),A.push(w.morphTarget===T?1:0)}r.push(new kv(".morphTargetInfluence["+T+"]",S,A))}u=y.length*s}else{const y=".bones["+t[g].name+"]";i(zv,y+".position",v,"pos",r),i(_x,y+".quaternion",v,"rot",r),i(zv,y+".scale",v,"scl",r)}}return r.length===0?null:new this(a,u,r,l)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function n8(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return kv;case"vector":case"vector2":case"vector3":case"vector4":return zv;case"color":return Jb;case"quaternion":return _x;case"bool":case"boolean":return zd;case"string":return Vd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function i8(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=n8(n.type);if(n.times===void 0){const t=[],i=[];Zb(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const yc={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class $b{constructor(e,t,i){const r=this;let a=!1,s=0,l=0,u;const h=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(p){l++,a===!1&&r.onStart!==void 0&&r.onStart(p,s,l),a=!0},this.itemEnd=function(p){s++,r.onProgress!==void 0&&r.onProgress(p,s,l),s===l&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(p){r.onError!==void 0&&r.onError(p)},this.resolveURL=function(p){return u?u(p):p},this.setURLModifier=function(p){return u=p,this},this.addHandler=function(p,g){return h.push(p,g),this},this.removeHandler=function(p){const g=h.indexOf(p);return g!==-1&&h.splice(g,2),this},this.getHandler=function(p){for(let g=0,v=h.length;g<v;g+=2){const y=h[g],E=h[g+1];if(y.global&&(y.lastIndex=0),y.test(p))return E}return null}}}const iI=new $b;class zs{constructor(e){this.manager=e!==void 0?e:iI,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,a){i.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}zs.DEFAULT_MATERIAL_NAME="__DEFAULT";const au={};class r8 extends Error{constructor(e,t){super(e),this.response=t}}class _u extends zs{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=yc.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(au[e]!==void 0){au[e].push({onLoad:t,onProgress:i,onError:r});return}au[e]=[],au[e].push({onLoad:t,onProgress:i,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,u=this.responseType;fetch(s).then(h=>{if(h.status===200||h.status===0){if(h.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||h.body===void 0||h.body.getReader===void 0)return h;const p=au[e],g=h.body.getReader(),v=h.headers.get("X-File-Size")||h.headers.get("Content-Length"),y=v?parseInt(v):0,E=y!==0;let T=0;const S=new ReadableStream({start(A){R();function R(){g.read().then(({done:w,value:D})=>{if(w)A.close();else{T+=D.byteLength;const P=new ProgressEvent("progress",{lengthComputable:E,loaded:T,total:y});for(let F=0,U=p.length;F<U;F++){const I=p[F];I.onProgress&&I.onProgress(P)}A.enqueue(D),R()}},w=>{A.error(w)})}}});return new Response(S)}else throw new r8(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(u){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(p=>new DOMParser().parseFromString(p,l));case"json":return h.json();default:if(l==="")return h.text();{const g=/charset="?([^;"\s]*)"?/i.exec(l),v=g&&g[1]?g[1].toLowerCase():void 0,y=new TextDecoder(v);return h.arrayBuffer().then(E=>y.decode(E))}}}).then(h=>{yc.add(`file:${e}`,h);const p=au[e];delete au[e];for(let g=0,v=p.length;g<v;g++){const y=p[g];y.onLoad&&y.onLoad(h)}}).catch(h=>{const p=au[e];if(p===void 0)throw this.manager.itemError(e),h;delete au[e];for(let g=0,v=p.length;g<v;g++){const y=p[g];y.onError&&y.onError(h)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class a8 extends zs{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new _u(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(u){r?r(u):console.error(u),a.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Vv.parse(e[i]);t.push(r)}return t}}class s8 extends zs{constructor(e){super(e)}load(e,t,i,r){const a=this,s=[],l=new fS,u=new _u(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(a.withCredentials);let h=0;function p(g){u.load(e[g],function(v){const y=a.parse(v,!0);s[g]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},h+=1,h===6&&(y.mipmapCount===1&&(l.minFilter=Xr),l.image=s,l.format=y.format,l.needsUpdate=!0,t&&t(l))},i,r)}if(Array.isArray(e))for(let g=0,v=e.length;g<v;++g)p(g);else u.load(e,function(g){const v=a.parse(g,!0);if(v.isCubemap){const y=v.mipmaps.length/v.mipmapCount;for(let E=0;E<y;E++){s[E]={mipmaps:[]};for(let T=0;T<v.mipmapCount;T++)s[E].mipmaps.push(v.mipmaps[E*v.mipmapCount+T]),s[E].format=v.format,s[E].width=v.width,s[E].height=v.height}l.image=s}else l.image.width=v.width,l.image.height=v.height,l.mipmaps=v.mipmaps;v.mipmapCount===1&&(l.minFilter=Xr),l.format=v.format,l.needsUpdate=!0,t&&t(l)},i,r);return l}}const hp=new WeakMap;class Hv extends zs{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=yc.get(`image:${e}`);if(s!==void 0){if(s.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0);else{let g=hp.get(s);g===void 0&&(g=[],hp.set(s,g)),g.push({onLoad:t,onError:r})}return s}const l=Uv("img");function u(){p(),t&&t(this);const g=hp.get(this)||[];for(let v=0;v<g.length;v++){const y=g[v];y.onLoad&&y.onLoad(this)}hp.delete(this),a.manager.itemEnd(e)}function h(g){p(),r&&r(g),yc.remove(`image:${e}`);const v=hp.get(this)||[];for(let y=0;y<v.length;y++){const E=v[y];E.onError&&E.onError(g)}hp.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function p(){l.removeEventListener("load",u,!1),l.removeEventListener("error",h,!1)}return l.addEventListener("load",u,!1),l.addEventListener("error",h,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),yc.add(`image:${e}`,l),a.manager.itemStart(e),l.src=e,l}}class o8 extends zs{constructor(e){super(e)}load(e,t,i,r){const a=new px;a.colorSpace=Pa;const s=new Hv(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let l=0;function u(h){s.load(e[h],function(p){a.images[h]=p,l++,l===6&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}for(let h=0;h<e.length;++h)u(h);return a}}class l8 extends zs{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new Sc,l=new _u(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(a.withCredentials),l.load(e,function(u){let h;try{h=a.parse(u)}catch(p){if(r!==void 0)r(p);else{console.error(p);return}}h.image!==void 0?s.image=h.image:h.data!==void 0&&(s.image.width=h.width,s.image.height=h.height,s.image.data=h.data),s.wrapS=h.wrapS!==void 0?h.wrapS:ko,s.wrapT=h.wrapT!==void 0?h.wrapT:ko,s.magFilter=h.magFilter!==void 0?h.magFilter:Xr,s.minFilter=h.minFilter!==void 0?h.minFilter:Xr,s.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.colorSpace!==void 0&&(s.colorSpace=h.colorSpace),h.flipY!==void 0&&(s.flipY=h.flipY),h.format!==void 0&&(s.format=h.format),h.type!==void 0&&(s.type=h.type),h.mipmaps!==void 0&&(s.mipmaps=h.mipmaps,s.minFilter=xc),h.mipmapCount===1&&(s.minFilter=Xr),h.generateMipmaps!==void 0&&(s.generateMipmaps=h.generateMipmaps),s.needsUpdate=!0,t&&t(s,h)},i,r),s}}class c8 extends zs{constructor(e){super(e)}load(e,t,i,r){const a=new ar,s=new Hv(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(l){a.image=l,a.needsUpdate=!0,t!==void 0&&t(a)},i,r),a}}class jf extends Qn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ut(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class rI extends jf{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Qn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ut(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const l2=new cn,SC=new he,TC=new he;class eM{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ft(512,512),this.mapType=Go,this.map=null,this.mapPass=null,this.matrix=new cn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new im,this._frameExtents=new ft(1,1),this._viewportCount=1,this._viewports=[new Kn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;SC.setFromMatrixPosition(e.matrixWorld),t.position.copy(SC),TC.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(TC),t.updateMatrixWorld(),l2.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(l2),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(l2)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class u8 extends eM{constructor(){super(new ia(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=Hp*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(i!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=i,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class aI extends jf{constructor(e,t,i=0,r=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Qn.DEFAULT_UP),this.updateMatrix(),this.target=new Qn,this.distance=i,this.angle=r,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new u8}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const AC=new cn,Gg=new he,c2=new he;class f8 extends eM{constructor(){super(new ia(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ft(4,2),this._viewportCount=6,this._viewports=[new Kn(2,1,1,1),new Kn(0,1,1,1),new Kn(3,1,1,1),new Kn(1,1,1,1),new Kn(3,0,1,1),new Kn(1,0,1,1)],this._cubeDirections=[new he(1,0,0),new he(-1,0,0),new he(0,0,1),new he(0,0,-1),new he(0,1,0),new he(0,-1,0)],this._cubeUps=[new he(0,1,0),new he(0,1,0),new he(0,1,0),new he(0,1,0),new he(0,0,1),new he(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),Gg.setFromMatrixPosition(e.matrixWorld),i.position.copy(Gg),c2.copy(i.position),c2.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(c2),i.updateMatrixWorld(),r.makeTranslation(-Gg.x,-Gg.y,-Gg.z),AC.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(AC)}}class sI extends jf{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new f8}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Ex extends aS{constructor(e=-1,t=1,i=1,r=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,s=i+e,l=r+t,u=r-t;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=h*this.view.offsetX,s=a+h*this.view.width,l-=p*this.view.offsetY,u=l-p*this.view.height}this.projectionMatrix.makeOrthographic(a,s,l,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class h8 extends eM{constructor(){super(new Ex(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class oI extends jf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Qn.DEFAULT_UP),this.updateMatrix(),this.target=new Qn,this.shadow=new h8}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class lI extends jf{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class cI extends jf{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class uI{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new he)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*r),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*i),t.addScaledVector(s[4],1.092548*(i*r)),t.addScaledVector(s[5],1.092548*(r*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(i*a)),t.addScaledVector(s[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*r),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*i),t.addScaledVector(s[4],2*.429043*i*r),t.addScaledVector(s[5],2*.429043*r*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*i*a),t.addScaledVector(s[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*i*a,t[8]=.546274*(i*i-r*r)}}class fI extends jf{constructor(e=new uI,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class bS extends zs{constructor(e){super(e),this.textures={}}load(e,t,i,r){const a=this,s=new _u(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(u){r?r(u):console.error(u),a.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ut().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(r.uniforms[a]={},s.type){case"t":r.uniforms[a].value=i(s.value);break;case"c":r.uniforms[a].value=new Ut().setHex(s.value);break;case"v2":r.uniforms[a].value=new ft().fromArray(s.value);break;case"v3":r.uniforms[a].value=new he().fromArray(s.value);break;case"v4":r.uniforms[a].value=new Kn().fromArray(s.value);break;case"m3":r.uniforms[a].value=new En().fromArray(s.value);break;case"m4":r.uniforms[a].value=new cn().fromArray(s.value);break;default:r.uniforms[a].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new ft().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ft().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return bS.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:GD,SpriteMaterial:Pb,RawShaderMaterial:XD,ShaderMaterial:Xo,PointsMaterial:kb,MeshPhysicalMaterial:WD,MeshStandardMaterial:jb,MeshPhongMaterial:YD,MeshToonMaterial:jD,MeshNormalMaterial:qD,MeshLambertMaterial:KD,MeshDepthMaterial:qb,MeshDistanceMaterial:Kb,MeshBasicMaterial:Wf,MeshMatcapMaterial:ZD,LineDashedMaterial:QD,LineBasicMaterial:gs,Material:Wa};return new t[e]}}class MA{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class hI extends Mn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class dI extends zs{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new _u(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(u){r?r(u):console.error(u),a.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(y,E){if(t[E]!==void 0)return t[E];const S=y.interleavedBuffers[E],A=a(y,S.buffer),R=Tp(S.type,A),w=new lS(R,S.stride);return w.uuid=S.uuid,t[E]=w,w}function a(y,E){if(i[E]!==void 0)return i[E];const S=y.arrayBuffers[E],A=new Uint32Array(S).buffer;return i[E]=A,A}const s=e.isInstancedBufferGeometry?new hI:new Mn,l=e.data.index;if(l!==void 0){const y=Tp(l.type,l.array);s.setIndex(new Ai(y,1))}const u=e.data.attributes;for(const y in u){const E=u[y];let T;if(E.isInterleavedBufferAttribute){const S=r(e.data,E.data);T=new Cd(S,E.itemSize,E.offset,E.normalized)}else{const S=Tp(E.type,E.array),A=E.isInstancedBufferAttribute?Wp:Ai;T=new A(S,E.itemSize,E.normalized)}E.name!==void 0&&(T.name=E.name),E.usage!==void 0&&T.setUsage(E.usage),s.setAttribute(y,T)}const h=e.data.morphAttributes;if(h)for(const y in h){const E=h[y],T=[];for(let S=0,A=E.length;S<A;S++){const R=E[S];let w;if(R.isInterleavedBufferAttribute){const D=r(e.data,R.data);w=new Cd(D,R.itemSize,R.offset,R.normalized)}else{const D=Tp(R.type,R.array);w=new Ai(D,R.itemSize,R.normalized)}R.name!==void 0&&(w.name=R.name),T.push(w)}s.morphAttributes[y]=T}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let y=0,E=g.length;y!==E;++y){const T=g[y];s.addGroup(T.start,T.count,T.materialIndex)}const v=e.data.boundingSphere;return v!==void 0&&(s.boundingSphere=new Ea().fromJSON(v)),e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class d8 extends zs{constructor(e){super(e)}load(e,t,i,r){const a=this,s=this.path===""?MA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const l=new _u(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){let h=null;try{h=JSON.parse(u)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const p=h.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(h,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?MA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new _u(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),l=JSON.parse(s),u=l.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(l)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){t!==void 0&&t(h)}),l=this.parseTextures(e.textures,s),u=this.parseMaterials(e.materials,l),h=this.parseObject(e.object,a,u,l,i),p=this.parseSkeletons(e.skeletons,h);if(this.bindSkeletons(h,p),this.bindLightTargets(h),t!==void 0){let g=!1;for(const v in s)if(s[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(h)}return h}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,r,l,s,t),h=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,h),this.bindLightTargets(u),u}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new Ed().fromJSON(e[i]);t[a.uuid]=a}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const l=new cS().fromJSON(e[a],r);i[l.uuid]=l}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new dI;for(let a=0,s=e.length;a<s;a++){let l;const u=e[a];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(u);break;default:u.type in EC?l=EC[u.type].fromJSON(u,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}l.uuid=u.uuid,u.name!==void 0&&(l.name=u.name),u.userData!==void 0&&(l.userData=u.userData),i[u.uuid]=l}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const a=new bS;a.setTextures(t);for(let s=0,l=e.length;s<l;s++){const u=e[s];i[u.uuid]===void 0&&(i[u.uuid]=a.parse(u)),r[u.uuid]=i[u.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=Vv.parse(r);t[a.uuid]=a}return t}parseImages(e,t){const i=this,r={};let a;function s(u){return i.manager.itemStart(u),a.load(u,function(){i.manager.itemEnd(u)},void 0,function(){i.manager.itemError(u),i.manager.itemEnd(u)})}function l(u){if(typeof u=="string"){const h=u,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:i.resourcePath+h;return s(p)}else return u.data?{data:Tp(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new $b(t);a=new Hv(u),a.setCrossOrigin(this.crossOrigin);for(let h=0,p=e.length;h<p;h++){const g=e[h],v=g.url;if(Array.isArray(v)){const y=[];for(let E=0,T=v.length;E<T;E++){const S=v[E],A=l(S);A!==null&&(A instanceof HTMLImageElement?y.push(A):y.push(new Sc(A.data,A.width,A.height)))}r[g.uuid]=new If(y)}else{const y=l(g.url);r[g.uuid]=new If(y)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function a(s){if(typeof s=="string"){const l=s,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await r.loadAsync(u)}else return s.data?{data:Tp(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){r=new Hv(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,l=e.length;s<l;s++){const u=e[s],h=u.url;if(Array.isArray(h)){const p=[];for(let g=0,v=h.length;g<v;g++){const y=h[g],E=await a(y);E!==null&&(E instanceof HTMLImageElement?p.push(E):p.push(new Sc(E.data,E.width,E.height)))}i[u.uuid]=new If(p)}else{const p=await a(u.url);i[u.uuid]=new If(p)}}}return i}parseTextures(e,t){function i(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const r={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const l=e[a];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const u=t[l.image],h=u.data;let p;Array.isArray(h)?(p=new px,h.length===6&&(p.needsUpdate=!0)):(h&&h.data?p=new Sc:p=new ar,h&&(p.needsUpdate=!0)),p.source=u,p.uuid=l.uuid,l.name!==void 0&&(p.name=l.name),l.mapping!==void 0&&(p.mapping=i(l.mapping,p8)),l.channel!==void 0&&(p.channel=l.channel),l.offset!==void 0&&p.offset.fromArray(l.offset),l.repeat!==void 0&&p.repeat.fromArray(l.repeat),l.center!==void 0&&p.center.fromArray(l.center),l.rotation!==void 0&&(p.rotation=l.rotation),l.wrap!==void 0&&(p.wrapS=i(l.wrap[0],bC),p.wrapT=i(l.wrap[1],bC)),l.format!==void 0&&(p.format=l.format),l.internalFormat!==void 0&&(p.internalFormat=l.internalFormat),l.type!==void 0&&(p.type=l.type),l.colorSpace!==void 0&&(p.colorSpace=l.colorSpace),l.minFilter!==void 0&&(p.minFilter=i(l.minFilter,MC)),l.magFilter!==void 0&&(p.magFilter=i(l.magFilter,MC)),l.anisotropy!==void 0&&(p.anisotropy=l.anisotropy),l.flipY!==void 0&&(p.flipY=l.flipY),l.generateMipmaps!==void 0&&(p.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(p.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(p.compareFunction=l.compareFunction),l.userData!==void 0&&(p.userData=l.userData),r[l.uuid]=p}return r}parseObject(e,t,i,r,a){let s;function l(v){return t[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),t[v]}function u(v){if(v!==void 0){if(Array.isArray(v)){const y=[];for(let E=0,T=v.length;E<T;E++){const S=v[E];i[S]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",S),y.push(i[S])}return y}return i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),i[v]}}function h(v){return r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),r[v]}let p,g;switch(e.type){case"Scene":s=new Fb,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Ut(e.background):s.background=h(e.background)),e.environment!==void 0&&(s.environment=h(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new oS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new sS(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new ia(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Ex(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new lI(e.color,e.intensity);break;case"DirectionalLight":s=new oI(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new sI(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new cI(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new aI(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new rI(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new fI().fromJSON(e);break;case"SkinnedMesh":p=l(e.geometry),g=u(e.material),s=new MD(p,g),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":p=l(e.geometry),g=u(e.material),s=new Nr(p,g);break;case"InstancedMesh":p=l(e.geometry),g=u(e.material);const v=e.count,y=e.instanceMatrix,E=e.instanceColor;s=new wD(p,g,v),s.instanceMatrix=new Wp(new Float32Array(y.array),16),E!==void 0&&(s.instanceColor=new Wp(new Float32Array(E.array),E.itemSize));break;case"BatchedMesh":p=l(e.geometry),g=u(e.material),s=new RD(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),s.geometry=p,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(T=>{let S=null,A=null;return T.boundingBox!==void 0&&(S=new Ha().fromJSON(T.boundingBox)),T.boundingSphere!==void 0&&(A=new Ea().fromJSON(T.boundingSphere)),{...T,boundingBox:S,boundingSphere:A}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=h(e.matricesTexture.uuid),s._indirectTexture=h(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=h(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(s.boundingSphere=new Ea().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(s.boundingBox=new Ha().fromJSON(e.boundingBox));break;case"LOD":s=new bD;break;case"Line":s=new Bf(l(e.geometry),u(e.material));break;case"LineLoop":s=new CD(l(e.geometry),u(e.material));break;case"LineSegments":s=new wc(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":s=new OD(l(e.geometry),u(e.material));break;case"Sprite":s=new AD(u(e.material));break;case"Group":s=new Ap;break;case"Bone":s=new Bb;break;default:s=new Qn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let y=0;y<v.length;y++)s.add(this.parseObject(v[y],t,i,r,a))}if(e.animations!==void 0){const v=e.animations;for(let y=0;y<v.length;y++){const E=v[y];s.animations.push(a[E])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const v=e.levels;for(let y=0;y<v.length;y++){const E=v[y],T=s.getObjectByProperty("uuid",E.object);T!==void 0&&s.addLevel(T,E.distance,E.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new Qn}})}}const p8={UVMapping:KE,CubeReflectionMapping:xu,CubeRefractionMapping:Ff,EquirectangularReflectionMapping:Mv,EquirectangularRefractionMapping:wv,CubeUVReflectionMapping:em},bC={RepeatWrapping:Rv,ClampToEdgeWrapping:ko,MirroredRepeatWrapping:Cv},MC={NearestFilter:_a,NearestMipmapNearestFilter:Sb,NearestMipmapLinearFilter:Sp,LinearFilter:Xr,LinearMipmapNearestFilter:iv,LinearMipmapLinearFilter:xc},u2=new WeakMap;class m8 extends zs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=yc.get(`image-bitmap:${e}`);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(h=>{if(u2.has(s)===!0)r&&r(u2.get(s)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(h),a.manager.itemEnd(e),h});return}return setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const u=fetch(e,l).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(h){return yc.add(`image-bitmap:${e}`,h),t&&t(h),a.manager.itemEnd(e),h}).catch(function(h){r&&r(h),u2.set(u,h),yc.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});yc.add(`image-bitmap:${e}`,u),a.manager.itemStart(e)}}let Xy;class tM{static getContext(){return Xy===void 0&&(Xy=new(window.AudioContext||window.webkitAudioContext)),Xy}static setContext(e){Xy=e}}class g8 extends zs{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new _u(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(u){try{const h=u.slice(0);tM.getContext().decodeAudioData(h,function(g){t(g)}).catch(l)}catch(h){l(h)}},i,r);function l(u){r?r(u):console.error(u),a.manager.itemError(e)}}}const wC=new cn,RC=new cn,Zh=new cn;class v8{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ia,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ia,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Zh.copy(e.projectionMatrix);const r=t.eyeSep/2,a=r*t.near/t.focus,s=t.near*Math.tan(_d*t.fov*.5)/t.zoom;let l,u;RC.elements[12]=-r,wC.elements[12]=r,l=-s*t.aspect+a,u=s*t.aspect+a,Zh.elements[0]=2*t.near/(u-l),Zh.elements[8]=(u+l)/(u-l),this.cameraL.projectionMatrix.copy(Zh),l=-s*t.aspect-a,u=s*t.aspect-a,Zh.elements[0]=2*t.near/(u-l),Zh.elements[8]=(u+l)/(u-l),this.cameraR.projectionMatrix.copy(Zh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(RC),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(wC)}}class pI extends ia{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class nM{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const Qh=new he,f2=new Ps,x8=new he,Jh=new he,$h=new he;class y8 extends Qn{constructor(){super(),this.type="AudioListener",this.context=tM.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new nM}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Qh,f2,x8),Jh.set(0,0,-1).applyQuaternion(f2),$h.set(0,1,0).applyQuaternion(f2),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Qh.x,i),t.positionY.linearRampToValueAtTime(Qh.y,i),t.positionZ.linearRampToValueAtTime(Qh.z,i),t.forwardX.linearRampToValueAtTime(Jh.x,i),t.forwardY.linearRampToValueAtTime(Jh.y,i),t.forwardZ.linearRampToValueAtTime(Jh.z,i),t.upX.linearRampToValueAtTime($h.x,i),t.upY.linearRampToValueAtTime($h.y,i),t.upZ.linearRampToValueAtTime($h.z,i)}else t.setPosition(Qh.x,Qh.y,Qh.z),t.setOrientation(Jh.x,Jh.y,Jh.z,$h.x,$h.y,$h.z)}}class mI extends Qn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const ed=new he,CC=new Ps,_8=new he,td=new he;class E8 extends mI{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ed,CC,_8),td.set(0,0,1).applyQuaternion(CC);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ed.x,i),t.positionY.linearRampToValueAtTime(ed.y,i),t.positionZ.linearRampToValueAtTime(ed.z,i),t.orientationX.linearRampToValueAtTime(td.x,i),t.orientationY.linearRampToValueAtTime(td.y,i),t.orientationZ.linearRampToValueAtTime(td.z,i)}else t.setPosition(ed.x,ed.y,ed.z),t.setOrientation(td.x,td.y,td.z)}}class S8{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class gI{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,a,s;switch(t){case"quaternion":r=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,a=e*r+r;let s=this.cumulativeWeight;if(s===0){for(let l=0;l!==r;++l)i[a+l]=i[l];s=t}else{s+=t;const l=t/s;this._mixBufferRegion(i,a,0,l,r)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const u=t*this._origIndex;this._mixBufferRegion(i,r,u,1-a,t)}s>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let u=t,h=t+t;u!==h;++u)if(i[u]!==i[u+t]){l.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let a=i,s=r;a!==s;++a)t[a]=t[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,a){if(r>=.5)for(let s=0;s!==a;++s)e[t+s]=e[i+s]}_slerp(e,t,i,r){Ps.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,a){const s=this._workIndex*a;Ps.multiplyQuaternionsFlat(e,s,e,t,e,i),Ps.slerpFlat(e,t,e,t,e,s,r)}_lerp(e,t,i,r,a){const s=1-r;for(let l=0;l!==a;++l){const u=t+l;e[u]=e[u]*s+e[i+l]*r}}_lerpAdditive(e,t,i,r,a){for(let s=0;s!==a;++s){const l=t+s;e[l]=e[l]+e[i+s]*r}}}const iM="\\[\\]\\.:\\/",T8=new RegExp("["+iM+"]","g"),rM="[^"+iM+"]",A8="[^"+iM.replace("\\.","")+"]",b8=/((?:WC+[\/:])*)/.source.replace("WC",rM),M8=/(WCOD+)?/.source.replace("WCOD",A8),w8=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",rM),R8=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",rM),C8=new RegExp("^"+b8+M8+w8+R8+"$"),O8=["material","materials","bones","map"];class N8{constructor(e,t,i){const r=i||qn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class qn{constructor(e,t,i){this.path=t,this.parsedPath=i||qn.parseTrackName(t),this.node=qn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new qn.Composite(e,t,i):new qn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(T8,"")}static parseTrackName(e){const t=C8.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);O8.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(a){for(let s=0;s<a.length;s++){const l=a[s];if(l.name===t||l.uuid===t)return l;const u=i(l.children);if(u)return u}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let a=t.propertyIndex;if(e||(e=qn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let h=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===h){h=p;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(h!==void 0){if(e[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[h]}}const s=e[r];if(s===void 0){const h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}qn.Composite=N8;qn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};qn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};qn.prototype.GetterByBindingType=[qn.prototype._getValue_direct,qn.prototype._getValue_array,qn.prototype._getValue_arrayElement,qn.prototype._getValue_toArray];qn.prototype.SetterByBindingTypeAndVersioning=[[qn.prototype._setValue_direct,qn.prototype._setValue_direct_setNeedsUpdate,qn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[qn.prototype._setValue_array,qn.prototype._setValue_array_setNeedsUpdate,qn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[qn.prototype._setValue_arrayElement,qn.prototype._setValue_arrayElement_setNeedsUpdate,qn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[qn.prototype._setValue_fromArray,qn.prototype._setValue_fromArray_setNeedsUpdate,qn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class D8{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ao(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length;let l,u=e.length,h=this.nCachedObjects_;for(let p=0,g=arguments.length;p!==g;++p){const v=arguments[p],y=v.uuid;let E=t[y];if(E===void 0){E=u++,t[y]=E,e.push(v);for(let T=0,S=s;T!==S;++T)a[T].push(new qn(v,i[T],r[T]))}else if(E<h){l=e[E];const T=--h,S=e[T];t[S.uuid]=E,e[E]=S,t[y]=T,e[T]=v;for(let A=0,R=s;A!==R;++A){const w=a[A],D=w[T];let P=w[E];w[E]=D,P===void 0&&(P=new qn(v,i[A],r[A])),w[T]=P}}else e[E]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],h=u.uuid,p=t[h];if(p!==void 0&&p>=a){const g=a++,v=e[g];t[v.uuid]=p,e[p]=v,t[h]=g,e[g]=u;for(let y=0,E=r;y!==E;++y){const T=i[y],S=T[g],A=T[p];T[p]=S,T[g]=A}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,s=e.length;for(let l=0,u=arguments.length;l!==u;++l){const h=arguments[l],p=h.uuid,g=t[p];if(g!==void 0)if(delete t[p],g<a){const v=--a,y=e[v],E=--s,T=e[E];t[y.uuid]=g,e[g]=y,t[T.uuid]=v,e[v]=T,e.pop();for(let S=0,A=r;S!==A;++S){const R=i[S],w=R[v],D=R[E];R[g]=w,R[v]=D,R.pop()}}else{const v=--s,y=e[v];v>0&&(t[y.uuid]=g),e[g]=y,e.pop();for(let E=0,T=r;E!==T;++E){const S=i[E];S[g]=S[v],S.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const s=this._paths,l=this._parsedPaths,u=this._objects,h=u.length,p=this.nCachedObjects_,g=new Array(h);r=a.length,i[e]=r,s.push(e),l.push(t),a.push(g);for(let v=p,y=u.length;v!==y;++v){const E=u[v];g[v]=new qn(E,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,s=this._bindings,l=s.length-1,u=s[l],h=e[l];t[h]=i,s[i]=u,s.pop(),a[i]=a[l],a.pop(),r[i]=r[l],r.pop()}}}class vI{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const a=t.tracks,s=a.length,l=new Array(s),u={endingStart:dd,endingEnd:dd};for(let h=0;h!==s;++h){const p=a[h].createInterpolant(null);l[h]=p,p.settings=u}this._interpolantSettings=u,this._interpolants=l,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=iD,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,a=e._clip.duration,s=a/r,l=r/a;e.warp(1,s,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,a=r.time,s=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const u=l.parameterPositions,h=l.sampleValues;return u[0]=a,u[1]=a+i,h[0]=e/s,h[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const u=(e-a)*i;u<0||i===0?t=0:(this._startTime=null,t=i*u)}t*=this._updateTimeScale(e);const s=this._updateTime(t),l=this._updateWeight(e);if(l>0){const u=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case Ob:for(let p=0,g=u.length;p!==g;++p)u[p].evaluate(s),h[p].accumulateAdditive(l);break;case nS:default:for(let p=0,g=u.length;p!==g;++p)u[p].evaluate(s),h[p].accumulate(r,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const s=i===rD;if(e===0)return a===-1?r:s&&(a&1)===1?t-r:r;if(i===nD){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=t||r<0){const l=Math.floor(r/t);r-=t*l,a+=Math.abs(l);const u=this.repetitions-a;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const h=e<0;this._setEndings(h,!h,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(s&&(a&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=pd,r.endingEnd=pd):(e?r.endingStart=this.zeroSlopeAtStart?pd:dd:r.endingStart=Nv,t?r.endingEnd=this.zeroSlopeAtEnd?pd:dd:r.endingEnd=Nv)}_scheduleFading(e,t,i){const r=this._mixer,a=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=a,u[0]=t,l[1]=a+e,u[1]=i,this}}const I8=new Float32Array(1);class L8 extends Mc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,s=e._propertyBindings,l=e._interpolants,u=i.uuid,h=this._bindingsByRootAndName;let p=h[u];p===void 0&&(p={},h[u]=p);for(let g=0;g!==a;++g){const v=r[g],y=v.name;let E=p[y];if(E!==void 0)++E.referenceCount,s[g]=E;else{if(E=s[g],E!==void 0){E._cacheIndex===null&&(++E.referenceCount,this._addInactiveBinding(E,u,y));continue}const T=t&&t._propertyBindings[g].binding.parsedPath;E=new gI(qn.create(i,y,T),v.ValueTypeName,v.getValueSize()),++E.referenceCount,this._addInactiveBinding(E,u,y),s[g]=E}l[g].resultBuffer=E.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const l=s.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,l=s[a],u=l.knownActions,h=u[u.length-1],p=e._byClipCacheIndex;h._byClipCacheIndex=p,u[p]=h,u.pop(),e._byClipCacheIndex=null;const g=l.actionByRoot,v=(e._localRoot||this._root).uuid;delete g[v],u.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,a=this._bindings;let s=r[t];s===void 0&&(s={},r[t]=s),s[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,s=this._bindingsByRootAndName,l=s[r],u=t[t.length-1],h=e._cacheIndex;u._cacheIndex=h,t[h]=u,t.pop(),delete l[a],Object.keys(l).length===0&&delete s[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new Qb(new Float32Array(2),new Float32Array(2),1,I8),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=i,t[i]=a}clipAction(e,t,i){const r=t||this._root,a=r.uuid;let s=typeof e=="string"?Vv.findByName(r,e):e;const l=s!==null?s.uuid:e,u=this._actionsByClip[l];let h=null;if(i===void 0&&(s!==null?i=s.blendMode:i=nS),u!==void 0){const g=u.actionByRoot[a];if(g!==void 0&&g.blendMode===i)return g;h=u.knownActions[0],s===null&&(s=h._clip)}if(s===null)return null;const p=new vI(this,s,t,i);return this._bindAction(p,h),this._addInactiveAction(p,l,a),p}existingAction(e,t){const i=t||this._root,r=i.uuid,a=typeof e=="string"?Vv.findByName(i,e):e,s=a?a.uuid:e,l=this._actionsByClip[s];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let h=0;h!==i;++h)t[h]._update(r,e,a,s);const l=this._bindings,u=this._nActiveBindings;for(let h=0;h!==u;++h)l[h].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const s=a.knownActions;for(let l=0,u=s.length;l!==u;++l){const h=s[l];this._deactivateAction(h);const p=h._cacheIndex,g=t[t.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,g._cacheIndex=p,t[p]=g,t.pop(),this._removeInactiveBindingsForAction(h)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const s in i){const l=i[s].actionByRoot,u=l[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const r=this._bindingsByRootAndName,a=r[t];if(a!==void 0)for(const s in a){const l=a[s];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class U8 extends Ib{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new rS(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class aM{constructor(e){this.value=e}clone(){return new aM(this.value.clone===void 0?this.value:this.value.clone())}}let F8=0;class P8 extends Mc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:F8++}),this.name="",this.usage=Iv,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const a=Array.isArray(t[i])?t[i]:[t[i]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class B8 extends lS{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class k8{constructor(e,t,i,r,a,s=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=a,this.normalized=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const OC=new cn;class xI{constructor(e,t,i=0,r=1/0){this.ray=new nm(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Gp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return OC.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(OC),this}intersectObject(e,t=!0,i=[]){return wA(e,this,i,t),i.sort(NC),i}intersectObjects(e,t=!0,i=[]){for(let r=0,a=e.length;r<a;r++)wA(e[r],this,i,t);return i.sort(NC),i}}function NC(n,e){return n.distance-e.distance}function wA(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const a=n.children;for(let s=0,l=a.length;s<l;s++)wA(a[s],e,t,!0)}}class yI{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=xn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(xn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class z8{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class sM{constructor(e,t,i,r){sM.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const a=this.elements;return a[0]=e,a[2]=t,a[1]=i,a[3]=r,this}}const DC=new ft;class V8{constructor(e=new ft(1/0,1/0),t=new ft(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=DC.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,DC).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const IC=new he,Wy=new he;class H8{constructor(e=new he,t=new he){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){IC.subVectors(e,this.start),Wy.subVectors(this.end,this.start);const i=Wy.dot(Wy);let a=Wy.dot(IC)/i;return t&&(a=xn(a,0,1)),a}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const LC=new he;class G8 extends Qn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Mn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,l=1,u=32;s<u;s++,l++){const h=s/u*Math.PI*2,p=l/u*Math.PI*2;r.push(Math.cos(h),Math.sin(h),1,Math.cos(p),Math.sin(p),1)}i.setAttribute("position",new Gt(r,3));const a=new gs({fog:!1,toneMapped:!1});this.cone=new wc(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),LC.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(LC),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Mf=new he,Yy=new cn,h2=new cn;class X8 extends wc{constructor(e){const t=_I(e),i=new Mn,r=[],a=[],s=new Ut(0,0,1),l=new Ut(0,1,0);for(let h=0;h<t.length;h++){const p=t[h];p.parent&&p.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(s.r,s.g,s.b),a.push(l.r,l.g,l.b))}i.setAttribute("position",new Gt(r,3)),i.setAttribute("color",new Gt(a,3));const u=new gs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");h2.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){const l=t[a];l.parent&&l.parent.isBone&&(Yy.multiplyMatrices(h2,l.matrixWorld),Mf.setFromMatrixPosition(Yy),r.setXYZ(s,Mf.x,Mf.y,Mf.z),Yy.multiplyMatrices(h2,l.parent.matrixWorld),Mf.setFromMatrixPosition(Yy),r.setXYZ(s+1,Mf.x,Mf.y,Mf.z),s+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function _I(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(..._I(n.children[t]));return e}class W8 extends Nr{constructor(e,t,i){const r=new xx(t,4,2),a=new Wf({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Y8=new he,UC=new Ut,FC=new Ut;class j8 extends Qn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new vx(t);r.rotateY(Math.PI*.5),this.material=new Wf({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),s=new Float32Array(a.count*3);r.setAttribute("color",new Ai(s,3)),this.add(new Nr(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");UC.copy(this.light.color),FC.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const a=i<r/2?UC:FC;t.setXYZ(i,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Y8.setFromMatrixPosition(this.light.matrixWorld).negate())}}class q8 extends wc{constructor(e=10,t=10,i=4473924,r=8947848){i=new Ut(i),r=new Ut(r);const a=t/2,s=e/t,l=e/2,u=[],h=[];for(let v=0,y=0,E=-l;v<=t;v++,E+=s){u.push(-l,0,E,l,0,E),u.push(E,0,-l,E,0,l);const T=v===a?i:r;T.toArray(h,y),y+=3,T.toArray(h,y),y+=3,T.toArray(h,y),y+=3,T.toArray(h,y),y+=3}const p=new Mn;p.setAttribute("position",new Gt(u,3)),p.setAttribute("color",new Gt(h,3));const g=new gs({vertexColors:!0,toneMapped:!1});super(p,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class K8 extends wc{constructor(e=10,t=16,i=8,r=64,a=4473924,s=8947848){a=new Ut(a),s=new Ut(s);const l=[],u=[];if(t>1)for(let g=0;g<t;g++){const v=g/t*(Math.PI*2),y=Math.sin(v)*e,E=Math.cos(v)*e;l.push(0,0,0),l.push(y,0,E);const T=g&1?a:s;u.push(T.r,T.g,T.b),u.push(T.r,T.g,T.b)}for(let g=0;g<i;g++){const v=g&1?a:s,y=e-e/i*g;for(let E=0;E<r;E++){let T=E/r*(Math.PI*2),S=Math.sin(T)*y,A=Math.cos(T)*y;l.push(S,0,A),u.push(v.r,v.g,v.b),T=(E+1)/r*(Math.PI*2),S=Math.sin(T)*y,A=Math.cos(T)*y,l.push(S,0,A),u.push(v.r,v.g,v.b)}}const h=new Mn;h.setAttribute("position",new Gt(l,3)),h.setAttribute("color",new Gt(u,3));const p=new gs({vertexColors:!0,toneMapped:!1});super(h,p),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const PC=new he,jy=new he,BC=new he;class Z8 extends Qn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Mn;r.setAttribute("position",new Gt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new gs({fog:!1,toneMapped:!1});this.lightPlane=new Bf(r,a),this.add(this.lightPlane),r=new Mn,r.setAttribute("position",new Gt([0,0,0,0,0,1],3)),this.targetLine=new Bf(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),PC.setFromMatrixPosition(this.light.matrixWorld),jy.setFromMatrixPosition(this.light.target.matrixWorld),BC.subVectors(jy,PC),this.lightPlane.lookAt(jy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(jy),this.targetLine.scale.z=BC.length()}}const qy=new he,tr=new aS;class Q8 extends wc{constructor(e){const t=new Mn,i=new gs({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],s={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(E,T){u(E),u(T)}function u(E){r.push(0,0,0),a.push(0,0,0),s[E]===void 0&&(s[E]=[]),s[E].push(r.length/3-1)}t.setAttribute("position",new Gt(r,3)),t.setAttribute("color",new Gt(a,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const h=new Ut(16755200),p=new Ut(16711680),g=new Ut(43775),v=new Ut(16777215),y=new Ut(3355443);this.setColors(h,p,g,v,y)}setColors(e,t,i,r,a){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,a.r,a.g,a.b),l.setXYZ(41,a.r,a.g,a.b),l.setXYZ(42,a.r,a.g,a.b),l.setXYZ(43,a.r,a.g,a.b),l.setXYZ(44,a.r,a.g,a.b),l.setXYZ(45,a.r,a.g,a.b),l.setXYZ(46,a.r,a.g,a.b),l.setXYZ(47,a.r,a.g,a.b),l.setXYZ(48,a.r,a.g,a.b),l.setXYZ(49,a.r,a.g,a.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;tr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const a=this.camera.coordinateSystem===zo?-1:0;dr("c",t,e,tr,0,0,a),dr("t",t,e,tr,0,0,1),dr("n1",t,e,tr,-1,-1,a),dr("n2",t,e,tr,i,-1,a),dr("n3",t,e,tr,-1,r,a),dr("n4",t,e,tr,i,r,a),dr("f1",t,e,tr,-1,-1,1),dr("f2",t,e,tr,i,-1,1),dr("f3",t,e,tr,-1,r,1),dr("f4",t,e,tr,i,r,1),dr("u1",t,e,tr,i*.7,r*1.1,a),dr("u2",t,e,tr,-1*.7,r*1.1,a),dr("u3",t,e,tr,0,r*2,a),dr("cf1",t,e,tr,-1,0,1),dr("cf2",t,e,tr,i,0,1),dr("cf3",t,e,tr,0,-1,1),dr("cf4",t,e,tr,0,r,1),dr("cn1",t,e,tr,-1,0,a),dr("cn2",t,e,tr,i,0,a),dr("cn3",t,e,tr,0,-1,a),dr("cn4",t,e,tr,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function dr(n,e,t,i,r,a,s){qy.set(r,a,s).unproject(i);const l=e[n];if(l!==void 0){const u=t.getAttribute("position");for(let h=0,p=l.length;h<p;h++)u.setXYZ(l[h],qy.x,qy.y,qy.z)}}const Ky=new Ha;class J8 extends wc{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),a=new Mn;a.setIndex(new Ai(i,1)),a.setAttribute("position",new Ai(r,3)),super(a,new gs({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Ky.setFromObject(this.object),Ky.isEmpty())return;const e=Ky.min,t=Ky.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class $8 extends wc{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Mn;a.setIndex(new Ai(i,1)),a.setAttribute("position",new Gt(r,3)),super(a,new gs({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class ez extends Bf{constructor(e,t=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new Mn;s.setAttribute("position",new Gt(a,3)),s.computeBoundingSphere(),super(s,new gs({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new Mn;u.setAttribute("position",new Gt(l,3)),u.computeBoundingSphere(),this.add(new Nr(u,new Wf({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const kC=new he;let Zy,d2;class tz extends Qn{constructor(e=new he(0,0,1),t=new he(0,0,0),i=1,r=16776960,a=i*.2,s=a*.2){super(),this.type="ArrowHelper",Zy===void 0&&(Zy=new Mn,Zy.setAttribute("position",new Gt([0,0,0,0,1,0],3)),d2=new gx(.5,1,5,1),d2.translate(0,-.5,0)),this.position.copy(t),this.line=new Bf(Zy,new gs({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Nr(d2,new Wf({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{kC.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(kC,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class nz extends wc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Mn;r.setAttribute("position",new Gt(t,3)),r.setAttribute("color",new Gt(i,3));const a=new gs({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,t,i){const r=new Ut,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class iz{constructor(){this.type="ShapePath",this.color=new Ut,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new yE,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,a,s){return this.currentPath.bezierCurveTo(e,t,i,r,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(A){const R=[];for(let w=0,D=A.length;w<D;w++){const P=A[w],F=new Ed;F.curves=P.curves,R.push(F)}return R}function i(A,R){const w=R.length;let D=!1;for(let P=w-1,F=0;F<w;P=F++){let U=R[P],I=R[F],C=I.x-U.x,L=I.y-U.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(U=R[F],C=-C,I=R[P],L=-L),A.y<U.y||A.y>I.y)continue;if(A.y===U.y){if(A.x===U.x)return!0}else{const k=L*(A.x-U.x)-C*(A.y-U.y);if(k===0)return!0;if(k<0)continue;D=!D}}else{if(A.y!==U.y)continue;if(I.x<=A.x&&A.x<=U.x||U.x<=A.x&&A.x<=I.x)return!0}}return D}const r=bl.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,l,u;const h=[];if(a.length===1)return l=a[0],u=new Ed,u.curves=l.curves,h.push(u),h;let p=!r(a[0].getPoints());p=e?!p:p;const g=[],v=[];let y=[],E=0,T;v[E]=void 0,y[E]=[];for(let A=0,R=a.length;A<R;A++)l=a[A],T=l.getPoints(),s=r(T),s=e?!s:s,s?(!p&&v[E]&&E++,v[E]={s:new Ed,p:T},v[E].s.curves=l.curves,p&&E++,y[E]=[]):y[E].push({h:l,p:T[0]});if(!v[0])return t(a);if(v.length>1){let A=!1,R=0;for(let w=0,D=v.length;w<D;w++)g[w]=[];for(let w=0,D=v.length;w<D;w++){const P=y[w];for(let F=0;F<P.length;F++){const U=P[F];let I=!0;for(let C=0;C<v.length;C++)i(U.p,v[C].p)&&(w!==C&&R++,I?(I=!1,g[C].push(U)):A=!0);I&&g[w].push(U)}}R>0&&A===!1&&(y=g)}let S;for(let A=0,R=v.length;A<R;A++){u=v[A].s,h.push(u),S=y[A];for(let w=0,D=S.length;w<D;w++)u.holes.push(S[w].h)}return h}}class rz extends Mc{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function az(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function sz(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function oz(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function RA(n,e,t,i){const r=lz(i);switch(t){case Mb:return n*e;case $E:return n*e/r.components*r.byteLength;case dx:return n*e/r.components*r.byteLength;case Rb:return n*e*2/r.components*r.byteLength;case eS:return n*e*2/r.components*r.byteLength;case wb:return n*e*3/r.components*r.byteLength;case Va:return n*e*4/r.components*r.byteLength;case tS:return n*e*4/r.components*r.byteLength;case rv:case av:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case sv:case ov:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case X_:case Y_:return Math.max(n,16)*Math.max(e,8)/4;case G_:case W_:return Math.max(n,8)*Math.max(e,8)/2;case j_:case q_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case K_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Z_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Q_:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case J_:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case $_:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case eE:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case tE:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case nE:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case iE:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case rE:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case aE:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case sE:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case oE:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case lE:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case cE:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case lv:case uE:case fE:return Math.ceil(n/4)*Math.ceil(e/4)*16;case Cb:case hE:return Math.ceil(n/4)*Math.ceil(e/4)*8;case dE:case pE:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function lz(n){switch(n){case Go:case Tb:return{byteLength:1,components:1};case Bp:case Ab:case tm:return{byteLength:2,components:1};case QE:case JE:return{byteLength:2,components:4};case yu:case ZE:case Us:return{byteLength:4,components:1};case bb:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class cz{static contain(e,t){return az(e,t)}static cover(e,t){return sz(e,t)}static fill(e){return oz(e)}static getByteLength(e,t,i,r){return RA(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:fx}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=fx);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function EI(){let n=null,e=!1,t=null,i=null;function r(a,s){t(a,s),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function uz(n){const e=new WeakMap;function t(l,u){const h=l.array,p=l.usage,g=h.byteLength,v=n.createBuffer();n.bindBuffer(u,v),n.bufferData(u,h,p),l.onUploadCallback();let y;if(h instanceof Float32Array)y=n.FLOAT;else if(typeof Float16Array<"u"&&h instanceof Float16Array)y=n.HALF_FLOAT;else if(h instanceof Uint16Array)l.isFloat16BufferAttribute?y=n.HALF_FLOAT:y=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)y=n.SHORT;else if(h instanceof Uint32Array)y=n.UNSIGNED_INT;else if(h instanceof Int32Array)y=n.INT;else if(h instanceof Int8Array)y=n.BYTE;else if(h instanceof Uint8Array)y=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)y=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:v,type:y,bytesPerElement:h.BYTES_PER_ELEMENT,version:l.version,size:g}}function i(l,u,h){const p=u.array,g=u.updateRanges;if(n.bindBuffer(h,l),g.length===0)n.bufferSubData(h,0,p);else{g.sort((y,E)=>y.start-E.start);let v=0;for(let y=1;y<g.length;y++){const E=g[v],T=g[y];T.start<=E.start+E.count+1?E.count=Math.max(E.count,T.start+T.count-E.start):(++v,g[v]=T)}g.length=v+1;for(let y=0,E=g.length;y<E;y++){const T=g[y];n.bufferSubData(h,T.start*p.BYTES_PER_ELEMENT,p,T.start,T.count)}u.clearUpdateRanges()}u.onUploadCallback()}function r(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=e.get(l);u&&(n.deleteBuffer(u.buffer),e.delete(l))}function s(l,u){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const p=e.get(l);(!p||p.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const h=e.get(l);if(h===void 0)e.set(l,t(l,u));else if(h.version<l.version){if(h.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(h.buffer,l,u),h.version=l.version}}return{get:r,remove:a,update:s}}var fz=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,hz=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,dz=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,pz=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,mz=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,gz=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,vz=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,xz=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,yz=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,_z=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Ez=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Sz=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Tz=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Az=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bz=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Mz=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,wz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Rz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Cz=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Oz=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Nz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Dz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Iz=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Lz=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Uz=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Fz=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Pz=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Bz=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,kz=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,zz=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Vz="gl_FragColor = linearToOutputTexel( gl_FragColor );",Hz=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Gz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Xz=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Wz=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Yz=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,jz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,qz=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Kz=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Zz=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Qz=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Jz=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,$z=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,eV=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,tV=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,nV=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,iV=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,rV=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,aV=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,sV=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,oV=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lV=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,cV=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,uV=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,fV=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,hV=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,dV=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,pV=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,mV=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,gV=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,vV=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,xV=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,yV=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,_V=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,EV=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,SV=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,TV=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,AV=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,bV=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,MV=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,wV=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,RV=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,CV=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,OV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,NV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,DV=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,IV=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,LV=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,UV=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,FV=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,PV=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,BV=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,kV=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,zV=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,VV=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,HV=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,GV=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,XV=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,WV=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,YV=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,jV=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,qV=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,KV=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ZV=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,QV=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,JV=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,$V=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,eH=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,tH=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,nH=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,iH=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,rH=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,aH=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,sH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,oH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,lH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,cH=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const uH=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fH=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,dH=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,pH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,mH=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,gH=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,vH=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,xH=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,yH=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,_H=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,EH=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,SH=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,TH=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,AH=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,bH=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MH=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wH=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RH=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,CH=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OH=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,NH=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,DH=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,IH=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LH=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,UH=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FH=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PH=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BH=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,kH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,zH=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VH=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,HH=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,GH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Rn={alphahash_fragment:fz,alphahash_pars_fragment:hz,alphamap_fragment:dz,alphamap_pars_fragment:pz,alphatest_fragment:mz,alphatest_pars_fragment:gz,aomap_fragment:vz,aomap_pars_fragment:xz,batching_pars_vertex:yz,batching_vertex:_z,begin_vertex:Ez,beginnormal_vertex:Sz,bsdfs:Tz,iridescence_fragment:Az,bumpmap_pars_fragment:bz,clipping_planes_fragment:Mz,clipping_planes_pars_fragment:wz,clipping_planes_pars_vertex:Rz,clipping_planes_vertex:Cz,color_fragment:Oz,color_pars_fragment:Nz,color_pars_vertex:Dz,color_vertex:Iz,common:Lz,cube_uv_reflection_fragment:Uz,defaultnormal_vertex:Fz,displacementmap_pars_vertex:Pz,displacementmap_vertex:Bz,emissivemap_fragment:kz,emissivemap_pars_fragment:zz,colorspace_fragment:Vz,colorspace_pars_fragment:Hz,envmap_fragment:Gz,envmap_common_pars_fragment:Xz,envmap_pars_fragment:Wz,envmap_pars_vertex:Yz,envmap_physical_pars_fragment:iV,envmap_vertex:jz,fog_vertex:qz,fog_pars_vertex:Kz,fog_fragment:Zz,fog_pars_fragment:Qz,gradientmap_pars_fragment:Jz,lightmap_pars_fragment:$z,lights_lambert_fragment:eV,lights_lambert_pars_fragment:tV,lights_pars_begin:nV,lights_toon_fragment:rV,lights_toon_pars_fragment:aV,lights_phong_fragment:sV,lights_phong_pars_fragment:oV,lights_physical_fragment:lV,lights_physical_pars_fragment:cV,lights_fragment_begin:uV,lights_fragment_maps:fV,lights_fragment_end:hV,logdepthbuf_fragment:dV,logdepthbuf_pars_fragment:pV,logdepthbuf_pars_vertex:mV,logdepthbuf_vertex:gV,map_fragment:vV,map_pars_fragment:xV,map_particle_fragment:yV,map_particle_pars_fragment:_V,metalnessmap_fragment:EV,metalnessmap_pars_fragment:SV,morphinstance_vertex:TV,morphcolor_vertex:AV,morphnormal_vertex:bV,morphtarget_pars_vertex:MV,morphtarget_vertex:wV,normal_fragment_begin:RV,normal_fragment_maps:CV,normal_pars_fragment:OV,normal_pars_vertex:NV,normal_vertex:DV,normalmap_pars_fragment:IV,clearcoat_normal_fragment_begin:LV,clearcoat_normal_fragment_maps:UV,clearcoat_pars_fragment:FV,iridescence_pars_fragment:PV,opaque_fragment:BV,packing:kV,premultiplied_alpha_fragment:zV,project_vertex:VV,dithering_fragment:HV,dithering_pars_fragment:GV,roughnessmap_fragment:XV,roughnessmap_pars_fragment:WV,shadowmap_pars_fragment:YV,shadowmap_pars_vertex:jV,shadowmap_vertex:qV,shadowmask_pars_fragment:KV,skinbase_vertex:ZV,skinning_pars_vertex:QV,skinning_vertex:JV,skinnormal_vertex:$V,specularmap_fragment:eH,specularmap_pars_fragment:tH,tonemapping_fragment:nH,tonemapping_pars_fragment:iH,transmission_fragment:rH,transmission_pars_fragment:aH,uv_pars_fragment:sH,uv_pars_vertex:oH,uv_vertex:lH,worldpos_vertex:cH,background_vert:uH,background_frag:fH,backgroundCube_vert:hH,backgroundCube_frag:dH,cube_vert:pH,cube_frag:mH,depth_vert:gH,depth_frag:vH,distanceRGBA_vert:xH,distanceRGBA_frag:yH,equirect_vert:_H,equirect_frag:EH,linedashed_vert:SH,linedashed_frag:TH,meshbasic_vert:AH,meshbasic_frag:bH,meshlambert_vert:MH,meshlambert_frag:wH,meshmatcap_vert:RH,meshmatcap_frag:CH,meshnormal_vert:OH,meshnormal_frag:NH,meshphong_vert:DH,meshphong_frag:IH,meshphysical_vert:LH,meshphysical_frag:UH,meshtoon_vert:FH,meshtoon_frag:PH,points_vert:BH,points_frag:kH,shadow_vert:zH,shadow_frag:VH,sprite_vert:HH,sprite_frag:GH},Dt={common:{diffuse:{value:new Ut(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new En},alphaMap:{value:null},alphaMapTransform:{value:new En},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new En}},envmap:{envMap:{value:null},envMapRotation:{value:new En},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new En}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new En}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new En},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new En},normalScale:{value:new ft(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new En},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new En}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new En}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new En}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ut(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ut(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new En},alphaTest:{value:0},uvTransform:{value:new En}},sprite:{diffuse:{value:new Ut(16777215)},opacity:{value:1},center:{value:new ft(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new En},alphaMap:{value:null},alphaMapTransform:{value:new En},alphaTest:{value:0}}},Al={basic:{uniforms:cs([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.fog]),vertexShader:Rn.meshbasic_vert,fragmentShader:Rn.meshbasic_frag},lambert:{uniforms:cs([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,Dt.lights,{emissive:{value:new Ut(0)}}]),vertexShader:Rn.meshlambert_vert,fragmentShader:Rn.meshlambert_frag},phong:{uniforms:cs([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,Dt.lights,{emissive:{value:new Ut(0)},specular:{value:new Ut(1118481)},shininess:{value:30}}]),vertexShader:Rn.meshphong_vert,fragmentShader:Rn.meshphong_frag},standard:{uniforms:cs([Dt.common,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.roughnessmap,Dt.metalnessmap,Dt.fog,Dt.lights,{emissive:{value:new Ut(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Rn.meshphysical_vert,fragmentShader:Rn.meshphysical_frag},toon:{uniforms:cs([Dt.common,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.gradientmap,Dt.fog,Dt.lights,{emissive:{value:new Ut(0)}}]),vertexShader:Rn.meshtoon_vert,fragmentShader:Rn.meshtoon_frag},matcap:{uniforms:cs([Dt.common,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,{matcap:{value:null}}]),vertexShader:Rn.meshmatcap_vert,fragmentShader:Rn.meshmatcap_frag},points:{uniforms:cs([Dt.points,Dt.fog]),vertexShader:Rn.points_vert,fragmentShader:Rn.points_frag},dashed:{uniforms:cs([Dt.common,Dt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Rn.linedashed_vert,fragmentShader:Rn.linedashed_frag},depth:{uniforms:cs([Dt.common,Dt.displacementmap]),vertexShader:Rn.depth_vert,fragmentShader:Rn.depth_frag},normal:{uniforms:cs([Dt.common,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,{opacity:{value:1}}]),vertexShader:Rn.meshnormal_vert,fragmentShader:Rn.meshnormal_frag},sprite:{uniforms:cs([Dt.sprite,Dt.fog]),vertexShader:Rn.sprite_vert,fragmentShader:Rn.sprite_frag},background:{uniforms:{uvTransform:{value:new En},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Rn.background_vert,fragmentShader:Rn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new En}},vertexShader:Rn.backgroundCube_vert,fragmentShader:Rn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Rn.cube_vert,fragmentShader:Rn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Rn.equirect_vert,fragmentShader:Rn.equirect_frag},distanceRGBA:{uniforms:cs([Dt.common,Dt.displacementmap,{referencePosition:{value:new he},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Rn.distanceRGBA_vert,fragmentShader:Rn.distanceRGBA_frag},shadow:{uniforms:cs([Dt.lights,Dt.fog,{color:{value:new Ut(0)},opacity:{value:1}}]),vertexShader:Rn.shadow_vert,fragmentShader:Rn.shadow_frag}};Al.physical={uniforms:cs([Al.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new En},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new En},clearcoatNormalScale:{value:new ft(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new En},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new En},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new En},sheen:{value:0},sheenColor:{value:new Ut(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new En},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new En},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new En},transmissionSamplerSize:{value:new ft},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new En},attenuationDistance:{value:0},attenuationColor:{value:new Ut(0)},specularColor:{value:new Ut(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new En},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new En},anisotropyVector:{value:new ft},anisotropyMap:{value:null},anisotropyMapTransform:{value:new En}}]),vertexShader:Rn.meshphysical_vert,fragmentShader:Rn.meshphysical_frag};const Qy={r:0,b:0,g:0},nd=new so,XH=new cn;function WH(n,e,t,i,r,a,s){const l=new Ut(0);let u=a===!0?0:1,h,p,g=null,v=0,y=null;function E(w){let D=w.isScene===!0?w.background:null;return D&&D.isTexture&&(D=(w.backgroundBlurriness>0?t:e).get(D)),D}function T(w){let D=!1;const P=E(w);P===null?A(l,u):P&&P.isColor&&(A(P,1),D=!0);const F=n.xr.getEnvironmentBlendMode();F==="additive"?i.buffers.color.setClear(0,0,0,1,s):F==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,s),(n.autoClear||D)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function S(w,D){const P=E(D);P&&(P.isCubeTexture||P.mapping===em)?(p===void 0&&(p=new Nr(new kd(1,1,1),new Xo({name:"BackgroundCubeMaterial",uniforms:Xp(Al.backgroundCube.uniforms),vertexShader:Al.backgroundCube.vertexShader,fragmentShader:Al.backgroundCube.fragmentShader,side:ps,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(F,U,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(p)),nd.copy(D.backgroundRotation),nd.x*=-1,nd.y*=-1,nd.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&(nd.y*=-1,nd.z*=-1),p.material.uniforms.envMap.value=P,p.material.uniforms.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,p.material.uniforms.backgroundBlurriness.value=D.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,p.material.uniforms.backgroundRotation.value.setFromMatrix4(XH.makeRotationFromEuler(nd)),p.material.toneMapped=Xn.getTransfer(P.colorSpace)!==pi,(g!==P||v!==P.version||y!==n.toneMapping)&&(p.material.needsUpdate=!0,g=P,v=P.version,y=n.toneMapping),p.layers.enableAll(),w.unshift(p,p.geometry,p.material,0,0,null)):P&&P.isTexture&&(h===void 0&&(h=new Nr(new rm(2,2),new Xo({name:"BackgroundMaterial",uniforms:Xp(Al.background.uniforms),vertexShader:Al.background.vertexShader,fragmentShader:Al.background.fragmentShader,side:vu,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(h)),h.material.uniforms.t2D.value=P,h.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,h.material.toneMapped=Xn.getTransfer(P.colorSpace)!==pi,P.matrixAutoUpdate===!0&&P.updateMatrix(),h.material.uniforms.uvTransform.value.copy(P.matrix),(g!==P||v!==P.version||y!==n.toneMapping)&&(h.material.needsUpdate=!0,g=P,v=P.version,y=n.toneMapping),h.layers.enableAll(),w.unshift(h,h.geometry,h.material,0,0,null))}function A(w,D){w.getRGB(Qy,yD(n)),i.buffers.color.setClear(Qy.r,Qy.g,Qy.b,D,s)}function R(){p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0),h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0)}return{getClearColor:function(){return l},setClearColor:function(w,D=1){l.set(w),u=D,A(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(w){u=w,A(l,u)},render:T,addToRenderList:S,dispose:R}}function YH(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=v(null);let a=r,s=!1;function l(L,k,G,ee,ve){let pe=!1;const W=g(ee,G,k);a!==W&&(a=W,h(a.object)),pe=y(L,ee,G,ve),pe&&E(L,ee,G,ve),ve!==null&&e.update(ve,n.ELEMENT_ARRAY_BUFFER),(pe||s)&&(s=!1,D(L,k,G,ee),ve!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(ve).buffer))}function u(){return n.createVertexArray()}function h(L){return n.bindVertexArray(L)}function p(L){return n.deleteVertexArray(L)}function g(L,k,G){const ee=G.wireframe===!0;let ve=i[L.id];ve===void 0&&(ve={},i[L.id]=ve);let pe=ve[k.id];pe===void 0&&(pe={},ve[k.id]=pe);let W=pe[ee];return W===void 0&&(W=v(u()),pe[ee]=W),W}function v(L){const k=[],G=[],ee=[];for(let ve=0;ve<t;ve++)k[ve]=0,G[ve]=0,ee[ve]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:G,attributeDivisors:ee,object:L,attributes:{},index:null}}function y(L,k,G,ee){const ve=a.attributes,pe=k.attributes;let W=0;const K=G.getAttributes();for(const ie in K)if(K[ie].location>=0){const j=ve[ie];let le=pe[ie];if(le===void 0&&(ie==="instanceMatrix"&&L.instanceMatrix&&(le=L.instanceMatrix),ie==="instanceColor"&&L.instanceColor&&(le=L.instanceColor)),j===void 0||j.attribute!==le||le&&j.data!==le.data)return!0;W++}return a.attributesNum!==W||a.index!==ee}function E(L,k,G,ee){const ve={},pe=k.attributes;let W=0;const K=G.getAttributes();for(const ie in K)if(K[ie].location>=0){let j=pe[ie];j===void 0&&(ie==="instanceMatrix"&&L.instanceMatrix&&(j=L.instanceMatrix),ie==="instanceColor"&&L.instanceColor&&(j=L.instanceColor));const le={};le.attribute=j,j&&j.data&&(le.data=j.data),ve[ie]=le,W++}a.attributes=ve,a.attributesNum=W,a.index=ee}function T(){const L=a.newAttributes;for(let k=0,G=L.length;k<G;k++)L[k]=0}function S(L){A(L,0)}function A(L,k){const G=a.newAttributes,ee=a.enabledAttributes,ve=a.attributeDivisors;G[L]=1,ee[L]===0&&(n.enableVertexAttribArray(L),ee[L]=1),ve[L]!==k&&(n.vertexAttribDivisor(L,k),ve[L]=k)}function R(){const L=a.newAttributes,k=a.enabledAttributes;for(let G=0,ee=k.length;G<ee;G++)k[G]!==L[G]&&(n.disableVertexAttribArray(G),k[G]=0)}function w(L,k,G,ee,ve,pe,W){W===!0?n.vertexAttribIPointer(L,k,G,ve,pe):n.vertexAttribPointer(L,k,G,ee,ve,pe)}function D(L,k,G,ee){T();const ve=ee.attributes,pe=G.getAttributes(),W=k.defaultAttributeValues;for(const K in pe){const ie=pe[K];if(ie.location>=0){let ne=ve[K];if(ne===void 0&&(K==="instanceMatrix"&&L.instanceMatrix&&(ne=L.instanceMatrix),K==="instanceColor"&&L.instanceColor&&(ne=L.instanceColor)),ne!==void 0){const j=ne.normalized,le=ne.itemSize,H=e.get(ne);if(H===void 0)continue;const q=H.buffer,V=H.type,Q=H.bytesPerElement,ge=V===n.INT||V===n.UNSIGNED_INT||ne.gpuType===ZE;if(ne.isInterleavedBufferAttribute){const Ae=ne.data,Ee=Ae.stride,Ce=ne.offset;if(Ae.isInstancedInterleavedBuffer){for(let Ne=0;Ne<ie.locationSize;Ne++)A(ie.location+Ne,Ae.meshPerAttribute);L.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let Ne=0;Ne<ie.locationSize;Ne++)S(ie.location+Ne);n.bindBuffer(n.ARRAY_BUFFER,q);for(let Ne=0;Ne<ie.locationSize;Ne++)w(ie.location+Ne,le/ie.locationSize,V,j,Ee*Q,(Ce+le/ie.locationSize*Ne)*Q,ge)}else{if(ne.isInstancedBufferAttribute){for(let Ae=0;Ae<ie.locationSize;Ae++)A(ie.location+Ae,ne.meshPerAttribute);L.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let Ae=0;Ae<ie.locationSize;Ae++)S(ie.location+Ae);n.bindBuffer(n.ARRAY_BUFFER,q);for(let Ae=0;Ae<ie.locationSize;Ae++)w(ie.location+Ae,le/ie.locationSize,V,j,le*Q,le/ie.locationSize*Ae*Q,ge)}}else if(W!==void 0){const j=W[K];if(j!==void 0)switch(j.length){case 2:n.vertexAttrib2fv(ie.location,j);break;case 3:n.vertexAttrib3fv(ie.location,j);break;case 4:n.vertexAttrib4fv(ie.location,j);break;default:n.vertexAttrib1fv(ie.location,j)}}}}R()}function P(){I();for(const L in i){const k=i[L];for(const G in k){const ee=k[G];for(const ve in ee)p(ee[ve].object),delete ee[ve];delete k[G]}delete i[L]}}function F(L){if(i[L.id]===void 0)return;const k=i[L.id];for(const G in k){const ee=k[G];for(const ve in ee)p(ee[ve].object),delete ee[ve];delete k[G]}delete i[L.id]}function U(L){for(const k in i){const G=i[k];if(G[L.id]===void 0)continue;const ee=G[L.id];for(const ve in ee)p(ee[ve].object),delete ee[ve];delete G[L.id]}}function I(){C(),s=!0,a!==r&&(a=r,h(a.object))}function C(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:l,reset:I,resetDefaultState:C,dispose:P,releaseStatesOfGeometry:F,releaseStatesOfProgram:U,initAttributes:T,enableAttribute:S,disableUnusedAttributes:R}}function jH(n,e,t){let i;function r(h){i=h}function a(h,p){n.drawArrays(i,h,p),t.update(p,i,1)}function s(h,p,g){g!==0&&(n.drawArraysInstanced(i,h,p,g),t.update(p,i,g))}function l(h,p,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,h,0,p,0,g);let y=0;for(let E=0;E<g;E++)y+=p[E];t.update(y,i,1)}function u(h,p,g,v){if(g===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let E=0;E<h.length;E++)s(h[E],p[E],v[E]);else{y.multiDrawArraysInstancedWEBGL(i,h,0,p,0,v,0,g);let E=0;for(let T=0;T<g;T++)E+=p[T]*v[T];t.update(E,i,1)}}this.setMode=r,this.render=a,this.renderInstances=s,this.renderMultiDraw=l,this.renderMultiDrawInstances=u}function qH(n,e,t,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const U=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(U.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(U){return!(U!==Va&&i.convert(U)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(U){const I=U===tm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(U!==Go&&i.convert(U)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&U!==Us&&!I)}function u(U){if(U==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";U="mediump"}return U==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let h=t.precision!==void 0?t.precision:"highp";const p=u(h);p!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",p,"instead."),h=p);const g=t.logarithmicDepthBuffer===!0,v=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),y=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),E=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=n.getParameter(n.MAX_TEXTURE_SIZE),S=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),A=n.getParameter(n.MAX_VERTEX_ATTRIBS),R=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),w=n.getParameter(n.MAX_VARYING_VECTORS),D=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),P=E>0,F=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:u,textureFormatReadable:s,textureTypeReadable:l,precision:h,logarithmicDepthBuffer:g,reverseDepthBuffer:v,maxTextures:y,maxVertexTextures:E,maxTextureSize:T,maxCubemapSize:S,maxAttributes:A,maxVertexUniforms:R,maxVaryings:w,maxFragmentUniforms:D,vertexTextures:P,maxSamples:F}}function KH(n){const e=this;let t=null,i=0,r=!1,a=!1;const s=new Of,l=new En,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(g,v){const y=g.length!==0||v||i!==0||r;return r=v,i=g.length,y},this.beginShadows=function(){a=!0,p(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(g,v){t=p(g,v,0)},this.setState=function(g,v,y){const E=g.clippingPlanes,T=g.clipIntersection,S=g.clipShadows,A=n.get(g);if(!r||E===null||E.length===0||a&&!S)a?p(null):h();else{const R=a?0:i,w=R*4;let D=A.clippingState||null;u.value=D,D=p(E,v,w,y);for(let P=0;P!==w;++P)D[P]=t[P];A.clippingState=D,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=R}};function h(){u.value!==t&&(u.value=t,u.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function p(g,v,y,E){const T=g!==null?g.length:0;let S=null;if(T!==0){if(S=u.value,E!==!0||S===null){const A=y+T*4,R=v.matrixWorldInverse;l.getNormalMatrix(R),(S===null||S.length<A)&&(S=new Float32Array(A));for(let w=0,D=y;w!==T;++w,D+=4)s.copy(g[w]).applyMatrix4(R,l),s.normal.toArray(S,D),S[D+3]=s.constant}u.value=S,u.needsUpdate=!0}return e.numPlanes=T,e.numIntersection=0,S}}function ZH(n){let e=new WeakMap;function t(s,l){return l===Mv?s.mapping=xu:l===wv&&(s.mapping=Ff),s}function i(s){if(s&&s.isTexture){const l=s.mapping;if(l===Mv||l===wv)if(e.has(s)){const u=e.get(s).texture;return t(u,s.mapping)}else{const u=s.image;if(u&&u.height>0){const h=new SD(u.height);return h.fromEquirectangularTexture(n,s),e.set(s,h),s.addEventListener("dispose",r),t(h.texture,s.mapping)}else return null}}return s}function r(s){const l=s.target;l.removeEventListener("dispose",r);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const bp=4,zC=[.125,.215,.35,.446,.526,.582],ud=20,p2=new Ex,VC=new Ut;let m2=null,g2=0,v2=0,x2=!1;const ld=(1+Math.sqrt(5))/2,dp=1/ld,HC=[new he(-ld,dp,0),new he(ld,dp,0),new he(-dp,0,ld),new he(dp,0,ld),new he(0,ld,-dp),new he(0,ld,dp),new he(-1,1,-1),new he(1,1,-1),new he(-1,1,1),new he(1,1,1)],QH=new he;class CA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,a={}){const{size:s=256,position:l=QH}=a;m2=this._renderer.getRenderTarget(),g2=this._renderer.getActiveCubeFace(),v2=this._renderer.getActiveMipmapLevel(),x2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,i,r,u,l),t>0&&this._blur(u,0,0,t),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=WC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=XC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(m2,g2,v2),this._renderer.xr.enabled=x2,e.scissorTest=!1,Jy(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===xu||e.mapping===Ff?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),m2=this._renderer.getRenderTarget(),g2=this._renderer.getActiveCubeFace(),v2=this._renderer.getActiveMipmapLevel(),x2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Xr,minFilter:Xr,generateMipmaps:!1,type:tm,format:Va,colorSpace:Pf,depthBuffer:!1},r=GC(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=GC(e,t,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=JH(a)),this._blurMaterial=$H(a,e,t)}return r}_compileMaterial(e){const t=new Nr(this._lodPlanes[0],e);this._renderer.compile(t,p2)}_sceneToCubeUV(e,t,i,r,a){const u=new ia(90,1,t,i),h=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],g=this._renderer,v=g.autoClear,y=g.toneMapping;g.getClearColor(VC),g.toneMapping=Ec,g.autoClear=!1;const E=new Wf({name:"PMREM.Background",side:ps,depthWrite:!1,depthTest:!1}),T=new Nr(new kd,E);let S=!1;const A=e.background;A?A.isColor&&(E.color.copy(A),e.background=null,S=!0):(E.color.copy(VC),S=!0);for(let R=0;R<6;R++){const w=R%3;w===0?(u.up.set(0,h[R],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x+p[R],a.y,a.z)):w===1?(u.up.set(0,0,h[R]),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y+p[R],a.z)):(u.up.set(0,h[R],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y,a.z+p[R]));const D=this._cubeSize;Jy(r,w*D,R>2?D:0,D,D),g.setRenderTarget(r),S&&g.render(T,u),g.render(e,u)}T.geometry.dispose(),T.material.dispose(),g.toneMapping=y,g.autoClear=v,e.background=A}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===xu||e.mapping===Ff;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=WC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=XC());const a=r?this._cubemapMaterial:this._equirectMaterial,s=new Nr(this._lodPlanes[0],a),l=a.uniforms;l.envMap.value=e;const u=this._cubeSize;Jy(t,0,0,3*u,2*u),i.setRenderTarget(t),i.render(s,p2)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const s=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),l=HC[(r-a-1)%HC.length];this._blur(e,a-1,a,s,l)}t.autoClear=i}_blur(e,t,i,r,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,i,r,"latitudinal",a),this._halfBlur(s,e,i,i,r,"longitudinal",a)}_halfBlur(e,t,i,r,a,s,l){const u=this._renderer,h=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,g=new Nr(this._lodPlanes[r],h),v=h.uniforms,y=this._sizeLods[i]-1,E=isFinite(a)?Math.PI/(2*y):2*Math.PI/(2*ud-1),T=a/E,S=isFinite(a)?1+Math.floor(p*T):ud;S>ud&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${ud}`);const A=[];let R=0;for(let U=0;U<ud;++U){const I=U/T,C=Math.exp(-I*I/2);A.push(C),U===0?R+=C:U<S&&(R+=2*C)}for(let U=0;U<A.length;U++)A[U]=A[U]/R;v.envMap.value=e.texture,v.samples.value=S,v.weights.value=A,v.latitudinal.value=s==="latitudinal",l&&(v.poleAxis.value=l);const{_lodMax:w}=this;v.dTheta.value=E,v.mipInt.value=w-i;const D=this._sizeLods[r],P=3*D*(r>w-bp?r-w+bp:0),F=4*(this._cubeSize-D);Jy(t,P,F,3*D,2*D),u.setRenderTarget(t),u.render(g,p2)}}function JH(n){const e=[],t=[],i=[];let r=n;const a=n-bp+1+zC.length;for(let s=0;s<a;s++){const l=Math.pow(2,r);t.push(l);let u=1/l;s>n-bp?u=zC[s-n+bp-1]:s===0&&(u=0),i.push(u);const h=1/(l-2),p=-h,g=1+h,v=[p,p,g,p,g,g,p,p,g,g,p,g],y=6,E=6,T=3,S=2,A=1,R=new Float32Array(T*E*y),w=new Float32Array(S*E*y),D=new Float32Array(A*E*y);for(let F=0;F<y;F++){const U=F%3*2/3-1,I=F>2?0:-1,C=[U,I,0,U+2/3,I,0,U+2/3,I+1,0,U,I,0,U+2/3,I+1,0,U,I+1,0];R.set(C,T*E*F),w.set(v,S*E*F);const L=[F,F,F,F,F,F];D.set(L,A*E*F)}const P=new Mn;P.setAttribute("position",new Ai(R,T)),P.setAttribute("uv",new Ai(w,S)),P.setAttribute("faceIndex",new Ai(D,A)),e.push(P),r>bp&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function GC(n,e,t){const i=new bc(n,e,t);return i.texture.mapping=em,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Jy(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function $H(n,e,t){const i=new Float32Array(ud),r=new he(0,1,0);return new Xo({name:"SphericalGaussianBlur",defines:{n:ud,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:oM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:fu,depthTest:!1,depthWrite:!1})}function XC(){return new Xo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:oM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:fu,depthTest:!1,depthWrite:!1})}function WC(){return new Xo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:oM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:fu,depthTest:!1,depthWrite:!1})}function oM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function e7(n){let e=new WeakMap,t=null;function i(l){if(l&&l.isTexture){const u=l.mapping,h=u===Mv||u===wv,p=u===xu||u===Ff;if(h||p){let g=e.get(l);const v=g!==void 0?g.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==v)return t===null&&(t=new CA(n)),g=h?t.fromEquirectangular(l,g):t.fromCubemap(l,g),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),g.texture;if(g!==void 0)return g.texture;{const y=l.image;return h&&y&&y.height>0||p&&y&&r(y)?(t===null&&(t=new CA(n)),g=h?t.fromEquirectangular(l):t.fromCubemap(l),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),l.addEventListener("dispose",a),g.texture):null}}}return l}function r(l){let u=0;const h=6;for(let p=0;p<h;p++)l[p]!==void 0&&u++;return u===h}function a(l){const u=l.target;u.removeEventListener("dispose",a);const h=e.get(u);h!==void 0&&(e.delete(u),h.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:s}}function t7(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&Dp("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function n7(n,e,t,i){const r={},a=new WeakMap;function s(g){const v=g.target;v.index!==null&&e.remove(v.index);for(const E in v.attributes)e.remove(v.attributes[E]);v.removeEventListener("dispose",s),delete r[v.id];const y=a.get(v);y&&(e.remove(y),a.delete(v)),i.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function l(g,v){return r[v.id]===!0||(v.addEventListener("dispose",s),r[v.id]=!0,t.memory.geometries++),v}function u(g){const v=g.attributes;for(const y in v)e.update(v[y],n.ARRAY_BUFFER)}function h(g){const v=[],y=g.index,E=g.attributes.position;let T=0;if(y!==null){const R=y.array;T=y.version;for(let w=0,D=R.length;w<D;w+=3){const P=R[w+0],F=R[w+1],U=R[w+2];v.push(P,F,F,U,U,P)}}else if(E!==void 0){const R=E.array;T=E.version;for(let w=0,D=R.length/3-1;w<D;w+=3){const P=w+0,F=w+1,U=w+2;v.push(P,F,F,U,U,P)}}else return;const S=new(mD(v)?Ub:Lb)(v,1);S.version=T;const A=a.get(g);A&&e.remove(A),a.set(g,S)}function p(g){const v=a.get(g);if(v){const y=g.index;y!==null&&v.version<y.version&&h(g)}else h(g);return a.get(g)}return{get:l,update:u,getWireframeAttribute:p}}function i7(n,e,t){let i;function r(v){i=v}let a,s;function l(v){a=v.type,s=v.bytesPerElement}function u(v,y){n.drawElements(i,y,a,v*s),t.update(y,i,1)}function h(v,y,E){E!==0&&(n.drawElementsInstanced(i,y,a,v*s,E),t.update(y,i,E))}function p(v,y,E){if(E===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,y,0,a,v,0,E);let S=0;for(let A=0;A<E;A++)S+=y[A];t.update(S,i,1)}function g(v,y,E,T){if(E===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let A=0;A<v.length;A++)h(v[A]/s,y[A],T[A]);else{S.multiDrawElementsInstancedWEBGL(i,y,0,a,v,0,T,0,E);let A=0;for(let R=0;R<E;R++)A+=y[R]*T[R];t.update(A,i,1)}}this.setMode=r,this.setIndex=l,this.render=u,this.renderInstances=h,this.renderMultiDraw=p,this.renderMultiDrawInstances=g}function r7(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,s,l){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=l*(a/3);break;case n.LINES:t.lines+=l*(a/2);break;case n.LINE_STRIP:t.lines+=l*(a-1);break;case n.LINE_LOOP:t.lines+=l*a;break;case n.POINTS:t.points+=l*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function a7(n,e,t){const i=new WeakMap,r=new Kn;function a(s,l,u){const h=s.morphTargetInfluences,p=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,g=p!==void 0?p.length:0;let v=i.get(l);if(v===void 0||v.count!==g){let L=function(){I.dispose(),i.delete(l),l.removeEventListener("dispose",L)};var y=L;v!==void 0&&v.texture.dispose();const E=l.morphAttributes.position!==void 0,T=l.morphAttributes.normal!==void 0,S=l.morphAttributes.color!==void 0,A=l.morphAttributes.position||[],R=l.morphAttributes.normal||[],w=l.morphAttributes.color||[];let D=0;E===!0&&(D=1),T===!0&&(D=2),S===!0&&(D=3);let P=l.attributes.position.count*D,F=1;P>e.maxTextureSize&&(F=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const U=new Float32Array(P*F*4*g),I=new iS(U,P,F,g);I.type=Us,I.needsUpdate=!0;const C=D*4;for(let k=0;k<g;k++){const G=A[k],ee=R[k],ve=w[k],pe=P*F*4*k;for(let W=0;W<G.count;W++){const K=W*C;E===!0&&(r.fromBufferAttribute(G,W),U[pe+K+0]=r.x,U[pe+K+1]=r.y,U[pe+K+2]=r.z,U[pe+K+3]=0),T===!0&&(r.fromBufferAttribute(ee,W),U[pe+K+4]=r.x,U[pe+K+5]=r.y,U[pe+K+6]=r.z,U[pe+K+7]=0),S===!0&&(r.fromBufferAttribute(ve,W),U[pe+K+8]=r.x,U[pe+K+9]=r.y,U[pe+K+10]=r.z,U[pe+K+11]=ve.itemSize===4?r.w:1)}}v={count:g,texture:I,size:new ft(P,F)},i.set(l,v),l.addEventListener("dispose",L)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)u.getUniforms().setValue(n,"morphTexture",s.morphTexture,t);else{let E=0;for(let S=0;S<h.length;S++)E+=h[S];const T=l.morphTargetsRelative?1:1-E;u.getUniforms().setValue(n,"morphTargetBaseInfluence",T),u.getUniforms().setValue(n,"morphTargetInfluences",h)}u.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),u.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}return{update:a}}function s7(n,e,t,i){let r=new WeakMap;function a(u){const h=i.render.frame,p=u.geometry,g=e.get(u,p);if(r.get(g)!==h&&(e.update(g),r.set(g,h)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),r.get(u)!==h&&(t.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,n.ARRAY_BUFFER),r.set(u,h))),u.isSkinnedMesh){const v=u.skeleton;r.get(v)!==h&&(v.update(),r.set(v,h))}return g}function s(){r=new WeakMap}function l(u){const h=u.target;h.removeEventListener("dispose",l),t.remove(h.instanceMatrix),h.instanceColor!==null&&t.remove(h.instanceColor)}return{update:a,dispose:s}}const SI=new ar,YC=new zb(1,1),TI=new iS,AI=new rS,bI=new px,jC=[],qC=[],KC=new Float32Array(16),ZC=new Float32Array(9),QC=new Float32Array(4);function am(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let a=jC[r];if(a===void 0&&(a=new Float32Array(r),jC[r]=a),e!==0){i.toArray(a,0);for(let s=1,l=0;s!==e;++s)l+=t,n[s].toArray(a,l)}return a}function Wr(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Yr(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function MS(n,e){let t=qC[e];t===void 0&&(t=new Int32Array(e),qC[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function o7(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function l7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Wr(t,e))return;n.uniform2fv(this.addr,e),Yr(t,e)}}function c7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Wr(t,e))return;n.uniform3fv(this.addr,e),Yr(t,e)}}function u7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Wr(t,e))return;n.uniform4fv(this.addr,e),Yr(t,e)}}function f7(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Wr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Yr(t,e)}else{if(Wr(t,i))return;QC.set(i),n.uniformMatrix2fv(this.addr,!1,QC),Yr(t,i)}}function h7(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Wr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Yr(t,e)}else{if(Wr(t,i))return;ZC.set(i),n.uniformMatrix3fv(this.addr,!1,ZC),Yr(t,i)}}function d7(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Wr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Yr(t,e)}else{if(Wr(t,i))return;KC.set(i),n.uniformMatrix4fv(this.addr,!1,KC),Yr(t,i)}}function p7(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function m7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Wr(t,e))return;n.uniform2iv(this.addr,e),Yr(t,e)}}function g7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Wr(t,e))return;n.uniform3iv(this.addr,e),Yr(t,e)}}function v7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Wr(t,e))return;n.uniform4iv(this.addr,e),Yr(t,e)}}function x7(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function y7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Wr(t,e))return;n.uniform2uiv(this.addr,e),Yr(t,e)}}function _7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Wr(t,e))return;n.uniform3uiv(this.addr,e),Yr(t,e)}}function E7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Wr(t,e))return;n.uniform4uiv(this.addr,e),Yr(t,e)}}function S7(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let a;this.type===n.SAMPLER_2D_SHADOW?(YC.compareFunction=Nb,a=YC):a=SI,t.setTexture2D(e||a,r)}function T7(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||AI,r)}function A7(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||bI,r)}function b7(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||TI,r)}function M7(n){switch(n){case 5126:return o7;case 35664:return l7;case 35665:return c7;case 35666:return u7;case 35674:return f7;case 35675:return h7;case 35676:return d7;case 5124:case 35670:return p7;case 35667:case 35671:return m7;case 35668:case 35672:return g7;case 35669:case 35673:return v7;case 5125:return x7;case 36294:return y7;case 36295:return _7;case 36296:return E7;case 35678:case 36198:case 36298:case 36306:case 35682:return S7;case 35679:case 36299:case 36307:return T7;case 35680:case 36300:case 36308:case 36293:return A7;case 36289:case 36303:case 36311:case 36292:return b7}}function w7(n,e){n.uniform1fv(this.addr,e)}function R7(n,e){const t=am(e,this.size,2);n.uniform2fv(this.addr,t)}function C7(n,e){const t=am(e,this.size,3);n.uniform3fv(this.addr,t)}function O7(n,e){const t=am(e,this.size,4);n.uniform4fv(this.addr,t)}function N7(n,e){const t=am(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function D7(n,e){const t=am(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function I7(n,e){const t=am(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function L7(n,e){n.uniform1iv(this.addr,e)}function U7(n,e){n.uniform2iv(this.addr,e)}function F7(n,e){n.uniform3iv(this.addr,e)}function P7(n,e){n.uniform4iv(this.addr,e)}function B7(n,e){n.uniform1uiv(this.addr,e)}function k7(n,e){n.uniform2uiv(this.addr,e)}function z7(n,e){n.uniform3uiv(this.addr,e)}function V7(n,e){n.uniform4uiv(this.addr,e)}function H7(n,e,t){const i=this.cache,r=e.length,a=MS(t,r);Wr(i,a)||(n.uniform1iv(this.addr,a),Yr(i,a));for(let s=0;s!==r;++s)t.setTexture2D(e[s]||SI,a[s])}function G7(n,e,t){const i=this.cache,r=e.length,a=MS(t,r);Wr(i,a)||(n.uniform1iv(this.addr,a),Yr(i,a));for(let s=0;s!==r;++s)t.setTexture3D(e[s]||AI,a[s])}function X7(n,e,t){const i=this.cache,r=e.length,a=MS(t,r);Wr(i,a)||(n.uniform1iv(this.addr,a),Yr(i,a));for(let s=0;s!==r;++s)t.setTextureCube(e[s]||bI,a[s])}function W7(n,e,t){const i=this.cache,r=e.length,a=MS(t,r);Wr(i,a)||(n.uniform1iv(this.addr,a),Yr(i,a));for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||TI,a[s])}function Y7(n){switch(n){case 5126:return w7;case 35664:return R7;case 35665:return C7;case 35666:return O7;case 35674:return N7;case 35675:return D7;case 35676:return I7;case 5124:case 35670:return L7;case 35667:case 35671:return U7;case 35668:case 35672:return F7;case 35669:case 35673:return P7;case 5125:return B7;case 36294:return k7;case 36295:return z7;case 36296:return V7;case 35678:case 36198:case 36298:case 36306:case 35682:return H7;case 35679:case 36299:case 36307:return G7;case 35680:case 36300:case 36308:case 36293:return X7;case 36289:case 36303:case 36311:case 36292:return W7}}class j7{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=M7(t.type)}}class q7{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Y7(t.type)}}class K7{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let a=0,s=r.length;a!==s;++a){const l=r[a];l.setValue(e,t[l.id],i)}}}const y2=/(\w+)(\])?(\[|\.)?/g;function JC(n,e){n.seq.push(e),n.map[e.id]=e}function Z7(n,e,t){const i=n.name,r=i.length;for(y2.lastIndex=0;;){const a=y2.exec(i),s=y2.lastIndex;let l=a[1];const u=a[2]==="]",h=a[3];if(u&&(l=l|0),h===void 0||h==="["&&s+2===r){JC(t,h===void 0?new j7(l,n,e):new q7(l,n,e));break}else{let g=t.map[l];g===void 0&&(g=new K7(l),JC(t,g)),t=g}}}class b_{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(t,r),s=e.getUniformLocation(t,a.name);Z7(a,s,this)}}setValue(e,t,i,r){const a=this.map[t];a!==void 0&&a.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let a=0,s=t.length;a!==s;++a){const l=t[a],u=i[l.id];u.needsUpdate!==!1&&l.setValue(e,u.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,a=e.length;r!==a;++r){const s=e[r];s.id in t&&i.push(s)}return i}}function $C(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const Q7=37297;let J7=0;function $7(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=r;s<a;s++){const l=s+1;i.push(`${l===e?">":" "} ${l}: ${t[s]}`)}return i.join(`
`)}const e3=new En;function e9(n){Xn._getMatrix(e3,Xn.workingColorSpace,n);const e=`mat3( ${e3.elements.map(t=>t.toFixed(4))} )`;switch(Xn.getTransfer(n)){case Dv:return[e,"LinearTransferOETF"];case pi:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function t3(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const s=parseInt(a[1]);return t.toUpperCase()+`

`+r+`

`+$7(n.getShaderSource(e),s)}else return r}function t9(n,e){const t=e9(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function n9(n,e){let t;switch(e){case KN:t="Linear";break;case ZN:t="Reinhard";break;case QN:t="Cineon";break;case Eb:t="ACESFilmic";break;case $N:t="AgX";break;case eD:t="Neutral";break;case JN:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const $y=new he;function i9(){Xn.getLuminanceCoefficients($y);const n=$y.x.toFixed(4),e=$y.y.toFixed(4),t=$y.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function r9(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Qg).join(`
`)}function a9(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function s9(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=n.getActiveAttrib(e,r),s=a.name;let l=1;a.type===n.FLOAT_MAT2&&(l=2),a.type===n.FLOAT_MAT3&&(l=3),a.type===n.FLOAT_MAT4&&(l=4),t[s]={type:a.type,location:n.getAttribLocation(e,s),locationSize:l}}return t}function Qg(n){return n!==""}function n3(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function i3(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const o9=/^[ \t]*#include +<([\w\d./]+)>/gm;function OA(n){return n.replace(o9,c9)}const l9=new Map;function c9(n,e){let t=Rn[e];if(t===void 0){const i=l9.get(e);if(i!==void 0)t=Rn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return OA(t)}const u9=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function r3(n){return n.replace(u9,f9)}function f9(n,e,t,i){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function a3(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function h9(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===qE?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===nv?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Tl&&(e="SHADOWMAP_TYPE_VSM"),e}function d9(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case xu:case Ff:e="ENVMAP_TYPE_CUBE";break;case em:e="ENVMAP_TYPE_CUBE_UV";break}return e}function p9(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Ff:e="ENVMAP_MODE_REFRACTION";break}return e}function m9(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case hx:e="ENVMAP_BLENDING_MULTIPLY";break;case jN:e="ENVMAP_BLENDING_MIX";break;case qN:e="ENVMAP_BLENDING_ADD";break}return e}function g9(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function v9(n,e,t,i){const r=n.getContext(),a=t.defines;let s=t.vertexShader,l=t.fragmentShader;const u=h9(t),h=d9(t),p=p9(t),g=m9(t),v=g9(t),y=r9(t),E=a9(a),T=r.createProgram();let S,A,R=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,E].filter(Qg).join(`
`),S.length>0&&(S+=`
`),A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,E].filter(Qg).join(`
`),A.length>0&&(A+=`
`)):(S=[a3(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,E,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Qg).join(`
`),A=[a3(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,E,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.envMap?"#define "+p:"",t.envMap?"#define "+g:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Ec?"#define TONE_MAPPING":"",t.toneMapping!==Ec?Rn.tonemapping_pars_fragment:"",t.toneMapping!==Ec?n9("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Rn.colorspace_pars_fragment,t9("linearToOutputTexel",t.outputColorSpace),i9(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Qg).join(`
`)),s=OA(s),s=n3(s,t),s=i3(s,t),l=OA(l),l=n3(l,t),l=i3(l,t),s=r3(s),l=r3(l),t.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,S=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,A=["#define varying in",t.glslVersion===EA?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===EA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+A);const w=R+S+s,D=R+A+l,P=$C(r,r.VERTEX_SHADER,w),F=$C(r,r.FRAGMENT_SHADER,D);r.attachShader(T,P),r.attachShader(T,F),t.index0AttributeName!==void 0?r.bindAttribLocation(T,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(T,0,"position"),r.linkProgram(T);function U(k){if(n.debug.checkShaderErrors){const G=r.getProgramInfoLog(T).trim(),ee=r.getShaderInfoLog(P).trim(),ve=r.getShaderInfoLog(F).trim();let pe=!0,W=!0;if(r.getProgramParameter(T,r.LINK_STATUS)===!1)if(pe=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,T,P,F);else{const K=t3(r,P,"vertex"),ie=t3(r,F,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(T,r.VALIDATE_STATUS)+`

Material Name: `+k.name+`
Material Type: `+k.type+`

Program Info Log: `+G+`
`+K+`
`+ie)}else G!==""?console.warn("THREE.WebGLProgram: Program Info Log:",G):(ee===""||ve==="")&&(W=!1);W&&(k.diagnostics={runnable:pe,programLog:G,vertexShader:{log:ee,prefix:S},fragmentShader:{log:ve,prefix:A}})}r.deleteShader(P),r.deleteShader(F),I=new b_(r,T),C=s9(r,T)}let I;this.getUniforms=function(){return I===void 0&&U(this),I};let C;this.getAttributes=function(){return C===void 0&&U(this),C};let L=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=r.getProgramParameter(T,Q7)),L},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(T),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=J7++,this.cacheKey=e,this.usedTimes=1,this.program=T,this.vertexShader=P,this.fragmentShader=F,this}let x9=0;class y9{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new _9(e),t.set(e,i)),i}}class _9{constructor(e){this.id=x9++,this.code=e,this.usedTimes=0}}function E9(n,e,t,i,r,a,s){const l=new Gp,u=new y9,h=new Set,p=[],g=r.logarithmicDepthBuffer,v=r.vertexTextures;let y=r.precision;const E={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(C){return h.add(C),C===0?"uv":`uv${C}`}function S(C,L,k,G,ee){const ve=G.fog,pe=ee.geometry,W=C.isMeshStandardMaterial?G.environment:null,K=(C.isMeshStandardMaterial?t:e).get(C.envMap||W),ie=K&&K.mapping===em?K.image.height:null,ne=E[C.type];C.precision!==null&&(y=r.getMaxPrecision(C.precision),y!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",y,"instead."));const j=pe.morphAttributes.position||pe.morphAttributes.normal||pe.morphAttributes.color,le=j!==void 0?j.length:0;let H=0;pe.morphAttributes.position!==void 0&&(H=1),pe.morphAttributes.normal!==void 0&&(H=2),pe.morphAttributes.color!==void 0&&(H=3);let q,V,Q,ge;if(ne){const Nn=Al[ne];q=Nn.vertexShader,V=Nn.fragmentShader}else q=C.vertexShader,V=C.fragmentShader,u.update(C),Q=u.getVertexShaderID(C),ge=u.getFragmentShaderID(C);const Ae=n.getRenderTarget(),Ee=n.state.buffers.depth.getReversed(),Ce=ee.isInstancedMesh===!0,Ne=ee.isBatchedMesh===!0,st=!!C.map,se=!!C.matcap,vt=!!K,J=!!C.aoMap,Ze=!!C.lightMap,Ie=!!C.bumpMap,Re=!!C.normalMap,Pe=!!C.displacementMap,ut=!!C.emissiveMap,$e=!!C.metalnessMap,yt=!!C.roughnessMap,kt=C.anisotropy>0,ce=C.clearcoat>0,Y=C.dispersion>0,Oe=C.iridescence>0,ze=C.sheen>0,Qe=C.transmission>0,He=kt&&!!C.anisotropyMap,St=ce&&!!C.clearcoatMap,it=ce&&!!C.clearcoatNormalMap,xt=ce&&!!C.clearcoatRoughnessMap,bt=Oe&&!!C.iridescenceMap,Je=Oe&&!!C.iridescenceThicknessMap,At=ze&&!!C.sheenColorMap,Bt=ze&&!!C.sheenRoughnessMap,Xt=!!C.specularMap,Mt=!!C.specularColorMap,Kt=!!C.specularIntensityMap,Me=Qe&&!!C.transmissionMap,Ct=Qe&&!!C.thicknessMap,pt=!!C.gradientMap,It=!!C.alphaMap,gt=C.alphaTest>0,lt=!!C.alphaHash,Ft=!!C.extensions;let $t=Ec;C.toneMapped&&(Ae===null||Ae.isXRRenderTarget===!0)&&($t=n.toneMapping);const kn={shaderID:ne,shaderType:C.type,shaderName:C.name,vertexShader:q,fragmentShader:V,defines:C.defines,customVertexShaderID:Q,customFragmentShaderID:ge,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:y,batching:Ne,batchingColor:Ne&&ee._colorsTexture!==null,instancing:Ce,instancingColor:Ce&&ee.instanceColor!==null,instancingMorph:Ce&&ee.morphTexture!==null,supportsVertexTextures:v,outputColorSpace:Ae===null?n.outputColorSpace:Ae.isXRRenderTarget===!0?Ae.texture.colorSpace:Pf,alphaToCoverage:!!C.alphaToCoverage,map:st,matcap:se,envMap:vt,envMapMode:vt&&K.mapping,envMapCubeUVHeight:ie,aoMap:J,lightMap:Ze,bumpMap:Ie,normalMap:Re,displacementMap:v&&Pe,emissiveMap:ut,normalMapObjectSpace:Re&&C.normalMapType===oD,normalMapTangentSpace:Re&&C.normalMapType===Xf,metalnessMap:$e,roughnessMap:yt,anisotropy:kt,anisotropyMap:He,clearcoat:ce,clearcoatMap:St,clearcoatNormalMap:it,clearcoatRoughnessMap:xt,dispersion:Y,iridescence:Oe,iridescenceMap:bt,iridescenceThicknessMap:Je,sheen:ze,sheenColorMap:At,sheenRoughnessMap:Bt,specularMap:Xt,specularColorMap:Mt,specularIntensityMap:Kt,transmission:Qe,transmissionMap:Me,thicknessMap:Ct,gradientMap:pt,opaque:C.transparent===!1&&C.blending===yd&&C.alphaToCoverage===!1,alphaMap:It,alphaTest:gt,alphaHash:lt,combine:C.combine,mapUv:st&&T(C.map.channel),aoMapUv:J&&T(C.aoMap.channel),lightMapUv:Ze&&T(C.lightMap.channel),bumpMapUv:Ie&&T(C.bumpMap.channel),normalMapUv:Re&&T(C.normalMap.channel),displacementMapUv:Pe&&T(C.displacementMap.channel),emissiveMapUv:ut&&T(C.emissiveMap.channel),metalnessMapUv:$e&&T(C.metalnessMap.channel),roughnessMapUv:yt&&T(C.roughnessMap.channel),anisotropyMapUv:He&&T(C.anisotropyMap.channel),clearcoatMapUv:St&&T(C.clearcoatMap.channel),clearcoatNormalMapUv:it&&T(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:xt&&T(C.clearcoatRoughnessMap.channel),iridescenceMapUv:bt&&T(C.iridescenceMap.channel),iridescenceThicknessMapUv:Je&&T(C.iridescenceThicknessMap.channel),sheenColorMapUv:At&&T(C.sheenColorMap.channel),sheenRoughnessMapUv:Bt&&T(C.sheenRoughnessMap.channel),specularMapUv:Xt&&T(C.specularMap.channel),specularColorMapUv:Mt&&T(C.specularColorMap.channel),specularIntensityMapUv:Kt&&T(C.specularIntensityMap.channel),transmissionMapUv:Me&&T(C.transmissionMap.channel),thicknessMapUv:Ct&&T(C.thicknessMap.channel),alphaMapUv:It&&T(C.alphaMap.channel),vertexTangents:!!pe.attributes.tangent&&(Re||kt),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!pe.attributes.color&&pe.attributes.color.itemSize===4,pointsUvs:ee.isPoints===!0&&!!pe.attributes.uv&&(st||It),fog:!!ve,useFog:C.fog===!0,fogExp2:!!ve&&ve.isFogExp2,flatShading:C.flatShading===!0&&C.wireframe===!1,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:g,reverseDepthBuffer:Ee,skinning:ee.isSkinnedMesh===!0,morphTargets:pe.morphAttributes.position!==void 0,morphNormals:pe.morphAttributes.normal!==void 0,morphColors:pe.morphAttributes.color!==void 0,morphTargetsCount:le,morphTextureStride:H,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&k.length>0,shadowMapType:n.shadowMap.type,toneMapping:$t,decodeVideoTexture:st&&C.map.isVideoTexture===!0&&Xn.getTransfer(C.map.colorSpace)===pi,decodeVideoTextureEmissive:ut&&C.emissiveMap.isVideoTexture===!0&&Xn.getTransfer(C.emissiveMap.colorSpace)===pi,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===vc,flipSided:C.side===ps,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionClipCullDistance:Ft&&C.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ft&&C.extensions.multiDraw===!0||Ne)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:C.customProgramCacheKey()};return kn.vertexUv1s=h.has(1),kn.vertexUv2s=h.has(2),kn.vertexUv3s=h.has(3),h.clear(),kn}function A(C){const L=[];if(C.shaderID?L.push(C.shaderID):(L.push(C.customVertexShaderID),L.push(C.customFragmentShaderID)),C.defines!==void 0)for(const k in C.defines)L.push(k),L.push(C.defines[k]);return C.isRawShaderMaterial===!1&&(R(L,C),w(L,C),L.push(n.outputColorSpace)),L.push(C.customProgramCacheKey),L.join()}function R(C,L){C.push(L.precision),C.push(L.outputColorSpace),C.push(L.envMapMode),C.push(L.envMapCubeUVHeight),C.push(L.mapUv),C.push(L.alphaMapUv),C.push(L.lightMapUv),C.push(L.aoMapUv),C.push(L.bumpMapUv),C.push(L.normalMapUv),C.push(L.displacementMapUv),C.push(L.emissiveMapUv),C.push(L.metalnessMapUv),C.push(L.roughnessMapUv),C.push(L.anisotropyMapUv),C.push(L.clearcoatMapUv),C.push(L.clearcoatNormalMapUv),C.push(L.clearcoatRoughnessMapUv),C.push(L.iridescenceMapUv),C.push(L.iridescenceThicknessMapUv),C.push(L.sheenColorMapUv),C.push(L.sheenRoughnessMapUv),C.push(L.specularMapUv),C.push(L.specularColorMapUv),C.push(L.specularIntensityMapUv),C.push(L.transmissionMapUv),C.push(L.thicknessMapUv),C.push(L.combine),C.push(L.fogExp2),C.push(L.sizeAttenuation),C.push(L.morphTargetsCount),C.push(L.morphAttributeCount),C.push(L.numDirLights),C.push(L.numPointLights),C.push(L.numSpotLights),C.push(L.numSpotLightMaps),C.push(L.numHemiLights),C.push(L.numRectAreaLights),C.push(L.numDirLightShadows),C.push(L.numPointLightShadows),C.push(L.numSpotLightShadows),C.push(L.numSpotLightShadowsWithMaps),C.push(L.numLightProbes),C.push(L.shadowMapType),C.push(L.toneMapping),C.push(L.numClippingPlanes),C.push(L.numClipIntersection),C.push(L.depthPacking)}function w(C,L){l.disableAll(),L.supportsVertexTextures&&l.enable(0),L.instancing&&l.enable(1),L.instancingColor&&l.enable(2),L.instancingMorph&&l.enable(3),L.matcap&&l.enable(4),L.envMap&&l.enable(5),L.normalMapObjectSpace&&l.enable(6),L.normalMapTangentSpace&&l.enable(7),L.clearcoat&&l.enable(8),L.iridescence&&l.enable(9),L.alphaTest&&l.enable(10),L.vertexColors&&l.enable(11),L.vertexAlphas&&l.enable(12),L.vertexUv1s&&l.enable(13),L.vertexUv2s&&l.enable(14),L.vertexUv3s&&l.enable(15),L.vertexTangents&&l.enable(16),L.anisotropy&&l.enable(17),L.alphaHash&&l.enable(18),L.batching&&l.enable(19),L.dispersion&&l.enable(20),L.batchingColor&&l.enable(21),L.gradientMap&&l.enable(22),C.push(l.mask),l.disableAll(),L.fog&&l.enable(0),L.useFog&&l.enable(1),L.flatShading&&l.enable(2),L.logarithmicDepthBuffer&&l.enable(3),L.reverseDepthBuffer&&l.enable(4),L.skinning&&l.enable(5),L.morphTargets&&l.enable(6),L.morphNormals&&l.enable(7),L.morphColors&&l.enable(8),L.premultipliedAlpha&&l.enable(9),L.shadowMapEnabled&&l.enable(10),L.doubleSided&&l.enable(11),L.flipSided&&l.enable(12),L.useDepthPacking&&l.enable(13),L.dithering&&l.enable(14),L.transmission&&l.enable(15),L.sheen&&l.enable(16),L.opaque&&l.enable(17),L.pointsUvs&&l.enable(18),L.decodeVideoTexture&&l.enable(19),L.decodeVideoTextureEmissive&&l.enable(20),L.alphaToCoverage&&l.enable(21),C.push(l.mask)}function D(C){const L=E[C.type];let k;if(L){const G=Al[L];k=_D.clone(G.uniforms)}else k=C.uniforms;return k}function P(C,L){let k;for(let G=0,ee=p.length;G<ee;G++){const ve=p[G];if(ve.cacheKey===L){k=ve,++k.usedTimes;break}}return k===void 0&&(k=new v9(n,L,C,a),p.push(k)),k}function F(C){if(--C.usedTimes===0){const L=p.indexOf(C);p[L]=p[p.length-1],p.pop(),C.destroy()}}function U(C){u.remove(C)}function I(){u.dispose()}return{getParameters:S,getProgramCacheKey:A,getUniforms:D,acquireProgram:P,releaseProgram:F,releaseShaderCache:U,programs:p,dispose:I}}function S9(){let n=new WeakMap;function e(s){return n.has(s)}function t(s){let l=n.get(s);return l===void 0&&(l={},n.set(s,l)),l}function i(s){n.delete(s)}function r(s,l,u){n.get(s)[l]=u}function a(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:a}}function T9(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function s3(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function o3(){const n=[];let e=0;const t=[],i=[],r=[];function a(){e=0,t.length=0,i.length=0,r.length=0}function s(g,v,y,E,T,S){let A=n[e];return A===void 0?(A={id:g.id,object:g,geometry:v,material:y,groupOrder:E,renderOrder:g.renderOrder,z:T,group:S},n[e]=A):(A.id=g.id,A.object=g,A.geometry=v,A.material=y,A.groupOrder=E,A.renderOrder=g.renderOrder,A.z=T,A.group=S),e++,A}function l(g,v,y,E,T,S){const A=s(g,v,y,E,T,S);y.transmission>0?i.push(A):y.transparent===!0?r.push(A):t.push(A)}function u(g,v,y,E,T,S){const A=s(g,v,y,E,T,S);y.transmission>0?i.unshift(A):y.transparent===!0?r.unshift(A):t.unshift(A)}function h(g,v){t.length>1&&t.sort(g||T9),i.length>1&&i.sort(v||s3),r.length>1&&r.sort(v||s3)}function p(){for(let g=e,v=n.length;g<v;g++){const y=n[g];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:t,transmissive:i,transparent:r,init:a,push:l,unshift:u,finish:p,sort:h}}function A9(){let n=new WeakMap;function e(i,r){const a=n.get(i);let s;return a===void 0?(s=new o3,n.set(i,[s])):r>=a.length?(s=new o3,a.push(s)):s=a[r],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function b9(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new he,color:new Ut};break;case"SpotLight":t={position:new he,direction:new he,color:new Ut,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new he,color:new Ut,distance:0,decay:0};break;case"HemisphereLight":t={direction:new he,skyColor:new Ut,groundColor:new Ut};break;case"RectAreaLight":t={color:new Ut,position:new he,halfWidth:new he,halfHeight:new he};break}return n[e.id]=t,t}}}function M9(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let w9=0;function R9(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function C9(n){const e=new b9,t=M9(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new he);const r=new he,a=new cn,s=new cn;function l(h){let p=0,g=0,v=0;for(let C=0;C<9;C++)i.probe[C].set(0,0,0);let y=0,E=0,T=0,S=0,A=0,R=0,w=0,D=0,P=0,F=0,U=0;h.sort(R9);for(let C=0,L=h.length;C<L;C++){const k=h[C],G=k.color,ee=k.intensity,ve=k.distance,pe=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)p+=G.r*ee,g+=G.g*ee,v+=G.b*ee;else if(k.isLightProbe){for(let W=0;W<9;W++)i.probe[W].addScaledVector(k.sh.coefficients[W],ee);U++}else if(k.isDirectionalLight){const W=e.get(k);if(W.color.copy(k.color).multiplyScalar(k.intensity),k.castShadow){const K=k.shadow,ie=t.get(k);ie.shadowIntensity=K.intensity,ie.shadowBias=K.bias,ie.shadowNormalBias=K.normalBias,ie.shadowRadius=K.radius,ie.shadowMapSize=K.mapSize,i.directionalShadow[y]=ie,i.directionalShadowMap[y]=pe,i.directionalShadowMatrix[y]=k.shadow.matrix,R++}i.directional[y]=W,y++}else if(k.isSpotLight){const W=e.get(k);W.position.setFromMatrixPosition(k.matrixWorld),W.color.copy(G).multiplyScalar(ee),W.distance=ve,W.coneCos=Math.cos(k.angle),W.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),W.decay=k.decay,i.spot[T]=W;const K=k.shadow;if(k.map&&(i.spotLightMap[P]=k.map,P++,K.updateMatrices(k),k.castShadow&&F++),i.spotLightMatrix[T]=K.matrix,k.castShadow){const ie=t.get(k);ie.shadowIntensity=K.intensity,ie.shadowBias=K.bias,ie.shadowNormalBias=K.normalBias,ie.shadowRadius=K.radius,ie.shadowMapSize=K.mapSize,i.spotShadow[T]=ie,i.spotShadowMap[T]=pe,D++}T++}else if(k.isRectAreaLight){const W=e.get(k);W.color.copy(G).multiplyScalar(ee),W.halfWidth.set(k.width*.5,0,0),W.halfHeight.set(0,k.height*.5,0),i.rectArea[S]=W,S++}else if(k.isPointLight){const W=e.get(k);if(W.color.copy(k.color).multiplyScalar(k.intensity),W.distance=k.distance,W.decay=k.decay,k.castShadow){const K=k.shadow,ie=t.get(k);ie.shadowIntensity=K.intensity,ie.shadowBias=K.bias,ie.shadowNormalBias=K.normalBias,ie.shadowRadius=K.radius,ie.shadowMapSize=K.mapSize,ie.shadowCameraNear=K.camera.near,ie.shadowCameraFar=K.camera.far,i.pointShadow[E]=ie,i.pointShadowMap[E]=pe,i.pointShadowMatrix[E]=k.shadow.matrix,w++}i.point[E]=W,E++}else if(k.isHemisphereLight){const W=e.get(k);W.skyColor.copy(k.color).multiplyScalar(ee),W.groundColor.copy(k.groundColor).multiplyScalar(ee),i.hemi[A]=W,A++}}S>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Dt.LTC_FLOAT_1,i.rectAreaLTC2=Dt.LTC_FLOAT_2):(i.rectAreaLTC1=Dt.LTC_HALF_1,i.rectAreaLTC2=Dt.LTC_HALF_2)),i.ambient[0]=p,i.ambient[1]=g,i.ambient[2]=v;const I=i.hash;(I.directionalLength!==y||I.pointLength!==E||I.spotLength!==T||I.rectAreaLength!==S||I.hemiLength!==A||I.numDirectionalShadows!==R||I.numPointShadows!==w||I.numSpotShadows!==D||I.numSpotMaps!==P||I.numLightProbes!==U)&&(i.directional.length=y,i.spot.length=T,i.rectArea.length=S,i.point.length=E,i.hemi.length=A,i.directionalShadow.length=R,i.directionalShadowMap.length=R,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=D,i.spotShadowMap.length=D,i.directionalShadowMatrix.length=R,i.pointShadowMatrix.length=w,i.spotLightMatrix.length=D+P-F,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=F,i.numLightProbes=U,I.directionalLength=y,I.pointLength=E,I.spotLength=T,I.rectAreaLength=S,I.hemiLength=A,I.numDirectionalShadows=R,I.numPointShadows=w,I.numSpotShadows=D,I.numSpotMaps=P,I.numLightProbes=U,i.version=w9++)}function u(h,p){let g=0,v=0,y=0,E=0,T=0;const S=p.matrixWorldInverse;for(let A=0,R=h.length;A<R;A++){const w=h[A];if(w.isDirectionalLight){const D=i.directional[g];D.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),D.direction.sub(r),D.direction.transformDirection(S),g++}else if(w.isSpotLight){const D=i.spot[y];D.position.setFromMatrixPosition(w.matrixWorld),D.position.applyMatrix4(S),D.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),D.direction.sub(r),D.direction.transformDirection(S),y++}else if(w.isRectAreaLight){const D=i.rectArea[E];D.position.setFromMatrixPosition(w.matrixWorld),D.position.applyMatrix4(S),s.identity(),a.copy(w.matrixWorld),a.premultiply(S),s.extractRotation(a),D.halfWidth.set(w.width*.5,0,0),D.halfHeight.set(0,w.height*.5,0),D.halfWidth.applyMatrix4(s),D.halfHeight.applyMatrix4(s),E++}else if(w.isPointLight){const D=i.point[v];D.position.setFromMatrixPosition(w.matrixWorld),D.position.applyMatrix4(S),v++}else if(w.isHemisphereLight){const D=i.hemi[T];D.direction.setFromMatrixPosition(w.matrixWorld),D.direction.transformDirection(S),T++}}}return{setup:l,setupView:u,state:i}}function l3(n){const e=new C9(n),t=[],i=[];function r(p){h.camera=p,t.length=0,i.length=0}function a(p){t.push(p)}function s(p){i.push(p)}function l(){e.setup(t)}function u(p){e.setupView(t,p)}const h={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:h,setupLights:l,setupLightsView:u,pushLight:a,pushShadow:s}}function O9(n){let e=new WeakMap;function t(r,a=0){const s=e.get(r);let l;return s===void 0?(l=new l3(n),e.set(r,[l])):a>=s.length?(l=new l3(n),s.push(l)):l=s[a],l}function i(){e=new WeakMap}return{get:t,dispose:i}}const N9=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,D9=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function I9(n,e,t){let i=new im;const r=new ft,a=new ft,s=new Kn,l=new qb({depthPacking:sD}),u=new Kb,h={},p=t.maxTextureSize,g={[vu]:ps,[ps]:vu,[vc]:vc},v=new Xo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ft},radius:{value:4}},vertexShader:N9,fragmentShader:D9}),y=v.clone();y.defines.HORIZONTAL_PASS=1;const E=new Mn;E.setAttribute("position",new Ai(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new Nr(E,v),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=qE;let A=this.type;this.render=function(F,U,I){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||F.length===0)return;const C=n.getRenderTarget(),L=n.getActiveCubeFace(),k=n.getActiveMipmapLevel(),G=n.state;G.setBlending(fu),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const ee=A!==Tl&&this.type===Tl,ve=A===Tl&&this.type!==Tl;for(let pe=0,W=F.length;pe<W;pe++){const K=F[pe],ie=K.shadow;if(ie===void 0){console.warn("THREE.WebGLShadowMap:",K,"has no shadow.");continue}if(ie.autoUpdate===!1&&ie.needsUpdate===!1)continue;r.copy(ie.mapSize);const ne=ie.getFrameExtents();if(r.multiply(ne),a.copy(ie.mapSize),(r.x>p||r.y>p)&&(r.x>p&&(a.x=Math.floor(p/ne.x),r.x=a.x*ne.x,ie.mapSize.x=a.x),r.y>p&&(a.y=Math.floor(p/ne.y),r.y=a.y*ne.y,ie.mapSize.y=a.y)),ie.map===null||ee===!0||ve===!0){const le=this.type!==Tl?{minFilter:_a,magFilter:_a}:{};ie.map!==null&&ie.map.dispose(),ie.map=new bc(r.x,r.y,le),ie.map.texture.name=K.name+".shadowMap",ie.camera.updateProjectionMatrix()}n.setRenderTarget(ie.map),n.clear();const j=ie.getViewportCount();for(let le=0;le<j;le++){const H=ie.getViewport(le);s.set(a.x*H.x,a.y*H.y,a.x*H.z,a.y*H.w),G.viewport(s),ie.updateMatrices(K,le),i=ie.getFrustum(),D(U,I,ie.camera,K,this.type)}ie.isPointLightShadow!==!0&&this.type===Tl&&R(ie,I),ie.needsUpdate=!1}A=this.type,S.needsUpdate=!1,n.setRenderTarget(C,L,k)};function R(F,U){const I=e.update(T);v.defines.VSM_SAMPLES!==F.blurSamples&&(v.defines.VSM_SAMPLES=F.blurSamples,y.defines.VSM_SAMPLES=F.blurSamples,v.needsUpdate=!0,y.needsUpdate=!0),F.mapPass===null&&(F.mapPass=new bc(r.x,r.y)),v.uniforms.shadow_pass.value=F.map.texture,v.uniforms.resolution.value=F.mapSize,v.uniforms.radius.value=F.radius,n.setRenderTarget(F.mapPass),n.clear(),n.renderBufferDirect(U,null,I,v,T,null),y.uniforms.shadow_pass.value=F.mapPass.texture,y.uniforms.resolution.value=F.mapSize,y.uniforms.radius.value=F.radius,n.setRenderTarget(F.map),n.clear(),n.renderBufferDirect(U,null,I,y,T,null)}function w(F,U,I,C){let L=null;const k=I.isPointLight===!0?F.customDistanceMaterial:F.customDepthMaterial;if(k!==void 0)L=k;else if(L=I.isPointLight===!0?u:l,n.localClippingEnabled&&U.clipShadows===!0&&Array.isArray(U.clippingPlanes)&&U.clippingPlanes.length!==0||U.displacementMap&&U.displacementScale!==0||U.alphaMap&&U.alphaTest>0||U.map&&U.alphaTest>0||U.alphaToCoverage===!0){const G=L.uuid,ee=U.uuid;let ve=h[G];ve===void 0&&(ve={},h[G]=ve);let pe=ve[ee];pe===void 0&&(pe=L.clone(),ve[ee]=pe,U.addEventListener("dispose",P)),L=pe}if(L.visible=U.visible,L.wireframe=U.wireframe,C===Tl?L.side=U.shadowSide!==null?U.shadowSide:U.side:L.side=U.shadowSide!==null?U.shadowSide:g[U.side],L.alphaMap=U.alphaMap,L.alphaTest=U.alphaToCoverage===!0?.5:U.alphaTest,L.map=U.map,L.clipShadows=U.clipShadows,L.clippingPlanes=U.clippingPlanes,L.clipIntersection=U.clipIntersection,L.displacementMap=U.displacementMap,L.displacementScale=U.displacementScale,L.displacementBias=U.displacementBias,L.wireframeLinewidth=U.wireframeLinewidth,L.linewidth=U.linewidth,I.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const G=n.properties.get(L);G.light=I}return L}function D(F,U,I,C,L){if(F.visible===!1)return;if(F.layers.test(U.layers)&&(F.isMesh||F.isLine||F.isPoints)&&(F.castShadow||F.receiveShadow&&L===Tl)&&(!F.frustumCulled||i.intersectsObject(F))){F.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,F.matrixWorld);const ee=e.update(F),ve=F.material;if(Array.isArray(ve)){const pe=ee.groups;for(let W=0,K=pe.length;W<K;W++){const ie=pe[W],ne=ve[ie.materialIndex];if(ne&&ne.visible){const j=w(F,ne,C,L);F.onBeforeShadow(n,F,U,I,ee,j,ie),n.renderBufferDirect(I,null,ee,j,F,ie),F.onAfterShadow(n,F,U,I,ee,j,ie)}}}else if(ve.visible){const pe=w(F,ve,C,L);F.onBeforeShadow(n,F,U,I,ee,pe,null),n.renderBufferDirect(I,null,ee,pe,F,null),F.onAfterShadow(n,F,U,I,ee,pe,null)}}const G=F.children;for(let ee=0,ve=G.length;ee<ve;ee++)D(G[ee],U,I,C,L)}function P(F){F.target.removeEventListener("dispose",P);for(const I in h){const C=h[I],L=F.target.uuid;L in C&&(C[L].dispose(),delete C[L])}}}const L9={[F_]:P_,[B_]:V_,[k_]:H_,[Rd]:z_,[P_]:F_,[V_]:B_,[H_]:k_,[z_]:Rd};function U9(n,e){function t(){let Me=!1;const Ct=new Kn;let pt=null;const It=new Kn(0,0,0,0);return{setMask:function(gt){pt!==gt&&!Me&&(n.colorMask(gt,gt,gt,gt),pt=gt)},setLocked:function(gt){Me=gt},setClear:function(gt,lt,Ft,$t,kn){kn===!0&&(gt*=$t,lt*=$t,Ft*=$t),Ct.set(gt,lt,Ft,$t),It.equals(Ct)===!1&&(n.clearColor(gt,lt,Ft,$t),It.copy(Ct))},reset:function(){Me=!1,pt=null,It.set(-1,0,0,0)}}}function i(){let Me=!1,Ct=!1,pt=null,It=null,gt=null;return{setReversed:function(lt){if(Ct!==lt){const Ft=e.get("EXT_clip_control");lt?Ft.clipControlEXT(Ft.LOWER_LEFT_EXT,Ft.ZERO_TO_ONE_EXT):Ft.clipControlEXT(Ft.LOWER_LEFT_EXT,Ft.NEGATIVE_ONE_TO_ONE_EXT),Ct=lt;const $t=gt;gt=null,this.setClear($t)}},getReversed:function(){return Ct},setTest:function(lt){lt?Ae(n.DEPTH_TEST):Ee(n.DEPTH_TEST)},setMask:function(lt){pt!==lt&&!Me&&(n.depthMask(lt),pt=lt)},setFunc:function(lt){if(Ct&&(lt=L9[lt]),It!==lt){switch(lt){case F_:n.depthFunc(n.NEVER);break;case P_:n.depthFunc(n.ALWAYS);break;case B_:n.depthFunc(n.LESS);break;case Rd:n.depthFunc(n.LEQUAL);break;case k_:n.depthFunc(n.EQUAL);break;case z_:n.depthFunc(n.GEQUAL);break;case V_:n.depthFunc(n.GREATER);break;case H_:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}It=lt}},setLocked:function(lt){Me=lt},setClear:function(lt){gt!==lt&&(Ct&&(lt=1-lt),n.clearDepth(lt),gt=lt)},reset:function(){Me=!1,pt=null,It=null,gt=null,Ct=!1}}}function r(){let Me=!1,Ct=null,pt=null,It=null,gt=null,lt=null,Ft=null,$t=null,kn=null;return{setTest:function(Nn){Me||(Nn?Ae(n.STENCIL_TEST):Ee(n.STENCIL_TEST))},setMask:function(Nn){Ct!==Nn&&!Me&&(n.stencilMask(Nn),Ct=Nn)},setFunc:function(Nn,qr,Vi){(pt!==Nn||It!==qr||gt!==Vi)&&(n.stencilFunc(Nn,qr,Vi),pt=Nn,It=qr,gt=Vi)},setOp:function(Nn,qr,Vi){(lt!==Nn||Ft!==qr||$t!==Vi)&&(n.stencilOp(Nn,qr,Vi),lt=Nn,Ft=qr,$t=Vi)},setLocked:function(Nn){Me=Nn},setClear:function(Nn){kn!==Nn&&(n.clearStencil(Nn),kn=Nn)},reset:function(){Me=!1,Ct=null,pt=null,It=null,gt=null,lt=null,Ft=null,$t=null,kn=null}}}const a=new t,s=new i,l=new r,u=new WeakMap,h=new WeakMap;let p={},g={},v=new WeakMap,y=[],E=null,T=!1,S=null,A=null,R=null,w=null,D=null,P=null,F=null,U=new Ut(0,0,0),I=0,C=!1,L=null,k=null,G=null,ee=null,ve=null;const pe=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let W=!1,K=0;const ie=n.getParameter(n.VERSION);ie.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(ie)[1]),W=K>=1):ie.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(ie)[1]),W=K>=2);let ne=null,j={};const le=n.getParameter(n.SCISSOR_BOX),H=n.getParameter(n.VIEWPORT),q=new Kn().fromArray(le),V=new Kn().fromArray(H);function Q(Me,Ct,pt,It){const gt=new Uint8Array(4),lt=n.createTexture();n.bindTexture(Me,lt),n.texParameteri(Me,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Me,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ft=0;Ft<pt;Ft++)Me===n.TEXTURE_3D||Me===n.TEXTURE_2D_ARRAY?n.texImage3D(Ct,0,n.RGBA,1,1,It,0,n.RGBA,n.UNSIGNED_BYTE,gt):n.texImage2D(Ct+Ft,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,gt);return lt}const ge={};ge[n.TEXTURE_2D]=Q(n.TEXTURE_2D,n.TEXTURE_2D,1),ge[n.TEXTURE_CUBE_MAP]=Q(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ge[n.TEXTURE_2D_ARRAY]=Q(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ge[n.TEXTURE_3D]=Q(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),l.setClear(0),Ae(n.DEPTH_TEST),s.setFunc(Rd),Ie(!1),Re(gA),Ae(n.CULL_FACE),J(fu);function Ae(Me){p[Me]!==!0&&(n.enable(Me),p[Me]=!0)}function Ee(Me){p[Me]!==!1&&(n.disable(Me),p[Me]=!1)}function Ce(Me,Ct){return g[Me]!==Ct?(n.bindFramebuffer(Me,Ct),g[Me]=Ct,Me===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=Ct),Me===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=Ct),!0):!1}function Ne(Me,Ct){let pt=y,It=!1;if(Me){pt=v.get(Ct),pt===void 0&&(pt=[],v.set(Ct,pt));const gt=Me.textures;if(pt.length!==gt.length||pt[0]!==n.COLOR_ATTACHMENT0){for(let lt=0,Ft=gt.length;lt<Ft;lt++)pt[lt]=n.COLOR_ATTACHMENT0+lt;pt.length=gt.length,It=!0}}else pt[0]!==n.BACK&&(pt[0]=n.BACK,It=!0);It&&n.drawBuffers(pt)}function st(Me){return E!==Me?(n.useProgram(Me),E=Me,!0):!1}const se={[Nf]:n.FUNC_ADD,[ON]:n.FUNC_SUBTRACT,[NN]:n.FUNC_REVERSE_SUBTRACT};se[DN]=n.MIN,se[IN]=n.MAX;const vt={[LN]:n.ZERO,[UN]:n.ONE,[FN]:n.SRC_COLOR,[L_]:n.SRC_ALPHA,[HN]:n.SRC_ALPHA_SATURATE,[zN]:n.DST_COLOR,[BN]:n.DST_ALPHA,[PN]:n.ONE_MINUS_SRC_COLOR,[U_]:n.ONE_MINUS_SRC_ALPHA,[VN]:n.ONE_MINUS_DST_COLOR,[kN]:n.ONE_MINUS_DST_ALPHA,[GN]:n.CONSTANT_COLOR,[XN]:n.ONE_MINUS_CONSTANT_COLOR,[WN]:n.CONSTANT_ALPHA,[YN]:n.ONE_MINUS_CONSTANT_ALPHA};function J(Me,Ct,pt,It,gt,lt,Ft,$t,kn,Nn){if(Me===fu){T===!0&&(Ee(n.BLEND),T=!1);return}if(T===!1&&(Ae(n.BLEND),T=!0),Me!==CN){if(Me!==S||Nn!==C){if((A!==Nf||D!==Nf)&&(n.blendEquation(n.FUNC_ADD),A=Nf,D=Nf),Nn)switch(Me){case yd:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case I_:n.blendFunc(n.ONE,n.ONE);break;case vA:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case xA:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",Me);break}else switch(Me){case yd:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case I_:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case vA:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case xA:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",Me);break}R=null,w=null,P=null,F=null,U.set(0,0,0),I=0,S=Me,C=Nn}return}gt=gt||Ct,lt=lt||pt,Ft=Ft||It,(Ct!==A||gt!==D)&&(n.blendEquationSeparate(se[Ct],se[gt]),A=Ct,D=gt),(pt!==R||It!==w||lt!==P||Ft!==F)&&(n.blendFuncSeparate(vt[pt],vt[It],vt[lt],vt[Ft]),R=pt,w=It,P=lt,F=Ft),($t.equals(U)===!1||kn!==I)&&(n.blendColor($t.r,$t.g,$t.b,kn),U.copy($t),I=kn),S=Me,C=!1}function Ze(Me,Ct){Me.side===vc?Ee(n.CULL_FACE):Ae(n.CULL_FACE);let pt=Me.side===ps;Ct&&(pt=!pt),Ie(pt),Me.blending===yd&&Me.transparent===!1?J(fu):J(Me.blending,Me.blendEquation,Me.blendSrc,Me.blendDst,Me.blendEquationAlpha,Me.blendSrcAlpha,Me.blendDstAlpha,Me.blendColor,Me.blendAlpha,Me.premultipliedAlpha),s.setFunc(Me.depthFunc),s.setTest(Me.depthTest),s.setMask(Me.depthWrite),a.setMask(Me.colorWrite);const It=Me.stencilWrite;l.setTest(It),It&&(l.setMask(Me.stencilWriteMask),l.setFunc(Me.stencilFunc,Me.stencilRef,Me.stencilFuncMask),l.setOp(Me.stencilFail,Me.stencilZFail,Me.stencilZPass)),ut(Me.polygonOffset,Me.polygonOffsetFactor,Me.polygonOffsetUnits),Me.alphaToCoverage===!0?Ae(n.SAMPLE_ALPHA_TO_COVERAGE):Ee(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ie(Me){L!==Me&&(Me?n.frontFace(n.CW):n.frontFace(n.CCW),L=Me)}function Re(Me){Me!==MN?(Ae(n.CULL_FACE),Me!==k&&(Me===gA?n.cullFace(n.BACK):Me===wN?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ee(n.CULL_FACE),k=Me}function Pe(Me){Me!==G&&(W&&n.lineWidth(Me),G=Me)}function ut(Me,Ct,pt){Me?(Ae(n.POLYGON_OFFSET_FILL),(ee!==Ct||ve!==pt)&&(n.polygonOffset(Ct,pt),ee=Ct,ve=pt)):Ee(n.POLYGON_OFFSET_FILL)}function $e(Me){Me?Ae(n.SCISSOR_TEST):Ee(n.SCISSOR_TEST)}function yt(Me){Me===void 0&&(Me=n.TEXTURE0+pe-1),ne!==Me&&(n.activeTexture(Me),ne=Me)}function kt(Me,Ct,pt){pt===void 0&&(ne===null?pt=n.TEXTURE0+pe-1:pt=ne);let It=j[pt];It===void 0&&(It={type:void 0,texture:void 0},j[pt]=It),(It.type!==Me||It.texture!==Ct)&&(ne!==pt&&(n.activeTexture(pt),ne=pt),n.bindTexture(Me,Ct||ge[Me]),It.type=Me,It.texture=Ct)}function ce(){const Me=j[ne];Me!==void 0&&Me.type!==void 0&&(n.bindTexture(Me.type,null),Me.type=void 0,Me.texture=void 0)}function Y(){try{n.compressedTexImage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function Oe(){try{n.compressedTexImage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function ze(){try{n.texSubImage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function Qe(){try{n.texSubImage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function He(){try{n.compressedTexSubImage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function St(){try{n.compressedTexSubImage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function it(){try{n.texStorage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function xt(){try{n.texStorage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function bt(){try{n.texImage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function Je(){try{n.texImage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function At(Me){q.equals(Me)===!1&&(n.scissor(Me.x,Me.y,Me.z,Me.w),q.copy(Me))}function Bt(Me){V.equals(Me)===!1&&(n.viewport(Me.x,Me.y,Me.z,Me.w),V.copy(Me))}function Xt(Me,Ct){let pt=h.get(Ct);pt===void 0&&(pt=new WeakMap,h.set(Ct,pt));let It=pt.get(Me);It===void 0&&(It=n.getUniformBlockIndex(Ct,Me.name),pt.set(Me,It))}function Mt(Me,Ct){const It=h.get(Ct).get(Me);u.get(Ct)!==It&&(n.uniformBlockBinding(Ct,It,Me.__bindingPointIndex),u.set(Ct,It))}function Kt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),s.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},ne=null,j={},g={},v=new WeakMap,y=[],E=null,T=!1,S=null,A=null,R=null,w=null,D=null,P=null,F=null,U=new Ut(0,0,0),I=0,C=!1,L=null,k=null,G=null,ee=null,ve=null,q.set(0,0,n.canvas.width,n.canvas.height),V.set(0,0,n.canvas.width,n.canvas.height),a.reset(),s.reset(),l.reset()}return{buffers:{color:a,depth:s,stencil:l},enable:Ae,disable:Ee,bindFramebuffer:Ce,drawBuffers:Ne,useProgram:st,setBlending:J,setMaterial:Ze,setFlipSided:Ie,setCullFace:Re,setLineWidth:Pe,setPolygonOffset:ut,setScissorTest:$e,activeTexture:yt,bindTexture:kt,unbindTexture:ce,compressedTexImage2D:Y,compressedTexImage3D:Oe,texImage2D:bt,texImage3D:Je,updateUBOMapping:Xt,uniformBlockBinding:Mt,texStorage2D:it,texStorage3D:xt,texSubImage2D:ze,texSubImage3D:Qe,compressedTexSubImage2D:He,compressedTexSubImage3D:St,scissor:At,viewport:Bt,reset:Kt}}function F9(n,e,t,i,r,a,s){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new ft,p=new WeakMap;let g;const v=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function E(ce,Y){return y?new OffscreenCanvas(ce,Y):Uv("canvas")}function T(ce,Y,Oe){let ze=1;const Qe=kt(ce);if((Qe.width>Oe||Qe.height>Oe)&&(ze=Oe/Math.max(Qe.width,Qe.height)),ze<1)if(typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ce instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ce instanceof ImageBitmap||typeof VideoFrame<"u"&&ce instanceof VideoFrame){const He=Math.floor(ze*Qe.width),St=Math.floor(ze*Qe.height);g===void 0&&(g=E(He,St));const it=Y?E(He,St):g;return it.width=He,it.height=St,it.getContext("2d").drawImage(ce,0,0,He,St),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Qe.width+"x"+Qe.height+") to ("+He+"x"+St+")."),it}else return"data"in ce&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Qe.width+"x"+Qe.height+")."),ce;return ce}function S(ce){return ce.generateMipmaps}function A(ce){n.generateMipmap(ce)}function R(ce){return ce.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ce.isWebGL3DRenderTarget?n.TEXTURE_3D:ce.isWebGLArrayRenderTarget||ce.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function w(ce,Y,Oe,ze,Qe=!1){if(ce!==null){if(n[ce]!==void 0)return n[ce];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ce+"'")}let He=Y;if(Y===n.RED&&(Oe===n.FLOAT&&(He=n.R32F),Oe===n.HALF_FLOAT&&(He=n.R16F),Oe===n.UNSIGNED_BYTE&&(He=n.R8)),Y===n.RED_INTEGER&&(Oe===n.UNSIGNED_BYTE&&(He=n.R8UI),Oe===n.UNSIGNED_SHORT&&(He=n.R16UI),Oe===n.UNSIGNED_INT&&(He=n.R32UI),Oe===n.BYTE&&(He=n.R8I),Oe===n.SHORT&&(He=n.R16I),Oe===n.INT&&(He=n.R32I)),Y===n.RG&&(Oe===n.FLOAT&&(He=n.RG32F),Oe===n.HALF_FLOAT&&(He=n.RG16F),Oe===n.UNSIGNED_BYTE&&(He=n.RG8)),Y===n.RG_INTEGER&&(Oe===n.UNSIGNED_BYTE&&(He=n.RG8UI),Oe===n.UNSIGNED_SHORT&&(He=n.RG16UI),Oe===n.UNSIGNED_INT&&(He=n.RG32UI),Oe===n.BYTE&&(He=n.RG8I),Oe===n.SHORT&&(He=n.RG16I),Oe===n.INT&&(He=n.RG32I)),Y===n.RGB_INTEGER&&(Oe===n.UNSIGNED_BYTE&&(He=n.RGB8UI),Oe===n.UNSIGNED_SHORT&&(He=n.RGB16UI),Oe===n.UNSIGNED_INT&&(He=n.RGB32UI),Oe===n.BYTE&&(He=n.RGB8I),Oe===n.SHORT&&(He=n.RGB16I),Oe===n.INT&&(He=n.RGB32I)),Y===n.RGBA_INTEGER&&(Oe===n.UNSIGNED_BYTE&&(He=n.RGBA8UI),Oe===n.UNSIGNED_SHORT&&(He=n.RGBA16UI),Oe===n.UNSIGNED_INT&&(He=n.RGBA32UI),Oe===n.BYTE&&(He=n.RGBA8I),Oe===n.SHORT&&(He=n.RGBA16I),Oe===n.INT&&(He=n.RGBA32I)),Y===n.RGB&&Oe===n.UNSIGNED_INT_5_9_9_9_REV&&(He=n.RGB9_E5),Y===n.RGBA){const St=Qe?Dv:Xn.getTransfer(ze);Oe===n.FLOAT&&(He=n.RGBA32F),Oe===n.HALF_FLOAT&&(He=n.RGBA16F),Oe===n.UNSIGNED_BYTE&&(He=St===pi?n.SRGB8_ALPHA8:n.RGBA8),Oe===n.UNSIGNED_SHORT_4_4_4_4&&(He=n.RGBA4),Oe===n.UNSIGNED_SHORT_5_5_5_1&&(He=n.RGB5_A1)}return(He===n.R16F||He===n.R32F||He===n.RG16F||He===n.RG32F||He===n.RGBA16F||He===n.RGBA32F)&&e.get("EXT_color_buffer_float"),He}function D(ce,Y){let Oe;return ce?Y===null||Y===yu||Y===kp?Oe=n.DEPTH24_STENCIL8:Y===Us?Oe=n.DEPTH32F_STENCIL8:Y===Bp&&(Oe=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Y===null||Y===yu||Y===kp?Oe=n.DEPTH_COMPONENT24:Y===Us?Oe=n.DEPTH_COMPONENT32F:Y===Bp&&(Oe=n.DEPTH_COMPONENT16),Oe}function P(ce,Y){return S(ce)===!0||ce.isFramebufferTexture&&ce.minFilter!==_a&&ce.minFilter!==Xr?Math.log2(Math.max(Y.width,Y.height))+1:ce.mipmaps!==void 0&&ce.mipmaps.length>0?ce.mipmaps.length:ce.isCompressedTexture&&Array.isArray(ce.image)?Y.mipmaps.length:1}function F(ce){const Y=ce.target;Y.removeEventListener("dispose",F),I(Y),Y.isVideoTexture&&p.delete(Y)}function U(ce){const Y=ce.target;Y.removeEventListener("dispose",U),L(Y)}function I(ce){const Y=i.get(ce);if(Y.__webglInit===void 0)return;const Oe=ce.source,ze=v.get(Oe);if(ze){const Qe=ze[Y.__cacheKey];Qe.usedTimes--,Qe.usedTimes===0&&C(ce),Object.keys(ze).length===0&&v.delete(Oe)}i.remove(ce)}function C(ce){const Y=i.get(ce);n.deleteTexture(Y.__webglTexture);const Oe=ce.source,ze=v.get(Oe);delete ze[Y.__cacheKey],s.memory.textures--}function L(ce){const Y=i.get(ce);if(ce.depthTexture&&(ce.depthTexture.dispose(),i.remove(ce.depthTexture)),ce.isWebGLCubeRenderTarget)for(let ze=0;ze<6;ze++){if(Array.isArray(Y.__webglFramebuffer[ze]))for(let Qe=0;Qe<Y.__webglFramebuffer[ze].length;Qe++)n.deleteFramebuffer(Y.__webglFramebuffer[ze][Qe]);else n.deleteFramebuffer(Y.__webglFramebuffer[ze]);Y.__webglDepthbuffer&&n.deleteRenderbuffer(Y.__webglDepthbuffer[ze])}else{if(Array.isArray(Y.__webglFramebuffer))for(let ze=0;ze<Y.__webglFramebuffer.length;ze++)n.deleteFramebuffer(Y.__webglFramebuffer[ze]);else n.deleteFramebuffer(Y.__webglFramebuffer);if(Y.__webglDepthbuffer&&n.deleteRenderbuffer(Y.__webglDepthbuffer),Y.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Y.__webglMultisampledFramebuffer),Y.__webglColorRenderbuffer)for(let ze=0;ze<Y.__webglColorRenderbuffer.length;ze++)Y.__webglColorRenderbuffer[ze]&&n.deleteRenderbuffer(Y.__webglColorRenderbuffer[ze]);Y.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Y.__webglDepthRenderbuffer)}const Oe=ce.textures;for(let ze=0,Qe=Oe.length;ze<Qe;ze++){const He=i.get(Oe[ze]);He.__webglTexture&&(n.deleteTexture(He.__webglTexture),s.memory.textures--),i.remove(Oe[ze])}i.remove(ce)}let k=0;function G(){k=0}function ee(){const ce=k;return ce>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ce+" texture units while this GPU supports only "+r.maxTextures),k+=1,ce}function ve(ce){const Y=[];return Y.push(ce.wrapS),Y.push(ce.wrapT),Y.push(ce.wrapR||0),Y.push(ce.magFilter),Y.push(ce.minFilter),Y.push(ce.anisotropy),Y.push(ce.internalFormat),Y.push(ce.format),Y.push(ce.type),Y.push(ce.generateMipmaps),Y.push(ce.premultiplyAlpha),Y.push(ce.flipY),Y.push(ce.unpackAlignment),Y.push(ce.colorSpace),Y.join()}function pe(ce,Y){const Oe=i.get(ce);if(ce.isVideoTexture&&$e(ce),ce.isRenderTargetTexture===!1&&ce.version>0&&Oe.__version!==ce.version){const ze=ce.image;if(ze===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ze.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ge(Oe,ce,Y);return}}t.bindTexture(n.TEXTURE_2D,Oe.__webglTexture,n.TEXTURE0+Y)}function W(ce,Y){const Oe=i.get(ce);if(ce.version>0&&Oe.__version!==ce.version){ge(Oe,ce,Y);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Oe.__webglTexture,n.TEXTURE0+Y)}function K(ce,Y){const Oe=i.get(ce);if(ce.version>0&&Oe.__version!==ce.version){ge(Oe,ce,Y);return}t.bindTexture(n.TEXTURE_3D,Oe.__webglTexture,n.TEXTURE0+Y)}function ie(ce,Y){const Oe=i.get(ce);if(ce.version>0&&Oe.__version!==ce.version){Ae(Oe,ce,Y);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Oe.__webglTexture,n.TEXTURE0+Y)}const ne={[Rv]:n.REPEAT,[ko]:n.CLAMP_TO_EDGE,[Cv]:n.MIRRORED_REPEAT},j={[_a]:n.NEAREST,[Sb]:n.NEAREST_MIPMAP_NEAREST,[Sp]:n.NEAREST_MIPMAP_LINEAR,[Xr]:n.LINEAR,[iv]:n.LINEAR_MIPMAP_NEAREST,[xc]:n.LINEAR_MIPMAP_LINEAR},le={[lD]:n.NEVER,[pD]:n.ALWAYS,[cD]:n.LESS,[Nb]:n.LEQUAL,[uD]:n.EQUAL,[dD]:n.GEQUAL,[fD]:n.GREATER,[hD]:n.NOTEQUAL};function H(ce,Y){if(Y.type===Us&&e.has("OES_texture_float_linear")===!1&&(Y.magFilter===Xr||Y.magFilter===iv||Y.magFilter===Sp||Y.magFilter===xc||Y.minFilter===Xr||Y.minFilter===iv||Y.minFilter===Sp||Y.minFilter===xc)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ce,n.TEXTURE_WRAP_S,ne[Y.wrapS]),n.texParameteri(ce,n.TEXTURE_WRAP_T,ne[Y.wrapT]),(ce===n.TEXTURE_3D||ce===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ce,n.TEXTURE_WRAP_R,ne[Y.wrapR]),n.texParameteri(ce,n.TEXTURE_MAG_FILTER,j[Y.magFilter]),n.texParameteri(ce,n.TEXTURE_MIN_FILTER,j[Y.minFilter]),Y.compareFunction&&(n.texParameteri(ce,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ce,n.TEXTURE_COMPARE_FUNC,le[Y.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Y.magFilter===_a||Y.minFilter!==Sp&&Y.minFilter!==xc||Y.type===Us&&e.has("OES_texture_float_linear")===!1)return;if(Y.anisotropy>1||i.get(Y).__currentAnisotropy){const Oe=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ce,Oe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Y.anisotropy,r.getMaxAnisotropy())),i.get(Y).__currentAnisotropy=Y.anisotropy}}}function q(ce,Y){let Oe=!1;ce.__webglInit===void 0&&(ce.__webglInit=!0,Y.addEventListener("dispose",F));const ze=Y.source;let Qe=v.get(ze);Qe===void 0&&(Qe={},v.set(ze,Qe));const He=ve(Y);if(He!==ce.__cacheKey){Qe[He]===void 0&&(Qe[He]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,Oe=!0),Qe[He].usedTimes++;const St=Qe[ce.__cacheKey];St!==void 0&&(Qe[ce.__cacheKey].usedTimes--,St.usedTimes===0&&C(Y)),ce.__cacheKey=He,ce.__webglTexture=Qe[He].texture}return Oe}function V(ce,Y,Oe){return Math.floor(Math.floor(ce/Oe)/Y)}function Q(ce,Y,Oe,ze){const He=ce.updateRanges;if(He.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,Y.width,Y.height,Oe,ze,Y.data);else{He.sort((Je,At)=>Je.start-At.start);let St=0;for(let Je=1;Je<He.length;Je++){const At=He[St],Bt=He[Je],Xt=At.start+At.count,Mt=V(Bt.start,Y.width,4),Kt=V(At.start,Y.width,4);Bt.start<=Xt+1&&Mt===Kt&&V(Bt.start+Bt.count-1,Y.width,4)===Mt?At.count=Math.max(At.count,Bt.start+Bt.count-At.start):(++St,He[St]=Bt)}He.length=St+1;const it=n.getParameter(n.UNPACK_ROW_LENGTH),xt=n.getParameter(n.UNPACK_SKIP_PIXELS),bt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,Y.width);for(let Je=0,At=He.length;Je<At;Je++){const Bt=He[Je],Xt=Math.floor(Bt.start/4),Mt=Math.ceil(Bt.count/4),Kt=Xt%Y.width,Me=Math.floor(Xt/Y.width),Ct=Mt,pt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Kt),n.pixelStorei(n.UNPACK_SKIP_ROWS,Me),t.texSubImage2D(n.TEXTURE_2D,0,Kt,Me,Ct,pt,Oe,ze,Y.data)}ce.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,it),n.pixelStorei(n.UNPACK_SKIP_PIXELS,xt),n.pixelStorei(n.UNPACK_SKIP_ROWS,bt)}}function ge(ce,Y,Oe){let ze=n.TEXTURE_2D;(Y.isDataArrayTexture||Y.isCompressedArrayTexture)&&(ze=n.TEXTURE_2D_ARRAY),Y.isData3DTexture&&(ze=n.TEXTURE_3D);const Qe=q(ce,Y),He=Y.source;t.bindTexture(ze,ce.__webglTexture,n.TEXTURE0+Oe);const St=i.get(He);if(He.version!==St.__version||Qe===!0){t.activeTexture(n.TEXTURE0+Oe);const it=Xn.getPrimaries(Xn.workingColorSpace),xt=Y.colorSpace===lu?null:Xn.getPrimaries(Y.colorSpace),bt=Y.colorSpace===lu||it===xt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Y.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Y.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,bt);let Je=T(Y.image,!1,r.maxTextureSize);Je=yt(Y,Je);const At=a.convert(Y.format,Y.colorSpace),Bt=a.convert(Y.type);let Xt=w(Y.internalFormat,At,Bt,Y.colorSpace,Y.isVideoTexture);H(ze,Y);let Mt;const Kt=Y.mipmaps,Me=Y.isVideoTexture!==!0,Ct=St.__version===void 0||Qe===!0,pt=He.dataReady,It=P(Y,Je);if(Y.isDepthTexture)Xt=D(Y.format===Vp,Y.type),Ct&&(Me?t.texStorage2D(n.TEXTURE_2D,1,Xt,Je.width,Je.height):t.texImage2D(n.TEXTURE_2D,0,Xt,Je.width,Je.height,0,At,Bt,null));else if(Y.isDataTexture)if(Kt.length>0){Me&&Ct&&t.texStorage2D(n.TEXTURE_2D,It,Xt,Kt[0].width,Kt[0].height);for(let gt=0,lt=Kt.length;gt<lt;gt++)Mt=Kt[gt],Me?pt&&t.texSubImage2D(n.TEXTURE_2D,gt,0,0,Mt.width,Mt.height,At,Bt,Mt.data):t.texImage2D(n.TEXTURE_2D,gt,Xt,Mt.width,Mt.height,0,At,Bt,Mt.data);Y.generateMipmaps=!1}else Me?(Ct&&t.texStorage2D(n.TEXTURE_2D,It,Xt,Je.width,Je.height),pt&&Q(Y,Je,At,Bt)):t.texImage2D(n.TEXTURE_2D,0,Xt,Je.width,Je.height,0,At,Bt,Je.data);else if(Y.isCompressedTexture)if(Y.isCompressedArrayTexture){Me&&Ct&&t.texStorage3D(n.TEXTURE_2D_ARRAY,It,Xt,Kt[0].width,Kt[0].height,Je.depth);for(let gt=0,lt=Kt.length;gt<lt;gt++)if(Mt=Kt[gt],Y.format!==Va)if(At!==null)if(Me){if(pt)if(Y.layerUpdates.size>0){const Ft=RA(Mt.width,Mt.height,Y.format,Y.type);for(const $t of Y.layerUpdates){const kn=Mt.data.subarray($t*Ft/Mt.data.BYTES_PER_ELEMENT,($t+1)*Ft/Mt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,gt,0,0,$t,Mt.width,Mt.height,1,At,kn)}Y.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,gt,0,0,0,Mt.width,Mt.height,Je.depth,At,Mt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,gt,Xt,Mt.width,Mt.height,Je.depth,0,Mt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Me?pt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,gt,0,0,0,Mt.width,Mt.height,Je.depth,At,Bt,Mt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,gt,Xt,Mt.width,Mt.height,Je.depth,0,At,Bt,Mt.data)}else{Me&&Ct&&t.texStorage2D(n.TEXTURE_2D,It,Xt,Kt[0].width,Kt[0].height);for(let gt=0,lt=Kt.length;gt<lt;gt++)Mt=Kt[gt],Y.format!==Va?At!==null?Me?pt&&t.compressedTexSubImage2D(n.TEXTURE_2D,gt,0,0,Mt.width,Mt.height,At,Mt.data):t.compressedTexImage2D(n.TEXTURE_2D,gt,Xt,Mt.width,Mt.height,0,Mt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Me?pt&&t.texSubImage2D(n.TEXTURE_2D,gt,0,0,Mt.width,Mt.height,At,Bt,Mt.data):t.texImage2D(n.TEXTURE_2D,gt,Xt,Mt.width,Mt.height,0,At,Bt,Mt.data)}else if(Y.isDataArrayTexture)if(Me){if(Ct&&t.texStorage3D(n.TEXTURE_2D_ARRAY,It,Xt,Je.width,Je.height,Je.depth),pt)if(Y.layerUpdates.size>0){const gt=RA(Je.width,Je.height,Y.format,Y.type);for(const lt of Y.layerUpdates){const Ft=Je.data.subarray(lt*gt/Je.data.BYTES_PER_ELEMENT,(lt+1)*gt/Je.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,lt,Je.width,Je.height,1,At,Bt,Ft)}Y.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Je.width,Je.height,Je.depth,At,Bt,Je.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Xt,Je.width,Je.height,Je.depth,0,At,Bt,Je.data);else if(Y.isData3DTexture)Me?(Ct&&t.texStorage3D(n.TEXTURE_3D,It,Xt,Je.width,Je.height,Je.depth),pt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Je.width,Je.height,Je.depth,At,Bt,Je.data)):t.texImage3D(n.TEXTURE_3D,0,Xt,Je.width,Je.height,Je.depth,0,At,Bt,Je.data);else if(Y.isFramebufferTexture){if(Ct)if(Me)t.texStorage2D(n.TEXTURE_2D,It,Xt,Je.width,Je.height);else{let gt=Je.width,lt=Je.height;for(let Ft=0;Ft<It;Ft++)t.texImage2D(n.TEXTURE_2D,Ft,Xt,gt,lt,0,At,Bt,null),gt>>=1,lt>>=1}}else if(Kt.length>0){if(Me&&Ct){const gt=kt(Kt[0]);t.texStorage2D(n.TEXTURE_2D,It,Xt,gt.width,gt.height)}for(let gt=0,lt=Kt.length;gt<lt;gt++)Mt=Kt[gt],Me?pt&&t.texSubImage2D(n.TEXTURE_2D,gt,0,0,At,Bt,Mt):t.texImage2D(n.TEXTURE_2D,gt,Xt,At,Bt,Mt);Y.generateMipmaps=!1}else if(Me){if(Ct){const gt=kt(Je);t.texStorage2D(n.TEXTURE_2D,It,Xt,gt.width,gt.height)}pt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,At,Bt,Je)}else t.texImage2D(n.TEXTURE_2D,0,Xt,At,Bt,Je);S(Y)&&A(ze),St.__version=He.version,Y.onUpdate&&Y.onUpdate(Y)}ce.__version=Y.version}function Ae(ce,Y,Oe){if(Y.image.length!==6)return;const ze=q(ce,Y),Qe=Y.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ce.__webglTexture,n.TEXTURE0+Oe);const He=i.get(Qe);if(Qe.version!==He.__version||ze===!0){t.activeTexture(n.TEXTURE0+Oe);const St=Xn.getPrimaries(Xn.workingColorSpace),it=Y.colorSpace===lu?null:Xn.getPrimaries(Y.colorSpace),xt=Y.colorSpace===lu||St===it?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Y.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Y.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,xt);const bt=Y.isCompressedTexture||Y.image[0].isCompressedTexture,Je=Y.image[0]&&Y.image[0].isDataTexture,At=[];for(let lt=0;lt<6;lt++)!bt&&!Je?At[lt]=T(Y.image[lt],!0,r.maxCubemapSize):At[lt]=Je?Y.image[lt].image:Y.image[lt],At[lt]=yt(Y,At[lt]);const Bt=At[0],Xt=a.convert(Y.format,Y.colorSpace),Mt=a.convert(Y.type),Kt=w(Y.internalFormat,Xt,Mt,Y.colorSpace),Me=Y.isVideoTexture!==!0,Ct=He.__version===void 0||ze===!0,pt=Qe.dataReady;let It=P(Y,Bt);H(n.TEXTURE_CUBE_MAP,Y);let gt;if(bt){Me&&Ct&&t.texStorage2D(n.TEXTURE_CUBE_MAP,It,Kt,Bt.width,Bt.height);for(let lt=0;lt<6;lt++){gt=At[lt].mipmaps;for(let Ft=0;Ft<gt.length;Ft++){const $t=gt[Ft];Y.format!==Va?Xt!==null?Me?pt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ft,0,0,$t.width,$t.height,Xt,$t.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ft,Kt,$t.width,$t.height,0,$t.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Me?pt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ft,0,0,$t.width,$t.height,Xt,Mt,$t.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ft,Kt,$t.width,$t.height,0,Xt,Mt,$t.data)}}}else{if(gt=Y.mipmaps,Me&&Ct){gt.length>0&&It++;const lt=kt(At[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,It,Kt,lt.width,lt.height)}for(let lt=0;lt<6;lt++)if(Je){Me?pt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,0,0,At[lt].width,At[lt].height,Xt,Mt,At[lt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,Kt,At[lt].width,At[lt].height,0,Xt,Mt,At[lt].data);for(let Ft=0;Ft<gt.length;Ft++){const kn=gt[Ft].image[lt].image;Me?pt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ft+1,0,0,kn.width,kn.height,Xt,Mt,kn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ft+1,Kt,kn.width,kn.height,0,Xt,Mt,kn.data)}}else{Me?pt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,0,0,Xt,Mt,At[lt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,Kt,Xt,Mt,At[lt]);for(let Ft=0;Ft<gt.length;Ft++){const $t=gt[Ft];Me?pt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ft+1,0,0,Xt,Mt,$t.image[lt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ft+1,Kt,Xt,Mt,$t.image[lt])}}}S(Y)&&A(n.TEXTURE_CUBE_MAP),He.__version=Qe.version,Y.onUpdate&&Y.onUpdate(Y)}ce.__version=Y.version}function Ee(ce,Y,Oe,ze,Qe,He){const St=a.convert(Oe.format,Oe.colorSpace),it=a.convert(Oe.type),xt=w(Oe.internalFormat,St,it,Oe.colorSpace),bt=i.get(Y),Je=i.get(Oe);if(Je.__renderTarget=Y,!bt.__hasExternalTextures){const At=Math.max(1,Y.width>>He),Bt=Math.max(1,Y.height>>He);Qe===n.TEXTURE_3D||Qe===n.TEXTURE_2D_ARRAY?t.texImage3D(Qe,He,xt,At,Bt,Y.depth,0,St,it,null):t.texImage2D(Qe,He,xt,At,Bt,0,St,it,null)}t.bindFramebuffer(n.FRAMEBUFFER,ce),ut(Y)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ze,Qe,Je.__webglTexture,0,Pe(Y)):(Qe===n.TEXTURE_2D||Qe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Qe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,ze,Qe,Je.__webglTexture,He),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ce(ce,Y,Oe){if(n.bindRenderbuffer(n.RENDERBUFFER,ce),Y.depthBuffer){const ze=Y.depthTexture,Qe=ze&&ze.isDepthTexture?ze.type:null,He=D(Y.stencilBuffer,Qe),St=Y.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,it=Pe(Y);ut(Y)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,it,He,Y.width,Y.height):Oe?n.renderbufferStorageMultisample(n.RENDERBUFFER,it,He,Y.width,Y.height):n.renderbufferStorage(n.RENDERBUFFER,He,Y.width,Y.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,St,n.RENDERBUFFER,ce)}else{const ze=Y.textures;for(let Qe=0;Qe<ze.length;Qe++){const He=ze[Qe],St=a.convert(He.format,He.colorSpace),it=a.convert(He.type),xt=w(He.internalFormat,St,it,He.colorSpace),bt=Pe(Y);Oe&&ut(Y)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,bt,xt,Y.width,Y.height):ut(Y)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,bt,xt,Y.width,Y.height):n.renderbufferStorage(n.RENDERBUFFER,xt,Y.width,Y.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ne(ce,Y){if(Y&&Y.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ce),!(Y.depthTexture&&Y.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const ze=i.get(Y.depthTexture);ze.__renderTarget=Y,(!ze.__webglTexture||Y.depthTexture.image.width!==Y.width||Y.depthTexture.image.height!==Y.height)&&(Y.depthTexture.image.width=Y.width,Y.depthTexture.image.height=Y.height,Y.depthTexture.needsUpdate=!0),pe(Y.depthTexture,0);const Qe=ze.__webglTexture,He=Pe(Y);if(Y.depthTexture.format===zp)ut(Y)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Qe,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Qe,0);else if(Y.depthTexture.format===Vp)ut(Y)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Qe,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Qe,0);else throw new Error("Unknown depthTexture format")}function st(ce){const Y=i.get(ce),Oe=ce.isWebGLCubeRenderTarget===!0;if(Y.__boundDepthTexture!==ce.depthTexture){const ze=ce.depthTexture;if(Y.__depthDisposeCallback&&Y.__depthDisposeCallback(),ze){const Qe=()=>{delete Y.__boundDepthTexture,delete Y.__depthDisposeCallback,ze.removeEventListener("dispose",Qe)};ze.addEventListener("dispose",Qe),Y.__depthDisposeCallback=Qe}Y.__boundDepthTexture=ze}if(ce.depthTexture&&!Y.__autoAllocateDepthBuffer){if(Oe)throw new Error("target.depthTexture not supported in Cube render targets");const ze=ce.texture.mipmaps;ze&&ze.length>0?Ne(Y.__webglFramebuffer[0],ce):Ne(Y.__webglFramebuffer,ce)}else if(Oe){Y.__webglDepthbuffer=[];for(let ze=0;ze<6;ze++)if(t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglFramebuffer[ze]),Y.__webglDepthbuffer[ze]===void 0)Y.__webglDepthbuffer[ze]=n.createRenderbuffer(),Ce(Y.__webglDepthbuffer[ze],ce,!1);else{const Qe=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,He=Y.__webglDepthbuffer[ze];n.bindRenderbuffer(n.RENDERBUFFER,He),n.framebufferRenderbuffer(n.FRAMEBUFFER,Qe,n.RENDERBUFFER,He)}}else{const ze=ce.texture.mipmaps;if(ze&&ze.length>0?t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglFramebuffer),Y.__webglDepthbuffer===void 0)Y.__webglDepthbuffer=n.createRenderbuffer(),Ce(Y.__webglDepthbuffer,ce,!1);else{const Qe=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,He=Y.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,He),n.framebufferRenderbuffer(n.FRAMEBUFFER,Qe,n.RENDERBUFFER,He)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function se(ce,Y,Oe){const ze=i.get(ce);Y!==void 0&&Ee(ze.__webglFramebuffer,ce,ce.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Oe!==void 0&&st(ce)}function vt(ce){const Y=ce.texture,Oe=i.get(ce),ze=i.get(Y);ce.addEventListener("dispose",U);const Qe=ce.textures,He=ce.isWebGLCubeRenderTarget===!0,St=Qe.length>1;if(St||(ze.__webglTexture===void 0&&(ze.__webglTexture=n.createTexture()),ze.__version=Y.version,s.memory.textures++),He){Oe.__webglFramebuffer=[];for(let it=0;it<6;it++)if(Y.mipmaps&&Y.mipmaps.length>0){Oe.__webglFramebuffer[it]=[];for(let xt=0;xt<Y.mipmaps.length;xt++)Oe.__webglFramebuffer[it][xt]=n.createFramebuffer()}else Oe.__webglFramebuffer[it]=n.createFramebuffer()}else{if(Y.mipmaps&&Y.mipmaps.length>0){Oe.__webglFramebuffer=[];for(let it=0;it<Y.mipmaps.length;it++)Oe.__webglFramebuffer[it]=n.createFramebuffer()}else Oe.__webglFramebuffer=n.createFramebuffer();if(St)for(let it=0,xt=Qe.length;it<xt;it++){const bt=i.get(Qe[it]);bt.__webglTexture===void 0&&(bt.__webglTexture=n.createTexture(),s.memory.textures++)}if(ce.samples>0&&ut(ce)===!1){Oe.__webglMultisampledFramebuffer=n.createFramebuffer(),Oe.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Oe.__webglMultisampledFramebuffer);for(let it=0;it<Qe.length;it++){const xt=Qe[it];Oe.__webglColorRenderbuffer[it]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Oe.__webglColorRenderbuffer[it]);const bt=a.convert(xt.format,xt.colorSpace),Je=a.convert(xt.type),At=w(xt.internalFormat,bt,Je,xt.colorSpace,ce.isXRRenderTarget===!0),Bt=Pe(ce);n.renderbufferStorageMultisample(n.RENDERBUFFER,Bt,At,ce.width,ce.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+it,n.RENDERBUFFER,Oe.__webglColorRenderbuffer[it])}n.bindRenderbuffer(n.RENDERBUFFER,null),ce.depthBuffer&&(Oe.__webglDepthRenderbuffer=n.createRenderbuffer(),Ce(Oe.__webglDepthRenderbuffer,ce,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(He){t.bindTexture(n.TEXTURE_CUBE_MAP,ze.__webglTexture),H(n.TEXTURE_CUBE_MAP,Y);for(let it=0;it<6;it++)if(Y.mipmaps&&Y.mipmaps.length>0)for(let xt=0;xt<Y.mipmaps.length;xt++)Ee(Oe.__webglFramebuffer[it][xt],ce,Y,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+it,xt);else Ee(Oe.__webglFramebuffer[it],ce,Y,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+it,0);S(Y)&&A(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(St){for(let it=0,xt=Qe.length;it<xt;it++){const bt=Qe[it],Je=i.get(bt);t.bindTexture(n.TEXTURE_2D,Je.__webglTexture),H(n.TEXTURE_2D,bt),Ee(Oe.__webglFramebuffer,ce,bt,n.COLOR_ATTACHMENT0+it,n.TEXTURE_2D,0),S(bt)&&A(n.TEXTURE_2D)}t.unbindTexture()}else{let it=n.TEXTURE_2D;if((ce.isWebGL3DRenderTarget||ce.isWebGLArrayRenderTarget)&&(it=ce.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(it,ze.__webglTexture),H(it,Y),Y.mipmaps&&Y.mipmaps.length>0)for(let xt=0;xt<Y.mipmaps.length;xt++)Ee(Oe.__webglFramebuffer[xt],ce,Y,n.COLOR_ATTACHMENT0,it,xt);else Ee(Oe.__webglFramebuffer,ce,Y,n.COLOR_ATTACHMENT0,it,0);S(Y)&&A(it),t.unbindTexture()}ce.depthBuffer&&st(ce)}function J(ce){const Y=ce.textures;for(let Oe=0,ze=Y.length;Oe<ze;Oe++){const Qe=Y[Oe];if(S(Qe)){const He=R(ce),St=i.get(Qe).__webglTexture;t.bindTexture(He,St),A(He),t.unbindTexture()}}}const Ze=[],Ie=[];function Re(ce){if(ce.samples>0){if(ut(ce)===!1){const Y=ce.textures,Oe=ce.width,ze=ce.height;let Qe=n.COLOR_BUFFER_BIT;const He=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,St=i.get(ce),it=Y.length>1;if(it)for(let bt=0;bt<Y.length;bt++)t.bindFramebuffer(n.FRAMEBUFFER,St.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+bt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,St.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+bt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,St.__webglMultisampledFramebuffer);const xt=ce.texture.mipmaps;xt&&xt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,St.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,St.__webglFramebuffer);for(let bt=0;bt<Y.length;bt++){if(ce.resolveDepthBuffer&&(ce.depthBuffer&&(Qe|=n.DEPTH_BUFFER_BIT),ce.stencilBuffer&&ce.resolveStencilBuffer&&(Qe|=n.STENCIL_BUFFER_BIT)),it){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,St.__webglColorRenderbuffer[bt]);const Je=i.get(Y[bt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Je,0)}n.blitFramebuffer(0,0,Oe,ze,0,0,Oe,ze,Qe,n.NEAREST),u===!0&&(Ze.length=0,Ie.length=0,Ze.push(n.COLOR_ATTACHMENT0+bt),ce.depthBuffer&&ce.resolveDepthBuffer===!1&&(Ze.push(He),Ie.push(He),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Ie)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ze))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),it)for(let bt=0;bt<Y.length;bt++){t.bindFramebuffer(n.FRAMEBUFFER,St.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+bt,n.RENDERBUFFER,St.__webglColorRenderbuffer[bt]);const Je=i.get(Y[bt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,St.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+bt,n.TEXTURE_2D,Je,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,St.__webglMultisampledFramebuffer)}else if(ce.depthBuffer&&ce.resolveDepthBuffer===!1&&u){const Y=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Y])}}}function Pe(ce){return Math.min(r.maxSamples,ce.samples)}function ut(ce){const Y=i.get(ce);return ce.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Y.__useRenderToTexture!==!1}function $e(ce){const Y=s.render.frame;p.get(ce)!==Y&&(p.set(ce,Y),ce.update())}function yt(ce,Y){const Oe=ce.colorSpace,ze=ce.format,Qe=ce.type;return ce.isCompressedTexture===!0||ce.isVideoTexture===!0||Oe!==Pf&&Oe!==lu&&(Xn.getTransfer(Oe)===pi?(ze!==Va||Qe!==Go)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Oe)),Y}function kt(ce){return typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement?(h.width=ce.naturalWidth||ce.width,h.height=ce.naturalHeight||ce.height):typeof VideoFrame<"u"&&ce instanceof VideoFrame?(h.width=ce.displayWidth,h.height=ce.displayHeight):(h.width=ce.width,h.height=ce.height),h}this.allocateTextureUnit=ee,this.resetTextureUnits=G,this.setTexture2D=pe,this.setTexture2DArray=W,this.setTexture3D=K,this.setTextureCube=ie,this.rebindTextures=se,this.setupRenderTarget=vt,this.updateRenderTargetMipmap=J,this.updateMultisampleRenderTarget=Re,this.setupDepthRenderbuffer=st,this.setupFrameBufferTexture=Ee,this.useMultisampledRTT=ut}function MI(n,e){function t(i,r=lu){let a;const s=Xn.getTransfer(r);if(i===Go)return n.UNSIGNED_BYTE;if(i===QE)return n.UNSIGNED_SHORT_4_4_4_4;if(i===JE)return n.UNSIGNED_SHORT_5_5_5_1;if(i===bb)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===Tb)return n.BYTE;if(i===Ab)return n.SHORT;if(i===Bp)return n.UNSIGNED_SHORT;if(i===ZE)return n.INT;if(i===yu)return n.UNSIGNED_INT;if(i===Us)return n.FLOAT;if(i===tm)return n.HALF_FLOAT;if(i===Mb)return n.ALPHA;if(i===wb)return n.RGB;if(i===Va)return n.RGBA;if(i===zp)return n.DEPTH_COMPONENT;if(i===Vp)return n.DEPTH_STENCIL;if(i===$E)return n.RED;if(i===dx)return n.RED_INTEGER;if(i===Rb)return n.RG;if(i===eS)return n.RG_INTEGER;if(i===tS)return n.RGBA_INTEGER;if(i===rv||i===av||i===sv||i===ov)if(s===pi)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===rv)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===av)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===sv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===ov)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===rv)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===av)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===sv)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===ov)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===G_||i===X_||i===W_||i===Y_)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===G_)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===X_)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===W_)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Y_)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===j_||i===q_||i===K_)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===j_||i===q_)return s===pi?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===K_)return s===pi?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Z_||i===Q_||i===J_||i===$_||i===eE||i===tE||i===nE||i===iE||i===rE||i===aE||i===sE||i===oE||i===lE||i===cE)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===Z_)return s===pi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Q_)return s===pi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===J_)return s===pi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===$_)return s===pi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===eE)return s===pi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===tE)return s===pi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===nE)return s===pi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===iE)return s===pi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===rE)return s===pi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===aE)return s===pi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===sE)return s===pi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===oE)return s===pi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===lE)return s===pi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===cE)return s===pi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===lv||i===uE||i===fE)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===lv)return s===pi?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===uE)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===fE)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===Cb||i===hE||i===dE||i===pE)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===lv)return a.COMPRESSED_RED_RGTC1_EXT;if(i===hE)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===dE)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===pE)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===kp?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const P9=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,B9=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class k9{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new ar,a=e.properties.get(r);a.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Xo({vertexShader:P9,fragmentShader:B9,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Nr(new rm(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class z9 extends Mc{constructor(e,t){super();const i=this;let r=null,a=1,s=null,l="local-floor",u=1,h=null,p=null,g=null,v=null,y=null,E=null;const T=new k9,S=t.getContextAttributes();let A=null,R=null;const w=[],D=[],P=new ft;let F=null;const U=new ia;U.viewport=new Kn;const I=new ia;I.viewport=new Kn;const C=[U,I],L=new pI;let k=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(V){let Q=w[V];return Q===void 0&&(Q=new A_,w[V]=Q),Q.getTargetRaySpace()},this.getControllerGrip=function(V){let Q=w[V];return Q===void 0&&(Q=new A_,w[V]=Q),Q.getGripSpace()},this.getHand=function(V){let Q=w[V];return Q===void 0&&(Q=new A_,w[V]=Q),Q.getHandSpace()};function ee(V){const Q=D.indexOf(V.inputSource);if(Q===-1)return;const ge=w[Q];ge!==void 0&&(ge.update(V.inputSource,V.frame,h||s),ge.dispatchEvent({type:V.type,data:V.inputSource}))}function ve(){r.removeEventListener("select",ee),r.removeEventListener("selectstart",ee),r.removeEventListener("selectend",ee),r.removeEventListener("squeeze",ee),r.removeEventListener("squeezestart",ee),r.removeEventListener("squeezeend",ee),r.removeEventListener("end",ve),r.removeEventListener("inputsourceschange",pe);for(let V=0;V<w.length;V++){const Q=D[V];Q!==null&&(D[V]=null,w[V].disconnect(Q))}k=null,G=null,T.reset(),e.setRenderTarget(A),y=null,v=null,g=null,r=null,R=null,q.stop(),i.isPresenting=!1,e.setPixelRatio(F),e.setSize(P.width,P.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(V){a=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(V){l=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||s},this.setReferenceSpace=function(V){h=V},this.getBaseLayer=function(){return v!==null?v:y},this.getBinding=function(){return g},this.getFrame=function(){return E},this.getSession=function(){return r},this.setSession=async function(V){if(r=V,r!==null){if(A=e.getRenderTarget(),r.addEventListener("select",ee),r.addEventListener("selectstart",ee),r.addEventListener("selectend",ee),r.addEventListener("squeeze",ee),r.addEventListener("squeezestart",ee),r.addEventListener("squeezeend",ee),r.addEventListener("end",ve),r.addEventListener("inputsourceschange",pe),S.xrCompatible!==!0&&await t.makeXRCompatible(),F=e.getPixelRatio(),e.getSize(P),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let ge=null,Ae=null,Ee=null;S.depth&&(Ee=S.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ge=S.stencil?Vp:zp,Ae=S.stencil?kp:yu);const Ce={colorFormat:t.RGBA8,depthFormat:Ee,scaleFactor:a};g=new XRWebGLBinding(r,t),v=g.createProjectionLayer(Ce),r.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),R=new bc(v.textureWidth,v.textureHeight,{format:Va,type:Go,depthTexture:new zb(v.textureWidth,v.textureHeight,Ae,void 0,void 0,void 0,void 0,void 0,void 0,ge),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}else{const ge={antialias:S.antialias,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:a};y=new XRWebGLLayer(r,t,ge),r.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),R=new bc(y.framebufferWidth,y.framebufferHeight,{format:Va,type:Go,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}R.isXRRenderTarget=!0,this.setFoveation(u),h=null,s=await r.requestReferenceSpace(l),q.setContext(r),q.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function pe(V){for(let Q=0;Q<V.removed.length;Q++){const ge=V.removed[Q],Ae=D.indexOf(ge);Ae>=0&&(D[Ae]=null,w[Ae].disconnect(ge))}for(let Q=0;Q<V.added.length;Q++){const ge=V.added[Q];let Ae=D.indexOf(ge);if(Ae===-1){for(let Ce=0;Ce<w.length;Ce++)if(Ce>=D.length){D.push(ge),Ae=Ce;break}else if(D[Ce]===null){D[Ce]=ge,Ae=Ce;break}if(Ae===-1)break}const Ee=w[Ae];Ee&&Ee.connect(ge)}}const W=new he,K=new he;function ie(V,Q,ge){W.setFromMatrixPosition(Q.matrixWorld),K.setFromMatrixPosition(ge.matrixWorld);const Ae=W.distanceTo(K),Ee=Q.projectionMatrix.elements,Ce=ge.projectionMatrix.elements,Ne=Ee[14]/(Ee[10]-1),st=Ee[14]/(Ee[10]+1),se=(Ee[9]+1)/Ee[5],vt=(Ee[9]-1)/Ee[5],J=(Ee[8]-1)/Ee[0],Ze=(Ce[8]+1)/Ce[0],Ie=Ne*J,Re=Ne*Ze,Pe=Ae/(-J+Ze),ut=Pe*-J;if(Q.matrixWorld.decompose(V.position,V.quaternion,V.scale),V.translateX(ut),V.translateZ(Pe),V.matrixWorld.compose(V.position,V.quaternion,V.scale),V.matrixWorldInverse.copy(V.matrixWorld).invert(),Ee[10]===-1)V.projectionMatrix.copy(Q.projectionMatrix),V.projectionMatrixInverse.copy(Q.projectionMatrixInverse);else{const $e=Ne+Pe,yt=st+Pe,kt=Ie-ut,ce=Re+(Ae-ut),Y=se*st/yt*$e,Oe=vt*st/yt*$e;V.projectionMatrix.makePerspective(kt,ce,Y,Oe,$e,yt),V.projectionMatrixInverse.copy(V.projectionMatrix).invert()}}function ne(V,Q){Q===null?V.matrixWorld.copy(V.matrix):V.matrixWorld.multiplyMatrices(Q.matrixWorld,V.matrix),V.matrixWorldInverse.copy(V.matrixWorld).invert()}this.updateCamera=function(V){if(r===null)return;let Q=V.near,ge=V.far;T.texture!==null&&(T.depthNear>0&&(Q=T.depthNear),T.depthFar>0&&(ge=T.depthFar)),L.near=I.near=U.near=Q,L.far=I.far=U.far=ge,(k!==L.near||G!==L.far)&&(r.updateRenderState({depthNear:L.near,depthFar:L.far}),k=L.near,G=L.far),U.layers.mask=V.layers.mask|2,I.layers.mask=V.layers.mask|4,L.layers.mask=U.layers.mask|I.layers.mask;const Ae=V.parent,Ee=L.cameras;ne(L,Ae);for(let Ce=0;Ce<Ee.length;Ce++)ne(Ee[Ce],Ae);Ee.length===2?ie(L,U,I):L.projectionMatrix.copy(U.projectionMatrix),j(V,L,Ae)};function j(V,Q,ge){ge===null?V.matrix.copy(Q.matrixWorld):(V.matrix.copy(ge.matrixWorld),V.matrix.invert(),V.matrix.multiply(Q.matrixWorld)),V.matrix.decompose(V.position,V.quaternion,V.scale),V.updateMatrixWorld(!0),V.projectionMatrix.copy(Q.projectionMatrix),V.projectionMatrixInverse.copy(Q.projectionMatrixInverse),V.isPerspectiveCamera&&(V.fov=Hp*2*Math.atan(1/V.projectionMatrix.elements[5]),V.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(v===null&&y===null))return u},this.setFoveation=function(V){u=V,v!==null&&(v.fixedFoveation=V),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=V)},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(L)};let le=null;function H(V,Q){if(p=Q.getViewerPose(h||s),E=Q,p!==null){const ge=p.views;y!==null&&(e.setRenderTargetFramebuffer(R,y.framebuffer),e.setRenderTarget(R));let Ae=!1;ge.length!==L.cameras.length&&(L.cameras.length=0,Ae=!0);for(let Ne=0;Ne<ge.length;Ne++){const st=ge[Ne];let se=null;if(y!==null)se=y.getViewport(st);else{const J=g.getViewSubImage(v,st);se=J.viewport,Ne===0&&(e.setRenderTargetTextures(R,J.colorTexture,J.depthStencilTexture),e.setRenderTarget(R))}let vt=C[Ne];vt===void 0&&(vt=new ia,vt.layers.enable(Ne),vt.viewport=new Kn,C[Ne]=vt),vt.matrix.fromArray(st.transform.matrix),vt.matrix.decompose(vt.position,vt.quaternion,vt.scale),vt.projectionMatrix.fromArray(st.projectionMatrix),vt.projectionMatrixInverse.copy(vt.projectionMatrix).invert(),vt.viewport.set(se.x,se.y,se.width,se.height),Ne===0&&(L.matrix.copy(vt.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),Ae===!0&&L.cameras.push(vt)}const Ee=r.enabledFeatures;if(Ee&&Ee.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&g){const Ne=g.getDepthInformation(ge[0]);Ne&&Ne.isValid&&Ne.texture&&T.init(e,Ne,r.renderState)}}for(let ge=0;ge<w.length;ge++){const Ae=D[ge],Ee=w[ge];Ae!==null&&Ee!==void 0&&Ee.update(Ae,Q,h||s)}le&&le(V,Q),Q.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Q}),E=null}const q=new EI;q.setAnimationLoop(H),this.setAnimationLoop=function(V){le=V},this.dispose=function(){}}}const id=new so,V9=new cn;function H9(n,e){function t(S,A){S.matrixAutoUpdate===!0&&S.updateMatrix(),A.value.copy(S.matrix)}function i(S,A){A.color.getRGB(S.fogColor.value,yD(n)),A.isFog?(S.fogNear.value=A.near,S.fogFar.value=A.far):A.isFogExp2&&(S.fogDensity.value=A.density)}function r(S,A,R,w,D){A.isMeshBasicMaterial||A.isMeshLambertMaterial?a(S,A):A.isMeshToonMaterial?(a(S,A),g(S,A)):A.isMeshPhongMaterial?(a(S,A),p(S,A)):A.isMeshStandardMaterial?(a(S,A),v(S,A),A.isMeshPhysicalMaterial&&y(S,A,D)):A.isMeshMatcapMaterial?(a(S,A),E(S,A)):A.isMeshDepthMaterial?a(S,A):A.isMeshDistanceMaterial?(a(S,A),T(S,A)):A.isMeshNormalMaterial?a(S,A):A.isLineBasicMaterial?(s(S,A),A.isLineDashedMaterial&&l(S,A)):A.isPointsMaterial?u(S,A,R,w):A.isSpriteMaterial?h(S,A):A.isShadowMaterial?(S.color.value.copy(A.color),S.opacity.value=A.opacity):A.isShaderMaterial&&(A.uniformsNeedUpdate=!1)}function a(S,A){S.opacity.value=A.opacity,A.color&&S.diffuse.value.copy(A.color),A.emissive&&S.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),A.map&&(S.map.value=A.map,t(A.map,S.mapTransform)),A.alphaMap&&(S.alphaMap.value=A.alphaMap,t(A.alphaMap,S.alphaMapTransform)),A.bumpMap&&(S.bumpMap.value=A.bumpMap,t(A.bumpMap,S.bumpMapTransform),S.bumpScale.value=A.bumpScale,A.side===ps&&(S.bumpScale.value*=-1)),A.normalMap&&(S.normalMap.value=A.normalMap,t(A.normalMap,S.normalMapTransform),S.normalScale.value.copy(A.normalScale),A.side===ps&&S.normalScale.value.negate()),A.displacementMap&&(S.displacementMap.value=A.displacementMap,t(A.displacementMap,S.displacementMapTransform),S.displacementScale.value=A.displacementScale,S.displacementBias.value=A.displacementBias),A.emissiveMap&&(S.emissiveMap.value=A.emissiveMap,t(A.emissiveMap,S.emissiveMapTransform)),A.specularMap&&(S.specularMap.value=A.specularMap,t(A.specularMap,S.specularMapTransform)),A.alphaTest>0&&(S.alphaTest.value=A.alphaTest);const R=e.get(A),w=R.envMap,D=R.envMapRotation;w&&(S.envMap.value=w,id.copy(D),id.x*=-1,id.y*=-1,id.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(id.y*=-1,id.z*=-1),S.envMapRotation.value.setFromMatrix4(V9.makeRotationFromEuler(id)),S.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=A.reflectivity,S.ior.value=A.ior,S.refractionRatio.value=A.refractionRatio),A.lightMap&&(S.lightMap.value=A.lightMap,S.lightMapIntensity.value=A.lightMapIntensity,t(A.lightMap,S.lightMapTransform)),A.aoMap&&(S.aoMap.value=A.aoMap,S.aoMapIntensity.value=A.aoMapIntensity,t(A.aoMap,S.aoMapTransform))}function s(S,A){S.diffuse.value.copy(A.color),S.opacity.value=A.opacity,A.map&&(S.map.value=A.map,t(A.map,S.mapTransform))}function l(S,A){S.dashSize.value=A.dashSize,S.totalSize.value=A.dashSize+A.gapSize,S.scale.value=A.scale}function u(S,A,R,w){S.diffuse.value.copy(A.color),S.opacity.value=A.opacity,S.size.value=A.size*R,S.scale.value=w*.5,A.map&&(S.map.value=A.map,t(A.map,S.uvTransform)),A.alphaMap&&(S.alphaMap.value=A.alphaMap,t(A.alphaMap,S.alphaMapTransform)),A.alphaTest>0&&(S.alphaTest.value=A.alphaTest)}function h(S,A){S.diffuse.value.copy(A.color),S.opacity.value=A.opacity,S.rotation.value=A.rotation,A.map&&(S.map.value=A.map,t(A.map,S.mapTransform)),A.alphaMap&&(S.alphaMap.value=A.alphaMap,t(A.alphaMap,S.alphaMapTransform)),A.alphaTest>0&&(S.alphaTest.value=A.alphaTest)}function p(S,A){S.specular.value.copy(A.specular),S.shininess.value=Math.max(A.shininess,1e-4)}function g(S,A){A.gradientMap&&(S.gradientMap.value=A.gradientMap)}function v(S,A){S.metalness.value=A.metalness,A.metalnessMap&&(S.metalnessMap.value=A.metalnessMap,t(A.metalnessMap,S.metalnessMapTransform)),S.roughness.value=A.roughness,A.roughnessMap&&(S.roughnessMap.value=A.roughnessMap,t(A.roughnessMap,S.roughnessMapTransform)),A.envMap&&(S.envMapIntensity.value=A.envMapIntensity)}function y(S,A,R){S.ior.value=A.ior,A.sheen>0&&(S.sheenColor.value.copy(A.sheenColor).multiplyScalar(A.sheen),S.sheenRoughness.value=A.sheenRoughness,A.sheenColorMap&&(S.sheenColorMap.value=A.sheenColorMap,t(A.sheenColorMap,S.sheenColorMapTransform)),A.sheenRoughnessMap&&(S.sheenRoughnessMap.value=A.sheenRoughnessMap,t(A.sheenRoughnessMap,S.sheenRoughnessMapTransform))),A.clearcoat>0&&(S.clearcoat.value=A.clearcoat,S.clearcoatRoughness.value=A.clearcoatRoughness,A.clearcoatMap&&(S.clearcoatMap.value=A.clearcoatMap,t(A.clearcoatMap,S.clearcoatMapTransform)),A.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=A.clearcoatRoughnessMap,t(A.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),A.clearcoatNormalMap&&(S.clearcoatNormalMap.value=A.clearcoatNormalMap,t(A.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(A.clearcoatNormalScale),A.side===ps&&S.clearcoatNormalScale.value.negate())),A.dispersion>0&&(S.dispersion.value=A.dispersion),A.iridescence>0&&(S.iridescence.value=A.iridescence,S.iridescenceIOR.value=A.iridescenceIOR,S.iridescenceThicknessMinimum.value=A.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=A.iridescenceThicknessRange[1],A.iridescenceMap&&(S.iridescenceMap.value=A.iridescenceMap,t(A.iridescenceMap,S.iridescenceMapTransform)),A.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=A.iridescenceThicknessMap,t(A.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),A.transmission>0&&(S.transmission.value=A.transmission,S.transmissionSamplerMap.value=R.texture,S.transmissionSamplerSize.value.set(R.width,R.height),A.transmissionMap&&(S.transmissionMap.value=A.transmissionMap,t(A.transmissionMap,S.transmissionMapTransform)),S.thickness.value=A.thickness,A.thicknessMap&&(S.thicknessMap.value=A.thicknessMap,t(A.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=A.attenuationDistance,S.attenuationColor.value.copy(A.attenuationColor)),A.anisotropy>0&&(S.anisotropyVector.value.set(A.anisotropy*Math.cos(A.anisotropyRotation),A.anisotropy*Math.sin(A.anisotropyRotation)),A.anisotropyMap&&(S.anisotropyMap.value=A.anisotropyMap,t(A.anisotropyMap,S.anisotropyMapTransform))),S.specularIntensity.value=A.specularIntensity,S.specularColor.value.copy(A.specularColor),A.specularColorMap&&(S.specularColorMap.value=A.specularColorMap,t(A.specularColorMap,S.specularColorMapTransform)),A.specularIntensityMap&&(S.specularIntensityMap.value=A.specularIntensityMap,t(A.specularIntensityMap,S.specularIntensityMapTransform))}function E(S,A){A.matcap&&(S.matcap.value=A.matcap)}function T(S,A){const R=e.get(A).light;S.referencePosition.value.setFromMatrixPosition(R.matrixWorld),S.nearDistance.value=R.shadow.camera.near,S.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function G9(n,e,t,i){let r={},a={},s=[];const l=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function u(R,w){const D=w.program;i.uniformBlockBinding(R,D)}function h(R,w){let D=r[R.id];D===void 0&&(E(R),D=p(R),r[R.id]=D,R.addEventListener("dispose",S));const P=w.program;i.updateUBOMapping(R,P);const F=e.render.frame;a[R.id]!==F&&(v(R),a[R.id]=F)}function p(R){const w=g();R.__bindingPointIndex=w;const D=n.createBuffer(),P=R.__size,F=R.usage;return n.bindBuffer(n.UNIFORM_BUFFER,D),n.bufferData(n.UNIFORM_BUFFER,P,F),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,w,D),D}function g(){for(let R=0;R<l;R++)if(s.indexOf(R)===-1)return s.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(R){const w=r[R.id],D=R.uniforms,P=R.__cache;n.bindBuffer(n.UNIFORM_BUFFER,w);for(let F=0,U=D.length;F<U;F++){const I=Array.isArray(D[F])?D[F]:[D[F]];for(let C=0,L=I.length;C<L;C++){const k=I[C];if(y(k,F,C,P)===!0){const G=k.__offset,ee=Array.isArray(k.value)?k.value:[k.value];let ve=0;for(let pe=0;pe<ee.length;pe++){const W=ee[pe],K=T(W);typeof W=="number"||typeof W=="boolean"?(k.__data[0]=W,n.bufferSubData(n.UNIFORM_BUFFER,G+ve,k.__data)):W.isMatrix3?(k.__data[0]=W.elements[0],k.__data[1]=W.elements[1],k.__data[2]=W.elements[2],k.__data[3]=0,k.__data[4]=W.elements[3],k.__data[5]=W.elements[4],k.__data[6]=W.elements[5],k.__data[7]=0,k.__data[8]=W.elements[6],k.__data[9]=W.elements[7],k.__data[10]=W.elements[8],k.__data[11]=0):(W.toArray(k.__data,ve),ve+=K.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,G,k.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function y(R,w,D,P){const F=R.value,U=w+"_"+D;if(P[U]===void 0)return typeof F=="number"||typeof F=="boolean"?P[U]=F:P[U]=F.clone(),!0;{const I=P[U];if(typeof F=="number"||typeof F=="boolean"){if(I!==F)return P[U]=F,!0}else if(I.equals(F)===!1)return I.copy(F),!0}return!1}function E(R){const w=R.uniforms;let D=0;const P=16;for(let U=0,I=w.length;U<I;U++){const C=Array.isArray(w[U])?w[U]:[w[U]];for(let L=0,k=C.length;L<k;L++){const G=C[L],ee=Array.isArray(G.value)?G.value:[G.value];for(let ve=0,pe=ee.length;ve<pe;ve++){const W=ee[ve],K=T(W),ie=D%P,ne=ie%K.boundary,j=ie+ne;D+=ne,j!==0&&P-j<K.storage&&(D+=P-j),G.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=D,D+=K.storage}}}const F=D%P;return F>0&&(D+=P-F),R.__size=D,R.__cache={},this}function T(R){const w={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(w.boundary=4,w.storage=4):R.isVector2?(w.boundary=8,w.storage=8):R.isVector3||R.isColor?(w.boundary=16,w.storage=12):R.isVector4?(w.boundary=16,w.storage=16):R.isMatrix3?(w.boundary=48,w.storage=48):R.isMatrix4?(w.boundary=64,w.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),w}function S(R){const w=R.target;w.removeEventListener("dispose",S);const D=s.indexOf(w.__bindingPointIndex);s.splice(D,1),n.deleteBuffer(r[w.id]),delete r[w.id],delete a[w.id]}function A(){for(const R in r)n.deleteBuffer(r[R]);s=[],r={},a={}}return{bind:u,update:h,dispose:A}}class wI{constructor(e={}){const{canvas:t=gD(),context:i=null,depth:r=!0,stencil:a=!1,alpha:s=!1,antialias:l=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:h=!1,powerPreference:p="default",failIfMajorPerformanceCaveat:g=!1,reverseDepthBuffer:v=!1}=e;this.isWebGLRenderer=!0;let y;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");y=i.getContextAttributes().alpha}else y=s;const E=new Uint32Array(4),T=new Int32Array(4);let S=null,A=null;const R=[],w=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Ec,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const D=this;let P=!1;this._outputColorSpace=Pa;let F=0,U=0,I=null,C=-1,L=null;const k=new Kn,G=new Kn;let ee=null;const ve=new Ut(0);let pe=0,W=t.width,K=t.height,ie=1,ne=null,j=null;const le=new Kn(0,0,W,K),H=new Kn(0,0,W,K);let q=!1;const V=new im;let Q=!1,ge=!1;const Ae=new cn,Ee=new cn,Ce=new he,Ne=new Kn,st={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let se=!1;function vt(){return I===null?ie:1}let J=i;function Ze(X,me){return t.getContext(X,me)}try{const X={alpha:!0,depth:r,stencil:a,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:h,powerPreference:p,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${fx}`),t.addEventListener("webglcontextlost",It,!1),t.addEventListener("webglcontextrestored",gt,!1),t.addEventListener("webglcontextcreationerror",lt,!1),J===null){const me="webgl2";if(J=Ze(me,X),J===null)throw Ze(me)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(X){throw console.error("THREE.WebGLRenderer: "+X.message),X}let Ie,Re,Pe,ut,$e,yt,kt,ce,Y,Oe,ze,Qe,He,St,it,xt,bt,Je,At,Bt,Xt,Mt,Kt,Me;function Ct(){Ie=new t7(J),Ie.init(),Mt=new MI(J,Ie),Re=new qH(J,Ie,e,Mt),Pe=new U9(J,Ie),Re.reverseDepthBuffer&&v&&Pe.buffers.depth.setReversed(!0),ut=new r7(J),$e=new S9,yt=new F9(J,Ie,Pe,$e,Re,Mt,ut),kt=new ZH(D),ce=new e7(D),Y=new uz(J),Kt=new YH(J,Y),Oe=new n7(J,Y,ut,Kt),ze=new s7(J,Oe,Y,ut),At=new a7(J,Re,yt),xt=new KH($e),Qe=new E9(D,kt,ce,Ie,Re,Kt,xt),He=new H9(D,$e),St=new A9,it=new O9(Ie),Je=new WH(D,kt,ce,Pe,ze,y,u),bt=new I9(D,ze,Re),Me=new G9(J,ut,Re,Pe),Bt=new jH(J,Ie,ut),Xt=new i7(J,Ie,ut),ut.programs=Qe.programs,D.capabilities=Re,D.extensions=Ie,D.properties=$e,D.renderLists=St,D.shadowMap=bt,D.state=Pe,D.info=ut}Ct();const pt=new z9(D,J);this.xr=pt,this.getContext=function(){return J},this.getContextAttributes=function(){return J.getContextAttributes()},this.forceContextLoss=function(){const X=Ie.get("WEBGL_lose_context");X&&X.loseContext()},this.forceContextRestore=function(){const X=Ie.get("WEBGL_lose_context");X&&X.restoreContext()},this.getPixelRatio=function(){return ie},this.setPixelRatio=function(X){X!==void 0&&(ie=X,this.setSize(W,K,!1))},this.getSize=function(X){return X.set(W,K)},this.setSize=function(X,me,xe=!0){if(pt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}W=X,K=me,t.width=Math.floor(X*ie),t.height=Math.floor(me*ie),xe===!0&&(t.style.width=X+"px",t.style.height=me+"px"),this.setViewport(0,0,X,me)},this.getDrawingBufferSize=function(X){return X.set(W*ie,K*ie).floor()},this.setDrawingBufferSize=function(X,me,xe){W=X,K=me,ie=xe,t.width=Math.floor(X*xe),t.height=Math.floor(me*xe),this.setViewport(0,0,X,me)},this.getCurrentViewport=function(X){return X.copy(k)},this.getViewport=function(X){return X.copy(le)},this.setViewport=function(X,me,xe,Te){X.isVector4?le.set(X.x,X.y,X.z,X.w):le.set(X,me,xe,Te),Pe.viewport(k.copy(le).multiplyScalar(ie).round())},this.getScissor=function(X){return X.copy(H)},this.setScissor=function(X,me,xe,Te){X.isVector4?H.set(X.x,X.y,X.z,X.w):H.set(X,me,xe,Te),Pe.scissor(G.copy(H).multiplyScalar(ie).round())},this.getScissorTest=function(){return q},this.setScissorTest=function(X){Pe.setScissorTest(q=X)},this.setOpaqueSort=function(X){ne=X},this.setTransparentSort=function(X){j=X},this.getClearColor=function(X){return X.copy(Je.getClearColor())},this.setClearColor=function(){Je.setClearColor(...arguments)},this.getClearAlpha=function(){return Je.getClearAlpha()},this.setClearAlpha=function(){Je.setClearAlpha(...arguments)},this.clear=function(X=!0,me=!0,xe=!0){let Te=0;if(X){let Se=!1;if(I!==null){const tt=I.texture.format;Se=tt===tS||tt===eS||tt===dx}if(Se){const tt=I.texture.type,mt=tt===Go||tt===yu||tt===Bp||tt===kp||tt===QE||tt===JE,Et=Je.getClearColor(),Ot=Je.getClearAlpha(),Yt=Et.r,Wt=Et.g,Pt=Et.b;mt?(E[0]=Yt,E[1]=Wt,E[2]=Pt,E[3]=Ot,J.clearBufferuiv(J.COLOR,0,E)):(T[0]=Yt,T[1]=Wt,T[2]=Pt,T[3]=Ot,J.clearBufferiv(J.COLOR,0,T))}else Te|=J.COLOR_BUFFER_BIT}me&&(Te|=J.DEPTH_BUFFER_BIT),xe&&(Te|=J.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),J.clear(Te)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",It,!1),t.removeEventListener("webglcontextrestored",gt,!1),t.removeEventListener("webglcontextcreationerror",lt,!1),Je.dispose(),St.dispose(),it.dispose(),$e.dispose(),kt.dispose(),ce.dispose(),ze.dispose(),Kt.dispose(),Me.dispose(),Qe.dispose(),pt.dispose(),pt.removeEventListener("sessionstart",Ui),pt.removeEventListener("sessionend",Ri),xr.stop()};function It(X){X.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),P=!0}function gt(){console.log("THREE.WebGLRenderer: Context Restored."),P=!1;const X=ut.autoReset,me=bt.enabled,xe=bt.autoUpdate,Te=bt.needsUpdate,Se=bt.type;Ct(),ut.autoReset=X,bt.enabled=me,bt.autoUpdate=xe,bt.needsUpdate=Te,bt.type=Se}function lt(X){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",X.statusMessage)}function Ft(X){const me=X.target;me.removeEventListener("dispose",Ft),$t(me)}function $t(X){kn(X),$e.remove(X)}function kn(X){const me=$e.get(X).programs;me!==void 0&&(me.forEach(function(xe){Qe.releaseProgram(xe)}),X.isShaderMaterial&&Qe.releaseShaderCache(X))}this.renderBufferDirect=function(X,me,xe,Te,Se,tt){me===null&&(me=st);const mt=Se.isMesh&&Se.matrixWorld.determinant()<0,Et=Ve(X,me,xe,Te,Se);Pe.setMaterial(Te,mt);let Ot=xe.index,Yt=1;if(Te.wireframe===!0){if(Ot=Oe.getWireframeAttribute(xe),Ot===void 0)return;Yt=2}const Wt=xe.drawRange,Pt=xe.attributes.position;let dn=Wt.start*Yt,yn=(Wt.start+Wt.count)*Yt;tt!==null&&(dn=Math.max(dn,tt.start*Yt),yn=Math.min(yn,(tt.start+tt.count)*Yt)),Ot!==null?(dn=Math.max(dn,0),yn=Math.min(yn,Ot.count)):Pt!=null&&(dn=Math.max(dn,0),yn=Math.min(yn,Pt.count));const vi=yn-dn;if(vi<0||vi===1/0)return;Kt.setup(Se,Te,Et,xe,Ot);let Sn,jn=Bt;if(Ot!==null&&(Sn=Y.get(Ot),jn=Xt,jn.setIndex(Sn)),Se.isMesh)Te.wireframe===!0?(Pe.setLineWidth(Te.wireframeLinewidth*vt()),jn.setMode(J.LINES)):jn.setMode(J.TRIANGLES);else if(Se.isLine){let Zt=Te.linewidth;Zt===void 0&&(Zt=1),Pe.setLineWidth(Zt*vt()),Se.isLineSegments?jn.setMode(J.LINES):Se.isLineLoop?jn.setMode(J.LINE_LOOP):jn.setMode(J.LINE_STRIP)}else Se.isPoints?jn.setMode(J.POINTS):Se.isSprite&&jn.setMode(J.TRIANGLES);if(Se.isBatchedMesh)if(Se._multiDrawInstances!==null)Dp("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),jn.renderMultiDrawInstances(Se._multiDrawStarts,Se._multiDrawCounts,Se._multiDrawCount,Se._multiDrawInstances);else if(Ie.get("WEBGL_multi_draw"))jn.renderMultiDraw(Se._multiDrawStarts,Se._multiDrawCounts,Se._multiDrawCount);else{const Zt=Se._multiDrawStarts,ri=Se._multiDrawCounts,Un=Se._multiDrawCount,lr=Ot?Y.get(Ot).bytesPerElement:1,lo=$e.get(Te).currentProgram.getUniforms();for(let li=0;li<Un;li++)lo.setValue(J,"_gl_DrawID",li),jn.render(Zt[li]/lr,ri[li])}else if(Se.isInstancedMesh)jn.renderInstances(dn,vi,Se.count);else if(xe.isInstancedBufferGeometry){const Zt=xe._maxInstanceCount!==void 0?xe._maxInstanceCount:1/0,ri=Math.min(xe.instanceCount,Zt);jn.renderInstances(dn,vi,ri)}else jn.render(dn,vi)};function Nn(X,me,xe){X.transparent===!0&&X.side===vc&&X.forceSinglePass===!1?(X.side=ps,X.needsUpdate=!0,ae(X,me,xe),X.side=vu,X.needsUpdate=!0,ae(X,me,xe),X.side=vc):ae(X,me,xe)}this.compile=function(X,me,xe=null){xe===null&&(xe=X),A=it.get(xe),A.init(me),w.push(A),xe.traverseVisible(function(Se){Se.isLight&&Se.layers.test(me.layers)&&(A.pushLight(Se),Se.castShadow&&A.pushShadow(Se))}),X!==xe&&X.traverseVisible(function(Se){Se.isLight&&Se.layers.test(me.layers)&&(A.pushLight(Se),Se.castShadow&&A.pushShadow(Se))}),A.setupLights();const Te=new Set;return X.traverse(function(Se){if(!(Se.isMesh||Se.isPoints||Se.isLine||Se.isSprite))return;const tt=Se.material;if(tt)if(Array.isArray(tt))for(let mt=0;mt<tt.length;mt++){const Et=tt[mt];Nn(Et,xe,Se),Te.add(Et)}else Nn(tt,xe,Se),Te.add(tt)}),A=w.pop(),Te},this.compileAsync=function(X,me,xe=null){const Te=this.compile(X,me,xe);return new Promise(Se=>{function tt(){if(Te.forEach(function(mt){$e.get(mt).currentProgram.isReady()&&Te.delete(mt)}),Te.size===0){Se(X);return}setTimeout(tt,10)}Ie.get("KHR_parallel_shader_compile")!==null?tt():setTimeout(tt,10)})};let qr=null;function Vi(X){qr&&qr(X)}function Ui(){xr.stop()}function Ri(){xr.start()}const xr=new EI;xr.setAnimationLoop(Vi),typeof self<"u"&&xr.setContext(self),this.setAnimationLoop=function(X){qr=X,pt.setAnimationLoop(X),X===null?xr.stop():xr.start()},pt.addEventListener("sessionstart",Ui),pt.addEventListener("sessionend",Ri),this.render=function(X,me){if(me!==void 0&&me.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;if(X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),me.parent===null&&me.matrixWorldAutoUpdate===!0&&me.updateMatrixWorld(),pt.enabled===!0&&pt.isPresenting===!0&&(pt.cameraAutoUpdate===!0&&pt.updateCamera(me),me=pt.getCamera()),X.isScene===!0&&X.onBeforeRender(D,X,me,I),A=it.get(X,w.length),A.init(me),w.push(A),Ee.multiplyMatrices(me.projectionMatrix,me.matrixWorldInverse),V.setFromProjectionMatrix(Ee),ge=this.localClippingEnabled,Q=xt.init(this.clippingPlanes,ge),S=St.get(X,R.length),S.init(),R.push(S),pt.enabled===!0&&pt.isPresenting===!0){const tt=D.xr.getDepthSensingMesh();tt!==null&&Kr(tt,me,-1/0,D.sortObjects)}Kr(X,me,0,D.sortObjects),S.finish(),D.sortObjects===!0&&S.sort(ne,j),se=pt.enabled===!1||pt.isPresenting===!1||pt.hasDepthSensing()===!1,se&&Je.addToRenderList(S,X),this.info.render.frame++,Q===!0&&xt.beginShadows();const xe=A.state.shadowsArray;bt.render(xe,X,me),Q===!0&&xt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Te=S.opaque,Se=S.transmissive;if(A.setupLights(),me.isArrayCamera){const tt=me.cameras;if(Se.length>0)for(let mt=0,Et=tt.length;mt<Et;mt++){const Ot=tt[mt];Z(Te,Se,X,Ot)}se&&Je.render(X);for(let mt=0,Et=tt.length;mt<Et;mt++){const Ot=tt[mt];Oc(S,X,Ot,Ot.viewport)}}else Se.length>0&&Z(Te,Se,X,me),se&&Je.render(X),Oc(S,X,me);I!==null&&U===0&&(yt.updateMultisampleRenderTarget(I),yt.updateRenderTargetMipmap(I)),X.isScene===!0&&X.onAfterRender(D,X,me),Kt.resetDefaultState(),C=-1,L=null,w.pop(),w.length>0?(A=w[w.length-1],Q===!0&&xt.setGlobalState(D.clippingPlanes,A.state.camera)):A=null,R.pop(),R.length>0?S=R[R.length-1]:S=null};function Kr(X,me,xe,Te){if(X.visible===!1)return;if(X.layers.test(me.layers)){if(X.isGroup)xe=X.renderOrder;else if(X.isLOD)X.autoUpdate===!0&&X.update(me);else if(X.isLight)A.pushLight(X),X.castShadow&&A.pushShadow(X);else if(X.isSprite){if(!X.frustumCulled||V.intersectsSprite(X)){Te&&Ne.setFromMatrixPosition(X.matrixWorld).applyMatrix4(Ee);const mt=ze.update(X),Et=X.material;Et.visible&&S.push(X,mt,Et,xe,Ne.z,null)}}else if((X.isMesh||X.isLine||X.isPoints)&&(!X.frustumCulled||V.intersectsObject(X))){const mt=ze.update(X),Et=X.material;if(Te&&(X.boundingSphere!==void 0?(X.boundingSphere===null&&X.computeBoundingSphere(),Ne.copy(X.boundingSphere.center)):(mt.boundingSphere===null&&mt.computeBoundingSphere(),Ne.copy(mt.boundingSphere.center)),Ne.applyMatrix4(X.matrixWorld).applyMatrix4(Ee)),Array.isArray(Et)){const Ot=mt.groups;for(let Yt=0,Wt=Ot.length;Yt<Wt;Yt++){const Pt=Ot[Yt],dn=Et[Pt.materialIndex];dn&&dn.visible&&S.push(X,mt,dn,xe,Ne.z,Pt)}}else Et.visible&&S.push(X,mt,Et,xe,Ne.z,null)}}const tt=X.children;for(let mt=0,Et=tt.length;mt<Et;mt++)Kr(tt[mt],me,xe,Te)}function Oc(X,me,xe,Te){const Se=X.opaque,tt=X.transmissive,mt=X.transparent;A.setupLightsView(xe),Q===!0&&xt.setGlobalState(D.clippingPlanes,xe),Te&&Pe.viewport(k.copy(Te)),Se.length>0&&ue(Se,me,xe),tt.length>0&&ue(tt,me,xe),mt.length>0&&ue(mt,me,xe),Pe.buffers.depth.setTest(!0),Pe.buffers.depth.setMask(!0),Pe.buffers.color.setMask(!0),Pe.setPolygonOffset(!1)}function Z(X,me,xe,Te){if((xe.isScene===!0?xe.overrideMaterial:null)!==null)return;A.state.transmissionRenderTarget[Te.id]===void 0&&(A.state.transmissionRenderTarget[Te.id]=new bc(1,1,{generateMipmaps:!0,type:Ie.has("EXT_color_buffer_half_float")||Ie.has("EXT_color_buffer_float")?tm:Go,minFilter:xc,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Xn.workingColorSpace}));const tt=A.state.transmissionRenderTarget[Te.id],mt=Te.viewport||k;tt.setSize(mt.z*D.transmissionResolutionScale,mt.w*D.transmissionResolutionScale);const Et=D.getRenderTarget(),Ot=D.getActiveCubeFace(),Yt=D.getActiveMipmapLevel();D.setRenderTarget(tt),D.getClearColor(ve),pe=D.getClearAlpha(),pe<1&&D.setClearColor(16777215,.5),D.clear(),se&&Je.render(xe);const Wt=D.toneMapping;D.toneMapping=Ec;const Pt=Te.viewport;if(Te.viewport!==void 0&&(Te.viewport=void 0),A.setupLightsView(Te),Q===!0&&xt.setGlobalState(D.clippingPlanes,Te),ue(X,xe,Te),yt.updateMultisampleRenderTarget(tt),yt.updateRenderTargetMipmap(tt),Ie.has("WEBGL_multisampled_render_to_texture")===!1){let dn=!1;for(let yn=0,vi=me.length;yn<vi;yn++){const Sn=me[yn],jn=Sn.object,Zt=Sn.geometry,ri=Sn.material,Un=Sn.group;if(ri.side===vc&&jn.layers.test(Te.layers)){const lr=ri.side;ri.side=ps,ri.needsUpdate=!0,oe(jn,xe,Te,Zt,ri,Un),ri.side=lr,ri.needsUpdate=!0,dn=!0}}dn===!0&&(yt.updateMultisampleRenderTarget(tt),yt.updateRenderTargetMipmap(tt))}D.setRenderTarget(Et,Ot,Yt),D.setClearColor(ve,pe),Pt!==void 0&&(Te.viewport=Pt),D.toneMapping=Wt}function ue(X,me,xe){const Te=me.isScene===!0?me.overrideMaterial:null;for(let Se=0,tt=X.length;Se<tt;Se++){const mt=X[Se],Et=mt.object,Ot=mt.geometry,Yt=mt.group;let Wt=mt.material;Wt.allowOverride===!0&&Te!==null&&(Wt=Te),Et.layers.test(xe.layers)&&oe(Et,me,xe,Ot,Wt,Yt)}}function oe(X,me,xe,Te,Se,tt){X.onBeforeRender(D,me,xe,Te,Se,tt),X.modelViewMatrix.multiplyMatrices(xe.matrixWorldInverse,X.matrixWorld),X.normalMatrix.getNormalMatrix(X.modelViewMatrix),Se.onBeforeRender(D,me,xe,Te,X,tt),Se.transparent===!0&&Se.side===vc&&Se.forceSinglePass===!1?(Se.side=ps,Se.needsUpdate=!0,D.renderBufferDirect(xe,me,Te,Se,X,tt),Se.side=vu,Se.needsUpdate=!0,D.renderBufferDirect(xe,me,Te,Se,X,tt),Se.side=vc):D.renderBufferDirect(xe,me,Te,Se,X,tt),X.onAfterRender(D,me,xe,Te,Se,tt)}function ae(X,me,xe){me.isScene!==!0&&(me=st);const Te=$e.get(X),Se=A.state.lights,tt=A.state.shadowsArray,mt=Se.state.version,Et=Qe.getParameters(X,Se.state,tt,me,xe),Ot=Qe.getProgramCacheKey(Et);let Yt=Te.programs;Te.environment=X.isMeshStandardMaterial?me.environment:null,Te.fog=me.fog,Te.envMap=(X.isMeshStandardMaterial?ce:kt).get(X.envMap||Te.environment),Te.envMapRotation=Te.environment!==null&&X.envMap===null?me.environmentRotation:X.envMapRotation,Yt===void 0&&(X.addEventListener("dispose",Ft),Yt=new Map,Te.programs=Yt);let Wt=Yt.get(Ot);if(Wt!==void 0){if(Te.currentProgram===Wt&&Te.lightsStateVersion===mt)return de(X,Et),Wt}else Et.uniforms=Qe.getUniforms(X),X.onBeforeCompile(Et,D),Wt=Qe.acquireProgram(Et,Ot),Yt.set(Ot,Wt),Te.uniforms=Et.uniforms;const Pt=Te.uniforms;return(!X.isShaderMaterial&&!X.isRawShaderMaterial||X.clipping===!0)&&(Pt.clippingPlanes=xt.uniform),de(X,Et),Te.needsLights=Ue(X),Te.lightsStateVersion=mt,Te.needsLights&&(Pt.ambientLightColor.value=Se.state.ambient,Pt.lightProbe.value=Se.state.probe,Pt.directionalLights.value=Se.state.directional,Pt.directionalLightShadows.value=Se.state.directionalShadow,Pt.spotLights.value=Se.state.spot,Pt.spotLightShadows.value=Se.state.spotShadow,Pt.rectAreaLights.value=Se.state.rectArea,Pt.ltc_1.value=Se.state.rectAreaLTC1,Pt.ltc_2.value=Se.state.rectAreaLTC2,Pt.pointLights.value=Se.state.point,Pt.pointLightShadows.value=Se.state.pointShadow,Pt.hemisphereLights.value=Se.state.hemi,Pt.directionalShadowMap.value=Se.state.directionalShadowMap,Pt.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,Pt.spotShadowMap.value=Se.state.spotShadowMap,Pt.spotLightMatrix.value=Se.state.spotLightMatrix,Pt.spotLightMap.value=Se.state.spotLightMap,Pt.pointShadowMap.value=Se.state.pointShadowMap,Pt.pointShadowMatrix.value=Se.state.pointShadowMatrix),Te.currentProgram=Wt,Te.uniformsList=null,Wt}function fe(X){if(X.uniformsList===null){const me=X.currentProgram.getUniforms();X.uniformsList=b_.seqWithValue(me.seq,X.uniforms)}return X.uniformsList}function de(X,me){const xe=$e.get(X);xe.outputColorSpace=me.outputColorSpace,xe.batching=me.batching,xe.batchingColor=me.batchingColor,xe.instancing=me.instancing,xe.instancingColor=me.instancingColor,xe.instancingMorph=me.instancingMorph,xe.skinning=me.skinning,xe.morphTargets=me.morphTargets,xe.morphNormals=me.morphNormals,xe.morphColors=me.morphColors,xe.morphTargetsCount=me.morphTargetsCount,xe.numClippingPlanes=me.numClippingPlanes,xe.numIntersection=me.numClipIntersection,xe.vertexAlphas=me.vertexAlphas,xe.vertexTangents=me.vertexTangents,xe.toneMapping=me.toneMapping}function Ve(X,me,xe,Te,Se){me.isScene!==!0&&(me=st),yt.resetTextureUnits();const tt=me.fog,mt=Te.isMeshStandardMaterial?me.environment:null,Et=I===null?D.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:Pf,Ot=(Te.isMeshStandardMaterial?ce:kt).get(Te.envMap||mt),Yt=Te.vertexColors===!0&&!!xe.attributes.color&&xe.attributes.color.itemSize===4,Wt=!!xe.attributes.tangent&&(!!Te.normalMap||Te.anisotropy>0),Pt=!!xe.morphAttributes.position,dn=!!xe.morphAttributes.normal,yn=!!xe.morphAttributes.color;let vi=Ec;Te.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(vi=D.toneMapping);const Sn=xe.morphAttributes.position||xe.morphAttributes.normal||xe.morphAttributes.color,jn=Sn!==void 0?Sn.length:0,Zt=$e.get(Te),ri=A.state.lights;if(Q===!0&&(ge===!0||X!==L)){const yr=X===L&&Te.id===C;xt.setState(Te,X,yr)}let Un=!1;Te.version===Zt.__version?(Zt.needsLights&&Zt.lightsStateVersion!==ri.state.version||Zt.outputColorSpace!==Et||Se.isBatchedMesh&&Zt.batching===!1||!Se.isBatchedMesh&&Zt.batching===!0||Se.isBatchedMesh&&Zt.batchingColor===!0&&Se.colorTexture===null||Se.isBatchedMesh&&Zt.batchingColor===!1&&Se.colorTexture!==null||Se.isInstancedMesh&&Zt.instancing===!1||!Se.isInstancedMesh&&Zt.instancing===!0||Se.isSkinnedMesh&&Zt.skinning===!1||!Se.isSkinnedMesh&&Zt.skinning===!0||Se.isInstancedMesh&&Zt.instancingColor===!0&&Se.instanceColor===null||Se.isInstancedMesh&&Zt.instancingColor===!1&&Se.instanceColor!==null||Se.isInstancedMesh&&Zt.instancingMorph===!0&&Se.morphTexture===null||Se.isInstancedMesh&&Zt.instancingMorph===!1&&Se.morphTexture!==null||Zt.envMap!==Ot||Te.fog===!0&&Zt.fog!==tt||Zt.numClippingPlanes!==void 0&&(Zt.numClippingPlanes!==xt.numPlanes||Zt.numIntersection!==xt.numIntersection)||Zt.vertexAlphas!==Yt||Zt.vertexTangents!==Wt||Zt.morphTargets!==Pt||Zt.morphNormals!==dn||Zt.morphColors!==yn||Zt.toneMapping!==vi||Zt.morphTargetsCount!==jn)&&(Un=!0):(Un=!0,Zt.__version=Te.version);let lr=Zt.currentProgram;Un===!0&&(lr=ae(Te,me,Se));let lo=!1,li=!1,co=!1;const si=lr.getUniforms(),Ir=Zt.uniforms;if(Pe.useProgram(lr.program)&&(lo=!0,li=!0,co=!0),Te.id!==C&&(C=Te.id,li=!0),lo||L!==X){Pe.buffers.depth.getReversed()?(Ae.copy(X.projectionMatrix),N5(Ae),D5(Ae),si.setValue(J,"projectionMatrix",Ae)):si.setValue(J,"projectionMatrix",X.projectionMatrix),si.setValue(J,"viewMatrix",X.matrixWorldInverse);const _r=si.map.cameraPosition;_r!==void 0&&_r.setValue(J,Ce.setFromMatrixPosition(X.matrixWorld)),Re.logarithmicDepthBuffer&&si.setValue(J,"logDepthBufFC",2/(Math.log(X.far+1)/Math.LN2)),(Te.isMeshPhongMaterial||Te.isMeshToonMaterial||Te.isMeshLambertMaterial||Te.isMeshBasicMaterial||Te.isMeshStandardMaterial||Te.isShaderMaterial)&&si.setValue(J,"isOrthographic",X.isOrthographicCamera===!0),L!==X&&(L=X,li=!0,co=!0)}if(Se.isSkinnedMesh){si.setOptional(J,Se,"bindMatrix"),si.setOptional(J,Se,"bindMatrixInverse");const yr=Se.skeleton;yr&&(yr.boneTexture===null&&yr.computeBoneTexture(),si.setValue(J,"boneTexture",yr.boneTexture,yt))}Se.isBatchedMesh&&(si.setOptional(J,Se,"batchingTexture"),si.setValue(J,"batchingTexture",Se._matricesTexture,yt),si.setOptional(J,Se,"batchingIdTexture"),si.setValue(J,"batchingIdTexture",Se._indirectTexture,yt),si.setOptional(J,Se,"batchingColorTexture"),Se._colorsTexture!==null&&si.setValue(J,"batchingColorTexture",Se._colorsTexture,yt));const Qi=xe.morphAttributes;if((Qi.position!==void 0||Qi.normal!==void 0||Qi.color!==void 0)&&At.update(Se,xe,lr),(li||Zt.receiveShadow!==Se.receiveShadow)&&(Zt.receiveShadow=Se.receiveShadow,si.setValue(J,"receiveShadow",Se.receiveShadow)),Te.isMeshGouraudMaterial&&Te.envMap!==null&&(Ir.envMap.value=Ot,Ir.flipEnvMap.value=Ot.isCubeTexture&&Ot.isRenderTargetTexture===!1?-1:1),Te.isMeshStandardMaterial&&Te.envMap===null&&me.environment!==null&&(Ir.envMapIntensity.value=me.environmentIntensity),li&&(si.setValue(J,"toneMappingExposure",D.toneMappingExposure),Zt.needsLights&&et(Ir,co),tt&&Te.fog===!0&&He.refreshFogUniforms(Ir,tt),He.refreshMaterialUniforms(Ir,Te,ie,K,A.state.transmissionRenderTarget[X.id]),b_.upload(J,fe(Zt),Ir,yt)),Te.isShaderMaterial&&Te.uniformsNeedUpdate===!0&&(b_.upload(J,fe(Zt),Ir,yt),Te.uniformsNeedUpdate=!1),Te.isSpriteMaterial&&si.setValue(J,"center",Se.center),si.setValue(J,"modelViewMatrix",Se.modelViewMatrix),si.setValue(J,"normalMatrix",Se.normalMatrix),si.setValue(J,"modelMatrix",Se.matrixWorld),Te.isShaderMaterial||Te.isRawShaderMaterial){const yr=Te.uniformsGroups;for(let _r=0,sa=yr.length;_r<sa;_r++){const uo=yr[_r];Me.update(uo,lr),Me.bind(uo,lr)}}return lr}function et(X,me){X.ambientLightColor.needsUpdate=me,X.lightProbe.needsUpdate=me,X.directionalLights.needsUpdate=me,X.directionalLightShadows.needsUpdate=me,X.pointLights.needsUpdate=me,X.pointLightShadows.needsUpdate=me,X.spotLights.needsUpdate=me,X.spotLightShadows.needsUpdate=me,X.rectAreaLights.needsUpdate=me,X.hemisphereLights.needsUpdate=me}function Ue(X){return X.isMeshLambertMaterial||X.isMeshToonMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.isShadowMaterial||X.isShaderMaterial&&X.lights===!0}this.getActiveCubeFace=function(){return F},this.getActiveMipmapLevel=function(){return U},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(X,me,xe){const Te=$e.get(X);Te.__autoAllocateDepthBuffer=X.resolveDepthBuffer===!1,Te.__autoAllocateDepthBuffer===!1&&(Te.__useRenderToTexture=!1),$e.get(X.texture).__webglTexture=me,$e.get(X.depthTexture).__webglTexture=Te.__autoAllocateDepthBuffer?void 0:xe,Te.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(X,me){const xe=$e.get(X);xe.__webglFramebuffer=me,xe.__useDefaultFramebuffer=me===void 0};const Xe=J.createFramebuffer();this.setRenderTarget=function(X,me=0,xe=0){I=X,F=me,U=xe;let Te=!0,Se=null,tt=!1,mt=!1;if(X){const Ot=$e.get(X);if(Ot.__useDefaultFramebuffer!==void 0)Pe.bindFramebuffer(J.FRAMEBUFFER,null),Te=!1;else if(Ot.__webglFramebuffer===void 0)yt.setupRenderTarget(X);else if(Ot.__hasExternalTextures)yt.rebindTextures(X,$e.get(X.texture).__webglTexture,$e.get(X.depthTexture).__webglTexture);else if(X.depthBuffer){const Pt=X.depthTexture;if(Ot.__boundDepthTexture!==Pt){if(Pt!==null&&$e.has(Pt)&&(X.width!==Pt.image.width||X.height!==Pt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");yt.setupDepthRenderbuffer(X)}}const Yt=X.texture;(Yt.isData3DTexture||Yt.isDataArrayTexture||Yt.isCompressedArrayTexture)&&(mt=!0);const Wt=$e.get(X).__webglFramebuffer;X.isWebGLCubeRenderTarget?(Array.isArray(Wt[me])?Se=Wt[me][xe]:Se=Wt[me],tt=!0):X.samples>0&&yt.useMultisampledRTT(X)===!1?Se=$e.get(X).__webglMultisampledFramebuffer:Array.isArray(Wt)?Se=Wt[xe]:Se=Wt,k.copy(X.viewport),G.copy(X.scissor),ee=X.scissorTest}else k.copy(le).multiplyScalar(ie).floor(),G.copy(H).multiplyScalar(ie).floor(),ee=q;if(xe!==0&&(Se=Xe),Pe.bindFramebuffer(J.FRAMEBUFFER,Se)&&Te&&Pe.drawBuffers(X,Se),Pe.viewport(k),Pe.scissor(G),Pe.setScissorTest(ee),tt){const Ot=$e.get(X.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_CUBE_MAP_POSITIVE_X+me,Ot.__webglTexture,xe)}else if(mt){const Ot=$e.get(X.texture),Yt=me;J.framebufferTextureLayer(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,Ot.__webglTexture,xe,Yt)}else if(X!==null&&xe!==0){const Ot=$e.get(X.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,Ot.__webglTexture,xe)}C=-1},this.readRenderTargetPixels=function(X,me,xe,Te,Se,tt,mt,Et=0){if(!(X&&X.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ot=$e.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&mt!==void 0&&(Ot=Ot[mt]),Ot){Pe.bindFramebuffer(J.FRAMEBUFFER,Ot);try{const Yt=X.textures[Et],Wt=Yt.format,Pt=Yt.type;if(!Re.textureFormatReadable(Wt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Re.textureTypeReadable(Pt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}me>=0&&me<=X.width-Te&&xe>=0&&xe<=X.height-Se&&(X.textures.length>1&&J.readBuffer(J.COLOR_ATTACHMENT0+Et),J.readPixels(me,xe,Te,Se,Mt.convert(Wt),Mt.convert(Pt),tt))}finally{const Yt=I!==null?$e.get(I).__webglFramebuffer:null;Pe.bindFramebuffer(J.FRAMEBUFFER,Yt)}}},this.readRenderTargetPixelsAsync=async function(X,me,xe,Te,Se,tt,mt,Et=0){if(!(X&&X.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ot=$e.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&mt!==void 0&&(Ot=Ot[mt]),Ot)if(me>=0&&me<=X.width-Te&&xe>=0&&xe<=X.height-Se){Pe.bindFramebuffer(J.FRAMEBUFFER,Ot);const Yt=X.textures[Et],Wt=Yt.format,Pt=Yt.type;if(!Re.textureFormatReadable(Wt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Re.textureTypeReadable(Pt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const dn=J.createBuffer();J.bindBuffer(J.PIXEL_PACK_BUFFER,dn),J.bufferData(J.PIXEL_PACK_BUFFER,tt.byteLength,J.STREAM_READ),X.textures.length>1&&J.readBuffer(J.COLOR_ATTACHMENT0+Et),J.readPixels(me,xe,Te,Se,Mt.convert(Wt),Mt.convert(Pt),0);const yn=I!==null?$e.get(I).__webglFramebuffer:null;Pe.bindFramebuffer(J.FRAMEBUFFER,yn);const vi=J.fenceSync(J.SYNC_GPU_COMMANDS_COMPLETE,0);return J.flush(),await O5(J,vi,4),J.bindBuffer(J.PIXEL_PACK_BUFFER,dn),J.getBufferSubData(J.PIXEL_PACK_BUFFER,0,tt),J.deleteBuffer(dn),J.deleteSync(vi),tt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(X,me=null,xe=0){const Te=Math.pow(2,-xe),Se=Math.floor(X.image.width*Te),tt=Math.floor(X.image.height*Te),mt=me!==null?me.x:0,Et=me!==null?me.y:0;yt.setTexture2D(X,0),J.copyTexSubImage2D(J.TEXTURE_2D,xe,0,0,mt,Et,Se,tt),Pe.unbindTexture()};const Ye=J.createFramebuffer(),ht=J.createFramebuffer();this.copyTextureToTexture=function(X,me,xe=null,Te=null,Se=0,tt=null){tt===null&&(Se!==0?(Dp("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),tt=Se,Se=0):tt=0);let mt,Et,Ot,Yt,Wt,Pt,dn,yn,vi;const Sn=X.isCompressedTexture?X.mipmaps[tt]:X.image;if(xe!==null)mt=xe.max.x-xe.min.x,Et=xe.max.y-xe.min.y,Ot=xe.isBox3?xe.max.z-xe.min.z:1,Yt=xe.min.x,Wt=xe.min.y,Pt=xe.isBox3?xe.min.z:0;else{const Qi=Math.pow(2,-Se);mt=Math.floor(Sn.width*Qi),Et=Math.floor(Sn.height*Qi),X.isDataArrayTexture?Ot=Sn.depth:X.isData3DTexture?Ot=Math.floor(Sn.depth*Qi):Ot=1,Yt=0,Wt=0,Pt=0}Te!==null?(dn=Te.x,yn=Te.y,vi=Te.z):(dn=0,yn=0,vi=0);const jn=Mt.convert(me.format),Zt=Mt.convert(me.type);let ri;me.isData3DTexture?(yt.setTexture3D(me,0),ri=J.TEXTURE_3D):me.isDataArrayTexture||me.isCompressedArrayTexture?(yt.setTexture2DArray(me,0),ri=J.TEXTURE_2D_ARRAY):(yt.setTexture2D(me,0),ri=J.TEXTURE_2D),J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,me.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,me.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,me.unpackAlignment);const Un=J.getParameter(J.UNPACK_ROW_LENGTH),lr=J.getParameter(J.UNPACK_IMAGE_HEIGHT),lo=J.getParameter(J.UNPACK_SKIP_PIXELS),li=J.getParameter(J.UNPACK_SKIP_ROWS),co=J.getParameter(J.UNPACK_SKIP_IMAGES);J.pixelStorei(J.UNPACK_ROW_LENGTH,Sn.width),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,Sn.height),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Yt),J.pixelStorei(J.UNPACK_SKIP_ROWS,Wt),J.pixelStorei(J.UNPACK_SKIP_IMAGES,Pt);const si=X.isDataArrayTexture||X.isData3DTexture,Ir=me.isDataArrayTexture||me.isData3DTexture;if(X.isDepthTexture){const Qi=$e.get(X),yr=$e.get(me),_r=$e.get(Qi.__renderTarget),sa=$e.get(yr.__renderTarget);Pe.bindFramebuffer(J.READ_FRAMEBUFFER,_r.__webglFramebuffer),Pe.bindFramebuffer(J.DRAW_FRAMEBUFFER,sa.__webglFramebuffer);for(let uo=0;uo<Ot;uo++)si&&(J.framebufferTextureLayer(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,$e.get(X).__webglTexture,Se,Pt+uo),J.framebufferTextureLayer(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,$e.get(me).__webglTexture,tt,vi+uo)),J.blitFramebuffer(Yt,Wt,mt,Et,dn,yn,mt,Et,J.DEPTH_BUFFER_BIT,J.NEAREST);Pe.bindFramebuffer(J.READ_FRAMEBUFFER,null),Pe.bindFramebuffer(J.DRAW_FRAMEBUFFER,null)}else if(Se!==0||X.isRenderTargetTexture||$e.has(X)){const Qi=$e.get(X),yr=$e.get(me);Pe.bindFramebuffer(J.READ_FRAMEBUFFER,Ye),Pe.bindFramebuffer(J.DRAW_FRAMEBUFFER,ht);for(let _r=0;_r<Ot;_r++)si?J.framebufferTextureLayer(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,Qi.__webglTexture,Se,Pt+_r):J.framebufferTexture2D(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,Qi.__webglTexture,Se),Ir?J.framebufferTextureLayer(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,yr.__webglTexture,tt,vi+_r):J.framebufferTexture2D(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,yr.__webglTexture,tt),Se!==0?J.blitFramebuffer(Yt,Wt,mt,Et,dn,yn,mt,Et,J.COLOR_BUFFER_BIT,J.NEAREST):Ir?J.copyTexSubImage3D(ri,tt,dn,yn,vi+_r,Yt,Wt,mt,Et):J.copyTexSubImage2D(ri,tt,dn,yn,Yt,Wt,mt,Et);Pe.bindFramebuffer(J.READ_FRAMEBUFFER,null),Pe.bindFramebuffer(J.DRAW_FRAMEBUFFER,null)}else Ir?X.isDataTexture||X.isData3DTexture?J.texSubImage3D(ri,tt,dn,yn,vi,mt,Et,Ot,jn,Zt,Sn.data):me.isCompressedArrayTexture?J.compressedTexSubImage3D(ri,tt,dn,yn,vi,mt,Et,Ot,jn,Sn.data):J.texSubImage3D(ri,tt,dn,yn,vi,mt,Et,Ot,jn,Zt,Sn):X.isDataTexture?J.texSubImage2D(J.TEXTURE_2D,tt,dn,yn,mt,Et,jn,Zt,Sn.data):X.isCompressedTexture?J.compressedTexSubImage2D(J.TEXTURE_2D,tt,dn,yn,Sn.width,Sn.height,jn,Sn.data):J.texSubImage2D(J.TEXTURE_2D,tt,dn,yn,mt,Et,jn,Zt,Sn);J.pixelStorei(J.UNPACK_ROW_LENGTH,Un),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,lr),J.pixelStorei(J.UNPACK_SKIP_PIXELS,lo),J.pixelStorei(J.UNPACK_SKIP_ROWS,li),J.pixelStorei(J.UNPACK_SKIP_IMAGES,co),tt===0&&me.generateMipmaps&&J.generateMipmap(ri),Pe.unbindTexture()},this.copyTextureToTexture3D=function(X,me,xe=null,Te=null,Se=0){return Dp('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(X,me,xe,Te,Se)},this.initRenderTarget=function(X){$e.get(X).__webglFramebuffer===void 0&&yt.setupRenderTarget(X)},this.initTexture=function(X){X.isCubeTexture?yt.setTextureCube(X,0):X.isData3DTexture?yt.setTexture3D(X,0):X.isDataArrayTexture||X.isCompressedArrayTexture?yt.setTexture2DArray(X,0):yt.setTexture2D(X,0),Pe.unbindTexture()},this.resetState=function(){F=0,U=0,I=null,Pe.reset(),Kt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return zo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Xn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Xn._getUnpackColorSpace()}}const X9=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Eb,AddEquation:Nf,AddOperation:qN,AdditiveAnimationBlendMode:Ob,AdditiveBlending:I_,AgXToneMapping:$N,AlphaFormat:Mb,AlwaysCompare:pD,AlwaysDepth:P_,AlwaysStencilFunc:_A,AmbientLight:lI,AnimationAction:vI,AnimationClip:Vv,AnimationLoader:a8,AnimationMixer:L8,AnimationObjectGroup:D8,AnimationUtils:t8,ArcCurve:ID,ArrayCamera:pI,ArrowHelper:tz,AttachedBindMode:yA,Audio:mI,AudioAnalyser:S8,AudioContext:tM,AudioListener:y8,AudioLoader:g8,AxesHelper:nz,BackSide:ps,BasicDepthPacking:aD,BasicShadowMap:RN,BatchedMesh:RD,Bone:Bb,BooleanKeyframeTrack:zd,Box2:V8,Box3:Ha,Box3Helper:$8,BoxGeometry:kd,BoxHelper:J8,BufferAttribute:Ai,BufferGeometry:Mn,BufferGeometryLoader:dI,ByteType:Tb,Cache:yc,Camera:aS,CameraHelper:Q8,CanvasTexture:A6,CapsuleGeometry:hS,CatmullRomCurve3:LD,CineonToneMapping:QN,CircleGeometry:dS,ClampToEdgeWrapping:ko,Clock:nM,Color:Ut,ColorKeyframeTrack:Jb,ColorManagement:Xn,CompressedArrayTexture:S6,CompressedCubeTexture:T6,CompressedTexture:fS,CompressedTextureLoader:s8,ConeGeometry:gx,ConstantAlphaFactor:WN,ConstantColorFactor:GN,Controls:rz,CubeCamera:ED,CubeReflectionMapping:xu,CubeRefractionMapping:Ff,CubeTexture:px,CubeTextureLoader:o8,CubeUVReflectionMapping:em,CubicBezierCurve:Hb,CubicBezierCurve3:UD,CubicInterpolant:eI,CullFaceBack:gA,CullFaceFront:wN,CullFaceFrontBack:Ck,CullFaceNone:MN,Curve:Nl,CurvePath:PD,CustomBlending:CN,CustomToneMapping:JN,CylinderGeometry:mx,Cylindrical:z8,Data3DTexture:rS,DataArrayTexture:iS,DataTexture:Sc,DataTextureLoader:l8,DataUtils:j5,DecrementStencilOp:Gk,DecrementWrapStencilOp:Wk,DefaultLoadingManager:iI,DepthFormat:zp,DepthStencilFormat:Vp,DepthTexture:zb,DetachedBindMode:tD,DirectionalLight:oI,DirectionalLightHelper:Z8,DiscreteInterpolant:tI,DodecahedronGeometry:pS,DoubleSide:vc,DstAlphaFactor:BN,DstColorFactor:zN,DynamicCopyUsage:s5,DynamicDrawUsage:e5,DynamicReadUsage:i5,EdgesGeometry:DD,EllipseCurve:mS,EqualCompare:uD,EqualDepth:k_,EqualStencilFunc:Kk,EquirectangularReflectionMapping:Mv,EquirectangularRefractionMapping:wv,Euler:so,EventDispatcher:Mc,ExtrudeGeometry:gS,FileLoader:_u,Float16BufferAttribute:e6,Float32BufferAttribute:Gt,FloatType:Us,Fog:oS,FogExp2:sS,FramebufferTexture:E6,FrontSide:vu,Frustum:im,FrustumArray:uS,GLBufferAttribute:k8,GLSL1:l5,GLSL3:EA,GreaterCompare:fD,GreaterDepth:V_,GreaterEqualCompare:dD,GreaterEqualDepth:z_,GreaterEqualStencilFunc:$k,GreaterStencilFunc:Qk,GridHelper:q8,Group:Ap,HalfFloatType:tm,HemisphereLight:rI,HemisphereLightHelper:j8,IcosahedronGeometry:vS,ImageBitmapLoader:m8,ImageLoader:Hv,ImageUtils:vD,IncrementStencilOp:Hk,IncrementWrapStencilOp:Xk,InstancedBufferAttribute:Wp,InstancedBufferGeometry:hI,InstancedInterleavedBuffer:B8,InstancedMesh:wD,Int16BufferAttribute:J5,Int32BufferAttribute:$5,Int8BufferAttribute:K5,IntType:ZE,InterleavedBuffer:lS,InterleavedBufferAttribute:Cd,Interpolant:yx,InterpolateDiscrete:Ov,InterpolateLinear:mE,InterpolateSmooth:T_,InterpolationSamplingMode:f5,InterpolationSamplingType:u5,InvertStencilOp:Yk,KeepStencilOp:od,KeyframeTrack:Yo,LOD:bD,LatheGeometry:xS,Layers:Gp,LessCompare:cD,LessDepth:B_,LessEqualCompare:Nb,LessEqualDepth:Rd,LessEqualStencilFunc:Zk,LessStencilFunc:qk,Light:jf,LightProbe:fI,Line:Bf,Line3:H8,LineBasicMaterial:gs,LineCurve:Gb,LineCurve3:FD,LineDashedMaterial:QD,LineLoop:CD,LineSegments:wc,LinearFilter:Xr,LinearInterpolant:Qb,LinearMipMapLinearFilter:Ik,LinearMipMapNearestFilter:Dk,LinearMipmapLinearFilter:xc,LinearMipmapNearestFilter:iv,LinearSRGBColorSpace:Pf,LinearToneMapping:KN,LinearTransfer:Dv,Loader:zs,LoaderUtils:MA,LoadingManager:$b,LoopOnce:nD,LoopPingPong:rD,LoopRepeat:iD,MOUSE:wk,Material:Wa,MaterialLoader:bS,MathUtils:R5,Matrix2:sM,Matrix3:En,Matrix4:cn,MaxEquation:IN,Mesh:Nr,MeshBasicMaterial:Wf,MeshDepthMaterial:qb,MeshDistanceMaterial:Kb,MeshLambertMaterial:KD,MeshMatcapMaterial:ZD,MeshNormalMaterial:qD,MeshPhongMaterial:YD,MeshPhysicalMaterial:WD,MeshStandardMaterial:jb,MeshToonMaterial:jD,MinEquation:DN,MirroredRepeatWrapping:Cv,MixOperation:jN,MultiplyBlending:xA,MultiplyOperation:hx,NearestFilter:_a,NearestMipMapLinearFilter:Nk,NearestMipMapNearestFilter:Ok,NearestMipmapLinearFilter:Sp,NearestMipmapNearestFilter:Sb,NeutralToneMapping:eD,NeverCompare:lD,NeverDepth:F_,NeverStencilFunc:jk,NoBlending:fu,NoColorSpace:lu,NoToneMapping:Ec,NormalAnimationBlendMode:nS,NormalBlending:yd,NotEqualCompare:hD,NotEqualDepth:H_,NotEqualStencilFunc:Jk,NumberKeyframeTrack:kv,Object3D:Qn,ObjectLoader:d8,ObjectSpaceNormalMap:oD,OctahedronGeometry:vx,OneFactor:UN,OneMinusConstantAlphaFactor:YN,OneMinusConstantColorFactor:XN,OneMinusDstAlphaFactor:kN,OneMinusDstColorFactor:VN,OneMinusSrcAlphaFactor:U_,OneMinusSrcColorFactor:PN,OrthographicCamera:Ex,PCFShadowMap:qE,PCFSoftShadowMap:nv,PMREMGenerator:CA,Path:yE,PerspectiveCamera:ia,Plane:Of,PlaneGeometry:rm,PlaneHelper:ez,PointLight:sI,PointLightHelper:W8,Points:OD,PointsMaterial:kb,PolarGridHelper:K8,PolyhedronGeometry:Yf,PositionalAudio:E8,PropertyBinding:qn,PropertyMixer:gI,QuadraticBezierCurve:Xb,QuadraticBezierCurve3:Wb,Quaternion:Ps,QuaternionKeyframeTrack:_x,QuaternionLinearInterpolant:nI,RED_GREEN_RGTC2_Format:dE,RED_RGTC1_Format:Cb,REVISION:fx,RGBADepthPacking:sD,RGBAFormat:Va,RGBAIntegerFormat:tS,RGBA_ASTC_10x10_Format:oE,RGBA_ASTC_10x5_Format:rE,RGBA_ASTC_10x6_Format:aE,RGBA_ASTC_10x8_Format:sE,RGBA_ASTC_12x10_Format:lE,RGBA_ASTC_12x12_Format:cE,RGBA_ASTC_4x4_Format:Z_,RGBA_ASTC_5x4_Format:Q_,RGBA_ASTC_5x5_Format:J_,RGBA_ASTC_6x5_Format:$_,RGBA_ASTC_6x6_Format:eE,RGBA_ASTC_8x5_Format:tE,RGBA_ASTC_8x6_Format:nE,RGBA_ASTC_8x8_Format:iE,RGBA_BPTC_Format:lv,RGBA_ETC2_EAC_Format:K_,RGBA_PVRTC_2BPPV1_Format:Y_,RGBA_PVRTC_4BPPV1_Format:W_,RGBA_S3TC_DXT1_Format:av,RGBA_S3TC_DXT3_Format:sv,RGBA_S3TC_DXT5_Format:ov,RGBDepthPacking:Bk,RGBFormat:wb,RGBIntegerFormat:Lk,RGB_BPTC_SIGNED_Format:uE,RGB_BPTC_UNSIGNED_Format:fE,RGB_ETC1_Format:j_,RGB_ETC2_Format:q_,RGB_PVRTC_2BPPV1_Format:X_,RGB_PVRTC_4BPPV1_Format:G_,RGB_S3TC_DXT1_Format:rv,RGDepthPacking:kk,RGFormat:Rb,RGIntegerFormat:eS,RawShaderMaterial:XD,Ray:nm,Raycaster:xI,RectAreaLight:cI,RedFormat:$E,RedIntegerFormat:dx,ReinhardToneMapping:ZN,RenderTarget:Ib,RenderTarget3D:U8,RepeatWrapping:Rv,ReplaceStencilOp:Vk,ReverseSubtractEquation:NN,RingGeometry:yS,SIGNED_RED_GREEN_RGTC2_Format:pE,SIGNED_RED_RGTC1_Format:hE,SRGBColorSpace:Pa,SRGBTransfer:pi,Scene:Fb,ShaderChunk:Rn,ShaderLib:Al,ShaderMaterial:Xo,ShadowMaterial:GD,Shape:Ed,ShapeGeometry:_S,ShapePath:iz,ShapeUtils:bl,ShortType:Ab,Skeleton:cS,SkeletonHelper:X8,SkinnedMesh:MD,Source:If,Sphere:Ea,SphereGeometry:xx,Spherical:yI,SphericalHarmonics3:uI,SplineCurve:Yb,SpotLight:aI,SpotLightHelper:G8,Sprite:AD,SpriteMaterial:Pb,SrcAlphaFactor:L_,SrcAlphaSaturateFactor:HN,SrcColorFactor:FN,StaticCopyUsage:a5,StaticDrawUsage:Iv,StaticReadUsage:n5,StereoCamera:v8,StreamCopyUsage:o5,StreamDrawUsage:t5,StreamReadUsage:r5,StringKeyframeTrack:Vd,SubtractEquation:ON,SubtractiveBlending:vA,TOUCH:Rk,TangentSpaceNormalMap:Xf,TetrahedronGeometry:ES,Texture:ar,TextureLoader:c8,TextureUtils:cz,TimestampQuery:c5,TorusGeometry:SS,TorusKnotGeometry:TS,Triangle:Ls,TriangleFanDrawMode:Pk,TriangleStripDrawMode:Fk,TrianglesDrawMode:Uk,TubeGeometry:AS,UVMapping:KE,Uint16BufferAttribute:Lb,Uint32BufferAttribute:Ub,Uint8BufferAttribute:Z5,Uint8ClampedBufferAttribute:Q5,Uniform:aM,UniformsGroup:P8,UniformsLib:Dt,UniformsUtils:_D,UnsignedByteType:Go,UnsignedInt248Type:kp,UnsignedInt5999Type:bb,UnsignedIntType:yu,UnsignedShort4444Type:QE,UnsignedShort5551Type:JE,UnsignedShortType:Bp,VSMShadowMap:Tl,Vector2:ft,Vector3:he,Vector4:Kn,VectorKeyframeTrack:zv,VideoFrameTexture:_6,VideoTexture:ND,WebGL3DRenderTarget:P5,WebGLArrayRenderTarget:F5,WebGLCoordinateSystem:zo,WebGLCubeRenderTarget:SD,WebGLRenderTarget:bc,WebGLRenderer:wI,WebGLUtils:MI,WebGPUCoordinateSystem:Lv,WebXRController:A_,WireframeGeometry:HD,WrapAroundEnding:Nv,ZeroCurvatureEnding:dd,ZeroFactor:LN,ZeroSlopeEnding:pd,ZeroStencilOp:zk,createCanvasElement:gD},Symbol.toStringTag,{value:"Module"}));var _2={exports:{}},su={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c3;function W9(){return c3||(c3=1,su.ConcurrentRoot=1,su.ContinuousEventPriority=8,su.DefaultEventPriority=32,su.DiscreteEventPriority=2,su.IdleEventPriority=268435456,su.LegacyRoot=0,su.NoEventPriority=0),su}var u3;function Y9(){return u3||(u3=1,_2.exports=W9()),_2.exports}var M_=Y9(),E2={exports:{}},S2={},T2={exports:{}},A2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f3;function j9(){if(f3)return A2;f3=1;var n=$p();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,a=n.useLayoutEffect,s=n.useDebugValue;function l(g,v){var y=v(),E=i({inst:{value:y,getSnapshot:v}}),T=E[0].inst,S=E[1];return a(function(){T.value=y,T.getSnapshot=v,u(T)&&S({inst:T})},[g,y,v]),r(function(){return u(T)&&S({inst:T}),g(function(){u(T)&&S({inst:T})})},[g]),s(y),y}function u(g){var v=g.getSnapshot;g=g.value;try{var y=v();return!t(g,y)}catch{return!0}}function h(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:l;return A2.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,A2}var h3;function q9(){return h3||(h3=1,T2.exports=j9()),T2.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3;function K9(){if(d3)return S2;d3=1;var n=$p(),e=q9();function t(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=n.useRef,s=n.useEffect,l=n.useMemo,u=n.useDebugValue;return S2.useSyncExternalStoreWithSelector=function(h,p,g,v,y){var E=a(null);if(E.current===null){var T={hasValue:!1,value:null};E.current=T}else T=E.current;E=l(function(){function A(F){if(!R){if(R=!0,w=F,F=v(F),y!==void 0&&T.hasValue){var U=T.value;if(y(U,F))return D=U}return D=F}if(U=D,i(w,F))return U;var I=v(F);return y!==void 0&&y(U,I)?(w=F,U):(w=F,D=I)}var R=!1,w,D,P=g===void 0?null:g;return[function(){return A(p())},P===null?void 0:function(){return A(P())}]},[p,g,v,y]);var S=r(h,E[0],E[1]);return s(function(){T.hasValue=!0,T.value=S},[S]),u(S),S},S2}var p3;function Z9(){return p3||(p3=1,E2.exports=K9()),E2.exports}var Q9=Z9();const J9=jE(Q9),m3=n=>{let e;const t=new Set,i=(h,p)=>{const g=typeof h=="function"?h(e):h;if(!Object.is(g,e)){const v=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(y=>y(e,v))}},r=()=>e,l={setState:i,getState:r,getInitialState:()=>u,subscribe:h=>(t.add(h),()=>t.delete(h))},u=e=n(i,r,l);return l},$9=n=>n?m3(n):m3,{useSyncExternalStoreWithSelector:eG}=J9,tG=n=>n;function nG(n,e=tG,t){const i=eG(n.subscribe,n.getState,n.getInitialState,e,t);return Fa.useDebugValue(i),i}const g3=(n,e)=>{const t=$9(n),i=(r,a=e)=>nG(t,r,a);return Object.assign(i,t),i},iG=(n,e)=>n?g3(n,e):g3;var b2={exports:{}},M2={exports:{}},w2={exports:{}},R2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v3;function rG(){return v3||(v3=1,function(n){function e(W,K){var ie=W.length;W.push(K);e:for(;0<ie;){var ne=ie-1>>>1,j=W[ne];if(0<r(j,K))W[ne]=K,W[ie]=j,ie=ne;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var K=W[0],ie=W.pop();if(ie!==K){W[0]=ie;e:for(var ne=0,j=W.length,le=j>>>1;ne<le;){var H=2*(ne+1)-1,q=W[H],V=H+1,Q=W[V];if(0>r(q,ie))V<j&&0>r(Q,q)?(W[ne]=Q,W[V]=ie,ne=V):(W[ne]=q,W[H]=ie,ne=H);else if(V<j&&0>r(Q,ie))W[ne]=Q,W[V]=ie,ne=V;else break e}}return K}function r(W,K){var ie=W.sortIndex-K.sortIndex;return ie!==0?ie:W.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var u=[],h=[],p=1,g=null,v=3,y=!1,E=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function w(W){for(var K=t(h);K!==null;){if(K.callback===null)i(h);else if(K.startTime<=W)i(h),K.sortIndex=K.expirationTime,e(u,K);else break;K=t(h)}}function D(W){if(T=!1,w(W),!E)if(t(u)!==null)E=!0,ve();else{var K=t(h);K!==null&&pe(D,K.startTime-W)}}var P=!1,F=-1,U=5,I=-1;function C(){return!(n.unstable_now()-I<U)}function L(){if(P){var W=n.unstable_now();I=W;var K=!0;try{e:{E=!1,T&&(T=!1,A(F),F=-1),y=!0;var ie=v;try{t:{for(w(W),g=t(u);g!==null&&!(g.expirationTime>W&&C());){var ne=g.callback;if(typeof ne=="function"){g.callback=null,v=g.priorityLevel;var j=ne(g.expirationTime<=W);if(W=n.unstable_now(),typeof j=="function"){g.callback=j,w(W),K=!0;break t}g===t(u)&&i(u),w(W)}else i(u);g=t(u)}if(g!==null)K=!0;else{var le=t(h);le!==null&&pe(D,le.startTime-W),K=!1}}break e}finally{g=null,v=ie,y=!1}K=void 0}}finally{K?k():P=!1}}}var k;if(typeof R=="function")k=function(){R(L)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ee=G.port2;G.port1.onmessage=L,k=function(){ee.postMessage(null)}}else k=function(){S(L,0)};function ve(){P||(P=!0,k())}function pe(W,K){F=S(function(){W(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){E||y||(E=!0,ve())},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(W){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var ie=v;v=K;try{return W()}finally{v=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,K){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ie=v;v=W;try{return K()}finally{v=ie}},n.unstable_scheduleCallback=function(W,K,ie){var ne=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ne+ie:ne):ie=ne,W){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ie+j,W={id:p++,callback:K,priorityLevel:W,startTime:ie,expirationTime:j,sortIndex:-1},ie>ne?(W.sortIndex=ie,e(h,W),t(u)===null&&W===t(h)&&(T?(A(F),F=-1):T=!0,pe(D,ie-ne))):(W.sortIndex=j,e(u,W),E||y||(E=!0,ve())),W},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(W){var K=v;return function(){var ie=v;v=K;try{return W.apply(this,arguments)}finally{v=ie}}}}(R2)),R2}var x3;function RI(){return x3||(x3=1,w2.exports=rG()),w2.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y3;function aG(){return y3||(y3=1,function(n){n.exports=function(e){function t(f,d,_,M){return new Wm(f,d,_,M)}function i(){}function r(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)d+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(f){return f===null||typeof f!="object"?null:(f=sl&&f[sl]||f["@@iterator"],typeof f=="function"?f:null)}function s(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===Km?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case jl:return"Fragment";case _s:return"Portal";case v0:return"Profiler";case Mh:return"StrictMode";case x0:return"Suspense";case ju:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case Gs:return(f.displayName||"Context")+".Provider";case jm:return(f._context.displayName||"Context")+".Consumer";case Rh:var d=f.render;return f=f.displayName,f||(f=d.displayName||d.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case y0:return d=f.displayName||null,d!==null?d:s(f.type)||"Memo";case Es:d=f._payload,f=f._init;try{return s(f(d))}catch{}}return null}function l(f){if(go===void 0)try{throw Error()}catch(_){var d=_.stack.trim().match(/\n( *(at )?)/);go=d&&d[1]||"",ol=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+go+f+ol}function u(f,d){if(!f||Uc)return"";Uc=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var M={DetermineComponentFrameRoot:function(){try{if(d){var Nt=function(){throw Error()};if(Object.defineProperty(Nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Nt,[])}catch(mn){var Lt=mn}Reflect.construct(f,[],Nt)}else{try{Nt.call()}catch(mn){Lt=mn}f.call(Nt.prototype)}}else{try{throw Error()}catch(mn){Lt=mn}(Nt=f())&&typeof Nt.catch=="function"&&Nt.catch(function(){})}}catch(mn){if(mn&&Lt&&typeof mn.stack=="string")return[mn.stack,Lt.stack]}return[null,null]}};M.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(M.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(M.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=M.DetermineComponentFrameRoot(),re=B[0],_e=B[1];if(re&&_e){var Fe=re.split(`
`),rt=_e.split(`
`);for(N=M=0;M<Fe.length&&!Fe[M].includes("DetermineComponentFrameRoot");)M++;for(;N<rt.length&&!rt[N].includes("DetermineComponentFrameRoot");)N++;if(M===Fe.length||N===rt.length)for(M=Fe.length-1,N=rt.length-1;1<=M&&0<=N&&Fe[M]!==rt[N];)N--;for(;1<=M&&0<=N;M--,N--)if(Fe[M]!==rt[N]){if(M!==1||N!==1)do if(M--,N--,0>N||Fe[M]!==rt[N]){var Tt=`
`+Fe[M].replace(" at new "," at ");return f.displayName&&Tt.includes("<anonymous>")&&(Tt=Tt.replace("<anonymous>",f.displayName)),Tt}while(1<=M&&0<=N);break}}}finally{Uc=!1,Error.prepareStackTrace=_}return(_=f?f.displayName||f.name:"")?l(_):""}function h(f){switch(f.tag){case 26:case 27:case 5:return l(f.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return f=u(f.type,!1),f;case 11:return f=u(f.type.render,!1),f;case 1:return f=u(f.type,!0),f;default:return""}}function p(f){try{var d="";do d+=h(f),f=f.return;while(f);return d}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}function g(f){var d=f,_=f;if(f.alternate)for(;d.return;)d=d.return;else{f=d;do d=f,(d.flags&4098)!==0&&(_=d.return),f=d.return;while(f)}return d.tag===3?_:null}function v(f){if(g(f)!==f)throw Error(r(188))}function y(f){var d=f.alternate;if(!d){if(d=g(f),d===null)throw Error(r(188));return d!==f?null:f}for(var _=f,M=d;;){var N=_.return;if(N===null)break;var B=N.alternate;if(B===null){if(M=N.return,M!==null){_=M;continue}break}if(N.child===B.child){for(B=N.child;B;){if(B===_)return v(N),f;if(B===M)return v(N),d;B=B.sibling}throw Error(r(188))}if(_.return!==M.return)_=N,M=B;else{for(var re=!1,_e=N.child;_e;){if(_e===_){re=!0,_=N,M=B;break}if(_e===M){re=!0,M=N,_=B;break}_e=_e.sibling}if(!re){for(_e=B.child;_e;){if(_e===_){re=!0,_=B,M=N;break}if(_e===M){re=!0,M=B,_=N;break}_e=_e.sibling}if(!re)throw Error(r(189))}}if(_.alternate!==M)throw Error(r(190))}if(_.tag!==3)throw Error(r(188));return _.stateNode.current===_?f:d}function E(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(d=E(f),d!==null)return d;f=f.sibling}return null}function T(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(d=T(f),d!==null))return d;f=f.sibling}return null}function S(f){return{current:f}}function A(f){0>fl||(f.current=Xi[fl],Xi[fl]=null,fl--)}function R(f,d){fl++,Xi[fl]=f.current,f.current=d}function w(f){return f>>>=0,f===0?32:31-(z1(f)/V1|0)|0}function D(f){var d=f&42;if(d!==0)return d;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function P(f,d){var _=f.pendingLanes;if(_===0)return 0;var M=0,N=f.suspendedLanes,B=f.pingedLanes,re=f.warmLanes;f=f.finishedLanes!==0;var _e=_&134217727;return _e!==0?(_=_e&~N,_!==0?M=D(_):(B&=_e,B!==0?M=D(B):f||(re=_e&~re,re!==0&&(M=D(re))))):(_e=_&~N,_e!==0?M=D(_e):B!==0?M=D(B):f||(re=_&~re,re!==0&&(M=D(re)))),M===0?0:d!==0&&d!==M&&(d&N)===0&&(N=M&-M,re=d&-d,N>=re||N===32&&(re&4194176)!==0)?d:M}function F(f,d){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&d)===0}function U(f,d){switch(f){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I(){var f=xo;return xo<<=1,(xo&4194176)===0&&(xo=128),f}function C(){var f=Bc;return Bc<<=1,(Bc&62914560)===0&&(Bc=4194304),f}function L(f){for(var d=[],_=0;31>_;_++)d.push(f);return d}function k(f,d){f.pendingLanes|=d,d!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function G(f,d,_,M,N,B){var re=f.pendingLanes;f.pendingLanes=_,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=_,f.entangledLanes&=_,f.errorRecoveryDisabledLanes&=_,f.shellSuspendCounter=0;var _e=f.entanglements,Fe=f.expirationTimes,rt=f.hiddenUpdates;for(_=re&~_;0<_;){var Tt=31-ha(_),Nt=1<<Tt;_e[Tt]=0,Fe[Tt]=-1;var Lt=rt[Tt];if(Lt!==null)for(rt[Tt]=null,Tt=0;Tt<Lt.length;Tt++){var mn=Lt[Tt];mn!==null&&(mn.lane&=-536870913)}_&=~Nt}M!==0&&ee(f,M,0),B!==0&&N===0&&f.tag!==0&&(f.suspendedLanes|=B&~(re&~d))}function ee(f,d,_){f.pendingLanes|=d,f.suspendedLanes&=~d;var M=31-ha(d);f.entangledLanes|=d,f.entanglements[M]=f.entanglements[M]|1073741824|_&4194218}function ve(f,d){var _=f.entangledLanes|=d;for(f=f.entanglements;_;){var M=31-ha(_),N=1<<M;N&d|f[M]&d&&(f[M]|=d),_&=~N}}function pe(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function W(f){if(Ra&&typeof Ra.onCommitFiberRoot=="function")try{Ra.onCommitFiberRoot(Wi,f,void 0,(f.current.flags&128)===128)}catch{}}function K(f){if(typeof X1=="function"&&Tr(f),Ra&&typeof Ra.setStrictMode=="function")try{Ra.setStrictMode(Wi,f)}catch{}}function ie(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}function ne(f,d){if(typeof f=="object"&&f!==null){var _=pg.get(f);return _!==void 0?_:(d={value:f,source:d,stack:p(d)},pg.set(f,d),d)}return{value:f,source:d,stack:p(d)}}function j(f,d){kc[zc++]=nf,kc[zc++]=Vc,Vc=f,nf=d}function le(f,d,_){Qa[Ja++]=Ys,Qa[Ja++]=js,Qa[Ja++]=ec,ec=f;var M=Ys;f=js;var N=32-ha(M)-1;M&=~(1<<N),_+=1;var B=32-ha(d)+N;if(30<B){var re=N-N%5;B=(M&(1<<re)-1).toString(32),M>>=re,N-=re,Ys=1<<32-ha(d)+N|_<<N|M,js=B+f}else Ys=1<<B|_<<N|M,js=f}function H(f){f.return!==null&&(j(f,1),le(f,1,0))}function q(f){for(;f===Vc;)Vc=kc[--zc],kc[zc]=null,nf=kc[--zc],kc[zc]=null;for(;f===ec;)ec=Qa[--Ja],Qa[Ja]=null,js=Qa[--Ja],Qa[Ja]=null,Ys=Qa[--Ja],Qa[Ja]=null}function V(f,d){R(yo,d),R(rf,f),R(ur,null),f=a1(d),A(ur),R(ur,f)}function Q(){A(ur),A(rf),A(yo)}function ge(f){f.memoizedState!==null&&R(Hc,f);var d=ur.current,_=Qu(d,f.type);d!==_&&(R(rf,f),R(ur,_))}function Ae(f){rf.current===f&&(A(ur),A(rf)),Hc.current===f&&(A(Hc),ua?Xs._currentValue=Kl:Xs._currentValue2=Kl)}function Ee(f){var d=Error(r(418,""));throw vt(ne(d,f)),Ph}function Ce(f,d){if(!kr)throw Error(r(175));O1(f.stateNode,f.type,f.memoizedProps,d,f)||Ee(f)}function Ne(f){for(zr=f.return;zr;)switch(zr.tag){case 3:case 27:Ar=!0;return;case 5:case 13:Ar=!1;return;default:zr=zr.return}}function st(f){if(!kr||f!==zr)return!1;if(!Vn)return Ne(f),Vn=!0,!1;var d=!1;if(ci?f.tag!==3&&f.tag!==27&&(f.tag!==5||R0(f.type)&&!vn(f.type,f.memoizedProps))&&(d=!0):f.tag!==3&&(f.tag!==5||R0(f.type)&&!vn(f.type,f.memoizedProps))&&(d=!0),d&&Vr&&Ee(f),Ne(f),f.tag===13){if(!kr)throw Error(r(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));Vr=D1(f)}else Vr=zr?ug(f.stateNode):null;return!0}function se(){kr&&(Vr=zr=null,Vn=!1)}function vt(f){As===null?As=[f]:As.push(f)}function J(){for(var f=Gc,d=qs=Gc=0;d<f;){var _=bs[d];bs[d++]=null;var M=bs[d];bs[d++]=null;var N=bs[d];bs[d++]=null;var B=bs[d];if(bs[d++]=null,M!==null&&N!==null){var re=M.pending;re===null?N.next=N:(N.next=re.next,re.next=N),M.pending=N}B!==0&&Pe(_,N,B)}}function Ze(f,d,_,M){bs[Gc++]=f,bs[Gc++]=d,bs[Gc++]=_,bs[Gc++]=M,qs|=M,f.lanes|=M,f=f.alternate,f!==null&&(f.lanes|=M)}function Ie(f,d,_,M){return Ze(f,d,_,M),ut(f)}function Re(f,d){return Ze(f,null,null,d),ut(f)}function Pe(f,d,_){f.lanes|=_;var M=f.alternate;M!==null&&(M.lanes|=_);for(var N=!1,B=f.return;B!==null;)B.childLanes|=_,M=B.alternate,M!==null&&(M.childLanes|=_),B.tag===22&&(f=B.stateNode,f===null||f._visibility&1||(N=!0)),f=B,B=B.return;N&&d!==null&&f.tag===3&&(B=f.stateNode,N=31-ha(_),B=B.hiddenUpdates,f=B[N],f===null?B[N]=[d]:f.push(d),d.lane=_|536870912)}function ut(f){if(50<df)throw df=0,G0=null,Error(r(185));for(var d=f.return;d!==null;)f=d,d=f.return;return f.tag===3?f.stateNode:null}function $e(f){f!==hl&&f.next===null&&(hl===null?Bh=hl=f:hl=hl.next=f),xi=!0,Xc||(Xc=!0,ze(kt))}function yt(f,d){if(!mg&&xi){mg=!0;do for(var _=!1,M=Bh;M!==null;){if(f!==0){var N=M.pendingLanes;if(N===0)var B=0;else{var re=M.suspendedLanes,_e=M.pingedLanes;B=(1<<31-ha(42|f)+1)-1,B&=N&~(re&~_e),B=B&201326677?B&201326677|1:B?B|2:0}B!==0&&(_=!0,Oe(M,B))}else B=Fn,B=P(M,M===ti?B:0),(B&3)===0||F(M,B)||(_=!0,Oe(M,B));M=M.next}while(_);mg=!1}}function kt(){xi=Xc=!1;var f=0;af!==0&&(c1()&&(f=af),af=0);for(var d=Ts(),_=null,M=Bh;M!==null;){var N=M.next,B=ce(M,d);B===0?(M.next=null,_===null?Bh=N:_.next=N,N===null&&(hl=_)):(_=M,(f!==0||(B&3)!==0)&&(xi=!0)),M=N}yt(f)}function ce(f,d){for(var _=f.suspendedLanes,M=f.pingedLanes,N=f.expirationTimes,B=f.pendingLanes&-62914561;0<B;){var re=31-ha(B),_e=1<<re,Fe=N[re];Fe===-1?((_e&_)===0||(_e&M)!==0)&&(N[re]=U(_e,d)):Fe<=d&&(f.expiredLanes|=_e),B&=~_e}if(d=ti,_=Fn,_=P(f,f===d?_:0),M=f.callbackNode,_===0||f===d&&oi===2||f.cancelPendingCommit!==null)return M!==null&&M!==null&&D0(M),f.callbackNode=null,f.callbackPriority=0;if((_&3)===0||F(f,_)){if(d=_&-_,d===f.callbackPriority)return d;switch(M!==null&&D0(M),pe(_)){case 2:case 8:_=G1;break;case 32:_=U0;break;case 268435456:_=eT;break;default:_=U0}return M=Y.bind(null,f),_=Fh(_,M),f.callbackPriority=d,f.callbackNode=_,d}return M!==null&&M!==null&&D0(M),f.callbackPriority=2,f.callbackNode=null,2}function Y(f,d){var _=f.callbackNode;if(Hs()&&f.callbackNode!==_)return null;var M=Fn;return M=P(f,f===ti?M:0),M===0?null:(Hl(f,M,d),ce(f,Ts()),f.callbackNode!=null&&f.callbackNode===_?Y.bind(null,f):null)}function Oe(f,d){if(Hs())return null;Hl(f,d,!0)}function ze(f){eg?ul(function(){(Gn&6)!==0?Fh(L0,f):f()}):Fh(L0,f)}function Qe(){return af===0&&(af=I()),af}function He(f,d){if(sf===null){var _=sf=[];Wc=0,$a=Qe(),Yc={status:"pending",value:void 0,then:function(M){_.push(M)}}}return Wc++,d.then(St,St),d}function St(){if(--Wc===0&&sf!==null){Yc!==null&&(Yc.status="fulfilled");var f=sf;sf=null,$a=0,Yc=null;for(var d=0;d<f.length;d++)(0,f[d])()}}function it(f,d){var _=[],M={status:"pending",value:null,reason:null,then:function(N){_.push(N)}};return f.then(function(){M.status="fulfilled",M.value=d;for(var N=0;N<_.length;N++)(0,_[N])(d)},function(N){for(M.status="rejected",M.reason=N,N=0;N<_.length;N++)(0,_[N])(void 0)}),M}function xt(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bt(f,d){f=f.updateQueue,d.updateQueue===f&&(d.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Je(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function At(f,d,_){var M=f.updateQueue;if(M===null)return null;if(M=M.shared,(Gn&2)!==0){var N=M.pending;return N===null?d.next=d:(d.next=N.next,N.next=d),M.pending=d,d=ut(f),Pe(f,null,_),d}return Ze(f,M,d,_),ut(f)}function Bt(f,d,_){if(d=d.updateQueue,d!==null&&(d=d.shared,(_&4194176)!==0)){var M=d.lanes;M&=f.pendingLanes,_|=M,d.lanes=_,ve(f,_)}}function Xt(f,d){var _=f.updateQueue,M=f.alternate;if(M!==null&&(M=M.updateQueue,_===M)){var N=null,B=null;if(_=_.firstBaseUpdate,_!==null){do{var re={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};B===null?N=B=re:B=B.next=re,_=_.next}while(_!==null);B===null?N=B=d:B=B.next=d}else N=B=d;_={baseState:M.baseState,firstBaseUpdate:N,lastBaseUpdate:B,shared:M.shared,callbacks:M.callbacks},f.updateQueue=_;return}f=_.lastBaseUpdate,f===null?_.firstBaseUpdate=d:f.next=d,_.lastBaseUpdate=d}function Mt(){if(jc){var f=Yc;if(f!==null)throw f}}function Kt(f,d,_,M){jc=!1;var N=f.updateQueue;dl=!1;var B=N.firstBaseUpdate,re=N.lastBaseUpdate,_e=N.shared.pending;if(_e!==null){N.shared.pending=null;var Fe=_e,rt=Fe.next;Fe.next=null,re===null?B=rt:re.next=rt,re=Fe;var Tt=f.alternate;Tt!==null&&(Tt=Tt.updateQueue,_e=Tt.lastBaseUpdate,_e!==re&&(_e===null?Tt.firstBaseUpdate=rt:_e.next=rt,Tt.lastBaseUpdate=Fe))}if(B!==null){var Nt=N.baseState;re=0,Tt=rt=Fe=null,_e=B;do{var Lt=_e.lane&-536870913,mn=Lt!==_e.lane;if(mn?(Fn&Lt)===Lt:(M&Lt)===Lt){Lt!==0&&Lt===$a&&(jc=!0),Tt!==null&&(Tt=Tt.next={lane:0,tag:_e.tag,payload:_e.payload,callback:null,next:null});e:{var os=f,cc=_e;Lt=d;var uc=_;switch(cc.tag){case 1:if(os=cc.payload,typeof os=="function"){Nt=os.call(uc,Nt,Lt);break e}Nt=os;break e;case 3:os.flags=os.flags&-65537|128;case 0:if(os=cc.payload,Lt=typeof os=="function"?os.call(uc,Nt,Lt):os,Lt==null)break e;Nt=g0({},Nt,Lt);break e;case 2:dl=!0}}Lt=_e.callback,Lt!==null&&(f.flags|=64,mn&&(f.flags|=8192),mn=N.callbacks,mn===null?N.callbacks=[Lt]:mn.push(Lt))}else mn={lane:Lt,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},Tt===null?(rt=Tt=mn,Fe=Nt):Tt=Tt.next=mn,re|=Lt;if(_e=_e.next,_e===null){if(_e=N.shared.pending,_e===null)break;mn=_e,_e=mn.next,mn.next=null,N.lastBaseUpdate=mn,N.shared.pending=null}}while(!0);Tt===null&&(Fe=Nt),N.baseState=Fe,N.firstBaseUpdate=rt,N.lastBaseUpdate=Tt,B===null&&(N.shared.lanes=0),as|=re,f.lanes=re,f.memoizedState=Nt}}function Me(f,d){if(typeof f!="function")throw Error(r(191,f));f.call(d)}function Ct(f,d){var _=f.callbacks;if(_!==null)for(f.callbacks=null,f=0;f<_.length;f++)Me(_[f],d)}function pt(f,d){if(Ca(f,d))return!0;if(typeof f!="object"||f===null||typeof d!="object"||d===null)return!1;var _=Object.keys(f),M=Object.keys(d);if(_.length!==M.length)return!1;for(M=0;M<_.length;M++){var N=_[M];if(!_o.call(d,N)||!Ca(f[N],d[N]))return!1}return!0}function It(f){return f=f.status,f==="fulfilled"||f==="rejected"}function gt(){}function lt(f,d,_){switch(_=f[_],_===void 0?f.push(d):_!==d&&(d.then(gt,gt),d=_),d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,f===of?Error(r(483)):f;default:if(typeof d.status=="string")d.then(gt,gt);else{if(f=ti,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=d,f.status="pending",f.then(function(M){if(d.status==="pending"){var N=d;N.status="fulfilled",N.value=M}},function(M){if(d.status==="pending"){var N=d;N.status="rejected",N.reason=M}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,f===of?Error(r(483)):f}throw tc=d,of}}function Ft(){if(tc===null)throw Error(r(459));var f=tc;return tc=null,f}function $t(f){var d=ic;return ic+=1,nc===null&&(nc=[]),lt(nc,f,d)}function kn(f,d){d=d.props.ref,f.ref=d!==void 0?d:null}function Nn(f,d){throw d.$$typeof===jS?Error(r(525)):(f=Object.prototype.toString.call(d),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":f)))}function qr(f){var d=f._init;return d(f._payload)}function Vi(f){function d(We,be){if(f){var Ke=We.deletions;Ke===null?(We.deletions=[be],We.flags|=16):Ke.push(be)}}function _(We,be){if(!f)return null;for(;be!==null;)d(We,be),be=be.sibling;return null}function M(We){for(var be=new Map;We!==null;)We.key!==null?be.set(We.key,We):be.set(We.index,We),We=We.sibling;return be}function N(We,be){return We=ys(We,be),We.index=0,We.sibling=null,We}function B(We,be,Ke){return We.index=Ke,f?(Ke=We.alternate,Ke!==null?(Ke=Ke.index,Ke<be?(We.flags|=33554434,be):Ke):(We.flags|=33554434,be)):(We.flags|=1048576,be)}function re(We){return f&&We.alternate===null&&(We.flags|=33554434),We}function _e(We,be,Ke,_t){return be===null||be.tag!==6?(be=p0(Ke,We.mode,_t),be.return=We,be):(be=N(be,Ke),be.return=We,be)}function Fe(We,be,Ke,_t){var jt=Ke.type;return jt===jl?Tt(We,be,Ke.props.children,_t,Ke.key):be!==null&&(be.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===Es&&qr(jt)===be.type)?(be=N(be,Ke.props),kn(be,Ke),be.return=We,be):(be=mo(Ke.type,Ke.key,Ke.props,null,We.mode,_t),kn(be,Ke),be.return=We,be)}function rt(We,be,Ke,_t){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ke.containerInfo||be.stateNode.implementation!==Ke.implementation?(be=Ym(Ke,We.mode,_t),be.return=We,be):(be=N(be,Ke.children||[]),be.return=We,be)}function Tt(We,be,Ke,_t,jt){return be===null||be.tag!==7?(be=Fi(Ke,We.mode,_t,jt),be.return=We,be):(be=N(be,Ke),be.return=We,be)}function Nt(We,be,Ke){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=p0(""+be,We.mode,Ke),be.return=We,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case bh:return Ke=mo(be.type,be.key,be.props,null,We.mode,Ke),kn(Ke,be),Ke.return=We,Ke;case _s:return be=Ym(be,We.mode,Ke),be.return=We,be;case Es:var _t=be._init;return be=_t(be._payload),Nt(We,be,Ke)}if(qu(be)||a(be))return be=Fi(be,We.mode,Ke,null),be.return=We,be;if(typeof be.then=="function")return Nt(We,$t(be),Ke);if(be.$$typeof===Gs)return Nt(We,uh(We,be),Ke);Nn(We,be)}return null}function Lt(We,be,Ke,_t){var jt=be!==null?be.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return jt!==null?null:_e(We,be,""+Ke,_t);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case bh:return Ke.key===jt?Fe(We,be,Ke,_t):null;case _s:return Ke.key===jt?rt(We,be,Ke,_t):null;case Es:return jt=Ke._init,Ke=jt(Ke._payload),Lt(We,be,Ke,_t)}if(qu(Ke)||a(Ke))return jt!==null?null:Tt(We,be,Ke,_t,null);if(typeof Ke.then=="function")return Lt(We,be,$t(Ke),_t);if(Ke.$$typeof===Gs)return Lt(We,be,uh(We,Ke),_t);Nn(We,Ke)}return null}function mn(We,be,Ke,_t,jt){if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return We=We.get(Ke)||null,_e(be,We,""+_t,jt);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case bh:return We=We.get(_t.key===null?Ke:_t.key)||null,Fe(be,We,_t,jt);case _s:return We=We.get(_t.key===null?Ke:_t.key)||null,rt(be,We,_t,jt);case Es:var Mi=_t._init;return _t=Mi(_t._payload),mn(We,be,Ke,_t,jt)}if(qu(_t)||a(_t))return We=We.get(Ke)||null,Tt(be,We,_t,jt,null);if(typeof _t.then=="function")return mn(We,be,Ke,$t(_t),jt);if(_t.$$typeof===Gs)return mn(We,be,Ke,uh(be,_t),jt);Nn(be,_t)}return null}function os(We,be,Ke,_t){for(var jt=null,Mi=null,on=be,Yn=be=0,Yi=null;on!==null&&Yn<Ke.length;Yn++){on.index>Yn?(Yi=on,on=null):Yi=on.sibling;var Dn=Lt(We,on,Ke[Yn],_t);if(Dn===null){on===null&&(on=Yi);break}f&&on&&Dn.alternate===null&&d(We,on),be=B(Dn,be,Yn),Mi===null?jt=Dn:Mi.sibling=Dn,Mi=Dn,on=Yi}if(Yn===Ke.length)return _(We,on),Vn&&j(We,Yn),jt;if(on===null){for(;Yn<Ke.length;Yn++)on=Nt(We,Ke[Yn],_t),on!==null&&(be=B(on,be,Yn),Mi===null?jt=on:Mi.sibling=on,Mi=on);return Vn&&j(We,Yn),jt}for(on=M(on);Yn<Ke.length;Yn++)Yi=mn(on,We,Yn,Ke[Yn],_t),Yi!==null&&(f&&Yi.alternate!==null&&on.delete(Yi.key===null?Yn:Yi.key),be=B(Yi,be,Yn),Mi===null?jt=Yi:Mi.sibling=Yi,Mi=Yi);return f&&on.forEach(function(Ro){return d(We,Ro)}),Vn&&j(We,Yn),jt}function cc(We,be,Ke,_t){if(Ke==null)throw Error(r(151));for(var jt=null,Mi=null,on=be,Yn=be=0,Yi=null,Dn=Ke.next();on!==null&&!Dn.done;Yn++,Dn=Ke.next()){on.index>Yn?(Yi=on,on=null):Yi=on.sibling;var Ro=Lt(We,on,Dn.value,_t);if(Ro===null){on===null&&(on=Yi);break}f&&on&&Ro.alternate===null&&d(We,on),be=B(Ro,be,Yn),Mi===null?jt=Ro:Mi.sibling=Ro,Mi=Ro,on=Yi}if(Dn.done)return _(We,on),Vn&&j(We,Yn),jt;if(on===null){for(;!Dn.done;Yn++,Dn=Ke.next())Dn=Nt(We,Dn.value,_t),Dn!==null&&(be=B(Dn,be,Yn),Mi===null?jt=Dn:Mi.sibling=Dn,Mi=Dn);return Vn&&j(We,Yn),jt}for(on=M(on);!Dn.done;Yn++,Dn=Ke.next())Dn=mn(on,We,Yn,Dn.value,_t),Dn!==null&&(f&&Dn.alternate!==null&&on.delete(Dn.key===null?Yn:Dn.key),be=B(Dn,be,Yn),Mi===null?jt=Dn:Mi.sibling=Dn,Mi=Dn);return f&&on.forEach(function(X0){return d(We,X0)}),Vn&&j(We,Yn),jt}function uc(We,be,Ke,_t){if(typeof Ke=="object"&&Ke!==null&&Ke.type===jl&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case bh:e:{for(var jt=Ke.key;be!==null;){if(be.key===jt){if(jt=Ke.type,jt===jl){if(be.tag===7){_(We,be.sibling),_t=N(be,Ke.props.children),_t.return=We,We=_t;break e}}else if(be.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===Es&&qr(jt)===be.type){_(We,be.sibling),_t=N(be,Ke.props),kn(_t,Ke),_t.return=We,We=_t;break e}_(We,be);break}else d(We,be);be=be.sibling}Ke.type===jl?(_t=Fi(Ke.props.children,We.mode,_t,Ke.key),_t.return=We,We=_t):(_t=mo(Ke.type,Ke.key,Ke.props,null,We.mode,_t),kn(_t,Ke),_t.return=We,We=_t)}return re(We);case _s:e:{for(jt=Ke.key;be!==null;){if(be.key===jt)if(be.tag===4&&be.stateNode.containerInfo===Ke.containerInfo&&be.stateNode.implementation===Ke.implementation){_(We,be.sibling),_t=N(be,Ke.children||[]),_t.return=We,We=_t;break e}else{_(We,be);break}else d(We,be);be=be.sibling}_t=Ym(Ke,We.mode,_t),_t.return=We,We=_t}return re(We);case Es:return jt=Ke._init,Ke=jt(Ke._payload),uc(We,be,Ke,_t)}if(qu(Ke))return os(We,be,Ke,_t);if(a(Ke)){if(jt=a(Ke),typeof jt!="function")throw Error(r(150));return Ke=jt.call(Ke),cc(We,be,Ke,_t)}if(typeof Ke.then=="function")return uc(We,be,$t(Ke),_t);if(Ke.$$typeof===Gs)return uc(We,be,uh(We,Ke),_t);Nn(We,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint"?(Ke=""+Ke,be!==null&&be.tag===6?(_(We,be.sibling),_t=N(be,Ke),_t.return=We,We=_t):(_(We,be),_t=p0(Ke,We.mode,_t),_t.return=We,We=_t),re(We)):_(We,be)}return function(We,be,Ke,_t){try{ic=0;var jt=uc(We,be,Ke,_t);return nc=null,jt}catch(on){if(on===of)throw on;var Mi=t(29,on,null,We.mode);return Mi.lanes=_t,Mi.return=We,Mi}finally{}}}function Ui(f,d){f=$r,R(lf,f),R(yi,d),$r=f|d.baseLanes}function Ri(){R(lf,$r),R(yi,yi.current)}function xr(){$r=lf.current,A(yi),A(lf)}function Kr(f){var d=f.alternate;R(fr,fr.current&1),R(es,f),ui===null&&(d===null||yi.current!==null||d.memoizedState!==null)&&(ui=f)}function Oc(f){if(f.tag===22){if(R(fr,fr.current),R(es,f),ui===null){var d=f.alternate;d!==null&&d.memoizedState!==null&&(ui=f)}}else Z()}function Z(){R(fr,fr.current),R(es,es.current)}function ue(f){A(es),ui===f&&(ui=null),A(fr)}function oe(f){for(var d=f;d!==null;){if(d.tag===13){var _=d.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||b0(_)||M0(_)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function ae(){throw Error(r(321))}function fe(f,d){if(d===null)return!1;for(var _=0;_<d.length&&_<f.length;_++)if(!Ca(f[_],d[_]))return!1;return!0}function de(f,d,_,M,N,B){return pl=B,Tn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,sn.H=f===null||f.memoizedState===null?sc:da,ac=!1,B=_(M,N),ac=!1,qc&&(B=et(d,_,M,N)),Ve(f),B}function Ve(f){sn.H=Pi;var d=en!==null&&en.next!==null;if(pl=0,Hn=en=Tn=null,Ms=!1,Kc=0,br=null,d)throw Error(r(300));f===null||fi||(f=f.dependencies,f!==null&&ch(f)&&(fi=!0))}function et(f,d,_,M){Tn=f;var N=0;do{if(qc&&(br=null),Kc=0,qc=!1,25<=N)throw Error(r(301));if(N+=1,Hn=en=null,f.updateQueue!=null){var B=f.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}sn.H=ts,B=d(_,M)}while(qc);return B}function Ue(){var f=sn.H,d=f.useState()[0];return d=typeof d.then=="function"?xe(d):d,f=f.useState()[0],(en!==null?en.memoizedState:null)!==f&&(Tn.flags|=1024),d}function Xe(){var f=F0!==0;return F0=0,f}function Ye(f,d,_){d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~_}function ht(f){if(Ms){for(f=f.memoizedState;f!==null;){var d=f.queue;d!==null&&(d.pending=null),f=f.next}Ms=!1}pl=0,Hn=en=Tn=null,qc=!1,Kc=F0=0,br=null}function X(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Tn.memoizedState=Hn=f:Hn=Hn.next=f,Hn}function me(){if(en===null){var f=Tn.alternate;f=f!==null?f.memoizedState:null}else f=en.next;var d=Hn===null?Tn.memoizedState:Hn.next;if(d!==null)Hn=d,en=f;else{if(f===null)throw Tn.alternate===null?Error(r(467)):Error(r(310));en=f,f={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},Hn===null?Tn.memoizedState=Hn=f:Hn=Hn.next=f}return Hn}function xe(f){var d=Kc;return Kc+=1,br===null&&(br=[]),f=lt(br,f,d),d=Tn,(Hn===null?d.memoizedState:Hn.next)===null&&(d=d.alternate,sn.H=d===null||d.memoizedState===null?sc:da),f}function Te(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return xe(f);if(f.$$typeof===Gs)return Ur(f)}throw Error(r(438,String(f)))}function Se(f){var d=null,_=Tn.updateQueue;if(_!==null&&(d=_.memoCache),d==null){var M=Tn.alternate;M!==null&&(M=M.updateQueue,M!==null&&(M=M.memoCache,M!=null&&(d={data:M.data.map(function(N){return N.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),_===null&&(_=P0(),Tn.updateQueue=_),_.memoCache=d,_=d.data[d.index],_===void 0)for(_=d.data[d.index]=Array(f),M=0;M<f;M++)_[M]=r1;return d.index++,_}function tt(f,d){return typeof d=="function"?d(f):d}function mt(f){var d=me();return Et(d,en,f)}function Et(f,d,_){var M=f.queue;if(M===null)throw Error(r(311));M.lastRenderedReducer=_;var N=f.baseQueue,B=M.pending;if(B!==null){if(N!==null){var re=N.next;N.next=B.next,B.next=re}d.baseQueue=N=B,M.pending=null}if(B=f.baseState,N===null)f.memoizedState=B;else{d=N.next;var _e=re=null,Fe=null,rt=d,Tt=!1;do{var Nt=rt.lane&-536870913;if(Nt!==rt.lane?(Fn&Nt)===Nt:(pl&Nt)===Nt){var Lt=rt.revertLane;if(Lt===0)Fe!==null&&(Fe=Fe.next={lane:0,revertLane:0,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),Nt===$a&&(Tt=!0);else if((pl&Lt)===Lt){rt=rt.next,Lt===$a&&(Tt=!0);continue}else Nt={lane:0,revertLane:rt.revertLane,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},Fe===null?(_e=Fe=Nt,re=B):Fe=Fe.next=Nt,Tn.lanes|=Lt,as|=Lt;Nt=rt.action,ac&&_(B,Nt),B=rt.hasEagerState?rt.eagerState:_(B,Nt)}else Lt={lane:Nt,revertLane:rt.revertLane,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},Fe===null?(_e=Fe=Lt,re=B):Fe=Fe.next=Lt,Tn.lanes|=Nt,as|=Nt;rt=rt.next}while(rt!==null&&rt!==d);if(Fe===null?re=B:Fe.next=_e,!Ca(B,f.memoizedState)&&(fi=!0,Tt&&(_=Yc,_!==null)))throw _;f.memoizedState=B,f.baseState=re,f.baseQueue=Fe,M.lastRenderedState=B}return N===null&&(M.lanes=0),[f.memoizedState,M.dispatch]}function Ot(f){var d=me(),_=d.queue;if(_===null)throw Error(r(311));_.lastRenderedReducer=f;var M=_.dispatch,N=_.pending,B=d.memoizedState;if(N!==null){_.pending=null;var re=N=N.next;do B=f(B,re.action),re=re.next;while(re!==N);Ca(B,d.memoizedState)||(fi=!0),d.memoizedState=B,d.baseQueue===null&&(d.baseState=B),_.lastRenderedState=B}return[B,M]}function Yt(f,d,_){var M=Tn,N=me(),B=Vn;if(B){if(_===void 0)throw Error(r(407));_=_()}else _=d();var re=!Ca((en||N).memoizedState,_);if(re&&(N.memoizedState=_,fi=!0),N=N.queue,vm(dn.bind(null,M,N,f),[f]),N.getSnapshot!==d||re||Hn!==null&&Hn.memoizedState.tag&1){if(M.flags|=2048,sa(9,Pt.bind(null,M,N,_,d),{destroy:void 0},null),ti===null)throw Error(r(349));B||(pl&60)!==0||Wt(M,d,_)}return _}function Wt(f,d,_){f.flags|=16384,f={getSnapshot:d,value:_},d=Tn.updateQueue,d===null?(d=P0(),Tn.updateQueue=d,d.stores=[f]):(_=d.stores,_===null?d.stores=[f]:_.push(f))}function Pt(f,d,_,M){d.value=_,d.getSnapshot=M,yn(d)&&vi(f)}function dn(f,d,_){return _(function(){yn(d)&&vi(f)})}function yn(f){var d=f.getSnapshot;f=f.value;try{var _=d();return!Ca(f,_)}catch{return!0}}function vi(f){var d=Re(f,2);d!==null&&Sr(d,f,2)}function Sn(f){var d=X();if(typeof f=="function"){var _=f;if(f=_(),ac){K(!0);try{_()}finally{K(!1)}}}return d.memoizedState=d.baseState=f,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tt,lastRenderedState:f},d}function jn(f,d,_,M){return f.baseState=_,Et(f,en,typeof M=="function"?M:tt)}function Zt(f,d,_,M,N){if(rh(f))throw Error(r(485));if(f=d.action,f!==null){var B={payload:N,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(re){B.listeners.push(re)}};sn.T!==null?_(!0):B.isTransition=!1,M(B),_=d.pending,_===null?(B.next=d.pending=B,ri(d,B)):(B.next=_.next,d.pending=_.next=B)}}function ri(f,d){var _=d.action,M=d.payload,N=f.state;if(d.isTransition){var B=sn.T,re={};sn.T=re;try{var _e=_(N,M),Fe=sn.S;Fe!==null&&Fe(re,_e),Un(f,d,_e)}catch(rt){lo(f,d,rt)}finally{sn.T=B}}else try{B=_(N,M),Un(f,d,B)}catch(rt){lo(f,d,rt)}}function Un(f,d,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(M){lr(f,d,M)},function(M){return lo(f,d,M)}):lr(f,d,_)}function lr(f,d,_){d.status="fulfilled",d.value=_,li(d),f.state=_,d=f.pending,d!==null&&(_=d.next,_===d?f.pending=null:(_=_.next,d.next=_,ri(f,_)))}function lo(f,d,_){var M=f.pending;if(f.pending=null,M!==null){M=M.next;do d.status="rejected",d.reason=_,li(d),d=d.next;while(d!==M)}f.action=null}function li(f){f=f.listeners;for(var d=0;d<f.length;d++)(0,f[d])()}function co(f,d){return d}function si(f,d){if(Vn){var _=ti.formState;if(_!==null){e:{var M=Tn;if(Vn){if(Vr){var N=cg(Vr,Ar);if(N){Vr=ug(N),M=M1(N);break e}}Ee(M)}M=!1}M&&(d=_[0])}}_=X(),_.memoizedState=_.baseState=d,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:d},_.queue=M,_=Em.bind(null,Tn,M),M.dispatch=_,M=Sn(!1);var B=Ou.bind(null,Tn,!1,M.queue);return M=X(),N={state:d,dispatch:null,action:f,pending:null},M.queue=N,_=Zt.bind(null,Tn,N,B,_),N.dispatch=_,M.memoizedState=f,[d,_,!1]}function Ir(f){var d=me();return Qi(d,en,f)}function Qi(f,d,_){d=Et(f,d,co)[0],f=mt(tt)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?xe(d):d;var M=me(),N=M.queue,B=N.dispatch;return _!==M.memoizedState&&(Tn.flags|=2048,sa(9,yr.bind(null,N,_),{destroy:void 0},null)),[d,B,f]}function yr(f,d){f.action=d}function _r(f){var d=me(),_=en;if(_!==null)return Qi(d,_,f);me(),d=d.memoizedState,_=me();var M=_.queue.dispatch;return _.memoizedState=f,[d,M,!1]}function sa(f,d,_,M){return f={tag:f,create:d,inst:_,deps:M,next:null},d=Tn.updateQueue,d===null&&(d=P0(),Tn.updateQueue=d),_=d.lastEffect,_===null?d.lastEffect=f.next=f:(M=_.next,_.next=f,f.next=M,d.lastEffect=f),f}function uo(){return me().memoizedState}function $f(f,d,_,M){var N=X();Tn.flags|=f,N.memoizedState=sa(1|d,_,{destroy:void 0},M===void 0?null:M)}function eh(f,d,_,M){var N=me();M=M===void 0?null:M;var B=N.memoizedState.inst;en!==null&&M!==null&&fe(M,en.memoizedState.deps)?N.memoizedState=sa(d,_,B,M):(Tn.flags|=f,N.memoizedState=sa(1|d,_,B,M))}function qd(f,d){$f(8390656,8,f,d)}function vm(f,d){eh(2048,8,f,d)}function Fx(f,d){return eh(4,2,f,d)}function th(f,d){return eh(4,4,f,d)}function Kd(f,d){if(typeof d=="function"){f=f();var _=d(f);return function(){typeof _=="function"?_():d(null)}}if(d!=null)return f=f(),d.current=f,function(){d.current=null}}function Zd(f,d,_){_=_!=null?_.concat([f]):null,eh(4,4,Kd.bind(null,d,f),_)}function Dl(){}function Nc(f,d){var _=me();d=d===void 0?null:d;var M=_.memoizedState;return d!==null&&fe(d,M[1])?M[0]:(_.memoizedState=[f,d],f)}function xm(f,d){var _=me();d=d===void 0?null:d;var M=_.memoizedState;if(d!==null&&fe(d,M[1]))return M[0];if(M=f(),ac){K(!0);try{f()}finally{K(!1)}}return _.memoizedState=[M,d],M}function nh(f,d,_){return _===void 0||(pl&1073741824)!==0?f.memoizedState=d:(f.memoizedState=_,f=zm(),Tn.lanes|=f,as|=f,_)}function ym(f,d,_,M){return Ca(_,d)?_:yi.current!==null?(f=nh(f,_,M),Ca(f,d)||(fi=!0),f):(pl&42)===0?(fi=!0,f.memoizedState=_):(f=zm(),Tn.lanes|=f,as|=f,d)}function Ru(f,d,_,M,N){var B=cl();Qr(B!==0&&8>B?B:8);var re=sn.T,_e={};sn.T=_e,Ou(f,!1,d,_);try{var Fe=N(),rt=sn.S;if(rt!==null&&rt(_e,Fe),Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var Tt=it(Fe,M);Il(f,d,Tt,Hi(f))}else Il(f,d,M,Hi(f))}catch(Nt){Il(f,d,{then:function(){},status:"rejected",reason:Nt},Hi())}finally{Qr(B),sn.T=re}}function fo(f){var d=f.memoizedState;if(d!==null)return d;d={memoizedState:Kl,baseState:Kl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tt,lastRenderedState:Kl},next:null};var _={};return d.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tt,lastRenderedState:_},next:null},f.memoizedState=d,f=f.alternate,f!==null&&(f.memoizedState=d),d}function ih(){return Ur(Xs)}function Cu(){return me().memoizedState}function qo(){return me().memoizedState}function _m(f){for(var d=f.return;d!==null;){switch(d.tag){case 24:case 3:var _=Hi();f=Je(_);var M=At(d,f,_);M!==null&&(Sr(M,d,_),Bt(M,d,_)),d={cache:Pl()},f.payload=d;return}d=d.return}}function Qd(f,d,_){var M=Hi();_={lane:M,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null},rh(f)?oa(d,_):(_=Ie(f,d,_,M),_!==null&&(Sr(_,f,M),Ll(_,d,M)))}function Em(f,d,_){var M=Hi();Il(f,d,_,M)}function Il(f,d,_,M){var N={lane:M,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null};if(rh(f))oa(d,N);else{var B=f.alternate;if(f.lanes===0&&(B===null||B.lanes===0)&&(B=d.lastRenderedReducer,B!==null))try{var re=d.lastRenderedState,_e=B(re,_);if(N.hasEagerState=!0,N.eagerState=_e,Ca(_e,re))return Ze(f,d,N,0),ti===null&&J(),!1}catch{}finally{}if(_=Ie(f,d,N,M),_!==null)return Sr(_,f,M),Ll(_,d,M),!0}return!1}function Ou(f,d,_,M){if(M={lane:2,revertLane:Qe(),action:M,hasEagerState:!1,eagerState:null,next:null},rh(f)){if(d)throw Error(r(479))}else d=Ie(f,_,M,2),d!==null&&Sr(d,f,2)}function rh(f){var d=f.alternate;return f===Tn||d!==null&&d===Tn}function oa(f,d){qc=Ms=!0;var _=f.pending;_===null?d.next=d:(d.next=_.next,_.next=d),f.pending=d}function Ll(f,d,_){if((_&4194176)!==0){var M=d.lanes;M&=f.pendingLanes,_|=M,d.lanes=_,ve(f,_)}}function Nu(f,d,_,M){d=f.memoizedState,_=_(M,d),_=_==null?d:g0({},d,_),f.memoizedState=_,f.lanes===0&&(f.updateQueue.baseState=_)}function Du(f,d,_,M,N,B,re){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(M,B,re):d.prototype&&d.prototype.isPureReactComponent?!pt(_,M)||!pt(N,B):!0}function Px(f,d,_,M){f=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(_,M),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(_,M),d.state!==f&&So.enqueueReplaceState(d,d.state,null)}function Ko(f,d){var _=d;if("ref"in d){_={};for(var M in d)M!=="ref"&&(_[M]=d[M])}if(f=f.defaultProps){_===d&&(_=g0({},_));for(var N in f)_[N]===void 0&&(_[N]=f[N])}return _}function Iu(f,d){try{var _=f.onUncaughtError;_(d.value,{componentStack:d.stack})}catch(M){setTimeout(function(){throw M})}}function Lu(f,d,_){try{var M=f.onCaughtError;M(_.value,{componentStack:_.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function Uu(f,d,_){return _=Je(_),_.tag=3,_.payload={element:null},_.callback=function(){Iu(f,d)},_}function Sm(f){return f=Je(f),f.tag=3,f}function Bx(f,d,_,M){var N=_.type.getDerivedStateFromError;if(typeof N=="function"){var B=M.value;f.payload=function(){return N(B)},f.callback=function(){Lu(d,_,M)}}var re=_.stateNode;re!==null&&typeof re.componentDidCatch=="function"&&(f.callback=function(){Lu(d,_,M),typeof N!="function"&&(oc===null?oc=new Set([this]):oc.add(this));var _e=M.stack;this.componentDidCatch(M.value,{componentStack:_e!==null?_e:""})})}function GS(f,d,_,M,N){if(_.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){if(d=_.alternate,d!==null&&lh(d,_,N,!0),_=es.current,_!==null){switch(_.tag){case 13:return ui===null?il():_.alternate===null&&hi===0&&(hi=3),_.flags&=-257,_.flags|=65536,_.lanes=N,M===zh?_.flags|=16384:(d=_.updateQueue,d===null?_.updateQueue=new Set([M]):d.add(M),Lc(f,M,N)),!1;case 22:return _.flags|=65536,M===zh?_.flags|=16384:(d=_.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([M])},_.updateQueue=d):(_=d.retryQueue,_===null?d.retryQueue=new Set([M]):_.add(M)),Lc(f,M,N)),!1}throw Error(r(435,_.tag))}return Lc(f,M,N),il(),!1}if(Vn)return d=es.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=N,M!==Ph&&(f=Error(r(422),{cause:M}),vt(ne(f,_)))):(M!==Ph&&(d=Error(r(423),{cause:M}),vt(ne(d,_))),f=f.current.alternate,f.flags|=65536,N&=-N,f.lanes|=N,M=ne(M,_),N=Uu(f.stateNode,M,N),Xt(f,N),hi!==4&&(hi=2)),!1;var B=Error(r(520),{cause:M});if(B=ne(B,_),Qc===null?Qc=[B]:Qc.push(B),hi!==4&&(hi=2),d===null)return!0;M=ne(M,_),_=d;do{switch(_.tag){case 3:return _.flags|=65536,f=N&-N,_.lanes|=f,f=Uu(_.stateNode,M,f),Xt(_,f),!1;case 1:if(d=_.type,B=_.stateNode,(_.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(oc===null||!oc.has(B))))return _.flags|=65536,N&=-N,_.lanes|=N,N=Sm(N),Bx(N,f,_,M),Xt(_,N),!1}_=_.return}while(_!==null);return!1}function Lr(f,d,_,M){d.child=f===null?Eo(d,null,_,M):rc(d,f.child,_,M)}function Jd(f,d,_,M,N){_=_.render;var B=d.ref;if("ref"in M){var re={};for(var _e in M)_e!=="ref"&&(re[_e]=M[_e])}else re=M;return Fl(d),M=de(f,d,_,re,B,N),_e=Xe(),f!==null&&!fi?(Ye(f,d,N),Zo(f,d,N)):(Vn&&_e&&H(d),d.flags|=1,Lr(f,d,M,N),d.child)}function kx(f,d,_,M,N){if(f===null){var B=_.type;return typeof B=="function"&&!Eh(B)&&B.defaultProps===void 0&&_.compare===null?(d.tag=15,d.type=B,zx(f,d,B,M,N)):(f=mo(_.type,null,M,d,d.mode,N),f.ref=d.ref,f.return=d,d.child=f)}if(B=f.child,!wm(f,N)){var re=B.memoizedProps;if(_=_.compare,_=_!==null?_:pt,_(re,M)&&f.ref===d.ref)return Zo(f,d,N)}return d.flags|=1,f=ys(B,M),f.ref=d.ref,f.return=d,d.child=f}function zx(f,d,_,M,N){if(f!==null){var B=f.memoizedProps;if(pt(B,M)&&f.ref===d.ref)if(fi=!1,d.pendingProps=M=B,wm(f,N))(f.flags&131072)!==0&&(fi=!0);else return d.lanes=f.lanes,Zo(f,d,N)}return $d(f,d,_,M,N)}function Vx(f,d,_){var M=d.pendingProps,N=M.children,B=(d.stateNode._pendingVisibility&2)!==0,re=f!==null?f.memoizedState:null;if(ah(f,d),M.mode==="hidden"||B){if((d.flags&128)!==0){if(M=re!==null?re.baseLanes|_:_,f!==null){for(N=d.child=f.child,B=0;N!==null;)B=B|N.lanes|N.childLanes,N=N.sibling;d.childLanes=B&~M}else d.childLanes=0,d.child=null;return Hx(f,d,M,_)}if((_&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},f!==null&&t0(d,re!==null?re.cachePool:null),re!==null?Ui(d,re):Ri(),Oc(d);else return d.lanes=d.childLanes=536870912,Hx(f,d,re!==null?re.baseLanes|_:_,_)}else re!==null?(t0(d,re.cachePool),Ui(d,re),Z(),d.memoizedState=null):(f!==null&&t0(d,null),Ri(),Z());return Lr(f,d,N,_),d.child}function Hx(f,d,_,M){var N=Cm();return N=N===null?null:{parent:ua?_i._currentValue:_i._currentValue2,pool:N},d.memoizedState={baseLanes:_,cachePool:N},f!==null&&t0(d,null),Ri(),Oc(d),f!==null&&lh(f,d,M,!0),null}function ah(f,d){var _=d.ref;if(_===null)f!==null&&f.ref!==null&&(d.flags|=2097664);else{if(typeof _!="function"&&typeof _!="object")throw Error(r(284));(f===null||f.ref!==_)&&(d.flags|=2097664)}}function $d(f,d,_,M,N){return Fl(d),_=de(f,d,_,M,void 0,N),M=Xe(),f!==null&&!fi?(Ye(f,d,N),Zo(f,d,N)):(Vn&&M&&H(d),d.flags|=1,Lr(f,d,_,N),d.child)}function Gx(f,d,_,M,N,B){return Fl(d),d.updateQueue=null,_=et(d,M,_,N),Ve(f),M=Xe(),f!==null&&!fi?(Ye(f,d,B),Zo(f,d,B)):(Vn&&M&&H(d),d.flags|=1,Lr(f,d,_,B),d.child)}function Xx(f,d,_,M,N){if(Fl(d),d.stateNode===null){var B=$l,re=_.contextType;typeof re=="object"&&re!==null&&(B=Ur(re)),B=new _(M,B),d.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=So,d.stateNode=B,B._reactInternals=d,B=d.stateNode,B.props=M,B.state=d.memoizedState,B.refs={},xt(d),re=_.contextType,B.context=typeof re=="object"&&re!==null?Ur(re):$l,B.state=d.memoizedState,re=_.getDerivedStateFromProps,typeof re=="function"&&(Nu(d,_,re,M),B.state=d.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(re=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),re!==B.state&&So.enqueueReplaceState(B,B.state,null),Kt(d,M,B,N),Mt(),B.state=d.memoizedState),typeof B.componentDidMount=="function"&&(d.flags|=4194308),M=!0}else if(f===null){B=d.stateNode;var _e=d.memoizedProps,Fe=Ko(_,_e);B.props=Fe;var rt=B.context,Tt=_.contextType;re=$l,typeof Tt=="object"&&Tt!==null&&(re=Ur(Tt));var Nt=_.getDerivedStateFromProps;Tt=typeof Nt=="function"||typeof B.getSnapshotBeforeUpdate=="function",_e=d.pendingProps!==_e,Tt||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(_e||rt!==re)&&Px(d,B,M,re),dl=!1;var Lt=d.memoizedState;B.state=Lt,Kt(d,M,B,N),Mt(),rt=d.memoizedState,_e||Lt!==rt||dl?(typeof Nt=="function"&&(Nu(d,_,Nt,M),rt=d.memoizedState),(Fe=dl||Du(d,_,Fe,M,Lt,rt,re))?(Tt||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(d.flags|=4194308)):(typeof B.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=M,d.memoizedState=rt),B.props=M,B.state=rt,B.context=re,M=Fe):(typeof B.componentDidMount=="function"&&(d.flags|=4194308),M=!1)}else{B=d.stateNode,bt(f,d),re=d.memoizedProps,Tt=Ko(_,re),B.props=Tt,Nt=d.pendingProps,Lt=B.context,rt=_.contextType,Fe=$l,typeof rt=="object"&&rt!==null&&(Fe=Ur(rt)),_e=_.getDerivedStateFromProps,(rt=typeof _e=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(re!==Nt||Lt!==Fe)&&Px(d,B,M,Fe),dl=!1,Lt=d.memoizedState,B.state=Lt,Kt(d,M,B,N),Mt();var mn=d.memoizedState;re!==Nt||Lt!==mn||dl||f!==null&&f.dependencies!==null&&ch(f.dependencies)?(typeof _e=="function"&&(Nu(d,_,_e,M),mn=d.memoizedState),(Tt=dl||Du(d,_,Tt,M,Lt,mn,Fe)||f!==null&&f.dependencies!==null&&ch(f.dependencies))?(rt||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(M,mn,Fe),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(M,mn,Fe)),typeof B.componentDidUpdate=="function"&&(d.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof B.componentDidUpdate!="function"||re===f.memoizedProps&&Lt===f.memoizedState||(d.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||re===f.memoizedProps&&Lt===f.memoizedState||(d.flags|=1024),d.memoizedProps=M,d.memoizedState=mn),B.props=M,B.state=mn,B.context=Fe,M=Tt):(typeof B.componentDidUpdate!="function"||re===f.memoizedProps&&Lt===f.memoizedState||(d.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||re===f.memoizedProps&&Lt===f.memoizedState||(d.flags|=1024),M=!1)}return B=M,ah(f,d),M=(d.flags&128)!==0,B||M?(B=d.stateNode,_=M&&typeof _.getDerivedStateFromError!="function"?null:B.render(),d.flags|=1,f!==null&&M?(d.child=rc(d,f.child,null,N),d.child=rc(d,null,_,N)):Lr(f,d,_,N),d.memoizedState=B.state,f=d.child):f=Zo(f,d,N),f}function Wx(f,d,_,M){return se(),d.flags|=256,Lr(f,d,_,M),d.child}function Tm(f){return{baseLanes:f,cachePool:Om()}}function sh(f,d,_){return f=f!==null?f.childLanes&~_:0,d&&(f|=ss),f}function Yx(f,d,_){var M=d.pendingProps,N=!1,B=(d.flags&128)!==0,re;if((re=B)||(re=f!==null&&f.memoizedState===null?!1:(fr.current&2)!==0),re&&(N=!0,d.flags&=-129),re=(d.flags&32)!==0,d.flags&=-33,f===null){if(Vn){if(N?Kr(d):Z(),Vn){var _e=Vr,Fe;(Fe=_e)&&(_e=C1(_e,Ar),_e!==null?(d.memoizedState={dehydrated:_e,treeContext:ec!==null?{id:Ys,overflow:js}:null,retryLane:536870912},Fe=t(18,null,null,0),Fe.stateNode=_e,Fe.return=d,d.child=Fe,zr=d,Vr=null,Fe=!0):Fe=!1),Fe||Ee(d)}if(_e=d.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null))return M0(_e)?d.lanes=16:d.lanes=536870912,null;ue(d)}return _e=M.children,M=M.fallback,N?(Z(),N=d.mode,_e=bm({mode:"hidden",children:_e},N),M=Fi(M,N,_,null),_e.return=d,M.return=d,_e.sibling=M,d.child=_e,N=d.child,N.memoizedState=Tm(_),N.childLanes=sh(f,re,_),d.memoizedState=z0,M):(Kr(d),Am(d,_e))}if(Fe=f.memoizedState,Fe!==null&&(_e=Fe.dehydrated,_e!==null)){if(B)d.flags&256?(Kr(d),d.flags&=-257,d=e0(f,d,_)):d.memoizedState!==null?(Z(),d.child=f.child,d.flags|=128,d=null):(Z(),N=M.fallback,_e=d.mode,M=bm({mode:"visible",children:M.children},_e),N=Fi(N,_e,_,null),N.flags|=2,M.return=d,N.return=d,M.sibling=N,d.child=M,rc(d,f.child,null,_),M=d.child,M.memoizedState=Tm(_),M.childLanes=sh(f,re,_),d.memoizedState=z0,d=N);else if(Kr(d),M0(_e))re=A1(_e).digest,M=Error(r(419)),M.stack="",M.digest=re,vt({value:M,source:null,stack:null}),d=e0(f,d,_);else if(fi||lh(f,d,_,!1),re=(_&f.childLanes)!==0,fi||re){if(re=ti,re!==null){if(M=_&-_,(M&42)!==0)M=1;else switch(M){case 2:M=1;break;case 8:M=4;break;case 32:M=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:M=64;break;case 268435456:M=134217728;break;default:M=0}if(M=(M&(re.suspendedLanes|_))!==0?0:M,M!==0&&M!==Fe.retryLane)throw Fe.retryLane=M,Re(f,M),Sr(re,f,M),k0}b0(_e)||il(),d=e0(f,d,_)}else b0(_e)?(d.flags|=128,d.child=f.child,d=rl.bind(null,f),b1(_e,d),d=null):(f=Fe.treeContext,kr&&(Vr=R1(_e),zr=d,Vn=!0,As=null,Ar=!1,f!==null&&(Qa[Ja++]=Ys,Qa[Ja++]=js,Qa[Ja++]=ec,Ys=f.id,js=f.overflow,ec=d)),d=Am(d,M.children),d.flags|=4096);return d}return N?(Z(),N=M.fallback,_e=d.mode,Fe=f.child,B=Fe.sibling,M=ys(Fe,{mode:"hidden",children:M.children}),M.subtreeFlags=Fe.subtreeFlags&31457280,B!==null?N=ys(B,N):(N=Fi(N,_e,_,null),N.flags|=2),N.return=d,M.return=d,M.sibling=N,d.child=M,M=N,N=d.child,_e=f.child.memoizedState,_e===null?_e=Tm(_):(Fe=_e.cachePool,Fe!==null?(B=ua?_i._currentValue:_i._currentValue2,Fe=Fe.parent!==B?{parent:B,pool:B}:Fe):Fe=Om(),_e={baseLanes:_e.baseLanes|_,cachePool:Fe}),N.memoizedState=_e,N.childLanes=sh(f,re,_),d.memoizedState=z0,M):(Kr(d),_=f.child,f=_.sibling,_=ys(_,{mode:"visible",children:M.children}),_.return=d,_.sibling=null,f!==null&&(re=d.deletions,re===null?(d.deletions=[f],d.flags|=16):re.push(f)),d.child=_,d.memoizedState=null,_)}function Am(f,d){return d=bm({mode:"visible",children:d},f.mode),d.return=f,f.child=d}function bm(f,d){return Th(f,d,0,null)}function e0(f,d,_){return rc(d,f.child,null,_),f=Am(d,d.pendingProps.children),f.flags|=2,d.memoizedState=null,f}function jx(f,d,_){f.lanes|=d;var M=f.alternate;M!==null&&(M.lanes|=d),oh(f.return,d,_)}function Mm(f,d,_,M,N){var B=f.memoizedState;B===null?f.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:M,tail:_,tailMode:N}:(B.isBackwards=d,B.rendering=null,B.renderingStartTime=0,B.last=M,B.tail=_,B.tailMode=N)}function qx(f,d,_){var M=d.pendingProps,N=M.revealOrder,B=M.tail;if(Lr(f,d,M.children,_),M=fr.current,(M&2)!==0)M=M&1|2,d.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=d.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&jx(f,_,d);else if(f.tag===19)jx(f,_,d);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}M&=1}switch(R(fr,M),N){case"forwards":for(_=d.child,N=null;_!==null;)f=_.alternate,f!==null&&oe(f)===null&&(N=_),_=_.sibling;_=N,_===null?(N=d.child,d.child=null):(N=_.sibling,_.sibling=null),Mm(d,!1,N,_,B);break;case"backwards":for(_=null,N=d.child,d.child=null;N!==null;){if(f=N.alternate,f!==null&&oe(f)===null){d.child=N;break}f=N.sibling,N.sibling=_,_=N,N=f}Mm(d,!0,_,null,B);break;case"together":Mm(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Zo(f,d,_){if(f!==null&&(d.dependencies=f.dependencies),as|=d.lanes,(_&d.childLanes)===0)if(f!==null){if(lh(f,d,_,!1),(_&d.childLanes)===0)return null}else return null;if(f!==null&&d.child!==f.child)throw Error(r(153));if(d.child!==null){for(f=d.child,_=ys(f,f.pendingProps),d.child=_,_.return=d;f.sibling!==null;)f=f.sibling,_=_.sibling=ys(f,f.pendingProps),_.return=d;_.sibling=null}return d.child}function wm(f,d){return(f.lanes&d)!==0?!0:(f=f.dependencies,!!(f!==null&&ch(f)))}function XS(f,d,_){switch(d.tag){case 3:V(d,d.stateNode.containerInfo),Ul(d,_i,f.memoizedState.cache),se();break;case 27:case 5:ge(d);break;case 4:V(d,d.stateNode.containerInfo);break;case 10:Ul(d,d.type,d.memoizedProps.value);break;case 13:var M=d.memoizedState;if(M!==null)return M.dehydrated!==null?(Kr(d),d.flags|=128,null):(_&d.child.childLanes)!==0?Yx(f,d,_):(Kr(d),f=Zo(f,d,_),f!==null?f.sibling:null);Kr(d);break;case 19:var N=(f.flags&128)!==0;if(M=(_&d.childLanes)!==0,M||(lh(f,d,_,!1),M=(_&d.childLanes)!==0),N){if(M)return qx(f,d,_);d.flags|=128}if(N=d.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),R(fr,fr.current),M)break;return null;case 22:case 23:return d.lanes=0,Vx(f,d,_);case 24:Ul(d,_i,f.memoizedState.cache)}return Zo(f,d,_)}function Kx(f,d,_){if(f!==null)if(f.memoizedProps!==d.pendingProps)fi=!0;else{if(!wm(f,_)&&(d.flags&128)===0)return fi=!1,XS(f,d,_);fi=(f.flags&131072)!==0}else fi=!1,Vn&&(d.flags&1048576)!==0&&le(d,nf,d.index);switch(d.lanes=0,d.tag){case 16:e:{f=d.pendingProps;var M=d.elementType,N=M._init;if(M=N(M._payload),d.type=M,typeof M=="function")Eh(M)?(f=Ko(M,f),d.tag=1,d=Xx(null,d,M,f,_)):(d.tag=0,d=$d(null,d,M,f,_));else{if(M!=null){if(N=M.$$typeof,N===Rh){d.tag=11,d=Jd(null,d,M,f,_);break e}else if(N===y0){d.tag=14,d=kx(null,d,M,f,_);break e}}throw d=s(M)||M,Error(r(306,d,""))}}return d;case 0:return $d(f,d,d.type,d.pendingProps,_);case 1:return M=d.type,N=Ko(M,d.pendingProps),Xx(f,d,M,N,_);case 3:e:{if(V(d,d.stateNode.containerInfo),f===null)throw Error(r(387));var B=d.pendingProps;N=d.memoizedState,M=N.element,bt(f,d),Kt(d,B,null,_);var re=d.memoizedState;if(B=re.cache,Ul(d,_i,B),B!==N.cache&&Dc(d,[_i],_,!0),Mt(),B=re.element,kr&&N.isDehydrated)if(N={element:B,isDehydrated:!1,cache:re.cache},d.updateQueue.baseState=N,d.memoizedState=N,d.flags&256){d=Wx(f,d,B,_);break e}else if(B!==M){M=ne(Error(r(424)),d),vt(M),d=Wx(f,d,B,_);break e}else for(kr&&(Vr=w1(d.stateNode.containerInfo),zr=d,Vn=!0,As=null,Ar=!0),_=Eo(d,null,B,_),d.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(se(),B===M){d=Zo(f,d,_);break e}Lr(f,d,B,_)}d=d.child}return d;case 26:if(Za)return ah(f,d),f===null?(_=dg(d.type,null,d.pendingProps,null))?d.memoizedState=_:Vn||(d.stateNode=N0(d.type,d.pendingProps,yo.current,d)):d.memoizedState=dg(d.type,f.memoizedProps,d.pendingProps,f.memoizedState),null;case 27:if(ci)return ge(d),f===null&&ci&&Vn&&(M=d.stateNode=Ws(d.type,d.pendingProps,yo.current,ur.current,!1),zr=d,Ar=!0,Vr=w0(M)),M=d.pendingProps.children,f!==null||Vn?Lr(f,d,M,_):d.child=rc(d,null,M,_),ah(f,d),d.child;case 5:return f===null&&Vn&&(C0(d.type,d.pendingProps,ur.current),(N=M=Vr)&&(M=QS(M,d.type,d.pendingProps,Ar),M!==null?(d.stateNode=M,zr=d,Vr=w0(M),Ar=!1,N=!0):N=!1),N||Ee(d)),ge(d),N=d.type,B=d.pendingProps,re=f!==null?f.memoizedProps:null,M=B.children,vn(N,B)?M=null:re!==null&&vn(N,re)&&(d.flags|=32),d.memoizedState!==null&&(N=de(f,d,Ue,null,null,_),ua?Xs._currentValue=N:Xs._currentValue2=N),ah(f,d),Lr(f,d,M,_),d.child;case 6:return f===null&&Vn&&(L1(d.pendingProps,ur.current),(f=_=Vr)&&(_=fg(_,d.pendingProps,Ar),_!==null?(d.stateNode=_,zr=d,Vr=null,f=!0):f=!1),f||Ee(d)),null;case 13:return Yx(f,d,_);case 4:return V(d,d.stateNode.containerInfo),M=d.pendingProps,f===null?d.child=rc(d,null,M,_):Lr(f,d,M,_),d.child;case 11:return Jd(f,d,d.type,d.pendingProps,_);case 7:return Lr(f,d,d.pendingProps,_),d.child;case 8:return Lr(f,d,d.pendingProps.children,_),d.child;case 12:return Lr(f,d,d.pendingProps.children,_),d.child;case 10:return M=d.pendingProps,Ul(d,d.type,M.value),Lr(f,d,M.children,_),d.child;case 9:return N=d.type._context,M=d.pendingProps.children,Fl(d),N=Ur(N),M=M(N),d.flags|=1,Lr(f,d,M,_),d.child;case 14:return kx(f,d,d.type,d.pendingProps,_);case 15:return zx(f,d,d.type,d.pendingProps,_);case 19:return qx(f,d,_);case 22:return Vx(f,d,_);case 24:return Fl(d),M=Ur(_i),f===null?(N=Cm(),N===null&&(N=ti,B=Pl(),N.pooledCache=B,B.refCount++,B!==null&&(N.pooledCacheLanes|=_),N=B),d.memoizedState={parent:M,cache:N},xt(d),Ul(d,_i,N)):((f.lanes&_)!==0&&(bt(f,d),Kt(d,null,null,_),Mt()),N=f.memoizedState,B=d.memoizedState,N.parent!==M?(N={parent:M,cache:M},d.memoizedState=N,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=N),Ul(d,_i,M)):(M=B.cache,Ul(d,_i,M),M!==N.cache&&Dc(d,[_i],_,!0))),Lr(f,d,d.pendingProps.children,_),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Ul(f,d,_){ua?(R(ml,d._currentValue),d._currentValue=_):(R(ml,d._currentValue2),d._currentValue2=_)}function Qo(f){var d=ml.current;ua?f._currentValue=d:f._currentValue2=d,A(ml)}function oh(f,d,_){for(;f!==null;){var M=f.alternate;if((f.childLanes&d)!==d?(f.childLanes|=d,M!==null&&(M.childLanes|=d)):M!==null&&(M.childLanes&d)!==d&&(M.childLanes|=d),f===_)break;f=f.return}}function Dc(f,d,_,M){var N=f.child;for(N!==null&&(N.return=f);N!==null;){var B=N.dependencies;if(B!==null){var re=N.child;B=B.firstContext;e:for(;B!==null;){var _e=B;B=N;for(var Fe=0;Fe<d.length;Fe++)if(_e.context===d[Fe]){B.lanes|=_,_e=B.alternate,_e!==null&&(_e.lanes|=_),oh(B.return,_,f),M||(re=null);break e}B=_e.next}}else if(N.tag===18){if(re=N.return,re===null)throw Error(r(341));re.lanes|=_,B=re.alternate,B!==null&&(B.lanes|=_),oh(re,_,f),re=null}else re=N.child;if(re!==null)re.return=N;else for(re=N;re!==null;){if(re===f){re=null;break}if(N=re.sibling,N!==null){N.return=re.return,re=N;break}re=re.return}N=re}}function lh(f,d,_,M){f=null;for(var N=d,B=!1;N!==null;){if(!B){if((N.flags&524288)!==0)B=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var re=N.alternate;if(re===null)throw Error(r(387));if(re=re.memoizedProps,re!==null){var _e=N.type;Ca(N.pendingProps.value,re.value)||(f!==null?f.push(_e):f=[_e])}}else if(N===Hc.current){if(re=N.alternate,re===null)throw Error(r(387));re.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(f!==null?f.push(Xs):f=[Xs])}N=N.return}f!==null&&Dc(d,f,_,M),d.flags|=262144}function ch(f){for(f=f.firstContext;f!==null;){var d=f.context;if(!Ca(ua?d._currentValue:d._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function Fl(f){Zs=f,ns=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Ur(f){return Rm(Zs,f)}function uh(f,d){return Zs===null&&Fl(f),Rm(f,d)}function Rm(f,d){var _=ua?d._currentValue:d._currentValue2;if(d={context:d,memoizedValue:_,next:null},ns===null){if(f===null)throw Error(r(308));ns=d,f.dependencies={lanes:0,firstContext:d},f.flags|=524288}else ns=ns.next=d;return _}function Pl(){return{controller:new cf,data:new Map,refCount:0}}function fh(f){f.refCount--,f.refCount===0&&W1(Y1,function(){f.controller.abort()})}function Cm(){var f=To.current;return f!==null?f:ti.pooledCache}function t0(f,d){d===null?R(To,To.current):R(To,d.pool)}function Om(){var f=Cm();return f===null?null:{parent:ua?_i._currentValue:_i._currentValue2,pool:f}}function Sa(f){f.flags|=4}function Fu(f,d){if(f!==null&&f.child===d.child)return!1;if((d.flags&16)!==0)return!0;for(f=d.child;f!==null;){if((f.flags&13878)!==0||(f.subtreeFlags&13878)!==0)return!0;f=f.sibling}return!1}function Ic(f,d,_,M){if(cr)for(_=d.child;_!==null;){if(_.tag===5||_.tag===6)Oh(f,_.stateNode);else if(!(_.tag===4||ci&&_.tag===27)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===d)break;for(;_.sibling===null;){if(_.return===null||_.return===d)return;_=_.return}_.sibling.return=_.return,_=_.sibling}else if(Ss)for(var N=d.child;N!==null;){if(N.tag===5){var B=N.stateNode;_&&M&&(B=og(B,N.type,N.memoizedProps)),Oh(f,B)}else if(N.tag===6)B=N.stateNode,_&&M&&(B=lg(B,N.memoizedProps)),Oh(f,B);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)B=N.child,B!==null&&(B.return=N),Ic(f,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===d)break;for(;N.sibling===null;){if(N.return===null||N.return===d)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function Zx(f,d,_,M){if(Ss)for(var N=d.child;N!==null;){if(N.tag===5){var B=N.stateNode;_&&M&&(B=og(B,N.type,N.memoizedProps)),sg(f,B)}else if(N.tag===6)B=N.stateNode,_&&M&&(B=lg(B,N.memoizedProps)),sg(f,B);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)B=N.child,B!==null&&(B.return=N),Zx(f,N,!(N.memoizedProps!==null&&N.memoizedProps.mode==="manual"),!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===d)break;for(;N.sibling===null;){if(N.return===null||N.return===d)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function hh(f,d){if(Ss&&Fu(f,d)){f=d.stateNode;var _=f.containerInfo,M=Nh();Zx(M,d,!1,!1),f.pendingChildren=M,Sa(d),A0(_,M)}}function n0(f,d,_,M){if(cr)f.memoizedProps!==M&&Sa(d);else if(Ss){var N=f.stateNode,B=f.memoizedProps;if((f=Fu(f,d))||B!==M){var re=ur.current;B=$u(N,_,B,M,!f,null),B===N?d.stateNode=N:(ll(B,_,M,re)&&Sa(d),d.stateNode=B,f?Ic(B,d,!1,!1):Sa(d))}else d.stateNode=N}}function i0(f,d,_){if(Jm(d,_)){if(f.flags|=16777216,!S0(d,_))if(Gl())f.flags|=8192;else throw tc=zh,kh}else f.flags&=-16777217}function r0(f,d){if(P1(d)){if(f.flags|=16777216,!Pc(d))if(Gl())f.flags|=8192;else throw tc=zh,kh}else f.flags&=-16777217}function Pu(f,d){d!==null&&(f.flags|=4),f.flags&16384&&(d=f.tag!==22?C():536870912,f.lanes|=d,Mo|=d)}function Bu(f,d){if(!Vn)switch(f.tailMode){case"hidden":d=f.tail;for(var _=null;d!==null;)d.alternate!==null&&(_=d),d=d.sibling;_===null?f.tail=null:_.sibling=null;break;case"collapsed":_=f.tail;for(var M=null;_!==null;)_.alternate!==null&&(M=_),_=_.sibling;M===null?d||f.tail===null?f.tail=null:f.tail.sibling=null:M.sibling=null}}function wi(f){var d=f.alternate!==null&&f.alternate.child===f.child,_=0,M=0;if(d)for(var N=f.child;N!==null;)_|=N.lanes|N.childLanes,M|=N.subtreeFlags&31457280,M|=N.flags&31457280,N.return=f,N=N.sibling;else for(N=f.child;N!==null;)_|=N.lanes|N.childLanes,M|=N.subtreeFlags,M|=N.flags,N.return=f,N=N.sibling;return f.subtreeFlags|=M,f.childLanes=_,d}function Qx(f,d,_){var M=d.pendingProps;switch(q(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wi(d),null;case 1:return wi(d),null;case 3:return _=d.stateNode,M=null,f!==null&&(M=f.memoizedState.cache),d.memoizedState.cache!==M&&(d.flags|=2048),Qo(_i),Q(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(f===null||f.child===null)&&(st(d)?Sa(d):f===null||f.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,As!==null&&(yh(As),As=null))),hh(f,d),wi(d),null;case 26:if(Za){_=d.type;var N=d.memoizedState;return f===null?(Sa(d),N!==null?(wi(d),r0(d,N)):(wi(d),i0(d,_,M))):N?N!==f.memoizedState?(Sa(d),wi(d),r0(d,N)):(wi(d),d.flags&=-16777217):(cr?f.memoizedProps!==M&&Sa(d):n0(f,d,_,M),wi(d),i0(d,_,M)),null}case 27:if(ci){if(Ae(d),_=yo.current,N=d.type,f!==null&&d.stateNode!=null)cr?f.memoizedProps!==M&&Sa(d):n0(f,d,N,M);else{if(!M){if(d.stateNode===null)throw Error(r(166));return wi(d),null}f=ur.current,st(d)?Ce(d,f):(f=Ws(N,M,_,f,!0),d.stateNode=f,Sa(d))}return wi(d),null}case 5:if(Ae(d),_=d.type,f!==null&&d.stateNode!=null)n0(f,d,_,M);else{if(!M){if(d.stateNode===null)throw Error(r(166));return wi(d),null}f=ur.current,st(d)?Ce(d,f):(N=Qm(_,M,yo.current,f,d),Ic(N,d,!1,!1),d.stateNode=N,ll(N,_,M,f)&&Sa(d))}return wi(d),i0(d,d.type,d.pendingProps),null;case 6:if(f&&d.stateNode!=null)_=f.memoizedProps,cr?_!==M&&Sa(d):Ss&&(_!==M?(d.stateNode=ai(M,yo.current,ur.current,d),Sa(d)):d.stateNode=f.stateNode);else{if(typeof M!="string"&&d.stateNode===null)throw Error(r(166));if(f=yo.current,_=ur.current,st(d)){if(!kr)throw Error(r(176));if(f=d.stateNode,_=d.memoizedProps,M=null,N=zr,N!==null)switch(N.tag){case 27:case 5:M=N.memoizedProps}hg(f,_,d,M)||Ee(d)}else d.stateNode=ai(M,f,_,d)}return wi(d),null;case 13:if(M=d.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(N=st(d),M!==null&&M.dehydrated!==null){if(f===null){if(!N)throw Error(r(318));if(!kr)throw Error(r(344));if(N=d.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N1(N,d)}else se(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;wi(d),N=!1}else As!==null&&(yh(As),As=null),N=!0;if(!N)return d.flags&256?(ue(d),d):(ue(d),null)}if(ue(d),(d.flags&128)!==0)return d.lanes=_,d;if(_=M!==null,f=f!==null&&f.memoizedState!==null,_){M=d.child,N=null,M.alternate!==null&&M.alternate.memoizedState!==null&&M.alternate.memoizedState.cachePool!==null&&(N=M.alternate.memoizedState.cachePool.pool);var B=null;M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(B=M.memoizedState.cachePool.pool),B!==N&&(M.flags|=2048)}return _!==f&&_&&(d.child.flags|=8192),Pu(d,d.updateQueue),wi(d),null;case 4:return Q(),hh(f,d),f===null&&Gi(d.stateNode.containerInfo),wi(d),null;case 10:return Qo(d.type),wi(d),null;case 19:if(A(fr),N=d.memoizedState,N===null)return wi(d),null;if(M=(d.flags&128)!==0,B=N.rendering,B===null)if(M)Bu(N,!1);else{if(hi!==0||f!==null&&(f.flags&128)!==0)for(f=d.child;f!==null;){if(B=oe(f),B!==null){for(d.flags|=128,Bu(N,!1),f=B.updateQueue,d.updateQueue=f,Pu(d,f),d.subtreeFlags=0,f=_,_=d.child;_!==null;)Sh(_,f),_=_.sibling;return R(fr,fr.current&1|2),d.child}f=f.sibling}N.tail!==null&&Ts()>hf&&(d.flags|=128,M=!0,Bu(N,!1),d.lanes=4194304)}else{if(!M)if(f=oe(B),f!==null){if(d.flags|=128,M=!0,f=f.updateQueue,d.updateQueue=f,Pu(d,f),Bu(N,!0),N.tail===null&&N.tailMode==="hidden"&&!B.alternate&&!Vn)return wi(d),null}else 2*Ts()-N.renderingStartTime>hf&&_!==536870912&&(d.flags|=128,M=!0,Bu(N,!1),d.lanes=4194304);N.isBackwards?(B.sibling=d.child,d.child=B):(f=N.last,f!==null?f.sibling=B:d.child=B,N.last=B)}return N.tail!==null?(d=N.tail,N.rendering=d,N.tail=d.sibling,N.renderingStartTime=Ts(),d.sibling=null,f=fr.current,R(fr,M?f&1|2:f&1),d):(wi(d),null);case 22:case 23:return ue(d),xr(),M=d.memoizedState!==null,f!==null?f.memoizedState!==null!==M&&(d.flags|=8192):M&&(d.flags|=8192),M?(_&536870912)!==0&&(d.flags&128)===0&&(wi(d),d.subtreeFlags&6&&(d.flags|=8192)):wi(d),_=d.updateQueue,_!==null&&Pu(d,_.retryQueue),_=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),M=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(M=d.memoizedState.cachePool.pool),M!==_&&(d.flags|=2048),f!==null&&A(To),null;case 24:return _=null,f!==null&&(_=f.memoizedState.cache),d.memoizedState.cache!==_&&(d.flags|=2048),Qo(_i),wi(d),null;case 25:return null}throw Error(r(156,d.tag))}function WS(f,d){switch(q(d),d.tag){case 1:return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 3:return Qo(_i),Q(),f=d.flags,(f&65536)!==0&&(f&128)===0?(d.flags=f&-65537|128,d):null;case 26:case 27:case 5:return Ae(d),null;case 13:if(ue(d),f=d.memoizedState,f!==null&&f.dehydrated!==null){if(d.alternate===null)throw Error(r(340));se()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 19:return A(fr),null;case 4:return Q(),null;case 10:return Qo(d.type),null;case 22:case 23:return ue(d),xr(),f!==null&&A(To),f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 24:return Qo(_i),null;case 25:return null;default:return null}}function Jx(f,d){switch(q(d),d.tag){case 3:Qo(_i),Q();break;case 26:case 27:case 5:Ae(d);break;case 4:Q();break;case 13:ue(d);break;case 19:A(fr);break;case 10:Qo(d.type);break;case 22:case 23:ue(d),xr(),f!==null&&A(To);break;case 24:Qo(_i)}}function dh(f,d){try{var _=d.updateQueue,M=_!==null?_.lastEffect:null;if(M!==null){var N=M.next;_=N;do{if((_.tag&f)===f){M=void 0;var B=_.create,re=_.inst;M=B(),re.destroy=M}_=_.next}while(_!==N)}}catch(_e){$n(d,d.return,_e)}}function Bl(f,d,_){try{var M=d.updateQueue,N=M!==null?M.lastEffect:null;if(N!==null){var B=N.next;M=B;do{if((M.tag&f)===f){var re=M.inst,_e=re.destroy;if(_e!==void 0){re.destroy=void 0,N=d;var Fe=_;try{_e()}catch(rt){$n(N,Fe,rt)}}}M=M.next}while(M!==B)}}catch(rt){$n(d,d.return,rt)}}function $x(f){var d=f.updateQueue;if(d!==null){var _=f.stateNode;try{Ct(d,_)}catch(M){$n(f,f.return,M)}}}function Ta(f,d,_){_.props=Ko(f.type,f.memoizedProps),_.state=f.memoizedState;try{_.componentWillUnmount()}catch(M){$n(f,d,M)}}function Vs(f,d){try{var _=f.ref;if(_!==null){var M=f.stateNode;switch(f.tag){case 26:case 27:case 5:var N=Zu(M);break;default:N=M}typeof _=="function"?f.refCleanup=_(N):_.current=N}}catch(B){$n(f,d,B)}}function Aa(f,d){var _=f.ref,M=f.refCleanup;if(_!==null)if(typeof M=="function")try{M()}catch(N){$n(f,d,N)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(N){$n(f,d,N)}else _.current=null}function Nm(f){var d=f.type,_=f.memoizedProps,M=f.stateNode;try{KS(M,d,_,f)}catch(N){$n(f,f.return,N)}}function Dm(f,d,_){try{g1(f.stateNode,f.type,_,d,f)}catch(M){$n(f,f.return,M)}}function Im(f){return f.tag===5||f.tag===3||(Za?f.tag===26:!1)||(ci?f.tag===27:!1)||f.tag===4}function ph(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Im(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&(!ci||f.tag!==27)&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Lm(f,d,_){var M=f.tag;if(M===5||M===6)f=f.stateNode,d?x1(_,f,d):ig(_,f);else if(!(M===4||ci&&M===27)&&(f=f.child,f!==null))for(Lm(f,d,_),f=f.sibling;f!==null;)Lm(f,d,_),f=f.sibling}function Jo(f,d,_){var M=f.tag;if(M===5||M===6)f=f.stateNode,d?v1(_,f,d):p1(_,f);else if(!(M===4||ci&&M===27)&&(f=f.child,f!==null))for(Jo(f,d,_),f=f.sibling;f!==null;)Jo(f,d,_),f=f.sibling}function a0(f,d,_){f=f.containerInfo;try{ef(f,_)}catch(M){$n(d,d.return,M)}}function mh(f,d){for(_0(f.containerInfo),pn=d;pn!==null;)if(f=pn,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,pn=d;else for(;pn!==null;){f=pn;var _=f.alternate;switch(d=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&_!==null){d=void 0;var M=f,N=_.memoizedProps;_=_.memoizedState;var B=M.stateNode;try{var re=Ko(M.type,N,M.elementType===M.type);d=B.getSnapshotBeforeUpdate(re,_),B.__reactInternalSnapshotBeforeUpdate=d}catch(_e){$n(M,M.return,_e)}}break;case 3:(d&1024)!==0&&cr&&T1(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=f.sibling,d!==null){d.return=f.return,pn=d;break}pn=f.return}return re=On,On=!1,re}function s0(f,d,_){var M=_.flags;switch(_.tag){case 0:case 11:case 15:el(f,_),M&4&&dh(5,_);break;case 1:if(el(f,_),M&4)if(f=_.stateNode,d===null)try{f.componentDidMount()}catch(_e){$n(_,_.return,_e)}else{var N=Ko(_.type,d.memoizedProps);d=d.memoizedState;try{f.componentDidUpdate(N,d,f.__reactInternalSnapshotBeforeUpdate)}catch(_e){$n(_,_.return,_e)}}M&64&&$x(_),M&512&&Vs(_,_.return);break;case 3:if(el(f,_),M&64&&(M=_.updateQueue,M!==null)){if(f=null,_.child!==null)switch(_.child.tag){case 27:case 5:f=Zu(_.child.stateNode);break;case 1:f=_.child.stateNode}try{Ct(M,f)}catch(_e){$n(_,_.return,_e)}}break;case 26:if(Za){el(f,_),M&512&&Vs(_,_.return);break}case 27:case 5:el(f,_),d===null&&M&4&&Nm(_),M&512&&Vs(_,_.return);break;case 12:el(f,_);break;case 13:el(f,_),M&4&&o0(f,_);break;case 22:if(N=_.memoizedState!==null||Ao,!N){d=d!==null&&d.memoizedState!==null||Bi;var B=Ao,re=Bi;Ao=N,(Bi=d)&&!re?tl(f,_,(_.subtreeFlags&8772)!==0):el(f,_),Ao=B,Bi=re}M&512&&(_.memoizedProps.mode==="manual"?Vs(_,_.return):Aa(_,_.return));break;default:el(f,_)}}function Um(f){var d=f.alternate;d!==null&&(f.alternate=null,Um(d)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(d=f.stateNode,d!==null&&qS(d)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Fr(f,d,_){for(_=_.child;_!==null;)kl(f,d,_),_=_.sibling}function kl(f,d,_){if(Ra&&typeof Ra.onCommitFiberUnmount=="function")try{Ra.onCommitFiberUnmount(Wi,_)}catch{}switch(_.tag){case 26:if(Za){Bi||Aa(_,d),Fr(f,d,_),_.memoizedState?Fc(_.memoizedState):_.stateNode&&tf(_.stateNode);break}case 27:if(ci){Bi||Aa(_,d);var M=Qt,N=_n;Qt=_.stateNode,Fr(f,d,_),Jl(_.stateNode),Qt=M,_n=N;break}case 5:Bi||Aa(_,d);case 6:if(cr){if(M=Qt,N=_n,Qt=null,Fr(f,d,_),Qt=M,_n=N,Qt!==null)if(_n)try{y1(Qt,_.stateNode)}catch(B){$n(_,d,B)}else try{rg(Qt,_.stateNode)}catch(B){$n(_,d,B)}}else Fr(f,d,_);break;case 18:cr&&Qt!==null&&(_n?Dh(Qt,_.stateNode):I1(Qt,_.stateNode));break;case 4:cr?(M=Qt,N=_n,Qt=_.stateNode.containerInfo,_n=!0,Fr(f,d,_),Qt=M,_n=N):(Ss&&a0(_.stateNode,_,Nh()),Fr(f,d,_));break;case 0:case 11:case 14:case 15:Bi||Bl(2,_,d),Bi||Bl(4,_,d),Fr(f,d,_);break;case 1:Bi||(Aa(_,d),M=_.stateNode,typeof M.componentWillUnmount=="function"&&Ta(_,d,M)),Fr(f,d,_);break;case 21:Fr(f,d,_);break;case 22:Bi||Aa(_,d),Bi=(M=Bi)||_.memoizedState!==null,Fr(f,d,_),Bi=M;break;default:Fr(f,d,_)}}function o0(f,d){if(kr&&d.memoizedState===null&&(f=d.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{$S(f)}catch(_){$n(d,d.return,_)}}function e1(f){switch(f.tag){case 13:case 19:var d=f.stateNode;return d===null&&(d=f.stateNode=new ei),d;case 22:return f=f.stateNode,d=f._retryCache,d===null&&(d=f._retryCache=new ei),d;default:throw Error(r(435,f.tag))}}function $o(f,d){var _=e1(f);d.forEach(function(M){var N=Yl.bind(null,f,M);_.has(M)||(_.add(M),M.then(N,N))})}function la(f,d){var _=d.deletions;if(_!==null)for(var M=0;M<_.length;M++){var N=_[M],B=f,re=d;if(cr){var _e=re;e:for(;_e!==null;){switch(_e.tag){case 27:case 5:Qt=_e.stateNode,_n=!1;break e;case 3:Qt=_e.stateNode.containerInfo,_n=!0;break e;case 4:Qt=_e.stateNode.containerInfo,_n=!0;break e}_e=_e.return}if(Qt===null)throw Error(r(160));kl(B,re,N),Qt=null,_n=!1}else kl(B,re,N);B=N.alternate,B!==null&&(B.return=null),N.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)Fm(d,f),d=d.sibling}function Fm(f,d){var _=f.alternate,M=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:la(d,f),ba(f),M&4&&(Bl(3,f,f.return),dh(3,f),Bl(5,f,f.return));break;case 1:la(d,f),ba(f),M&512&&(Bi||_===null||Aa(_,_.return)),M&64&&Ao&&(f=f.updateQueue,f!==null&&(M=f.callbacks,M!==null&&(_=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=_===null?M:_.concat(M))));break;case 26:if(Za){var N=Oi;la(d,f),ba(f),M&512&&(Bi||_===null||Aa(_,_.return)),M&4&&(M=_!==null?_.memoizedState:null,d=f.memoizedState,_===null?d===null?f.stateNode===null?f.stateNode=Lh(N,f.type,f.memoizedProps,f):Uh(N,f.type,f.stateNode):f.stateNode=U1(N,d,f.memoizedProps):M!==d?(M===null?_.stateNode!==null&&tf(_.stateNode):Fc(M),d===null?Uh(N,f.type,f.stateNode):U1(N,d,f.memoizedProps)):d===null&&f.stateNode!==null&&Dm(f,f.memoizedProps,_.memoizedProps));break}case 27:if(ci&&M&4&&f.alternate===null){N=f.stateNode;var B=f.memoizedProps;try{Ql(N),k1(f.type,B,N,f)}catch(Tt){$n(f,f.return,Tt)}}case 5:if(la(d,f),ba(f),M&512&&(Bi||_===null||Aa(_,_.return)),cr){if(f.flags&32){d=f.stateNode;try{ag(d)}catch(Tt){$n(f,f.return,Tt)}}M&4&&f.stateNode!=null&&(d=f.memoizedProps,Dm(f,d,_!==null?_.memoizedProps:d)),M&1024&&(vg=!0)}break;case 6:if(la(d,f),ba(f),M&4&&cr){if(f.stateNode===null)throw Error(r(162));M=f.memoizedProps,_=_!==null?_.memoizedProps:M,d=f.stateNode;try{m1(d,_,M)}catch(Tt){$n(f,f.return,Tt)}}break;case 3:if(Za?(F1(),N=Oi,Oi=O0(d.containerInfo),la(d,f),Oi=N):la(d,f),ba(f),M&4){if(cr&&kr&&_!==null&&_.memoizedState.isDehydrated)try{JS(d.containerInfo)}catch(Tt){$n(f,f.return,Tt)}if(Ss){M=d.containerInfo,_=d.pendingChildren;try{ef(M,_)}catch(Tt){$n(f,f.return,Tt)}}}vg&&(vg=!1,t1(f));break;case 4:Za?(_=Oi,Oi=O0(f.stateNode.containerInfo),la(d,f),ba(f),Oi=_):(la(d,f),ba(f)),M&4&&Ss&&a0(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:la(d,f),ba(f);break;case 13:la(d,f),ba(f),f.child.flags&8192&&f.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(pa=Ts()),M&4&&(M=f.updateQueue,M!==null&&(f.updateQueue=null,$o(f,M)));break;case 22:M&512&&(Bi||_===null||Aa(_,_.return)),N=f.memoizedState!==null;var re=_!==null&&_.memoizedState!==null,_e=Ao,Fe=Bi;if(Ao=_e||N,Bi=Fe||re,la(d,f),Bi=Fe,Ao=_e,ba(f),d=f.stateNode,d._current=f,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,M&8192&&(d._visibility=N?d._visibility&-2:d._visibility|1,N&&(d=Ao||Bi,_===null||re||d||ku(f)),cr&&(f.memoizedProps===null||f.memoizedProps.mode!=="manual"))){e:if(_=null,cr)for(d=f;;){if(d.tag===5||Za&&d.tag===26||ci&&d.tag===27){if(_===null){re=_=d;try{B=re.stateNode,N?_1(B):S1(re.stateNode,re.memoizedProps)}catch(Tt){$n(re,re.return,Tt)}}}else if(d.tag===6){if(_===null){re=d;try{var rt=re.stateNode;N?E1(rt):ZS(rt,re.memoizedProps)}catch(Tt){$n(re,re.return,Tt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===f)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;_===d&&(_=null),d=d.return}_===d&&(_=null),d.sibling.return=d.return,d=d.sibling}}M&4&&(M=f.updateQueue,M!==null&&(_=M.retryQueue,_!==null&&(M.retryQueue=null,$o(f,_))));break;case 19:la(d,f),ba(f),M&4&&(M=f.updateQueue,M!==null&&(f.updateQueue=null,$o(f,M)));break;case 21:break;default:la(d,f),ba(f)}}function ba(f){var d=f.flags;if(d&2){try{if(cr&&(!ci||f.tag!==27)){e:{for(var _=f.return;_!==null;){if(Im(_)){var M=_;break e}_=_.return}throw Error(r(160))}switch(M.tag){case 27:if(ci){var N=M.stateNode,B=ph(f);Jo(f,B,N);break}case 5:var re=M.stateNode;M.flags&32&&(ag(re),M.flags&=-33);var _e=ph(f);Jo(f,_e,re);break;case 3:case 4:var Fe=M.stateNode.containerInfo,rt=ph(f);Lm(f,rt,Fe);break;default:throw Error(r(161))}}}catch(Tt){$n(f,f.return,Tt)}f.flags&=-3}d&4096&&(f.flags&=-4097)}function t1(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var d=f;t1(d),d.tag===5&&d.flags&1024&&T0(d.stateNode),f=f.sibling}}function el(f,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)s0(f,d.alternate,d),d=d.sibling}function ku(f){for(f=f.child;f!==null;){var d=f;switch(d.tag){case 0:case 11:case 14:case 15:Bl(4,d,d.return),ku(d);break;case 1:Aa(d,d.return);var _=d.stateNode;typeof _.componentWillUnmount=="function"&&Ta(d,d.return,_),ku(d);break;case 26:case 27:case 5:Aa(d,d.return),ku(d);break;case 22:Aa(d,d.return),d.memoizedState===null&&ku(d);break;default:ku(d)}f=f.sibling}}function tl(f,d,_){for(_=_&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var M=d.alternate,N=f,B=d,re=B.flags;switch(B.tag){case 0:case 11:case 15:tl(N,B,_),dh(4,B);break;case 1:if(tl(N,B,_),M=B,N=M.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(rt){$n(M,M.return,rt)}if(M=B,N=M.updateQueue,N!==null){var _e=M.stateNode;try{var Fe=N.shared.hiddenCallbacks;if(Fe!==null)for(N.shared.hiddenCallbacks=null,N=0;N<Fe.length;N++)Me(Fe[N],_e)}catch(rt){$n(M,M.return,rt)}}_&&re&64&&$x(B),Vs(B,B.return);break;case 26:case 27:case 5:tl(N,B,_),_&&M===null&&re&4&&Nm(B),Vs(B,B.return);break;case 12:tl(N,B,_);break;case 13:tl(N,B,_),_&&re&4&&o0(N,B);break;case 22:B.memoizedState===null&&tl(N,B,_),Vs(B,B.return);break;default:tl(N,B,_)}d=d.sibling}}function l0(f,d){var _=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),f=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(f=d.memoizedState.cachePool.pool),f!==_&&(f!=null&&f.refCount++,_!=null&&fh(_))}function gh(f,d){f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&fh(f))}function Er(f,d,_,M){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Pm(f,d,_,M),d=d.sibling}function Pm(f,d,_,M){var N=d.flags;switch(d.tag){case 0:case 11:case 15:Er(f,d,_,M),N&2048&&dh(9,d);break;case 3:Er(f,d,_,M),N&2048&&(f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&fh(f)));break;case 12:if(N&2048){Er(f,d,_,M),f=d.stateNode;try{var B=d.memoizedProps,re=B.id,_e=B.onPostCommit;typeof _e=="function"&&_e(re,d.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Fe){$n(d,d.return,Fe)}}else Er(f,d,_,M);break;case 23:break;case 22:B=d.stateNode,d.memoizedState!==null?B._visibility&4?Er(f,d,_,M):Zr(f,d):B._visibility&4?Er(f,d,_,M):(B._visibility|=4,Pr(f,d,_,M,(d.subtreeFlags&10256)!==0)),N&2048&&l0(d.alternate,d);break;case 24:Er(f,d,_,M),N&2048&&gh(d.alternate,d);break;default:Er(f,d,_,M)}}function Pr(f,d,_,M,N){for(N=N&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var B=f,re=d,_e=_,Fe=M,rt=re.flags;switch(re.tag){case 0:case 11:case 15:Pr(B,re,_e,Fe,N),dh(8,re);break;case 23:break;case 22:var Tt=re.stateNode;re.memoizedState!==null?Tt._visibility&4?Pr(B,re,_e,Fe,N):Zr(B,re):(Tt._visibility|=4,Pr(B,re,_e,Fe,N)),N&&rt&2048&&l0(re.alternate,re);break;case 24:Pr(B,re,_e,Fe,N),N&&rt&2048&&gh(re.alternate,re);break;default:Pr(B,re,_e,Fe,N)}d=d.sibling}}function Zr(f,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var _=f,M=d,N=M.flags;switch(M.tag){case 22:Zr(_,M),N&2048&&l0(M.alternate,M);break;case 24:Zr(_,M),N&2048&&gh(M.alternate,M);break;default:Zr(_,M)}d=d.sibling}}function vs(f){if(f.subtreeFlags&is)for(f=f.child;f!==null;)c0(f),f=f.sibling}function c0(f){switch(f.tag){case 26:vs(f),f.flags&is&&(f.memoizedState!==null?B1(Oi,f.memoizedState,f.memoizedProps):fa(f.type,f.memoizedProps));break;case 5:vs(f),f.flags&is&&fa(f.type,f.memoizedProps);break;case 3:case 4:if(Za){var d=Oi;Oi=O0(f.stateNode.containerInfo),vs(f),Oi=d}else vs(f);break;case 22:f.memoizedState===null&&(d=f.alternate,d!==null&&d.memoizedState!==null?(d=is,is=16777216,vs(f),is=d):vs(f));break;default:vs(f)}}function vh(f){var d=f.alternate;if(d!==null&&(f=d.child,f!==null)){d.child=null;do d=f.sibling,f.sibling=null,f=d;while(f!==null)}}function zl(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var _=0;_<d.length;_++){var M=d[_];pn=M,Bm(M,f)}vh(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)u0(f),f=f.sibling}function u0(f){switch(f.tag){case 0:case 11:case 15:zl(f),f.flags&2048&&Bl(9,f,f.return);break;case 3:zl(f);break;case 12:zl(f);break;case 22:var d=f.stateNode;f.memoizedState!==null&&d._visibility&4&&(f.return===null||f.return.tag!==13)?(d._visibility&=-5,nl(f)):zl(f);break;default:zl(f)}}function nl(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var _=0;_<d.length;_++){var M=d[_];pn=M,Bm(M,f)}vh(f)}for(f=f.child;f!==null;){switch(d=f,d.tag){case 0:case 11:case 15:Bl(8,d,d.return),nl(d);break;case 22:_=d.stateNode,_._visibility&4&&(_._visibility&=-5,nl(d));break;default:nl(d)}f=f.sibling}}function Bm(f,d){for(;pn!==null;){var _=pn;switch(_.tag){case 0:case 11:case 15:Bl(8,_,d);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var M=_.memoizedState.cachePool.pool;M!=null&&M.refCount++}break;case 24:fh(_.memoizedState.cache)}if(M=_.child,M!==null)M.return=_,pn=M;else e:for(_=f;pn!==null;){M=pn;var N=M.sibling,B=M.return;if(Um(M),M===_){pn=null;break e}if(N!==null){N.return=B,pn=N;break e}pn=B}}}function zu(f){var d=o1(f);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(r(364));return d}if(f=tg(f),f===null)throw Error(r(362));return f.stateNode.current}function Vl(f,d){var _=f.tag;switch(d.$$typeof){case ff:if(f.type===d.value)return!0;break;case ws:e:{for(d=d.value,f=[f,0],_=0;_<f.length;){var M=f[_++],N=M.tag,B=f[_++],re=d[B];if(N!==5&&N!==26&&N!==27||!Ju(M)){for(;re!=null&&Vl(M,re);)B++,re=d[B];if(B===d.length){d=!0;break e}else for(M=M.child;M!==null;)f.push(M,B),M=M.sibling}}d=!1}return d;case bi:if((_===5||_===26||_===27)&&f1(f.stateNode,d.value))return!0;break;case bo:if((_===5||_===6||_===26||_===27)&&(f=u1(f),f!==null&&0<=f.indexOf(d.value)))return!0;break;case Qs:if((_===5||_===26||_===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function km(f){switch(f.$$typeof){case ff:return"<"+(s(f.value)||"Unknown")+">";case ws:return":has("+(km(f)||"")+")";case bi:return'[role="'+f.value+'"]';case bo:return'"'+f.value+'"';case Qs:return'[data-testname="'+f.value+'"]';default:throw Error(r(365))}}function Ma(f,d){var _=[];f=[f,0];for(var M=0;M<f.length;){var N=f[M++],B=N.tag,re=f[M++],_e=d[re];if(B!==5&&B!==26&&B!==27||!Ju(N)){for(;_e!=null&&Vl(N,_e);)re++,_e=d[re];if(re===d.length)_.push(N);else for(N=N.child;N!==null;)f.push(N,re),N=N.sibling}}return _}function xh(f,d){if(!Zl)throw Error(r(363));f=zu(f),f=Ma(f,d),d=[],f=Array.from(f);for(var _=0;_<f.length;){var M=f[_++],N=M.tag;if(N===5||N===26||N===27)Ju(M)||d.push(M.stateNode);else for(M=M.child;M!==null;)f.push(M),M=M.sibling}return d}function Hi(){if((Gn&2)!==0&&Fn!==0)return Fn&-Fn;if(sn.T!==null){var f=$a;return f!==0?f:Qe()}return l1()}function zm(){ss===0&&(ss=(Fn&536870912)===0||Vn?I():536870912);var f=es.current;return f!==null&&(f.flags|=32),ss}function Sr(f,d,_){(f===ti&&oi===2||f.cancelPendingCommit!==null)&&(Br(f,0),wa(f,Fn,ss,!1)),k(f,_),((Gn&2)===0||f!==ti)&&(f===ti&&((Gn&2)===0&&(gl|=_),hi===4&&wa(f,Fn,ss,!1)),$e(f))}function Hl(f,d,_){if((Gn&6)!==0)throw Error(r(327));var M=!_&&(d&60)===0&&(d&f.expiredLanes)===0||F(f,d),N=M?Hm(f,d):h0(f,d,!0),B=M;do{if(N===0){rs&&!M&&wa(f,d,0,!1);break}else if(N===6)wa(f,d,0,!Cs);else{if(_=f.current.alternate,B&&!Vu(_)){N=h0(f,d,!1),B=!1;continue}if(N===2){if(B=d,f.errorRecoveryDisabledLanes&B)var re=0;else re=f.pendingLanes&-536870913,re=re!==0?re:re&536870912?536870912:0;if(re!==0){d=re;e:{var _e=f;N=Qc;var Fe=kr&&_e.current.memoizedState.isDehydrated;if(Fe&&(Br(_e,re).flags|=256),re=h0(_e,re,!1),re!==2){if(hr&&!Fe){_e.errorRecoveryDisabledLanes|=B,gl|=B,N=4;break e}B=ki,ki=N,B!==null&&yh(B)}N=re}if(B=!1,N!==2)continue}}if(N===1){Br(f,0),wa(f,d,0,!0);break}e:{switch(M=f,N){case 0:case 1:throw Error(r(345));case 4:if((d&4194176)===d){wa(M,d,ss,!Cs);break e}break;case 2:ki=null;break;case 3:case 5:break;default:throw Error(r(329))}if(M.finishedWork=_,M.finishedLanes=d,(d&62914560)===d&&(B=pa+300-Ts(),10<B)){if(wa(M,d,ss,!Cs),P(M,0)!==0)break e;M.timeoutHandle=$i(f0.bind(null,M,_,ki,Hh,V0,d,ss,gl,Mo,Cs,2,-0,0),B);break e}f0(M,_,ki,Hh,V0,d,ss,gl,Mo,Cs,0,-0,0)}}break}while(!0);$e(f)}function yh(f){ki===null?ki=f:ki.push.apply(ki,f)}function f0(f,d,_,M,N,B,re,_e,Fe,rt,Tt,Nt,Lt){var mn=d.subtreeFlags;if((mn&8192||(mn&16785408)===16785408)&&($m(),c0(d),d=er(),d!==null)){f.cancelPendingCommit=d(Xl.bind(null,f,_,M,N,re,_e,Fe,1,Nt,Lt)),wa(f,B,re,!rt);return}Xl(f,_,M,N,re,_e,Fe,Tt,Nt,Lt)}function Vu(f){for(var d=f;;){var _=d.tag;if((_===0||_===11||_===15)&&d.flags&16384&&(_=d.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var M=0;M<_.length;M++){var N=_[M],B=N.getSnapshot;N=N.value;try{if(!Ca(B(),N))return!1}catch{return!1}}if(_=d.child,d.subtreeFlags&16384&&_!==null)_.return=d,d=_;else{if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function wa(f,d,_,M){d&=~Vh,d&=~gl,f.suspendedLanes|=d,f.pingedLanes&=~d,M&&(f.warmLanes|=d),M=f.expirationTimes;for(var N=d;0<N;){var B=31-ha(N),re=1<<B;M[B]=-1,N&=~re}_!==0&&ee(f,_,d)}function _h(){return(Gn&6)===0?(yt(0),!1):!0}function Hu(){if(tn!==null){if(oi===0)var f=tn.return;else f=tn,ns=Zs=null,ht(f),nc=null,ic=0,f=tn;for(;f!==null;)Jx(f.alternate,f),f=f.return;tn=null}}function Br(f,d){f.finishedWork=null,f.finishedLanes=0;var _=f.timeoutHandle;_!==ql&&(f.timeoutHandle=ql,E0(_)),_=f.cancelPendingCommit,_!==null&&(f.cancelPendingCommit=null,_()),Hu(),ti=f,tn=_=ys(f.current,null),Fn=d,oi=0,Jr=null,Cs=!1,rs=F(f,d),hr=!1,Mo=ss=Vh=gl=as=hi=0,ki=Qc=null,V0=!1,(d&8)!==0&&(d|=d&32);var M=f.entangledLanes;if(M!==0)for(f=f.entanglements,M&=d;0<M;){var N=31-ha(M),B=1<<N;d|=f[N],M&=~B}return $r=d,J(),_}function ja(f,d){Tn=null,sn.H=Pi,d===of?(d=Ft(),oi=3):d===kh?(d=Ft(),oi=4):oi=d===k0?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Jr=d,tn===null&&(hi=1,Iu(f,ne(d,f.current)))}function Gl(){var f=es.current;return f===null?!0:(Fn&4194176)===Fn?ui===null:(Fn&62914560)===Fn||(Fn&536870912)!==0?f===ui:!1}function ho(){var f=sn.H;return sn.H=Pi,f===null?Pi:f}function po(){var f=sn.A;return sn.A=uf,f}function il(){hi=4,Cs||(Fn&4194176)!==Fn&&es.current!==null||(rs=!0),(as&134217727)===0&&(gl&134217727)===0||ti===null||wa(ti,Fn,ss,!1)}function h0(f,d,_){var M=Gn;Gn|=2;var N=ho(),B=po();(ti!==f||Fn!==d)&&(Hh=null,Br(f,d)),d=!1;var re=hi;e:do try{if(oi!==0&&tn!==null){var _e=tn,Fe=Jr;switch(oi){case 8:Hu(),re=6;break e;case 3:case 2:case 6:es.current===null&&(d=!0);var rt=oi;if(oi=0,Jr=null,xs(f,_e,Fe,rt),_&&rs){re=0;break e}break;default:rt=oi,oi=0,Jr=null,xs(f,_e,Fe,rt)}}Vm(),re=hi;break}catch(Tt){ja(f,Tt)}while(!0);return d&&f.shellSuspendCounter++,ns=Zs=null,Gn=M,sn.H=N,sn.A=B,tn===null&&(ti=null,Fn=0,J()),re}function Vm(){for(;tn!==null;)Ci(tn)}function Hm(f,d){var _=Gn;Gn|=2;var M=ho(),N=po();ti!==f||Fn!==d?(Hh=null,hf=Ts()+500,Br(f,d)):rs=F(f,d);e:do try{if(oi!==0&&tn!==null){d=tn;var B=Jr;t:switch(oi){case 1:oi=0,Jr=null,xs(f,d,B,1);break;case 2:if(It(B)){oi=0,Jr=null,Wn(d);break}d=function(){oi===2&&ti===f&&(oi=7),$e(f)},B.then(d,d);break e;case 3:oi=7;break e;case 4:oi=5;break e;case 7:It(B)?(oi=0,Jr=null,Wn(d)):(oi=0,Jr=null,xs(f,d,B,7));break;case 5:var re=null;switch(tn.tag){case 26:re=tn.memoizedState;case 5:case 27:var _e=tn,Fe=_e.type,rt=_e.pendingProps;if(re?Pc(re):S0(Fe,rt)){oi=0,Jr=null;var Tt=_e.sibling;if(Tt!==null)tn=Tt;else{var Nt=_e.return;Nt!==null?(tn=Nt,qa(Nt)):tn=null}break t}}oi=0,Jr=null,xs(f,d,B,5);break;case 6:oi=0,Jr=null,xs(f,d,B,6);break;case 8:Hu(),hi=6;break e;default:throw Error(r(462))}}ca();break}catch(Lt){ja(f,Lt)}while(!0);return ns=Zs=null,sn.H=M,sn.A=N,Gn=_,tn!==null?0:(ti=null,Fn=0,J(),hi)}function ca(){for(;tn!==null&&!H1();)Ci(tn)}function Ci(f){var d=Kx(f.alternate,f,$r);f.memoizedProps=f.pendingProps,d===null?qa(f):tn=d}function Wn(f){var d=f,_=d.alternate;switch(d.tag){case 15:case 0:d=Gx(_,d,d.pendingProps,d.type,void 0,Fn);break;case 11:d=Gx(_,d,d.pendingProps,d.type.render,d.ref,Fn);break;case 5:ht(d);default:Jx(_,d),d=tn=Sh(d,$r),d=Kx(_,d,$r)}f.memoizedProps=f.pendingProps,d===null?qa(f):tn=d}function xs(f,d,_,M){ns=Zs=null,ht(d),nc=null,ic=0;var N=d.return;try{if(GS(f,N,d,_,Fn)){hi=1,Iu(f,ne(_,f.current)),tn=null;return}}catch(B){if(N!==null)throw tn=N,B;hi=1,Iu(f,ne(_,f.current)),tn=null;return}d.flags&32768?(Vn||M===1?f=!0:rs||(Fn&536870912)!==0?f=!1:(Cs=f=!0,(M===2||M===3||M===6)&&(M=es.current,M!==null&&M.tag===13&&(M.flags|=16384))),d0(d,f)):qa(d)}function qa(f){var d=f;do{if((d.flags&32768)!==0){d0(d,Cs);return}f=d.return;var _=Qx(d.alternate,d,$r);if(_!==null){tn=_;return}if(d=d.sibling,d!==null){tn=d;return}tn=d=f}while(d!==null);hi===0&&(hi=5)}function d0(f,d){do{var _=WS(f.alternate,f);if(_!==null){_.flags&=32767,tn=_;return}if(_=f.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!d&&(f=f.sibling,f!==null)){tn=f;return}tn=f=_}while(f!==null);hi=6,tn=null}function Xl(f,d,_,M,N,B,re,_e,Fe,rt){var Tt=sn.T,Nt=cl();try{Qr(2),sn.T=null,n1(f,d,_,M,Nt,N,B,re,_e,Fe,rt)}finally{sn.T=Tt,Qr(Nt)}}function n1(f,d,_,M,N,B,re,_e){do Hs();while(wo!==null);if((Gn&6)!==0)throw Error(r(327));var Fe=f.finishedWork;if(M=f.finishedLanes,Fe===null)return null;if(f.finishedWork=null,f.finishedLanes=0,Fe===f.current)throw Error(r(177));f.callbackNode=null,f.callbackPriority=0,f.cancelPendingCommit=null;var rt=Fe.lanes|Fe.childLanes;if(rt|=qs,G(f,M,rt,B,re,_e),f===ti&&(tn=ti=null,Fn=0),(Fe.subtreeFlags&10256)===0&&(Fe.flags&10256)===0||Js||(Js=!0,lc=rt,H0=_,al(U0,function(){return Hs(),null})),_=(Fe.flags&15990)!==0,(Fe.subtreeFlags&15990)!==0||_?(_=sn.T,sn.T=null,B=cl(),Qr(2),re=Gn,Gn|=4,mh(f,Fe),Fm(Fe,f),s1(f.containerInfo),f.current=Fe,s0(f,Fe.alternate,Fe),I0(),Gn=re,Qr(B),sn.T=_):f.current=Fe,Js?(Js=!1,wo=f,Jc=M):Gm(f,rt),rt=f.pendingLanes,rt===0&&(oc=null),W(Fe.stateNode),$e(f),d!==null)for(N=f.onRecoverableError,Fe=0;Fe<d.length;Fe++)rt=d[Fe],N(rt.value,{componentStack:rt.stack});return(Jc&3)!==0&&Hs(),rt=f.pendingLanes,(M&4194218)!==0&&(rt&42)!==0?f===G0?df++:(df=0,G0=f):df=0,yt(0),null}function Gm(f,d){(f.pooledCacheLanes&=d)===0&&(d=f.pooledCache,d!=null&&(f.pooledCache=null,fh(d)))}function Hs(){if(wo!==null){var f=wo,d=lc;lc=0;var _=pe(Jc),M=32>_?32:_;_=sn.T;var N=cl();try{if(Qr(M),sn.T=null,wo===null)var B=!1;else{M=H0,H0=null;var re=wo,_e=Jc;if(wo=null,Jc=0,(Gn&6)!==0)throw Error(r(331));var Fe=Gn;if(Gn|=4,u0(re.current),Pm(re,re.current,_e,M),Gn=Fe,yt(0,!1),Ra&&typeof Ra.onPostCommitFiberRoot=="function")try{Ra.onPostCommitFiberRoot(Wi,re)}catch{}B=!0}return B}finally{Qr(N),sn.T=_,Gm(f,d)}}return!1}function Gu(f,d,_){d=ne(_,d),d=Uu(f.stateNode,d,2),f=At(f,d,2),f!==null&&(k(f,2),$e(f))}function $n(f,d,_){if(f.tag===3)Gu(f,f,_);else for(;d!==null;){if(d.tag===3){Gu(d,f,_);break}else if(d.tag===1){var M=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(oc===null||!oc.has(M))){f=ne(_,f),_=Sm(2),M=At(d,_,2),M!==null&&(Bx(_,M,d,f),k(M,2),$e(M));break}}d=d.return}}function Lc(f,d,_){var M=f.pingCache;if(M===null){M=f.pingCache=new Rs;var N=new Set;M.set(d,N)}else N=M.get(d),N===void 0&&(N=new Set,M.set(d,N));N.has(_)||(hr=!0,N.add(_),f=Xm.bind(null,f,d,_),d.then(f,f))}function Xm(f,d,_){var M=f.pingCache;M!==null&&M.delete(d),f.pingedLanes|=f.suspendedLanes&_,f.warmLanes&=~_,ti===f&&(Fn&_)===_&&(hi===4||hi===3&&(Fn&62914560)===Fn&&300>Ts()-pa?(Gn&2)===0&&Br(f,0):Vh|=_,Mo===Fn&&(Mo=0)),$e(f)}function Wl(f,d){d===0&&(d=C()),f=Re(f,d),f!==null&&(k(f,d),$e(f))}function rl(f){var d=f.memoizedState,_=0;d!==null&&(_=d.retryLane),Wl(f,_)}function Yl(f,d){var _=0;switch(f.tag){case 13:var M=f.stateNode,N=f.memoizedState;N!==null&&(_=N.retryLane);break;case 19:M=f.stateNode;break;case 22:M=f.stateNode._retryCache;break;default:throw Error(r(314))}M!==null&&M.delete(d),Wl(f,_)}function al(f,d){return Fh(f,d)}function Wm(f,d,_,M){this.tag=f,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Eh(f){return f=f.prototype,!(!f||!f.isReactComponent)}function ys(f,d){var _=f.alternate;return _===null?(_=t(f.tag,d,f.key,f.mode),_.elementType=f.elementType,_.type=f.type,_.stateNode=f.stateNode,_.alternate=f,f.alternate=_):(_.pendingProps=d,_.type=f.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=f.flags&31457280,_.childLanes=f.childLanes,_.lanes=f.lanes,_.child=f.child,_.memoizedProps=f.memoizedProps,_.memoizedState=f.memoizedState,_.updateQueue=f.updateQueue,d=f.dependencies,_.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},_.sibling=f.sibling,_.index=f.index,_.ref=f.ref,_.refCleanup=f.refCleanup,_}function Sh(f,d){f.flags&=31457282;var _=f.alternate;return _===null?(f.childLanes=0,f.lanes=d,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=_.childLanes,f.lanes=_.lanes,f.child=_.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=_.memoizedProps,f.memoizedState=_.memoizedState,f.updateQueue=_.updateQueue,f.type=_.type,d=_.dependencies,f.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),f}function mo(f,d,_,M,N,B){var re=0;if(M=f,typeof f=="function")Eh(f)&&(re=1);else if(typeof f=="string")re=Za&&ci?Ih(f,_,ur.current)?26:vo(f)?27:5:Za?Ih(f,_,ur.current)?26:5:ci&&vo(f)?27:5;else e:switch(f){case jl:return Fi(_.children,N,B,d);case Mh:re=8,N|=24;break;case v0:return f=t(12,_,d,N|2),f.elementType=v0,f.lanes=B,f;case x0:return f=t(13,_,d,N),f.elementType=x0,f.lanes=B,f;case ju:return f=t(19,_,d,N),f.elementType=ju,f.lanes=B,f;case qm:return Th(_,N,B,d);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case wh:case Gs:re=10;break e;case jm:re=9;break e;case Rh:re=11;break e;case y0:re=14;break e;case Es:re=16,M=null;break e}re=29,_=Error(r(130,f===null?"null":typeof f,"")),M=null}return d=t(re,_,d,N),d.elementType=f,d.type=M,d.lanes=B,d}function Fi(f,d,_,M){return f=t(7,f,M,d),f.lanes=_,f}function Th(f,d,_,M){f=t(22,f,M,d),f.elementType=qm,f.lanes=_;var N={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var B=N._current;if(B===null)throw Error(r(456));if((N._pendingVisibility&2)===0){var re=Re(B,2);re!==null&&(N._pendingVisibility|=2,Sr(re,B,2))}},attach:function(){var B=N._current;if(B===null)throw Error(r(456));if((N._pendingVisibility&2)!==0){var re=Re(B,2);re!==null&&(N._pendingVisibility&=-3,Sr(re,B,2))}}};return f.stateNode=N,f}function p0(f,d,_){return f=t(6,f,null,d),f.lanes=_,f}function Ym(f,d,_){return d=t(4,f.children!==null?f.children:[],f.key,d),d.lanes=_,d.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},d}function YS(f,d,_,M,N,B,re,_e){this.tag=1,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ql,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=M,this.onUncaughtError=N,this.onCaughtError=B,this.onRecoverableError=re,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_e,this.incompleteTransitions=new Map}function i1(f,d,_,M,N,B,re,_e,Fe,rt,Tt,Nt){return f=new YS(f,d,_,re,_e,Fe,rt,Nt),d=1,B===!0&&(d|=24),B=t(3,null,null,d),f.current=B,B.stateNode=f,d=Pl(),d.refCount++,f.pooledCache=d,d.refCount++,B.memoizedState={element:M,isDehydrated:_,cache:d},xt(B),f}function Ji(f){return f?(f=$l,f):$l}function m0(f){var d=f._reactInternals;if(d===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=y(d),f=f!==null?E(f):null,f===null?null:Zu(f.stateNode)}function Xu(f,d,_,M,N,B){N=Ji(N),M.context===null?M.context=N:M.pendingContext=N,M=Je(d),M.payload={element:_},B=B===void 0?null:B,B!==null&&(M.callback=B),_=At(f,M,d),_!==null&&(Sr(_,f,d),Bt(_,f,d))}function Wu(f,d){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var _=f.retryLane;f.retryLane=_!==0&&_<d?_:d}}function Ah(f,d){Wu(f,d),(f=f.alternate)&&Wu(f,d)}var gn={},Yu=$p(),Ka=RI(),g0=Object.assign,jS=Symbol.for("react.element"),bh=Symbol.for("react.transitional.element"),_s=Symbol.for("react.portal"),jl=Symbol.for("react.fragment"),Mh=Symbol.for("react.strict_mode"),v0=Symbol.for("react.profiler"),wh=Symbol.for("react.provider"),jm=Symbol.for("react.consumer"),Gs=Symbol.for("react.context"),Rh=Symbol.for("react.forward_ref"),x0=Symbol.for("react.suspense"),ju=Symbol.for("react.suspense_list"),y0=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),qm=Symbol.for("react.offscreen"),r1=Symbol.for("react.memo_cache_sentinel"),sl=Symbol.iterator,Km=Symbol.for("react.client.reference"),sn=Yu.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,go,ol,Uc=!1,qu=Array.isArray,Zm=e.rendererVersion,Ch=e.rendererPackageName,Ku=e.extraDevToolsConfig,Zu=e.getPublicInstance,a1=e.getRootHostContext,Qu=e.getChildHostContext,_0=e.prepareForCommit,s1=e.resetAfterCommit,Qm=e.createInstance,Oh=e.appendInitialChild,ll=e.finalizeInitialChildren,vn=e.shouldSetTextContent,ai=e.createTextInstance,$i=e.scheduleTimeout,E0=e.cancelTimeout,ql=e.noTimeout,ua=e.isPrimaryRenderer;e.warnsIfNotActing;var cr=e.supportsMutation,Ss=e.supportsPersistence,kr=e.supportsHydration,o1=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Gi=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Qr=e.setCurrentUpdatePriority,cl=e.getCurrentUpdatePriority,l1=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var c1=e.shouldAttemptEagerTransition,qS=e.detachDeletedInstance;e.requestPostPaintCallback;var Jm=e.maySuspendCommit,S0=e.preloadInstance,$m=e.startSuspendingCommit,fa=e.suspendInstance,er=e.waitForCommitToBeReady,Kl=e.NotPendingTransition,Xs=e.HostTransitionContext,T0=e.resetFormInstance;e.bindToConsole;var eg=e.supportsMicrotasks,ul=e.scheduleMicrotask,Zl=e.supportsTestSelectors,tg=e.findFiberRoot,ng=e.getBoundingRect,u1=e.getTextContent,Ju=e.isHiddenSubtree,f1=e.matchAccessibilityRole,h1=e.setFocusIfFocusable,d1=e.setupIntersectionObserver,p1=e.appendChild,ig=e.appendChildToContainer,m1=e.commitTextUpdate,KS=e.commitMount,g1=e.commitUpdate,v1=e.insertBefore,x1=e.insertInContainerBefore,rg=e.removeChild,y1=e.removeChildFromContainer,ag=e.resetTextContent,_1=e.hideInstance,E1=e.hideTextInstance,S1=e.unhideInstance,ZS=e.unhideTextInstance,T1=e.clearContainer,$u=e.cloneInstance,Nh=e.createContainerChildSet,sg=e.appendChildToContainerChildSet,A0=e.finalizeContainerChildren,ef=e.replaceContainerChildren,og=e.cloneHiddenInstance,lg=e.cloneHiddenTextInstance,b0=e.isSuspenseInstancePending,M0=e.isSuspenseInstanceFallback,A1=e.getSuspenseInstanceFallbackErrorDetails,b1=e.registerSuspenseInstanceRetry,cg=e.canHydrateFormStateMarker,M1=e.isFormStateMarkerMatching,ug=e.getNextHydratableSibling,w0=e.getFirstHydratableChild,w1=e.getFirstHydratableChildWithinContainer,R1=e.getFirstHydratableChildWithinSuspenseInstance,QS=e.canHydrateInstance,fg=e.canHydrateTextInstance,C1=e.canHydrateSuspenseInstance,O1=e.hydrateInstance,hg=e.hydrateTextInstance,N1=e.hydrateSuspenseInstance,D1=e.getNextHydratableInstanceAfterSuspenseInstance,JS=e.commitHydratedContainer,$S=e.commitHydratedSuspenseInstance,I1=e.clearSuspenseBoundary,Dh=e.clearSuspenseBoundaryFromContainer,R0=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var C0=e.validateHydratableInstance,L1=e.validateHydratableTextInstance,Za=e.supportsResources,Ih=e.isHostHoistableType,O0=e.getHoistableRoot,dg=e.getResource,U1=e.acquireResource,Fc=e.releaseResource,Lh=e.hydrateHoistable,Uh=e.mountHoistable,tf=e.unmountHoistable,N0=e.createHoistableInstance,F1=e.prepareToCommitHoistables,P1=e.mayResourceSuspendCommit,Pc=e.preloadResource,B1=e.suspendResource,ci=e.supportsSingletons,Ws=e.resolveSingletonInstance,Ql=e.clearSingleton,k1=e.acquireSingletonInstance,Jl=e.releaseSingletonInstance,vo=e.isHostSingletonType,Xi=[],fl=-1,$l={},ha=Math.clz32?Math.clz32:w,z1=Math.log,V1=Math.LN2,xo=128,Bc=4194304,Fh=Ka.unstable_scheduleCallback,D0=Ka.unstable_cancelCallback,H1=Ka.unstable_shouldYield,I0=Ka.unstable_requestPaint,Ts=Ka.unstable_now,L0=Ka.unstable_ImmediatePriority,G1=Ka.unstable_UserBlockingPriority,U0=Ka.unstable_NormalPriority,eT=Ka.unstable_IdlePriority,X1=Ka.log,Tr=Ka.unstable_setDisableYieldValue,Wi=null,Ra=null,Ca=typeof Object.is=="function"?Object.is:ie,pg=new WeakMap,kc=[],zc=0,Vc=null,nf=0,Qa=[],Ja=0,ec=null,Ys=1,js="",ur=S(null),rf=S(null),yo=S(null),Hc=S(null),zr=null,Vr=null,Vn=!1,As=null,Ar=!1,Ph=Error(r(519)),bs=[],Gc=0,qs=0,Bh=null,hl=null,Xc=!1,xi=!1,mg=!1,af=0,sf=null,Wc=0,$a=0,Yc=null,dl=!1,jc=!1,_o=Object.prototype.hasOwnProperty,of=Error(r(460)),kh=Error(r(474)),zh={then:function(){}},tc=null,nc=null,ic=0,rc=Vi(!0),Eo=Vi(!1),yi=S(null),lf=S(0),es=S(null),ui=null,fr=S(0),pl=0,Tn=null,en=null,Hn=null,Ms=!1,qc=!1,ac=!1,F0=0,Kc=0,br=null,Ks=0,P0=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Pi={readContext:Ur,use:Te,useCallback:ae,useContext:ae,useEffect:ae,useImperativeHandle:ae,useLayoutEffect:ae,useInsertionEffect:ae,useMemo:ae,useReducer:ae,useRef:ae,useState:ae,useDebugValue:ae,useDeferredValue:ae,useTransition:ae,useSyncExternalStore:ae,useId:ae};Pi.useCacheRefresh=ae,Pi.useMemoCache=ae,Pi.useHostTransitionStatus=ae,Pi.useFormState=ae,Pi.useActionState=ae,Pi.useOptimistic=ae;var sc={readContext:Ur,use:Te,useCallback:function(f,d){return X().memoizedState=[f,d===void 0?null:d],f},useContext:Ur,useEffect:qd,useImperativeHandle:function(f,d,_){_=_!=null?_.concat([f]):null,$f(4194308,4,Kd.bind(null,d,f),_)},useLayoutEffect:function(f,d){return $f(4194308,4,f,d)},useInsertionEffect:function(f,d){$f(4,2,f,d)},useMemo:function(f,d){var _=X();d=d===void 0?null:d;var M=f();if(ac){K(!0);try{f()}finally{K(!1)}}return _.memoizedState=[M,d],M},useReducer:function(f,d,_){var M=X();if(_!==void 0){var N=_(d);if(ac){K(!0);try{_(d)}finally{K(!1)}}}else N=d;return M.memoizedState=M.baseState=N,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:N},M.queue=f,f=f.dispatch=Qd.bind(null,Tn,f),[M.memoizedState,f]},useRef:function(f){var d=X();return f={current:f},d.memoizedState=f},useState:function(f){f=Sn(f);var d=f.queue,_=Em.bind(null,Tn,d);return d.dispatch=_,[f.memoizedState,_]},useDebugValue:Dl,useDeferredValue:function(f,d){var _=X();return nh(_,f,d)},useTransition:function(){var f=Sn(!1);return f=Ru.bind(null,Tn,f.queue,!0,!1),X().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,d,_){var M=Tn,N=X();if(Vn){if(_===void 0)throw Error(r(407));_=_()}else{if(_=d(),ti===null)throw Error(r(349));(Fn&60)!==0||Wt(M,d,_)}N.memoizedState=_;var B={value:_,getSnapshot:d};return N.queue=B,qd(dn.bind(null,M,B,f),[f]),M.flags|=2048,sa(9,Pt.bind(null,M,B,_,d),{destroy:void 0},null),_},useId:function(){var f=X(),d=ti.identifierPrefix;if(Vn){var _=js,M=Ys;_=(M&~(1<<32-ha(M)-1)).toString(32)+_,d=":"+d+"R"+_,_=F0++,0<_&&(d+="H"+_.toString(32)),d+=":"}else _=Ks++,d=":"+d+"r"+_.toString(32)+":";return f.memoizedState=d},useCacheRefresh:function(){return X().memoizedState=_m.bind(null,Tn)}};sc.useMemoCache=Se,sc.useHostTransitionStatus=ih,sc.useFormState=si,sc.useActionState=si,sc.useOptimistic=function(f){var d=X();d.memoizedState=d.baseState=f;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=_,d=Ou.bind(null,Tn,!0,_),_.dispatch=d,[f,d]};var da={readContext:Ur,use:Te,useCallback:Nc,useContext:Ur,useEffect:vm,useImperativeHandle:Zd,useInsertionEffect:Fx,useLayoutEffect:th,useMemo:xm,useReducer:mt,useRef:uo,useState:function(){return mt(tt)},useDebugValue:Dl,useDeferredValue:function(f,d){var _=me();return ym(_,en.memoizedState,f,d)},useTransition:function(){var f=mt(tt)[0],d=me().memoizedState;return[typeof f=="boolean"?f:xe(f),d]},useSyncExternalStore:Yt,useId:Cu};da.useCacheRefresh=qo,da.useMemoCache=Se,da.useHostTransitionStatus=ih,da.useFormState=Ir,da.useActionState=Ir,da.useOptimistic=function(f,d){var _=me();return jn(_,en,f,d)};var ts={readContext:Ur,use:Te,useCallback:Nc,useContext:Ur,useEffect:vm,useImperativeHandle:Zd,useInsertionEffect:Fx,useLayoutEffect:th,useMemo:xm,useReducer:Ot,useRef:uo,useState:function(){return Ot(tt)},useDebugValue:Dl,useDeferredValue:function(f,d){var _=me();return en===null?nh(_,f,d):ym(_,en.memoizedState,f,d)},useTransition:function(){var f=Ot(tt)[0],d=me().memoizedState;return[typeof f=="boolean"?f:xe(f),d]},useSyncExternalStore:Yt,useId:Cu};ts.useCacheRefresh=qo,ts.useMemoCache=Se,ts.useHostTransitionStatus=ih,ts.useFormState=_r,ts.useActionState=_r,ts.useOptimistic=function(f,d){var _=me();return en!==null?jn(_,en,f,d):(_.baseState=f,[f,_.queue.dispatch])};var So={isMounted:function(f){return(f=f._reactInternals)?g(f)===f:!1},enqueueSetState:function(f,d,_){f=f._reactInternals;var M=Hi(),N=Je(M);N.payload=d,_!=null&&(N.callback=_),d=At(f,N,M),d!==null&&(Sr(d,f,M),Bt(d,f,M))},enqueueReplaceState:function(f,d,_){f=f._reactInternals;var M=Hi(),N=Je(M);N.tag=1,N.payload=d,_!=null&&(N.callback=_),d=At(f,N,M),d!==null&&(Sr(d,f,M),Bt(d,f,M))},enqueueForceUpdate:function(f,d){f=f._reactInternals;var _=Hi(),M=Je(_);M.tag=2,d!=null&&(M.callback=d),d=At(f,M,_),d!==null&&(Sr(d,f,_),Bt(d,f,_))}},B0=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},k0=Error(r(461)),fi=!1,z0={dehydrated:null,treeContext:null,retryLane:0},ml=S(null),Zs=null,ns=null,cf=typeof AbortController<"u"?AbortController:function(){var f=[],d=this.signal={aborted:!1,addEventListener:function(_,M){f.push(M)}};this.abort=function(){d.aborted=!0,f.forEach(function(_){return _()})}},W1=Ka.unstable_scheduleCallback,Y1=Ka.unstable_NormalPriority,_i={$$typeof:Gs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},gg=sn.S;sn.S=function(f,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&He(f,d),gg!==null&&gg(f,d)};var To=S(null),Ao=!1,Bi=!1,vg=!1,ei=typeof WeakSet=="function"?WeakSet:Set,pn=null,On=!1,Qt=null,_n=!1,Oi=null,is=8192,uf={getCacheForType:function(f){var d=Ur(_i),_=d.data.get(f);return _===void 0&&(_=f(),d.data.set(f,_)),_}},ff=0,ws=1,bi=2,Qs=3,bo=4;if(typeof Symbol=="function"&&Symbol.for){var Zc=Symbol.for;ff=Zc("selector.component"),ws=Zc("selector.has_pseudo_class"),bi=Zc("selector.role"),Qs=Zc("selector.test_id"),bo=Zc("selector.text")}var Rs=typeof WeakMap=="function"?WeakMap:Map,Gn=0,ti=null,tn=null,Fn=0,oi=0,Jr=null,Cs=!1,rs=!1,hr=!1,$r=0,hi=0,as=0,gl=0,Vh=0,ss=0,Mo=0,Qc=null,ki=null,V0=!1,pa=0,hf=1/0,Hh=null,oc=null,Js=!1,wo=null,Jc=0,lc=0,H0=null,df=0,G0=null;return gn.attemptContinuousHydration=function(f){if(f.tag===13){var d=Re(f,67108864);d!==null&&Sr(d,f,67108864),Ah(f,67108864)}},gn.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var d=Hi(),_=Re(f,d);_!==null&&Sr(_,f,d),Ah(f,d)}},gn.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var d=D(f.pendingLanes);if(d!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;d;){var _=1<<31-ha(d);f.entanglements[1]|=_,d&=~_}$e(f),(Gn&6)===0&&(hf=Ts()+500,yt(0))}}break;case 13:d=Re(f,2),d!==null&&Sr(d,f,2),_h(),Ah(f,2)}},gn.batchedUpdates=function(f,d){return f(d)},gn.createComponentSelector=function(f){return{$$typeof:ff,value:f}},gn.createContainer=function(f,d,_,M,N,B,re,_e,Fe,rt){return i1(f,d,!1,null,_,M,B,re,_e,Fe,rt,null)},gn.createHasPseudoClassSelector=function(f){return{$$typeof:ws,value:f}},gn.createHydrationContainer=function(f,d,_,M,N,B,re,_e,Fe,rt,Tt,Nt,Lt){return f=i1(_,M,!0,f,N,B,_e,Fe,rt,Tt,Nt,Lt),f.context=Ji(null),_=f.current,M=Hi(),N=Je(M),N.callback=d??null,At(_,N,M),f.current.lanes=M,k(f,M),$e(f),f},gn.createPortal=function(f,d,_){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:M==null?null:""+M,children:f,containerInfo:d,implementation:_}},gn.createRoleSelector=function(f){return{$$typeof:bi,value:f}},gn.createTestNameSelector=function(f){return{$$typeof:Qs,value:f}},gn.createTextSelector=function(f){return{$$typeof:bo,value:f}},gn.defaultOnCaughtError=function(f){console.error(f)},gn.defaultOnRecoverableError=function(f){B0(f)},gn.defaultOnUncaughtError=function(f){B0(f)},gn.deferredUpdates=function(f){var d=sn.T,_=cl();try{return Qr(32),sn.T=null,f()}finally{Qr(_),sn.T=d}},gn.discreteUpdates=function(f,d,_,M,N){var B=sn.T,re=cl();try{return Qr(2),sn.T=null,f(d,_,M,N)}finally{Qr(re),sn.T=B,Gn===0&&(hf=Ts()+500)}},gn.findAllNodes=xh,gn.findBoundingRects=function(f,d){if(!Zl)throw Error(r(363));d=xh(f,d),f=[];for(var _=0;_<d.length;_++)f.push(ng(d[_]));for(d=f.length-1;0<d;d--){_=f[d];for(var M=_.x,N=M+_.width,B=_.y,re=B+_.height,_e=d-1;0<=_e;_e--)if(d!==_e){var Fe=f[_e],rt=Fe.x,Tt=rt+Fe.width,Nt=Fe.y,Lt=Nt+Fe.height;if(M>=rt&&B>=Nt&&N<=Tt&&re<=Lt){f.splice(d,1);break}else if(M!==rt||_.width!==Fe.width||Lt<B||Nt>re){if(!(B!==Nt||_.height!==Fe.height||Tt<M||rt>N)){rt>M&&(Fe.width+=rt-M,Fe.x=M),Tt<N&&(Fe.width=N-rt),f.splice(d,1);break}}else{Nt>B&&(Fe.height+=Nt-B,Fe.y=B),Lt<re&&(Fe.height=re-Nt),f.splice(d,1);break}}}return f},gn.findHostInstance=m0,gn.findHostInstanceWithNoPortals=function(f){return f=y(f),f=f!==null?T(f):null,f===null?null:Zu(f.stateNode)},gn.findHostInstanceWithWarning=function(f){return m0(f)},gn.flushPassiveEffects=Hs,gn.flushSyncFromReconciler=function(f){var d=Gn;Gn|=1;var _=sn.T,M=cl();try{if(Qr(2),sn.T=null,f)return f()}finally{Qr(M),sn.T=_,Gn=d,(Gn&6)===0&&yt(0)}},gn.flushSyncWork=_h,gn.focusWithin=function(f,d){if(!Zl)throw Error(r(363));for(f=zu(f),d=Ma(f,d),d=Array.from(d),f=0;f<d.length;){var _=d[f++],M=_.tag;if(!Ju(_)){if((M===5||M===26||M===27)&&h1(_.stateNode))return!0;for(_=_.child;_!==null;)d.push(_),_=_.sibling}}return!1},gn.getFindAllNodesFailureDescription=function(f,d){if(!Zl)throw Error(r(363));var _=0,M=[];f=[zu(f),0];for(var N=0;N<f.length;){var B=f[N++],re=B.tag,_e=f[N++],Fe=d[_e];if((re!==5&&re!==26&&re!==27||!Ju(B))&&(Vl(B,Fe)&&(M.push(km(Fe)),_e++,_e>_&&(_=_e)),_e<d.length))for(B=B.child;B!==null;)f.push(B,_e),B=B.sibling}if(_<d.length){for(f=[];_<d.length;_++)f.push(km(d[_]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},gn.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return Zu(f.child.stateNode);default:return f.child.stateNode}},gn.injectIntoDevTools=function(){var f={bundleType:0,version:Zm,rendererPackageName:Ch,currentDispatcherRef:sn,findFiberByHostInstance:o1,reconcilerVersion:"19.0.0"};if(Ku!==null&&(f.rendererConfig=Ku),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)f=!0;else{try{Wi=d.inject(f),Ra=d}catch{}f=!!d.checkDCE}}return f},gn.isAlreadyRendering=function(){return!1},gn.observeVisibleRects=function(f,d,_,M){if(!Zl)throw Error(r(363));f=xh(f,d);var N=d1(f,_,M).disconnect;return{disconnect:function(){N()}}},gn.shouldError=function(){return null},gn.shouldSuspend=function(){return!1},gn.startHostTransition=function(f,d,_,M){if(f.tag!==5)throw Error(r(476));var N=fo(f).queue;Ru(f,N,d,Kl,_===null?i:function(){var B=fo(f).next.queue;return Il(f,B,{},Hi()),_(M)})},gn.updateContainer=function(f,d,_,M){var N=d.current,B=Hi();return Xu(N,B,f,d,_,M),B},gn.updateContainerSync=function(f,d,_,M){return d.tag===0&&Hs(),Xu(d.current,2,f,d,_,M),2},gn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(M2)),M2.exports}var _3;function sG(){return _3||(_3=1,b2.exports=aG()),b2.exports}var oG=sG();const lG=jE(oG);var E3=RI();function lM(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=lM(i,e,t);if(r)return r;i=e?null:i.sibling}}function CI(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const cM=CI(De.createContext(null));class OI extends De.Component{render(){return De.createElement(cM.Provider,{value:this._reactInternals},this.props.children)}}function NI(){const n=De.useContext(cM);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=De.useId();return De.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=lM(t,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[n,e])}const cG=Symbol.for("react.context"),uG=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===cG;function fG(){const n=NI(),[e]=De.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;uG(i)&&i!==cM&&!e.has(i)&&e.set(i,De.use(CI(i))),t=t.return}return e}function hG(){const n=fG();return De.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>De.createElement(e,null,De.createElement(t.Provider,{...i,value:n.get(t)})),e=>De.createElement(OI,{...e})),[n])}function DI(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const II=n=>n&&n.isOrthographicCamera,dG=n=>n&&n.hasOwnProperty("current"),pG=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),Sx=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?De.useLayoutEffect:De.useEffect;function LI(n){const e=De.useRef(n);return Sx(()=>void(e.current=n),[n]),e}function mG(){const n=NI(),e=hG();return De.useMemo(()=>({children:t})=>{const r=!!lM(n,!0,a=>a.type===De.StrictMode)?De.StrictMode:De.Fragment;return Be.jsx(r,{children:Be.jsx(e,{children:t})})},[n,e])}function gG({set:n}){return Sx(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const vG=(n=>(n=class extends De.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function UI(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function pp(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const ji={obj:n=>n===Object(n)&&!ji.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(ji.str(n)||ji.num(n)||ji.boo(n))return n===e;const a=ji.obj(n);if(a&&i==="reference")return n===e;const s=ji.arr(n);if(s&&t==="reference")return n===e;if((s||a)&&n===e)return!0;let l;for(l in n)if(!(l in e))return!1;if(a&&t==="shallow"&&i==="shallow"){for(l in r?e:n)if(!ji.equ(n[l],e[l],{strict:r,objects:"reference"}))return!1}else for(l in r?e:n)if(n[l]!==e[l])return!1;if(ji.und(l)){if(s&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function xG(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const FI=["children","key","ref"];function yG(n){const e={};for(const t in n)FI.includes(t)||(e[t]=n[t]);return e}function _E(n,e,t,i){const r=n;let a=r==null?void 0:r.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:yG(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function Gv(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const r of e.split("-")){var i;e=r,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const S3=/-\d+$/;function EE(n,e){if(ji.str(e.props.attach)){if(S3.test(e.props.attach)){const r=e.props.attach.replace(S3,""),{root:a,key:s}=Gv(n.object,r);Array.isArray(a[s])||(a[s]=[])}const{root:t,key:i}=Gv(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else ji.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function SE(n,e){if(ji.str(e.props.attach)){const{root:t,key:i}=Gv(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const NA=[...FI,"args","dispose","attach","object","onUpdate","dispose"],T3=new Map;function _G(n){let e=T3.get(n.constructor);try{e||(e=new n.constructor,T3.set(n.constructor,e))}catch{}return e}function EG(n,e){const t={};for(const i in e)if(!NA.includes(i)&&!ji.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(NA.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=Gv(n.object,i);if(r.constructor&&r.constructor.length===0){const s=_G(r);ji.und(s)||(t[a]=s[a])}else t[a]=0}return t}const SG=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],TG=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Df(n,e){var t;const i=n.__r3f,r=i&&DI(i).getState(),a=i==null?void 0:i.eventCount;for(const l in e){let u=e[l];if(NA.includes(l))continue;if(i&&TG.test(l)){typeof u=="function"?i.handlers[l]=u:delete i.handlers[l],i.eventCount=Object.keys(i.handlers).length;continue}if(u===void 0)continue;let{root:h,key:p,target:g}=Gv(n,l);if(g instanceof Gp&&u instanceof Gp)g.mask=u.mask;else if(g instanceof Ut&&pG(u))g.set(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&u!=null&&u.constructor&&g.constructor===u.constructor)g.copy(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(u))typeof g.fromArray=="function"?g.fromArray(u):g.set(...u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof u=="number")typeof g.setScalar=="function"?g.setScalar(u):g.set(u);else{var s;h[p]=u,r&&!r.linear&&SG.includes(p)&&(s=h[p])!=null&&s.isTexture&&h[p].format===Va&&h[p].type===Go&&(h[p].colorSpace=Pa)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&a!==i.eventCount){const l=i.object,u=r.internal.interaction.indexOf(l);u>-1&&r.internal.interaction.splice(u,1),i.eventCount&&l.raycast!==null&&r.internal.interaction.push(l)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&sm(i),n}function sm(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function AG(n,e){n.manual||(II(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Is=n=>n==null?void 0:n.isObject3D;function e_(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function PI(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function bG(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{PI(t.capturedMap,e,i,r)})}function MG(n){function e(u){const{internal:h}=n.getState(),p=u.offsetX-h.initialClick[0],g=u.offsetY-h.initialClick[1];return Math.round(Math.sqrt(p*p+g*g))}function t(u){return u.filter(h=>["Move","Over","Enter","Out","Leave"].some(p=>{var g;return(g=h.__r3f)==null?void 0:g.handlers["onPointer"+p]}))}function i(u,h){const p=n.getState(),g=new Set,v=[],y=h?h(p.internal.interaction):p.internal.interaction;for(let A=0;A<y.length;A++){const R=pp(y[A]);R&&(R.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(u,p);function E(A){const R=pp(A);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var w;R.events.compute==null||R.events.compute(u,R,(w=R.previousRoot)==null?void 0:w.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(A,!0):[]}let T=y.flatMap(E).sort((A,R)=>{const w=pp(A.object),D=pp(R.object);return!w||!D?A.distance-R.distance:D.events.priority-w.events.priority||A.distance-R.distance}).filter(A=>{const R=e_(A);return g.has(R)?!1:(g.add(R),!0)});p.events.filter&&(T=p.events.filter(T,p));for(const A of T){let R=A.object;for(;R;){var S;(S=R.__r3f)!=null&&S.eventCount&&v.push({...A,eventObject:R}),R=R.parent}}if("pointerId"in u&&p.internal.capturedMap.has(u.pointerId))for(let A of p.internal.capturedMap.get(u.pointerId).values())g.has(e_(A.intersection))||v.push(A.intersection);return v}function r(u,h,p,g){if(u.length){const v={stopped:!1};for(const y of u){let E=pp(y.object);if(E||y.object.traverseAncestors(T=>{const S=pp(T);if(S)return E=S,!1}),E){const{raycaster:T,pointer:S,camera:A,internal:R}=E,w=new he(S.x,S.y,0).unproject(A),D=C=>{var L,k;return(L=(k=R.capturedMap.get(C))==null?void 0:k.has(y.eventObject))!=null?L:!1},P=C=>{const L={intersection:y,target:h.target};R.capturedMap.has(C)?R.capturedMap.get(C).set(y.eventObject,L):R.capturedMap.set(C,new Map([[y.eventObject,L]])),h.target.setPointerCapture(C)},F=C=>{const L=R.capturedMap.get(C);L&&PI(R.capturedMap,y.eventObject,L,C)};let U={};for(let C in h){let L=h[C];typeof L!="function"&&(U[C]=L)}let I={...y,...U,pointer:S,intersections:u,stopped:v.stopped,delta:p,unprojectedPoint:w,ray:T.ray,camera:A,stopPropagation(){const C="pointerId"in h&&R.capturedMap.get(h.pointerId);if((!C||C.has(y.eventObject))&&(I.stopped=v.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(L=>L.eventObject===y.eventObject))){const L=u.slice(0,u.indexOf(y));a([...L,y])}},target:{hasPointerCapture:D,setPointerCapture:P,releasePointerCapture:F},currentTarget:{hasPointerCapture:D,setPointerCapture:P,releasePointerCapture:F},nativeEvent:h};if(g(I),v.stopped===!0)break}}}return u}function a(u){const{internal:h}=n.getState();for(const p of h.hovered.values())if(!u.length||!u.find(g=>g.object===p.object&&g.index===p.index&&g.instanceId===p.instanceId)){const v=p.eventObject.__r3f;if(h.hovered.delete(e_(p)),v!=null&&v.eventCount){const y=v.handlers,E={...p,intersections:u};y.onPointerOut==null||y.onPointerOut(E),y.onPointerLeave==null||y.onPointerLeave(E)}}}function s(u,h){for(let p=0;p<h.length;p++){const g=h[p].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(u)}}function l(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return h=>{const{internal:p}=n.getState();"pointerId"in h&&p.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{p.capturedMap.has(h.pointerId)&&(p.capturedMap.delete(h.pointerId),a([]))})}}return function(p){const{onPointerMissed:g,internal:v}=n.getState();v.lastEvent.current=p;const y=u==="onPointerMove",E=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",S=i(p,y?t:void 0),A=E?e(p):0;u==="onPointerDown"&&(v.initialClick=[p.offsetX,p.offsetY],v.initialHits=S.map(w=>w.eventObject)),E&&!S.length&&A<=2&&(s(p,v.interaction),g&&g(p)),y&&a(S);function R(w){const D=w.eventObject,P=D.__r3f;if(!(P!=null&&P.eventCount))return;const F=P.handlers;if(y){if(F.onPointerOver||F.onPointerEnter||F.onPointerOut||F.onPointerLeave){const U=e_(w),I=v.hovered.get(U);I?I.stopped&&w.stopPropagation():(v.hovered.set(U,w),F.onPointerOver==null||F.onPointerOver(w),F.onPointerEnter==null||F.onPointerEnter(w))}F.onPointerMove==null||F.onPointerMove(w)}else{const U=F[u];U?(!E||v.initialHits.includes(D))&&(s(p,v.interaction.filter(I=>!v.initialHits.includes(I))),U(w)):E&&v.initialHits.includes(D)&&s(p,v.interaction.filter(I=>!v.initialHits.includes(I)))}}r(S,p,A,R)}}return{handlePointer:l}}const A3=n=>!!(n!=null&&n.render),BI=De.createContext(null),wG=(n,e)=>{const t=iG((l,u)=>{const h=new he,p=new he,g=new he;function v(A=u().camera,R=p,w=u().size){const{width:D,height:P,top:F,left:U}=w,I=D/P;R.isVector3?g.copy(R):g.set(...R);const C=A.getWorldPosition(h).distanceTo(g);if(II(A))return{width:D/A.zoom,height:P/A.zoom,top:F,left:U,factor:1,distance:C,aspect:I};{const L=A.fov*Math.PI/180,k=2*Math.tan(L/2)*C,G=k*(D/P);return{width:G,height:k,top:F,left:U,factor:D/G,distance:C,aspect:I}}}let y;const E=A=>l(R=>({performance:{...R.performance,current:A}})),T=new ft;return{set:l,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(A=1)=>n(u(),A),advance:(A,R)=>e(A,R,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new nM,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=u();y&&clearTimeout(y),A.performance.current!==A.performance.min&&E(A.performance.min),y=setTimeout(()=>E(u().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:A=>l(R=>({...R,events:{...R.events,...A}})),setSize:(A,R,w=0,D=0)=>{const P=u().camera,F={width:A,height:R,top:w,left:D};l(U=>({size:F,viewport:{...U.viewport,...v(P,p,F)}}))},setDpr:A=>l(R=>{const w=UI(A);return{viewport:{...R.viewport,dpr:w,initialDpr:R.viewport.initialDpr||w}}}),setFrameloop:(A="always")=>{const R=u().clock;R.stop(),R.elapsedTime=0,A!=="never"&&(R.start(),R.elapsedTime=0),l(()=>({frameloop:A}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:De.createRef(),active:!1,frames:0,priority:0,subscribe:(A,R,w)=>{const D=u().internal;return D.priority=D.priority+(R>0?1:0),D.subscribers.push({ref:A,priority:R,store:w}),D.subscribers=D.subscribers.sort((P,F)=>P.priority-F.priority),()=>{const P=u().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(R>0?1:0),P.subscribers=P.subscribers.filter(F=>F.ref!==A))}}}}}),i=t.getState();let r=i.size,a=i.viewport.dpr,s=i.camera;return t.subscribe(()=>{const{camera:l,size:u,viewport:h,gl:p,set:g}=t.getState();if(u.width!==r.width||u.height!==r.height||h.dpr!==a){r=u,a=h.dpr,AG(l,u),h.dpr>0&&p.setPixelRatio(h.dpr);const v=typeof HTMLCanvasElement<"u"&&p.domElement instanceof HTMLCanvasElement;p.setSize(u.width,u.height,v)}l!==s&&(s=l,g(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>n(l)),t};function RG(){const n=De.useContext(BI);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function CG(n,e=0){const t=RG(),i=t.getState().internal.subscribe,r=LI(n);return Sx(()=>i(r,e,t),[e,i,t]),null}function OG(n){const e=lG(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:De.version}),e}const kI=0,jp={},NG=/^three(?=[A-Z])/,wS=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let DG=0;const IG=n=>typeof n=="function";function LG(n){if(IG(n)){const e=`${DG++}`;return jp[e]=n,e}else Object.assign(jp,n)}function zI(n,e){const t=wS(n),i=jp[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function UG(n,e,t){var i;return n=wS(n)in jp?n:n.replace(NG,""),zI(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,_E(e.object,t,n,e)}function FG(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?SE(n.parent,n):Is(n.object)&&(n.object.visible=!1),n.isHidden=!0,sm(n)}}function VI(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?EE(n.parent,n):Is(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,sm(n)}}function uM(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,a;const s=jp[wS(e.type)];e.object=(r=e.props.object)!=null?r:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Df(e.object,e.props),e.props.attach)EE(n,e);else if(Is(e.object)&&Is(n.object)){const s=n.object.children.indexOf(t==null?void 0:t.object);if(t&&s!==-1){const l=n.object.children.indexOf(e.object);if(l!==-1){n.object.children.splice(l,1);const u=l<s?s-1:s;n.object.children.splice(u,0,e.object)}else e.object.parent=n.object,n.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const s of e.children)uM(e,s);sm(e)}}function C2(n,e){e&&(e.parent=n,n.children.push(e),uM(n,e))}function b3(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),uM(n,e,t)}function HI(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():E3.unstable_scheduleCallback(E3.unstable_IdlePriority,e)}}function DA(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?SE(n,e):Is(e.object)&&Is(n.object)&&(n.object.remove(e.object),bG(DI(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];DA(e,s,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&HI(e.object),t===void 0&&sm(e)}function PG(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const w_=[];function BG(){for(const[t]of w_){const i=t.parent;if(i){t.props.attach?SE(i,t):Is(t.object)&&Is(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?SE(t,r):Is(r.object)&&Is(t.object)&&t.object.remove(r.object)}t.isHidden&&VI(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&HI(t.object)}for(const[t,i,r]of w_){t.props=i;const a=t.parent;if(a){var n,e;const s=jp[wS(t.type)];t.object=(n=t.props.object)!=null?n:new s(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,PG(r,t.object),Df(t.object,t.props),t.props.attach?EE(a,t):Is(t.object)&&Is(a.object)&&a.object.add(t.object);for(const l of t.children)l.props.attach?EE(t,l):Is(l.object)&&Is(t.object)&&t.object.add(l.object);sm(t)}}w_.length=0}const O2=()=>{},M3={};let t_=kI;const kG=0,zG=4,IA=OG({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:UG,removeChild:DA,appendChild:C2,appendInitialChild:C2,insertBefore:b3,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||C2(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||DA(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||b3(i,e,t)},getRootHostContext:()=>M3,getChildHostContext:()=>M3,commitUpdate(n,e,t,i,r){var a,s,l;zI(e,i);let u=!1;if((n.type==="primitive"&&t.object!==i.object||((a=i.args)==null?void 0:a.length)!==((s=t.args)==null?void 0:s.length)||(l=i.args)!=null&&l.some((p,g)=>{var v;return p!==((v=t.args)==null?void 0:v[g])}))&&(u=!0),u)w_.push([n,{...i},r]);else{const p=EG(n,i);Object.keys(p).length&&(Object.assign(n.props,p),Df(n.object,p))}(r.sibling===null||(r.flags&zG)===kG)&&BG()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>_E(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:FG,unhideInstance:VI,createTextInstance:O2,hideTextInstance:O2,unhideTextInstance:O2,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:De.createContext(null),setCurrentUpdatePriority(n){t_=n},getCurrentUpdatePriority(){return t_},resolveUpdatePriority(){var n;if(t_!==kI)return t_;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return M_.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return M_.ContinuousEventPriority;default:return M_.DefaultEventPriority}},resetFormInstance(){}}),Nd=new Map,mp={objects:"shallow",strict:!1};function VG(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function HG(n){const e=Nd.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||wG(FA,R3),s=t||IA.createContainer(a,M_.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||Nd.set(n,{fiber:s,store:a});let l,u,h=!1,p=null;return{async configure(g={}){let v;p=new Promise(le=>v=le);let{gl:y,size:E,scene:T,events:S,onCreated:A,shadows:R=!1,linear:w=!1,flat:D=!1,legacy:P=!1,orthographic:F=!1,frameloop:U="always",dpr:I=[1,2],performance:C,raycaster:L,camera:k,onPointerMissed:G}=g,ee=a.getState(),ve=ee.gl;if(!ee.gl){const le={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},H=typeof y=="function"?await y(le):y;A3(H)?ve=H:ve=new wI({...le,...y}),ee.set({gl:ve})}let pe=ee.raycaster;pe||ee.set({raycaster:pe=new xI});const{params:W,...K}=L||{};if(ji.equ(K,pe,mp)||Df(pe,{...K}),ji.equ(W,pe.params,mp)||Df(pe,{params:{...pe.params,...W}}),!ee.camera||ee.camera===u&&!ji.equ(u,k,mp)){u=k;const le=k==null?void 0:k.isCamera,H=le?k:F?new Ex(0,0,0,0,.1,1e3):new ia(75,0,.1,1e3);le||(H.position.z=5,k&&(Df(H,k),H.manual||("aspect"in k||"left"in k||"right"in k||"bottom"in k||"top"in k)&&(H.manual=!0,H.updateProjectionMatrix())),!ee.camera&&!(k!=null&&k.rotation)&&H.lookAt(0,0,0)),ee.set({camera:H}),pe.camera=H}if(!ee.scene){let le;T!=null&&T.isScene?(le=T,_E(le,a,"",{})):(le=new Fb,_E(le,a,"",{}),T&&Df(le,T)),ee.set({scene:le})}S&&!ee.events.handlers&&ee.set({events:S(a)});const ie=VG(n,E);if(ji.equ(ie,ee.size,mp)||ee.setSize(ie.width,ie.height,ie.top,ie.left),I&&ee.viewport.dpr!==UI(I)&&ee.setDpr(I),ee.frameloop!==U&&ee.setFrameloop(U),ee.onPointerMissed||ee.set({onPointerMissed:G}),C&&!ji.equ(C,ee.performance,mp)&&ee.set(le=>({performance:{...le.performance,...C}})),!ee.xr){var ne;const le=(V,Q)=>{const ge=a.getState();ge.frameloop!=="never"&&R3(V,!0,ge,Q)},H=()=>{const V=a.getState();V.gl.xr.enabled=V.gl.xr.isPresenting,V.gl.xr.setAnimationLoop(V.gl.xr.isPresenting?le:null),V.gl.xr.isPresenting||FA(V)},q={connect(){const V=a.getState().gl;V.xr.addEventListener("sessionstart",H),V.xr.addEventListener("sessionend",H)},disconnect(){const V=a.getState().gl;V.xr.removeEventListener("sessionstart",H),V.xr.removeEventListener("sessionend",H)}};typeof((ne=ve.xr)==null?void 0:ne.addEventListener)=="function"&&q.connect(),ee.set({xr:q})}if(ve.shadowMap){const le=ve.shadowMap.enabled,H=ve.shadowMap.type;if(ve.shadowMap.enabled=!!R,ji.boo(R))ve.shadowMap.type=nv;else if(ji.str(R)){var j;const q={basic:RN,percentage:qE,soft:nv,variance:Tl};ve.shadowMap.type=(j=q[R])!=null?j:nv}else ji.obj(R)&&Object.assign(ve.shadowMap,R);(le!==ve.shadowMap.enabled||H!==ve.shadowMap.type)&&(ve.shadowMap.needsUpdate=!0)}return Xn.enabled=!P,h||(ve.outputColorSpace=w?Pf:Pa,ve.toneMapping=D?Ec:Eb),ee.legacy!==P&&ee.set(()=>({legacy:P})),ee.linear!==w&&ee.set(()=>({linear:w})),ee.flat!==D&&ee.set(()=>({flat:D})),y&&!ji.fun(y)&&!A3(y)&&!ji.equ(y,ve,mp)&&Df(ve,y),l=A,h=!0,v(),this},render(g){return!h&&!p&&this.configure(),p.then(()=>{IA.updateContainer(Be.jsx(GG,{store:a,children:g,onCreated:l,rootElement:n}),s,null,()=>{})}),a},unmount(){GI(n)}}}function GG({store:n,children:e,onCreated:t,rootElement:i}){return Sx(()=>{const r=n.getState();r.set(a=>({internal:{...a.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),Be.jsx(BI.Provider,{value:n,children:e})}function GI(n,e){const t=Nd.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),IA.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,s,l,u;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(l=r.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(u=r.gl)!=null&&u.xr&&r.xr.disconnect(),xG(r.scene),Nd.delete(n)}catch{}},500)})}}const XG=new Set,WG=new Set,YG=new Set;function N2(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function hv(n,e){switch(n){case"before":return N2(XG,e);case"after":return N2(WG,e);case"tail":return N2(YG,e)}}let D2,I2;function LA(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),D2=e.internal.subscribers;for(let r=0;r<D2.length;r++)I2=D2[r],I2.ref.current(I2.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let TE=!1,UA=!1,L2,w3,gp;function XI(n){w3=requestAnimationFrame(XI),TE=!0,L2=0,hv("before",n),UA=!0;for(const t of Nd.values()){var e;gp=t.store.getState(),gp.internal.active&&(gp.frameloop==="always"||gp.internal.frames>0)&&!((e=gp.gl.xr)!=null&&e.isPresenting)&&(L2+=LA(n,gp))}if(UA=!1,hv("after",n),L2===0)return hv("tail",n),TE=!1,cancelAnimationFrame(w3)}function FA(n,e=1){var t;if(!n)return Nd.forEach(i=>FA(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):UA?n.internal.frames=2:n.internal.frames=1,TE||(TE=!0,requestAnimationFrame(XI)))}function R3(n,e=!0,t,i){if(e&&hv("before",n),t)LA(n,t,i);else for(const r of Nd.values())LA(n,r.store.getState());e&&hv("after",n)}const U2={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function jG(n){const{handlePointer:e}=MG(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(U2).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:t}})),r.handlers)for(const a in r.handlers){const s=r.handlers[a],[l,u]=U2[a];t.addEventListener(l,s,{passive:u})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[s]=U2[r];i.connected.removeEventListener(s,a)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function C3(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function qG({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=De.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=De.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),u=n?typeof n=="number"?n:n.scroll:null,h=n?typeof n=="number"?n:n.resize:null,p=De.useRef(!1);De.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[g,v,y]=De.useMemo(()=>{const A=()=>{if(!l.current.element)return;const{left:R,top:w,width:D,height:P,bottom:F,right:U,x:I,y:C}=l.current.element.getBoundingClientRect(),L={left:R,top:w,width:D,height:P,bottom:F,right:U,x:I,y:C};l.current.element instanceof HTMLElement&&i&&(L.height=l.current.element.offsetHeight,L.width=l.current.element.offsetWidth),Object.freeze(L),p.current&&!JG(l.current.lastBounds,L)&&s(l.current.lastBounds=L)};return[A,h?C3(A,h):A,u?C3(A,u):A]},[s,i,u,h]);function E(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function T(){l.current.element&&(l.current.resizeObserver=new r(y),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(A=>A.addEventListener("scroll",y,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const S=A=>{!A||A===l.current.element||(E(),l.current.element=A,l.current.scrollContainers=WI(A),T())};return ZG(y,!!e),KG(v),De.useEffect(()=>{E(),T()},[e,y,v]),De.useEffect(()=>E,[]),[S,a,g]}function KG(n){De.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function ZG(n,e){De.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function WI(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...WI(n.parentElement)]}const QG=["x","y","top","bottom","left","right","width","height"],JG=(n,e)=>QG.every(t=>n[t]===e[t]);function $G({ref:n,children:e,fallback:t,resize:i,style:r,gl:a,events:s=jG,eventSource:l,eventPrefix:u,shadows:h,linear:p,flat:g,legacy:v,orthographic:y,frameloop:E,dpr:T,performance:S,raycaster:A,camera:R,scene:w,onPointerMissed:D,onCreated:P,...F}){De.useMemo(()=>LG(X9),[]);const U=mG(),[I,C]=qG({scroll:!0,debounce:{scroll:50,resize:0},...i}),L=De.useRef(null),k=De.useRef(null);De.useImperativeHandle(n,()=>L.current);const G=LI(D),[ee,ve]=De.useState(!1),[pe,W]=De.useState(!1);if(ee)throw ee;if(pe)throw pe;const K=De.useRef(null);Sx(()=>{const ne=L.current;if(C.width>0&&C.height>0&&ne){K.current||(K.current=HG(ne));async function j(){await K.current.configure({gl:a,scene:w,events:s,shadows:h,linear:p,flat:g,legacy:v,orthographic:y,frameloop:E,dpr:T,performance:S,raycaster:A,camera:R,size:C,onPointerMissed:(...le)=>G.current==null?void 0:G.current(...le),onCreated:le=>{le.events.connect==null||le.events.connect(l?dG(l)?l.current:l:k.current),u&&le.setEvents({compute:(H,q)=>{const V=H[u+"X"],Q=H[u+"Y"];q.pointer.set(V/q.size.width*2-1,-(Q/q.size.height)*2+1),q.raycaster.setFromCamera(q.pointer,q.camera)}}),P==null||P(le)}}),K.current.render(Be.jsx(U,{children:Be.jsx(vG,{set:W,children:Be.jsx(De.Suspense,{fallback:Be.jsx(gG,{set:ve}),children:e??null})})}))}j()}}),De.useEffect(()=>{const ne=L.current;if(ne)return()=>GI(ne)},[]);const ie=l?"none":"auto";return Be.jsx("div",{ref:k,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ie,...r},...F,children:Be.jsx("div",{ref:I,style:{width:"100%",height:"100%"},children:Be.jsx("canvas",{ref:L,style:{display:"block"},children:t})})})}function eX(n){return Be.jsx(OI,{children:Be.jsx($G,{...n})})}const tX=()=>parseInt(fx.replace(/\D+/g,"")),nX=tX();class iX extends Xo{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${nX>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const rX=n=>new he().setFromSpherical(new yI(n,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),aX=De.forwardRef(({radius:n=100,depth:e=50,count:t=5e3,saturation:i=0,factor:r=4,fade:a=!1,speed:s=1},l)=>{const u=De.useRef(null),[h,p,g]=De.useMemo(()=>{const y=[],E=[],T=Array.from({length:t},()=>(.5+.5*Math.random())*r),S=new Ut;let A=n+e;const R=e/t;for(let w=0;w<t;w++)A-=R*Math.random(),y.push(...rX(A).toArray()),S.setHSL(w/t,i,.9),E.push(S.r,S.g,S.b);return[new Float32Array(y),new Float32Array(E),new Float32Array(T)]},[t,e,r,n,i]);CG(y=>u.current&&(u.current.uniforms.time.value=y.clock.elapsedTime*s));const[v]=De.useState(()=>new iX);return De.createElement("points",{ref:l},De.createElement("bufferGeometry",null,De.createElement("bufferAttribute",{attach:"attributes-position",args:[h,3]}),De.createElement("bufferAttribute",{attach:"attributes-color",args:[p,3]}),De.createElement("bufferAttribute",{attach:"attributes-size",args:[g,1]})),De.createElement("primitive",{ref:u,object:v,attach:"material",blending:I_,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))});var YI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},O3=Fa.createContext&&Fa.createContext(YI),sX=["attr","size","title"];function oX(n,e){if(n==null)return{};var t=lX(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function lX(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function AE(){return AE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},AE.apply(this,arguments)}function N3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function bE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?N3(Object(t),!0).forEach(function(i){cX(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):N3(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function cX(n,e,t){return e=uX(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uX(n){var e=fX(n,"string");return typeof e=="symbol"?e:e+""}function fX(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jI(n){return n&&n.map((e,t)=>Fa.createElement(e.tag,bE({key:t},e.attr),jI(e.child)))}function hX(n){return e=>Fa.createElement(dX,AE({attr:bE({},n.attr)},e),jI(n.child))}function dX(n){var e=t=>{var{attr:i,size:r,title:a}=n,s=oX(n,sX),l=r||t.size||"1em",u;return t.className&&(u=t.className),n.className&&(u=(u?u+" ":"")+n.className),Fa.createElement("svg",AE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:u,style:bE(bE({color:n.color||t.color},t.style),n.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Fa.createElement("title",null,a),n.children)};return O3!==void 0?Fa.createElement(O3.Consumer,null,t=>e(t)):e(YI)}function pX(n){return hX({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(n)}const qI=De.createContext({});function KI(n){const e=De.useRef(null);return e.current===null&&(e.current=n()),e.current}const fM=typeof window<"u",ZI=fM?De.useLayoutEffect:De.useEffect,hM=De.createContext(null);function dM(n,e){n.indexOf(e)===-1&&n.push(e)}function RS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Eu=(n,e,t)=>t>e?e:t<n?n:t;let pM=()=>{};const Su={},QI=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function JI(n){return typeof n=="object"&&n!==null}const $I=n=>/^0[^.\s]+$/u.test(n);function mM(n){let e;return()=>(e===void 0&&(e=n()),e)}const Vo=n=>n,mX=(n,e)=>t=>e(n(t)),Tx=(...n)=>n.reduce(mX),qp=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class gM{constructor(){this.subscriptions=[]}add(e){return dM(this.subscriptions,e),()=>RS(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let a=0;a<r;a++){const s=this.subscriptions[a];s&&s(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rl=n=>n*1e3,Tc=n=>n/1e3;function eL(n,e){return e?n*(1e3/e):0}const gX=(n,e,t)=>{const i=e-n;return((t-n)%i+i)%i+n},tL=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,vX=1e-7,xX=12;function yX(n,e,t,i,r){let a,s,l=0;do s=e+(t-e)/2,a=tL(s,i,r)-n,a>0?t=s:e=s;while(Math.abs(a)>vX&&++l<xX);return s}function Ax(n,e,t,i){if(n===e&&t===i)return Vo;const r=a=>yX(a,0,1,n,t);return a=>a===0||a===1?a:tL(r(a),e,i)}const nL=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,iL=n=>e=>1-n(1-e),rL=Ax(.33,1.53,.69,.99),vM=iL(rL),aL=nL(vM),sL=n=>(n*=2)<1?.5*vM(n):.5*(2-Math.pow(2,-10*(n-1))),xM=n=>1-Math.sin(Math.acos(n)),oL=iL(xM),lL=nL(xM),_X=Ax(.42,0,1,1),EX=Ax(0,0,.58,1),cL=Ax(.42,0,.58,1),uL=n=>Array.isArray(n)&&typeof n[0]!="number";function fL(n,e){return uL(n)?n[gX(0,n.length,e)]:n}const hL=n=>Array.isArray(n)&&typeof n[0]=="number",SX={linear:Vo,easeIn:_X,easeInOut:cL,easeOut:EX,circIn:xM,circInOut:lL,circOut:oL,backIn:vM,backInOut:aL,backOut:rL,anticipate:sL},TX=n=>typeof n=="string",D3=n=>{if(hL(n)){pM(n.length===4);const[e,t,i,r]=n;return Ax(e,t,i,r)}else if(TX(n))return SX[n];return n},n_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function AX(n,e){let t=new Set,i=new Set,r=!1,a=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(p){s.has(p)&&(h.schedule(p),n()),p(l)}const h={schedule:(p,g=!1,v=!1)=>{const E=v&&r?t:i;return g&&s.add(p),E.has(p)||E.add(p),p},cancel:p=>{i.delete(p),s.delete(p)},process:p=>{if(l=p,r){a=!0;return}r=!0,[t,i]=[i,t],t.forEach(u),t.clear(),r=!1,a&&(a=!1,h.process(p))}};return h}const bX=40;function dL(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,s=n_.reduce((w,D)=>(w[D]=AX(a),w),{}),{setup:l,read:u,resolveKeyframes:h,preUpdate:p,update:g,preRender:v,render:y,postRender:E}=s,T=()=>{const w=Su.useManualTiming?r.timestamp:performance.now();t=!1,Su.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(w-r.timestamp,bX),1)),r.timestamp=w,r.isProcessing=!0,l.process(r),u.process(r),h.process(r),p.process(r),g.process(r),v.process(r),y.process(r),E.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(T))},S=()=>{t=!0,i=!0,r.isProcessing||n(T)};return{schedule:n_.reduce((w,D)=>{const P=s[D];return w[D]=(F,U=!1,I=!1)=>(t||S(),P.schedule(F,U,I)),w},{}),cancel:w=>{for(let D=0;D<n_.length;D++)s[n_[D]].cancel(w)},state:r,steps:s}}const{schedule:Di,cancel:Tu,state:va,steps:F2}=dL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vo,!0);let R_;function MX(){R_=void 0}const Fs={now:()=>(R_===void 0&&Fs.set(va.isProcessing||Su.useManualTiming?va.timestamp:performance.now()),R_),set:n=>{R_=n,queueMicrotask(MX)}},pL=n=>e=>typeof e=="string"&&e.startsWith(n),yM=pL("--"),wX=pL("var(--"),_M=n=>wX(n)?RX.test(n.split("/*")[0].trim()):!1,RX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,om={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Xv={...om,transform:n=>Eu(0,1,n)},i_={...om,default:1},dv=n=>Math.round(n*1e5)/1e5,EM=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CX(n){return n==null}const OX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,SM=(n,e)=>t=>!!(typeof t=="string"&&OX.test(t)&&t.startsWith(n)||e&&!CX(t)&&Object.prototype.hasOwnProperty.call(t,e)),mL=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,a,s,l]=i.match(EM);return{[n]:parseFloat(r),[e]:parseFloat(a),[t]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},NX=n=>Eu(0,255,n),P2={...om,transform:n=>Math.round(NX(n))},gd={test:SM("rgb","red"),parse:mL("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+P2.transform(n)+", "+P2.transform(e)+", "+P2.transform(t)+", "+dv(Xv.transform(i))+")"};function DX(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const PA={test:SM("#"),parse:DX,transform:gd.transform},bx=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Cf=bx("deg"),Ac=bx("%"),fn=bx("px"),IX=bx("vh"),LX=bx("vw"),I3={...Ac,parse:n=>Ac.parse(n)/100,transform:n=>Ac.transform(n*100)},Mp={test:SM("hsl","hue"),parse:mL("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Ac.transform(dv(e))+", "+Ac.transform(dv(t))+", "+dv(Xv.transform(i))+")"},Or={test:n=>gd.test(n)||PA.test(n)||Mp.test(n),parse:n=>gd.test(n)?gd.parse(n):Mp.test(n)?Mp.parse(n):PA.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?gd.transform(n):Mp.transform(n),getAnimatableNone:n=>{const e=Or.parse(n);return e.alpha=0,Or.transform(e)}},UX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FX(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(EM))==null?void 0:e.length)||0)+(((t=n.match(UX))==null?void 0:t.length)||0)>0}const gL="number",vL="color",PX="var",BX="var(",L3="${}",kX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wv(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let a=0;const l=e.replace(kX,u=>(Or.test(u)?(i.color.push(a),r.push(vL),t.push(Or.parse(u))):u.startsWith(BX)?(i.var.push(a),r.push(PX),t.push(u)):(i.number.push(a),r.push(gL),t.push(parseFloat(u))),++a,L3)).split(L3);return{values:t,split:l,indexes:i,types:r}}function xL(n){return Wv(n).values}function yL(n){const{split:e,types:t}=Wv(n),i=e.length;return r=>{let a="";for(let s=0;s<i;s++)if(a+=e[s],r[s]!==void 0){const l=t[s];l===gL?a+=dv(r[s]):l===vL?a+=Or.transform(r[s]):a+=r[s]}return a}}const zX=n=>typeof n=="number"?0:Or.test(n)?Or.getAnimatableNone(n):n;function VX(n){const e=xL(n);return yL(n)(e.map(zX))}const kf={test:FX,parse:xL,createTransformer:yL,getAnimatableNone:VX};function B2(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function HX({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,a=0,s=0;if(!e)r=a=s=t;else{const l=t<.5?t*(1+e):t+e-t*e,u=2*t-l;r=B2(u,l,n+1/3),a=B2(u,l,n),s=B2(u,l,n-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:i}}function ME(n,e){return t=>t>0?e:n}const zi=(n,e,t)=>n+(e-n)*t,k2=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},GX=[PA,gd,Mp],XX=n=>GX.find(e=>e.test(n));function U3(n){const e=XX(n);if(!e)return!1;let t=e.parse(n);return e===Mp&&(t=HX(t)),t}const F3=(n,e)=>{const t=U3(n),i=U3(e);if(!t||!i)return ME(n,e);const r={...t};return a=>(r.red=k2(t.red,i.red,a),r.green=k2(t.green,i.green,a),r.blue=k2(t.blue,i.blue,a),r.alpha=zi(t.alpha,i.alpha,a),gd.transform(r))},BA=new Set(["none","hidden"]);function WX(n,e){return BA.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function YX(n,e){return t=>zi(n,e,t)}function TM(n){return typeof n=="number"?YX:typeof n=="string"?_M(n)?ME:Or.test(n)?F3:KX:Array.isArray(n)?_L:typeof n=="object"?Or.test(n)?F3:jX:ME}function _L(n,e){const t=[...n],i=t.length,r=n.map((a,s)=>TM(a)(a,e[s]));return a=>{for(let s=0;s<i;s++)t[s]=r[s](a);return t}}function jX(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=TM(n[r])(n[r],e[r]));return r=>{for(const a in i)t[a]=i[a](r);return t}}function qX(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],s=n.indexes[a][i[a]],l=n.values[s]??0;t[r]=l,i[a]++}return t}const KX=(n,e)=>{const t=kf.createTransformer(e),i=Wv(n),r=Wv(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?BA.has(n)&&!r.values.length||BA.has(e)&&!i.values.length?WX(n,e):Tx(_L(qX(i,r),r.values),t):ME(n,e)};function EL(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?zi(n,e,t):TM(n)(n,e)}const ZX=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Di.update(e,t),stop:()=>Tu(e),now:()=>va.isProcessing?va.timestamp:Fs.now()}},SL=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let a=0;a<r;a++)i+=Math.round(n(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},wE=2e4;function AM(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<wE;)e+=t,i=n.next(e);return e>=wE?1/0:e}function TL(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(AM(i),wE);return{type:"keyframes",ease:a=>i.next(r*a).value/e,duration:Tc(r)}}const QX=5;function AL(n,e,t){const i=Math.max(e-QX,0);return eL(t-n(i),e-i)}const ir={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},P3=.001;function JX({duration:n=ir.duration,bounce:e=ir.bounce,velocity:t=ir.velocity,mass:i=ir.mass}){let r,a,s=1-e;s=Eu(ir.minDamping,ir.maxDamping,s),n=Eu(ir.minDuration,ir.maxDuration,Tc(n)),s<1?(r=h=>{const p=h*s,g=p*n,v=p-t,y=kA(h,s),E=Math.exp(-g);return P3-v/y*E},a=h=>{const g=h*s*n,v=g*t+t,y=Math.pow(s,2)*Math.pow(h,2)*n,E=Math.exp(-g),T=kA(Math.pow(h,2),s);return(-r(h)+P3>0?-1:1)*((v-y)*E)/T}):(r=h=>{const p=Math.exp(-h*n),g=(h-t)*n+1;return-.001+p*g},a=h=>{const p=Math.exp(-h*n),g=(t-h)*(n*n);return p*g});const l=5/n,u=eW(r,a,l);if(n=Rl(n),isNaN(u))return{stiffness:ir.stiffness,damping:ir.damping,duration:n};{const h=Math.pow(u,2)*i;return{stiffness:h,damping:s*2*Math.sqrt(i*h),duration:n}}}const $X=12;function eW(n,e,t){let i=t;for(let r=1;r<$X;r++)i=i-n(i)/e(i);return i}function kA(n,e){return n*Math.sqrt(1-e*e)}const tW=["duration","bounce"],nW=["stiffness","damping","mass"];function B3(n,e){return e.some(t=>n[t]!==void 0)}function iW(n){let e={velocity:ir.velocity,stiffness:ir.stiffness,damping:ir.damping,mass:ir.mass,isResolvedFromDuration:!1,...n};if(!B3(n,nW)&&B3(n,tW))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,a=2*Eu(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:ir.mass,stiffness:r,damping:a}}else{const t=JX(n);e={...e,...t,mass:ir.mass},e.isResolvedFromDuration=!0}return e}function Yv(n=ir.visualDuration,e=ir.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const a=t.keyframes[0],s=t.keyframes[t.keyframes.length-1],l={done:!1,value:a},{stiffness:u,damping:h,mass:p,duration:g,velocity:v,isResolvedFromDuration:y}=iW({...t,velocity:-Tc(t.velocity||0)}),E=v||0,T=h/(2*Math.sqrt(u*p)),S=s-a,A=Tc(Math.sqrt(u/p)),R=Math.abs(S)<5;i||(i=R?ir.restSpeed.granular:ir.restSpeed.default),r||(r=R?ir.restDelta.granular:ir.restDelta.default);let w;if(T<1){const P=kA(A,T);w=F=>{const U=Math.exp(-T*A*F);return s-U*((E+T*A*S)/P*Math.sin(P*F)+S*Math.cos(P*F))}}else if(T===1)w=P=>s-Math.exp(-A*P)*(S+(E+A*S)*P);else{const P=A*Math.sqrt(T*T-1);w=F=>{const U=Math.exp(-T*A*F),I=Math.min(P*F,300);return s-U*((E+T*A*S)*Math.sinh(I)+P*S*Math.cosh(I))/P}}const D={calculatedDuration:y&&g||null,next:P=>{const F=w(P);if(y)l.done=P>=g;else{let U=P===0?E:0;T<1&&(U=P===0?Rl(E):AL(w,P,F));const I=Math.abs(U)<=i,C=Math.abs(s-F)<=r;l.done=I&&C}return l.value=l.done?s:F,l},toString:()=>{const P=Math.min(AM(D),wE),F=SL(U=>D.next(P*U).value,P,30);return P+"ms "+F},toTransition:()=>{}};return D}Yv.applyToOptions=n=>{const e=TL(n,100,Yv);return n.ease=e.ease,n.duration=Rl(e.duration),n.type="keyframes",n};function zA({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:u,restDelta:h=.5,restSpeed:p}){const g=n[0],v={done:!1,value:g},y=I=>l!==void 0&&I<l||u!==void 0&&I>u,E=I=>l===void 0?u:u===void 0||Math.abs(l-I)<Math.abs(u-I)?l:u;let T=t*e;const S=g+T,A=s===void 0?S:s(S);A!==S&&(T=A-g);const R=I=>-T*Math.exp(-I/i),w=I=>A+R(I),D=I=>{const C=R(I),L=w(I);v.done=Math.abs(C)<=h,v.value=v.done?A:L};let P,F;const U=I=>{y(v.value)&&(P=I,F=Yv({keyframes:[v.value,E(v.value)],velocity:AL(w,I,v.value),damping:r,stiffness:a,restDelta:h,restSpeed:p}))};return U(0),{calculatedDuration:null,next:I=>{let C=!1;return!F&&P===void 0&&(C=!0,D(I),U(I)),P!==void 0&&I>=P?F.next(I-P):(!C&&D(I),v)}}}function rW(n,e,t){const i=[],r=t||Su.mix||EL,a=n.length-1;for(let s=0;s<a;s++){let l=r(n[s],n[s+1]);if(e){const u=Array.isArray(e)?e[s]||Vo:e;l=Tx(u,l)}i.push(l)}return i}function aW(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const a=n.length;if(pM(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=rW(e,i,r),u=l.length,h=p=>{if(s&&p<n[0])return e[0];let g=0;if(u>1)for(;g<n.length-2&&!(p<n[g+1]);g++);const v=qp(n[g],n[g+1],p);return l[g](v)};return t?p=>h(Eu(n[0],n[a-1],p)):h}function bL(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=qp(0,e,i);n.push(zi(t,1,r))}}function ML(n){const e=[0];return bL(e,n.length-1),e}function sW(n,e){return n.map(t=>t*e)}function oW(n,e){return n.map(()=>e||cL).splice(0,n.length-1)}function pv({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=uL(i)?i.map(D3):D3(i),a={done:!1,value:e[0]},s=sW(t&&t.length===e.length?t:ML(e),n),l=aW(s,e,{ease:Array.isArray(r)?r:oW(e,r)});return{calculatedDuration:n,next:u=>(a.value=l(u),a.done=u>=n,a)}}const lW=n=>n!==null;function bM(n,{repeat:e,repeatType:t="loop"},i,r=1){const a=n.filter(lW),l=r<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!l||i===void 0?a[l]:i}const cW={decay:zA,inertia:zA,tween:pv,keyframes:pv,spring:Yv};function wL(n){typeof n.type=="string"&&(n.type=cW[n.type])}class MM{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const uW=n=>n/100;class wM extends MM{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,r;const{motionValue:t}=this.options;t&&t.updatedAt!==Fs.now()&&this.tick(Fs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;wL(e);const{type:t=pv,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:s=0}=e;let{keyframes:l}=e;const u=t||pv;u!==pv&&typeof l[0]!="number"&&(this.mixKeyframes=Tx(uW,EL(l[0],l[1])),l=[0,100]);const h=u({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-s})),h.calculatedDuration===null&&(h.calculatedDuration=AM(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=h}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:y,type:E,onUpdate:T,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const A=this.currentTime-h*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?A<0:A>r;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let w=this.currentTime,D=i;if(g){const I=Math.min(this.currentTime,r)/l;let C=Math.floor(I),L=I%1;!L&&I>=1&&(L=1),L===1&&C--,C=Math.min(C,g+1),!!(C%2)&&(v==="reverse"?(L=1-L,y&&(L-=y/l)):v==="mirror"&&(D=s)),w=Eu(0,1,L)*l}const P=R?{done:!1,value:p[0]}:D.next(w);a&&(P.value=a(P.value));let{done:F}=P;!R&&u!==null&&(F=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return U&&E!==zA&&(P.value=bM(p,this.options,S,this.speed)),T&&T(P.value),U&&this.finish(),P}then(e,t){return this.finished.then(e,t)}get duration(){return Tc(this.calculatedDuration)}get time(){return Tc(this.currentTime)}set time(e){var t;e=Rl(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Fs.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Tc(this.currentTime))}play(){var r,a;if(this.isStopped)return;const{driver:e=ZX,startTime:t}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),(a=(r=this.options).onPlay)==null||a.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function fW(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const vd=n=>n*180/Math.PI,VA=n=>{const e=vd(Math.atan2(n[1],n[0]));return HA(e)},hW={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:VA,rotateZ:VA,skewX:n=>vd(Math.atan(n[1])),skewY:n=>vd(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},HA=n=>(n=n%360,n<0&&(n+=360),n),k3=VA,z3=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),V3=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),dW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:z3,scaleY:V3,scale:n=>(z3(n)+V3(n))/2,rotateX:n=>HA(vd(Math.atan2(n[6],n[5]))),rotateY:n=>HA(vd(Math.atan2(-n[2],n[0]))),rotateZ:k3,rotate:k3,skewX:n=>vd(Math.atan(n[4])),skewY:n=>vd(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function GA(n){return n.includes("scale")?1:0}function XA(n,e){if(!n||n==="none")return GA(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=dW,r=t;else{const l=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=hW,r=l}if(!r)return GA(e);const a=i[e],s=r[1].split(",").map(mW);return typeof a=="function"?a(s):s[a]}const pW=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return XA(t,e)};function mW(n){return parseFloat(n.trim())}const lm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cm=new Set(lm),H3=n=>n===om||n===fn,gW=new Set(["x","y","z"]),vW=lm.filter(n=>!gW.has(n));function xW(n){const e=[];return vW.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Sd={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>XA(e,"x"),y:(n,{transform:e})=>XA(e,"y")};Sd.translateX=Sd.x;Sd.translateY=Sd.y;const Td=new Set;let WA=!1,YA=!1,jA=!1;function RL(){if(YA){const n=Array.from(Td).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=xW(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([a,s])=>{var l;(l=i.getValue(a))==null||l.set(s)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}YA=!1,WA=!1,Td.forEach(n=>n.complete(jA)),Td.clear()}function CL(){Td.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(YA=!0)})}function yW(){jA=!0,CL(),RL(),jA=!1}class RM{constructor(e,t,i,r,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Td.add(this),WA||(WA=!0,Di.read(CL),Di.resolveKeyframes(RL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const a=r==null?void 0:r.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&t){const l=i.readValue(t,s);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=s),r&&a===void 0&&r.set(e[0])}fW(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Td.delete(this)}cancel(){this.state==="scheduled"&&(Td.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _W=n=>n.startsWith("--");function EW(n,e,t){_W(e)?n.style.setProperty(e,t):n.style[e]=t}const SW=mM(()=>window.ScrollTimeline!==void 0),TW={};function AW(n,e){const t=mM(n);return()=>TW[e]??t()}const OL=AW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jg=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,G3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jg([0,.65,.55,1]),circOut:Jg([.55,0,1,.45]),backIn:Jg([.31,.01,.66,-.59]),backOut:Jg([.33,1.53,.69,.99])};function NL(n,e){if(n)return typeof n=="function"?OL()?SL(n,e):"ease-out":hL(n)?Jg(n):Array.isArray(n)?n.map(t=>NL(t,e)||G3.easeOut):G3[n]}function bW(n,e,t,{delay:i=0,duration:r=300,repeat:a=0,repeatType:s="loop",ease:l="easeOut",times:u}={},h=void 0){const p={[e]:t};u&&(p.offset=u);const g=NL(l,r);Array.isArray(g)&&(p.easing=g);const v={delay:i,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),n.animate(p,v)}function CM(n){return typeof n=="function"&&"applyToOptions"in n}function MW({type:n,...e}){return CM(n)&&OL()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class wW extends MM{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,pM(typeof e.type!="string");const h=MW(e);this.animation=bW(t,i,r,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=bM(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(p):EW(t,i,p),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,i;const e=((i=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:i.call(t).duration)||0;return Tc(Number(e))}get time(){return Tc(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Rl(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&SW()?(this.animation.timeline=e,Vo):t(this)}}const DL={anticipate:sL,backInOut:aL,circInOut:lL};function RW(n){return n in DL}function CW(n){typeof n.ease=="string"&&RW(n.ease)&&(n.ease=DL[n.ease])}const X3=10;class OW extends wW{constructor(e){CW(e),wL(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:a,...s}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new wM({...s,autoplay:!1}),u=Rl(this.finishedTime??this.time);t.setWithVelocity(l.sample(u-X3).value,l.sample(u).value,X3),l.stop()}}const W3=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(kf.test(n)||n==="0")&&!n.startsWith("url("));function NW(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function DW(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],s=W3(r,e),l=W3(a,e);return!s||!l?!1:NW(n)||(t==="spring"||CM(t))&&i}const IW=new Set(["opacity","clipPath","filter","transform"]),LW=mM(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function UW(n){var p;const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:a,type:s}=n;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return LW()&&t&&IW.has(t)&&(t!=="transform"||!h)&&!u&&!i&&r!=="mirror"&&a!==0&&s!=="inertia"}const FW=40;class PW extends MM{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:s="loop",keyframes:l,name:u,motionValue:h,element:p,...g}){var E;super(),this.stop=()=>{var T,S;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Fs.now();const v={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:a,repeatType:s,name:u,motionValue:h,element:p,...g},y=(p==null?void 0:p.KeyframeResolver)||RM;this.keyframeResolver=new y(l,(T,S,A)=>this.onKeyframesResolved(T,S,v,!A),u,h,p),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:a,type:s,velocity:l,delay:u,isHandoff:h,onUpdate:p}=i;this.resolvedAt=Fs.now(),DW(e,a,s,l)||((Su.instantAnimations||!u)&&(p==null||p(bM(e,i,t))),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const v={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>FW?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},y=!h&&UW(v)?new OW({...v,element:v.motionValue.owner.current}):new wM(v);y.finished.then(()=>this.notifyFinished()).catch(Vo),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),yW()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}class BW{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e){const t=this.animations.map(i=>i.attachTimeline(e));return()=>{t.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class kW extends BW{then(e,t){return this.finished.finally(e).then(()=>{})}}const zW=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VW(n){const e=zW.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function IL(n,e,t=1){const[i,r]=VW(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const s=a.trim();return QI(s)?parseFloat(s):s}return _M(r)?IL(r,e,t+1):r}function OM(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const LL=new Set(["width","height","top","left","right","bottom",...lm]),HW={test:n=>n==="auto",parse:n=>n},UL=n=>e=>e.test(n),FL=[om,fn,Ac,Cf,LX,IX,HW],Y3=n=>FL.find(UL(n));function GW(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||$I(n):!0}const XW=new Set(["brightness","contrast","saturate","opacity"]);function WW(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(EM)||[];if(!i)return n;const r=t.replace(i,"");let a=XW.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+r+")"}const YW=/\b([a-z-]*)\(.*?\)/gu,qA={...kf,getAnimatableNone:n=>{const e=n.match(YW);return e?e.map(WW).join(" "):n}},j3={...om,transform:Math.round},jW={rotate:Cf,rotateX:Cf,rotateY:Cf,rotateZ:Cf,scale:i_,scaleX:i_,scaleY:i_,scaleZ:i_,skew:Cf,skewX:Cf,skewY:Cf,distance:fn,translateX:fn,translateY:fn,translateZ:fn,x:fn,y:fn,z:fn,perspective:fn,transformPerspective:fn,opacity:Xv,originX:I3,originY:I3,originZ:fn},NM={borderWidth:fn,borderTopWidth:fn,borderRightWidth:fn,borderBottomWidth:fn,borderLeftWidth:fn,borderRadius:fn,radius:fn,borderTopLeftRadius:fn,borderTopRightRadius:fn,borderBottomRightRadius:fn,borderBottomLeftRadius:fn,width:fn,maxWidth:fn,height:fn,maxHeight:fn,top:fn,right:fn,bottom:fn,left:fn,padding:fn,paddingTop:fn,paddingRight:fn,paddingBottom:fn,paddingLeft:fn,margin:fn,marginTop:fn,marginRight:fn,marginBottom:fn,marginLeft:fn,backgroundPositionX:fn,backgroundPositionY:fn,...jW,zIndex:j3,fillOpacity:Xv,strokeOpacity:Xv,numOctaves:j3},qW={...NM,color:Or,backgroundColor:Or,outlineColor:Or,fill:Or,stroke:Or,borderColor:Or,borderTopColor:Or,borderRightColor:Or,borderBottomColor:Or,borderLeftColor:Or,filter:qA,WebkitFilter:qA},PL=n=>qW[n];function BL(n,e){let t=PL(n);return t!==qA&&(t=kf),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const KW=new Set(["auto","none","0"]);function ZW(n,e,t){let i=0,r;for(;i<n.length&&!r;){const a=n[i];typeof a=="string"&&!KW.has(a)&&Wv(a).values.length&&(r=n[i]),i++}if(r&&t)for(const a of e)n[a]=BL(t,r)}class QW extends RM{constructor(e,t,i,r,a){super(e,t,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),_M(h))){const p=IL(h,t.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!LL.has(i)||e.length!==2)return;const[r,a]=e,s=Y3(r),l=Y3(a);if(s!==l)if(H3(s)&&H3(l))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else Sd[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||GW(e[r]))&&i.push(r);i.length&&ZW(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sd[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var l;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,s=i[a];i[a]=Sd[t](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function kL(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=(t==null?void 0:t[n])??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const zL=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function JW(n){return JI(n)&&"offsetHeight"in n}const q3=30,$W=n=>!isNaN(parseFloat(n));class eY{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{var s,l;const a=Fs.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty();r&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Fs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$W(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new gM);const i=this.events[e].add(t);return e==="change"?()=>{i(),Di.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Fs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>q3)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,q3);return eL(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dd(n,e){return new eY(n,e)}const{schedule:DM}=dL(queueMicrotask,!1),Sl={x:!1,y:!1};function VL(){return Sl.x||Sl.y}function tY(n){return n==="x"||n==="y"?Sl[n]?null:(Sl[n]=!0,()=>{Sl[n]=!1}):Sl.x||Sl.y?null:(Sl.x=Sl.y=!0,()=>{Sl.x=Sl.y=!1})}function HL(n,e){const t=kL(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function K3(n){return!(n.pointerType==="touch"||VL())}function nY(n,e,t={}){const[i,r,a]=HL(n,t),s=l=>{if(!K3(l))return;const{target:u}=l,h=e(u,l);if(typeof h!="function"||!u)return;const p=g=>{K3(g)&&(h(g),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,r)};return i.forEach(l=>{l.addEventListener("pointerenter",s,r)}),a}const GL=(n,e)=>e?n===e?!0:GL(n,e.parentElement):!1,IM=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,iY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rY(n){return iY.has(n.tagName)||n.tabIndex!==-1}const C_=new WeakSet;function Z3(n){return e=>{e.key==="Enter"&&n(e)}}function z2(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const aY=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=Z3(()=>{if(C_.has(t))return;z2(t,"down");const r=Z3(()=>{z2(t,"up")}),a=()=>z2(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function Q3(n){return IM(n)&&!VL()}function sY(n,e,t={}){const[i,r,a]=HL(n,t),s=l=>{const u=l.currentTarget;if(!Q3(l))return;C_.add(u);const h=e(u,l),p=(y,E)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),C_.has(u)&&C_.delete(u),Q3(y)&&typeof h=="function"&&h(y,{success:E})},g=y=>{p(y,u===window||u===document||t.useGlobalTarget||GL(u,y.target))},v=y=>{p(y,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",v,r)};return i.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",s,r),JW(l)&&(l.addEventListener("focus",h=>aY(h,r)),!rY(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function LM(n){return JI(n)&&"ownerSVGElement"in n}function XL(n){return LM(n)&&n.tagName==="svg"}const Dr=n=>!!(n&&n.getVelocity),oY=[...FL,Or,kf],lY=n=>oY.find(UL(n)),UM=De.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function cY(n=!0){const e=De.useContext(hM);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,a=De.useId();De.useEffect(()=>{if(n)return r(a)},[n]);const s=De.useCallback(()=>n&&i&&i(a),[a,i,n]);return!t&&i?[!1,s]:[!0]}const WL=De.createContext({strict:!1}),J3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kp={};for(const n in J3)Kp[n]={isEnabled:e=>J3[n].some(t=>!!e[t])};function uY(n){for(const e in n)Kp[e]={...Kp[e],...n[e]}}const fY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function RE(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||fY.has(n)}let YL=n=>!RE(n);function hY(n){typeof n=="function"&&(YL=e=>e.startsWith("on")?!RE(e):n(e))}try{hY(require("@emotion/is-prop-valid").default)}catch{}function dY(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(YL(r)||t===!0&&RE(r)||!e&&!RE(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}const CS=De.createContext({});function OS(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function jv(n){return typeof n=="string"||Array.isArray(n)}const FM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],PM=["initial",...FM];function NS(n){return OS(n.animate)||PM.some(e=>jv(n[e]))}function jL(n){return!!(NS(n)||n.variants)}function pY(n,e){if(NS(n)){const{initial:t,animate:i}=n;return{initial:t===!1||jv(t)?t:void 0,animate:jv(i)?i:void 0}}return n.inherit!==!1?e:{}}function mY(n){const{initial:e,animate:t}=pY(n,De.useContext(CS));return De.useMemo(()=>({initial:e,animate:t}),[$3(e),$3(t)])}function $3(n){return Array.isArray(n)?n.join(" "):n}const qv={};function gY(n){for(const e in n)qv[e]=n[e],yM(e)&&(qv[e].isCSSVariable=!0)}function qL(n,{layout:e,layoutId:t}){return cm.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!qv[n]||n==="opacity")}const vY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xY=lm.length;function yY(n,e,t){let i="",r=!0;for(let a=0;a<xY;a++){const s=lm[a],l=n[s];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(s.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||t){const h=zL(l,NM[s]);if(!u){r=!1;const p=vY[s]||s;i+=`${p}(${h}) `}t&&(e[s]=h)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function BM(n,e,t){const{style:i,vars:r,transformOrigin:a}=n;let s=!1,l=!1;for(const u in e){const h=e[u];if(cm.has(u)){s=!0;continue}else if(yM(u)){r[u]=h;continue}else{const p=zL(h,NM[u]);u.startsWith("origin")?(l=!0,a[u]=p):i[u]=p}}if(e.transform||(s||t?i.transform=yY(e,n.transform,t):i.transform&&(i.transform="none")),l){const{originX:u="50%",originY:h="50%",originZ:p=0}=a;i.transformOrigin=`${u} ${h} ${p}`}}const kM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KL(n,e,t){for(const i in e)!Dr(e[i])&&!qL(i,t)&&(n[i]=e[i])}function _Y({transformTemplate:n},e){return De.useMemo(()=>{const t=kM();return BM(t,e,n),Object.assign({},t.vars,t.style)},[e])}function EY(n,e){const t=n.style||{},i={};return KL(i,t,n),Object.assign(i,_Y(n,e)),i}function SY(n,e){const t={},i=EY(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const TY={offset:"stroke-dashoffset",array:"stroke-dasharray"},AY={offset:"strokeDashoffset",array:"strokeDasharray"};function bY(n,e,t=1,i=0,r=!0){n.pathLength=1;const a=r?TY:AY;n[a.offset]=fn.transform(-i);const s=fn.transform(e),l=fn.transform(t);n[a.array]=`${s} ${l}`}function ZL(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:s=0,...l},u,h,p){if(BM(n,l,h),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:v}=n;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),i!==void 0&&(g.scale=i),r!==void 0&&bY(g,r,a,s,!1)}const QL=()=>({...kM(),attrs:{}}),JL=n=>typeof n=="string"&&n.toLowerCase()==="svg";function MY(n,e,t,i){const r=De.useMemo(()=>{const a=QL();return ZL(a,e,JL(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};KL(a,n.style,n),r.style={...a,...r.style}}return r}const wY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zM(n){return typeof n!="string"||n.includes("-")?!1:!!(wY.indexOf(n)>-1||/[A-Z]/u.test(n))}function RY(n,e,t,{latestValues:i},r,a=!1){const l=(zM(n)?MY:SY)(e,i,r,n),u=dY(e,typeof n=="string",a),h=n!==De.Fragment?{...u,...l,ref:t}:{},{children:p}=e,g=De.useMemo(()=>Dr(p)?p.get():p,[p]);return De.createElement(n,{...h,children:g})}function eO(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function VM(n,e,t,i){if(typeof e=="function"){const[r,a]=eO(i);e=e(t!==void 0?t:n.custom,r,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,a]=eO(i);e=e(t!==void 0?t:n.custom,r,a)}return e}function O_(n){return Dr(n)?n.get():n}function CY({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:OY(t,i,r,n),renderState:e()}}function OY(n,e,t,i){const r={},a=i(n,{});for(const v in a)r[v]=O_(a[v]);let{initial:s,animate:l}=n;const u=NS(n),h=jL(n);e&&h&&!u&&n.inherit!==!1&&(s===void 0&&(s=e.initial),l===void 0&&(l=e.animate));let p=t?t.initial===!1:!1;p=p||s===!1;const g=p?l:s;if(g&&typeof g!="boolean"&&!OS(g)){const v=Array.isArray(g)?g:[g];for(let y=0;y<v.length;y++){const E=VM(n,v[y]);if(E){const{transitionEnd:T,transition:S,...A}=E;for(const R in A){let w=A[R];if(Array.isArray(w)){const D=p?w.length-1:0;w=w[D]}w!==null&&(r[R]=w)}for(const R in T)r[R]=T[R]}}}return r}const $L=n=>(e,t)=>{const i=De.useContext(CS),r=De.useContext(hM),a=()=>CY(n,e,i,r);return t?a():KI(a)};function HM(n,e,t){var a;const{style:i}=n,r={};for(const s in i)(Dr(i[s])||e.style&&Dr(e.style[s])||qL(s,n)||((a=t==null?void 0:t.getValue(s))==null?void 0:a.liveStyle)!==void 0)&&(r[s]=i[s]);return r}const NY=$L({scrapeMotionValuesFromProps:HM,createRenderState:kM});function eU(n,e,t){const i=HM(n,e,t);for(const r in n)if(Dr(n[r])||Dr(e[r])){const a=lm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=n[r]}return i}const DY=$L({scrapeMotionValuesFromProps:eU,createRenderState:QL}),IY=Symbol.for("motionComponentSymbol");function wp(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function LY(n,e,t){return De.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):wp(t)&&(t.current=i))},[e])}const GM=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UY="framerAppearId",tU="data-"+GM(UY),nU=De.createContext({});function FY(n,e,t,i,r){var T,S;const{visualElement:a}=De.useContext(CS),s=De.useContext(WL),l=De.useContext(hM),u=De.useContext(UM).reducedMotion,h=De.useRef(null);i=i||s.renderer,!h.current&&i&&(h.current=i(n,{visualState:e,parent:a,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const p=h.current,g=De.useContext(nU);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&PY(h.current,t,r,g);const v=De.useRef(!1);De.useInsertionEffect(()=>{p&&v.current&&p.update(t,l)});const y=t[tU],E=De.useRef(!!y&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,y))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,y)));return ZI(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),E.current&&p.animationState&&p.animationState.animateChanges())}),De.useEffect(()=>{p&&(!E.current&&p.animationState&&p.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,y)}),E.current=!1))}),p}function PY(n,e,t,i){const{layoutId:r,layout:a,drag:s,dragConstraints:l,layoutScroll:u,layoutRoot:h,layoutCrossfade:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:iU(n.parent)),n.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!s||l&&wp(l),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:u,layoutRoot:h})}function iU(n){if(n)return n.options.allowProjection!==!1?n.projection:iU(n.parent)}function V2(n,{forwardMotionProps:e=!1}={},t,i){t&&uY(t);const r=zM(n)?DY:NY;function a(l,u){let h;const p={...De.useContext(UM),...l,layoutId:BY(l)},{isStatic:g}=p,v=mY(l),y=r(l,g);if(!g&&fM){kY();const E=zY(p);h=E.MeasureLayout,v.visualElement=FY(n,y,p,i,E.ProjectionNode)}return Be.jsxs(CS.Provider,{value:v,children:[h&&v.visualElement?Be.jsx(h,{visualElement:v.visualElement,...p}):null,RY(n,l,LY(y,v.visualElement,u),y,g,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const s=De.forwardRef(a);return s[IY]=n,s}function BY({layoutId:n}){const e=De.useContext(qI).id;return e&&n!==void 0?e+"-"+n:n}function kY(n,e){De.useContext(WL).strict}function zY(n){const{drag:e,layout:t}=Kp;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function VY(n,e){if(typeof Proxy>"u")return V2;const t=new Map,i=(a,s)=>V2(a,s,n,e),r=(a,s)=>i(a,s);return new Proxy(r,{get:(a,s)=>s==="create"?i:(t.has(s)||t.set(s,V2(s,void 0,n,e)),t.get(s))})}function rU({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function HY({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function GY(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function H2(n){return n===void 0||n===1}function KA({scale:n,scaleX:e,scaleY:t}){return!H2(n)||!H2(e)||!H2(t)}function cd(n){return KA(n)||aU(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function aU(n){return tO(n.x)||tO(n.y)}function tO(n){return n&&n!=="0%"}function CE(n,e,t){const i=n-t,r=e*i;return t+r}function nO(n,e,t,i,r){return r!==void 0&&(n=CE(n,r,i)),CE(n,t,i)+e}function ZA(n,e=0,t=1,i,r){n.min=nO(n.min,e,t,i,r),n.max=nO(n.max,e,t,i,r)}function sU(n,{x:e,y:t}){ZA(n.x,e.translate,e.scale,e.originPoint),ZA(n.y,t.translate,t.scale,t.originPoint)}const iO=.999999999999,rO=1.0000000000001;function XY(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let a,s;for(let l=0;l<r;l++){a=t[l],s=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Cp(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,sU(n,s)),i&&cd(a.latestValues)&&Cp(n,a.latestValues))}e.x<rO&&e.x>iO&&(e.x=1),e.y<rO&&e.y>iO&&(e.y=1)}function Rp(n,e){n.min=n.min+e,n.max=n.max+e}function aO(n,e,t,i,r=.5){const a=zi(n.min,n.max,r);ZA(n,e,t,a,i)}function Cp(n,e){aO(n.x,e.x,e.scaleX,e.scale,e.originX),aO(n.y,e.y,e.scaleY,e.scale,e.originY)}function oU(n,e){return rU(GY(n.getBoundingClientRect(),e))}function WY(n,e,t){const i=oU(n,t),{scroll:r}=e;return r&&(Rp(i.x,r.offset.x),Rp(i.y,r.offset.y)),i}const sO=()=>({translate:0,scale:1,origin:0,originPoint:0}),Op=()=>({x:sO(),y:sO()}),oO=()=>({min:0,max:0}),nr=()=>({x:oO(),y:oO()}),QA={current:null},lU={current:!1};function YY(){if(lU.current=!0,!!fM)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>QA.current=n.matches;n.addEventListener("change",e),e()}else QA.current=!1}const Kv=new WeakMap;function jY(n,e,t){for(const i in e){const r=e[i],a=t[i];if(Dr(r))n.addValue(i,r);else if(Dr(a))n.addValue(i,Dd(r,{owner:n}));else if(a!==r)if(n.hasValue(i)){const s=n.getValue(i);s.liveStyle===!0?s.jump(r):s.hasAnimated||s.set(r)}else{const s=n.getStaticValue(i);n.addValue(i,Dd(s!==void 0?s:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const lO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cU{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=RM,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Fs.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Di.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=s;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=NS(t),this.isVariantNode=jL(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(t,{},this);for(const v in g){const y=g[v];u[v]!==void 0&&Dr(y)&&y.set(u[v],!1)}}mount(e){this.current=e,Kv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),lU.current||YY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:QA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Tu(this.notifyUpdate),Tu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=cm.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Di.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Kp){const t=Kp[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<lO.length;i++){const r=lO[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,s=e[a];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=jY(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Dd(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(QI(i)||$I(i))?i=parseFloat(i):!lY(i)&&kf.test(t)&&(i=BL(e,t)),this.setBaseTarget(e,Dr(i)?i.get():i)),Dr(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var a;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const s=VM(this.props,t,(a=this.presenceContext)==null?void 0:a.custom);s&&(i=s[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Dr(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new gM),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){DM.render(this.render)}}class uU extends cU{constructor(){super(...arguments),this.KeyframeResolver=QW}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function fU(n,{style:e,vars:t},i,r){const a=n.style;let s;for(s in e)a[s]=e[s];r==null||r.applyProjectionStyles(a,i);for(s in t)a.setProperty(s,t[s])}function qY(n){return window.getComputedStyle(n)}class hU extends uU{constructor(){super(...arguments),this.type="html",this.renderInstance=fU}readValueFromInstance(e,t){var i;if(cm.has(t))return(i=this.projection)!=null&&i.isProjecting?GA(t):pW(e,t);{const r=qY(e),a=(yM(t)?r.getPropertyValue(t):r[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return oU(e,t)}build(e,t,i){BM(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return HM(e,t,i)}}const dU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function KY(n,e,t,i){fU(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(dU.has(r)?r:GM(r),e.attrs[r])}class pU extends uU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nr}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(cm.has(t)){const i=PL(t);return i&&i.default||0}return t=dU.has(t)?t:GM(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return eU(e,t,i)}build(e,t,i){ZL(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){KY(e,t,i,r)}mount(e){this.isSVGTag=JL(e.tagName),super.mount(e)}}const ZY=(n,e)=>zM(n)?new pU(e):new hU(e,{allowProjection:n!==De.Fragment});function Zv(n,e,t){const i=n.getProps();return VM(i,e,t!==void 0?t:i.custom,n)}const JA=n=>Array.isArray(n);function QY(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Dd(t))}function JY(n){return JA(n)?n[n.length-1]||0:n}function $Y(n,e){const t=Zv(n,e);let{transitionEnd:i={},transition:r={},...a}=t||{};a={...a,...i};for(const s in a){const l=JY(a[s]);QY(n,s,l)}}function ej(n){return!!(Dr(n)&&n.add)}function $A(n,e){const t=n.getValue("willChange");if(ej(t))return t.add(e);if(!t&&Su.WillChange){const i=new Su.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function mU(n){return n.props[tU]}const tj=n=>n!==null;function nj(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(tj),a=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[a]}const ij={type:"spring",stiffness:500,damping:25,restSpeed:10},rj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),aj={type:"keyframes",duration:.8},sj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oj=(n,{keyframes:e})=>e.length>2?aj:cm.has(n)?n.startsWith("scale")?rj(e[1]):ij:sj;function lj({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:s,repeatDelay:l,from:u,elapsed:h,...p}){return!!Object.keys(p).length}const XM=(n,e,t,i={},r,a)=>s=>{const l=OM(i,n)||{},u=l.delay||i.delay||0;let{elapsed:h=0}=i;h=h-Rl(u);const p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:v=>{e.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:n,motionValue:e,element:a?void 0:r};lj(l)||Object.assign(p,oj(n,p)),p.duration&&(p.duration=Rl(p.duration)),p.repeatDelay&&(p.repeatDelay=Rl(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),(Su.instantAnimations||Su.skipAnimations)&&(g=!0,p.duration=0,p.delay=0),p.allowFlatten=!l.type&&!l.ease,g&&!a&&e.get()!==void 0){const v=nj(p.keyframes,l);if(v!==void 0){Di.update(()=>{p.onUpdate(v),p.onComplete()});return}}return l.isSync?new wM(p):new PW(p)};function cj({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function WM(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:s,...l}=e;i&&(a=i);const u=[],h=r&&n.animationState&&n.animationState.getState()[r];for(const p in l){const g=n.getValue(p,n.latestValues[p]??null),v=l[p];if(v===void 0||h&&cj(h,p))continue;const y={delay:t,...OM(a||{},p)},E=g.get();if(E!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===E&&!y.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const A=mU(n);if(A){const R=window.MotionHandoffAnimation(A,p,Di);R!==null&&(y.startTime=R,T=!0)}}$A(n,p),g.start(XM(p,g,v,n.shouldReduceMotion&&LL.has(p)?{type:!1}:y,n,T));const S=g.animation;S&&u.push(S)}return s&&Promise.all(u).then(()=>{Di.update(()=>{s&&$Y(n,s)})}),u}function eb(n,e,t={}){var u;const i=Zv(n,e,t.type==="exit"?(u=n.presenceContext)==null?void 0:u.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const a=i?()=>Promise.all(WM(n,i,t)):()=>Promise.resolve(),s=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=r;return uj(n,e,h,p,g,v,t)}:()=>Promise.resolve(),{when:l}=r;if(l){const[h,p]=l==="beforeChildren"?[a,s]:[s,a];return h().then(()=>p())}else return Promise.all([a(),s(t.delay)])}function uj(n,e,t=0,i=0,r=0,a=1,s){const l=[],u=n.variantChildren.size,h=(u-1)*r,p=typeof i=="function",g=p?v=>i(v,u):a===1?(v=0)=>v*r:(v=0)=>h-v*r;return Array.from(n.variantChildren).sort(fj).forEach((v,y)=>{v.notify("AnimationStart",e),l.push(eb(v,e,{...s,delay:t+(p?0:i)+g(y)}).then(()=>v.notify("AnimationComplete",e)))}),Promise.all(l)}function fj(n,e){return n.sortNodePosition(e)}function hj(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>eb(n,a,t));i=Promise.all(r)}else if(typeof e=="string")i=eb(n,e,t);else{const r=typeof e=="function"?Zv(n,e,t.custom):e;i=Promise.all(WM(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function gU(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const dj=PM.length;function vU(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?vU(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<dj;t++){const i=PM[t],r=n.props[i];(jv(r)||r===!1)&&(e[i]=r)}return e}const pj=[...FM].reverse(),mj=FM.length;function gj(n){return e=>Promise.all(e.map(({animation:t,options:i})=>hj(n,t,i)))}function vj(n){let e=gj(n),t=cO(),i=!0;const r=u=>(h,p)=>{var v;const g=Zv(n,p,u==="exit"?(v=n.presenceContext)==null?void 0:v.custom:void 0);if(g){const{transition:y,transitionEnd:E,...T}=g;h={...h,...T,...E}}return h};function a(u){e=u(n)}function s(u){const{props:h}=n,p=vU(n.parent)||{},g=[],v=new Set;let y={},E=1/0;for(let S=0;S<mj;S++){const A=pj[S],R=t[A],w=h[A]!==void 0?h[A]:p[A],D=jv(w),P=A===u?R.isActive:null;P===!1&&(E=S);let F=w===p[A]&&w!==h[A]&&D;if(F&&i&&n.manuallyAnimateOnMount&&(F=!1),R.protectedKeys={...y},!R.isActive&&P===null||!w&&!R.prevProp||OS(w)||typeof w=="boolean")continue;const U=xj(R.prevProp,w);let I=U||A===u&&R.isActive&&!F&&D||S>E&&D,C=!1;const L=Array.isArray(w)?w:[w];let k=L.reduce(r(A),{});P===!1&&(k={});const{prevResolvedValues:G={}}=R,ee={...G,...k},ve=K=>{I=!0,v.has(K)&&(C=!0,v.delete(K)),R.needsAnimating[K]=!0;const ie=n.getValue(K);ie&&(ie.liveStyle=!1)};for(const K in ee){const ie=k[K],ne=G[K];if(y.hasOwnProperty(K))continue;let j=!1;JA(ie)&&JA(ne)?j=!gU(ie,ne):j=ie!==ne,j?ie!=null?ve(K):v.add(K):ie!==void 0&&v.has(K)?ve(K):R.protectedKeys[K]=!0}R.prevProp=w,R.prevResolvedValues=k,R.isActive&&(y={...y,...k}),i&&n.blockInitialAnimation&&(I=!1),I&&(!(F&&U)||C)&&g.push(...L.map(K=>({animation:K,options:{type:A}})))}if(v.size){const S={};if(typeof h.initial!="boolean"){const A=Zv(n,Array.isArray(h.initial)?h.initial[0]:h.initial);A&&A.transition&&(S.transition=A.transition)}v.forEach(A=>{const R=n.getBaseTarget(A),w=n.getValue(A);w&&(w.liveStyle=!0),S[A]=R??null}),g.push({animation:S})}let T=!!g.length;return i&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(T=!1),i=!1,T?e(g):Promise.resolve()}function l(u,h){var g;if(t[u].isActive===h)return Promise.resolve();(g=n.variantChildren)==null||g.forEach(v=>{var y;return(y=v.animationState)==null?void 0:y.setActive(u,h)}),t[u].isActive=h;const p=s(u);for(const v in t)t[v].protectedKeys={};return p}return{animateChanges:s,setActive:l,setAnimateFunction:a,getState:()=>t,reset:()=>{t=cO(),i=!0}}}function xj(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!gU(e,n):!1}function rd(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cO(){return{animate:rd(!0),whileInView:rd(),whileHover:rd(),whileTap:rd(),whileDrag:rd(),whileFocus:rd(),exit:rd()}}class qf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class yj extends qf{constructor(e){super(e),e.animationState||(e.animationState=vj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();OS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let _j=0;class Ej extends qf{constructor(){super(...arguments),this.id=_j++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Sj={animation:{Feature:yj},exit:{Feature:Ej}};function Qv(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Mx(n){return{point:{x:n.pageX,y:n.pageY}}}const Tj=n=>e=>IM(e)&&n(e,Mx(e));function mv(n,e,t,i){return Qv(n,e,Tj(t),i)}const xU=1e-4,Aj=1-xU,bj=1+xU,yU=.01,Mj=0-yU,wj=0+yU;function ds(n){return n.max-n.min}function Rj(n,e,t){return Math.abs(n-e)<=t}function uO(n,e,t,i=.5){n.origin=i,n.originPoint=zi(e.min,e.max,n.origin),n.scale=ds(t)/ds(e),n.translate=zi(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Aj&&n.scale<=bj||isNaN(n.scale))&&(n.scale=1),(n.translate>=Mj&&n.translate<=wj||isNaN(n.translate))&&(n.translate=0)}function gv(n,e,t,i){uO(n.x,e.x,t.x,i?i.originX:void 0),uO(n.y,e.y,t.y,i?i.originY:void 0)}function fO(n,e,t){n.min=t.min+e.min,n.max=n.min+ds(e)}function Cj(n,e,t){fO(n.x,e.x,t.x),fO(n.y,e.y,t.y)}function hO(n,e,t){n.min=e.min-t.min,n.max=n.min+ds(e)}function vv(n,e,t){hO(n.x,e.x,t.x),hO(n.y,e.y,t.y)}function Fo(n){return[n("x"),n("y")]}const _U=({current:n})=>n?n.ownerDocument.defaultView:null,dO=(n,e)=>Math.abs(n-e);function Oj(n,e){const t=dO(n.x,e.x),i=dO(n.y,e.y);return Math.sqrt(t**2+i**2)}class EU{constructor(e,t,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=X2(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,E=Oj(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!E)return;const{point:T}=v,{timestamp:S}=va;this.history.push({...T,timestamp:S});const{onStart:A,onMove:R}=this.handlers;y||(A&&A(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,v)},this.handlePointerMove=(v,y)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=G2(y,this.transformPagePoint),Di.update(this.updatePoint,!0)},this.handlePointerUp=(v,y)=>{this.end();const{onEnd:E,onSessionEnd:T,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=X2(v.type==="pointercancel"?this.lastMoveEventInfo:G2(y,this.transformPagePoint),this.history);this.startEvent&&E&&E(v,A),T&&T(v,A)},!IM(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=s,this.contextWindow=r||window;const l=Mx(e),u=G2(l,this.transformPagePoint),{point:h}=u,{timestamp:p}=va;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=t;g&&g(e,X2(u,this.history)),this.removeListeners=Tx(mv(this.contextWindow,"pointermove",this.handlePointerMove),mv(this.contextWindow,"pointerup",this.handlePointerUp),mv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Tu(this.updatePoint)}}function G2(n,e){return e?{point:e(n.point)}:n}function pO(n,e){return{x:n.x-e.x,y:n.y-e.y}}function X2({point:n},e){return{point:n,delta:pO(n,SU(e)),offset:pO(n,Nj(e)),velocity:Dj(e,.1)}}function Nj(n){return n[0]}function SU(n){return n[n.length-1]}function Dj(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=SU(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Rl(e)));)t--;if(!i)return{x:0,y:0};const a=Tc(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const s={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ij(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?zi(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?zi(t,n,i.max):Math.min(n,t)),n}function mO(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Lj(n,{top:e,left:t,bottom:i,right:r}){return{x:mO(n.x,t,r),y:mO(n.y,e,i)}}function gO(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function Uj(n,e){return{x:gO(n.x,e.x),y:gO(n.y,e.y)}}function Fj(n,e){let t=.5;const i=ds(n),r=ds(e);return r>i?t=qp(e.min,e.max-i,n.min):i>r&&(t=qp(n.min,n.max-r,e.min)),Eu(0,1,t)}function Pj(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const tb=.35;function Bj(n=tb){return n===!1?n=0:n===!0&&(n=tb),{x:vO(n,"left","right"),y:vO(n,"top","bottom")}}function vO(n,e,t){return{min:xO(n,e),max:xO(n,t)}}function xO(n,e){return typeof n=="number"?n:n[e]||0}const kj=new WeakMap;class zj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Mx(g).point)},s=(g,v)=>{const{drag:y,dragPropagation:E,onDragStart:T}=this.getProps();if(y&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tY(y),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fo(A=>{let R=this.getAxisMotionValue(A).get()||0;if(Ac.test(R)){const{projection:w}=this.visualElement;if(w&&w.layout){const D=w.layout.layoutBox[A];D&&(R=ds(D)*(parseFloat(R)/100))}}this.originPoint[A]=R}),T&&Di.postRender(()=>T(g,v)),$A(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:y,dragDirectionLock:E,onDirectionLock:T,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:A}=v;if(E&&this.currentDirection===null){this.currentDirection=Vj(A),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,A),this.updateAxis("y",v.point,A),this.visualElement.render(),S&&S(g,v)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Fo(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new EU(e,{onSessionStart:a,onStart:s,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:_U(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,r=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:l}=this.getProps();l&&Di.postRender(()=>l(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!r_(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(s=Ij(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,r=this.constraints;e&&wp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Lj(i.layoutBox,e):this.constraints=!1,this.elastic=Bj(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Fo(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Pj(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!wp(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=WY(i,r.root,this.visualElement.getTransformPagePoint());let s=Uj(r.layout.layoutBox,a);if(t){const l=t(HY(s));this.hasMutatedConstraints=!!l,l&&(s=rU(l))}return s}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},h=Fo(p=>{if(!r_(p,t,this.currentDirection))return;let g=u&&u[p]||{};s&&(g={min:0,max:0});const v=r?200:1e6,y=r?40:1e7,E={type:"inertia",velocity:i?e[p]:0,bounceStiffness:v,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,E)});return Promise.all(h).then(l)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return $A(this.visualElement,e),i.start(XM(e,i,0,t,this.visualElement,!1))}stopAnimation(){Fo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Fo(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Fo(t=>{const{drag:i}=this.getProps();if(!r_(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:s,max:l}=r.layout.layoutBox[t];a.set(e[t]-zi(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!wp(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Fo(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const u=l.get();r[s]=Fj({min:u,max:u},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Fo(s=>{if(!r_(s,e,null))return;const l=this.getAxisMotionValue(s),{min:u,max:h}=this.constraints[s];l.set(zi(u,h,r[s]))})}addListeners(){if(!this.visualElement.current)return;kj.set(this.visualElement,this);const e=this.visualElement.current,t=mv(e,"pointerdown",u=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();wp(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Di.read(i);const s=Qv(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Fo(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=u[p].translate,g.set(g.get()+u[p].translate))}),this.visualElement.render())});return()=>{s(),t(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:s=tb,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:s,dragMomentum:l}}}function r_(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Vj(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Hj extends qf{constructor(e){super(e),this.removeGroupControls=Vo,this.removeListeners=Vo,this.controls=new zj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vo}unmount(){this.removeGroupControls(),this.removeListeners()}}const yO=n=>(e,t)=>{n&&Di.postRender(()=>n(e,t))};class Gj extends qf{constructor(){super(...arguments),this.removePointerDownListener=Vo}onPointerDown(e){this.session=new EU(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_U(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:yO(e),onStart:yO(t),onMove:i,onEnd:(a,s)=>{delete this.session,r&&Di.postRender(()=>r(a,s))}}}mount(){this.removePointerDownListener=mv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const N_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _O(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Xg={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(fn.test(n))n=parseFloat(n);else return n;const t=_O(n,e.target.x),i=_O(n,e.target.y);return`${t}% ${i}%`}},Xj={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=kf.parse(n);if(r.length>5)return i;const a=kf.createTransformer(n),s=typeof r[0]!="number"?1:0,l=t.x.scale*e.x,u=t.y.scale*e.y;r[0+s]/=l,r[1+s]/=u;const h=zi(l,u,.5);return typeof r[2+s]=="number"&&(r[2+s]/=h),typeof r[3+s]=="number"&&(r[3+s]/=h),a(r)}};let EO=!1;class Wj extends De.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;gY(Yj),a&&(t.group&&t.group.add(a),i&&i.register&&r&&i.register(a),EO&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),N_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:a}=this.props,{projection:s}=i;return s&&(s.isPresent=a,EO=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Di.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),DM.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function TU(n){const[e,t]=cY(),i=De.useContext(qI);return Be.jsx(Wj,{...n,layoutGroup:i,switchLayoutGroup:De.useContext(nU),isPresent:e,safeToRemove:t})}const Yj={borderRadius:{...Xg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xg,borderTopRightRadius:Xg,borderBottomLeftRadius:Xg,borderBottomRightRadius:Xg,boxShadow:Xj};function AU(n,e,t){const i=Dr(n)?n:Dd(n);return i.start(XM("",i,e,t)),i.animation}const jj=(n,e)=>n.depth-e.depth;class qj{constructor(){this.children=[],this.isDirty=!1}add(e){dM(this.children,e),this.isDirty=!0}remove(e){RS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jj),this.isDirty=!1,this.children.forEach(e)}}function Kj(n,e){const t=Fs.now(),i=({timestamp:r})=>{const a=r-t;a>=e&&(Tu(i),n(a-e))};return Di.setup(i,!0),()=>Tu(i)}const bU=["TopLeft","TopRight","BottomLeft","BottomRight"],Zj=bU.length,SO=n=>typeof n=="string"?parseFloat(n):n,TO=n=>typeof n=="number"||fn.test(n);function Qj(n,e,t,i,r,a){r?(n.opacity=zi(0,t.opacity??1,Jj(i)),n.opacityExit=zi(e.opacity??1,0,$j(i))):a&&(n.opacity=zi(e.opacity??1,t.opacity??1,i));for(let s=0;s<Zj;s++){const l=`border${bU[s]}Radius`;let u=AO(e,l),h=AO(t,l);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||TO(u)===TO(h)?(n[l]=Math.max(zi(SO(u),SO(h),i),0),(Ac.test(h)||Ac.test(u))&&(n[l]+="%")):n[l]=h}(e.rotate||t.rotate)&&(n.rotate=zi(e.rotate||0,t.rotate||0,i))}function AO(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Jj=MU(0,.5,oL),$j=MU(.5,.95,Vo);function MU(n,e,t){return i=>i<n?0:i>e?1:t(qp(n,e,i))}function bO(n,e){n.min=e.min,n.max=e.max}function No(n,e){bO(n.x,e.x),bO(n.y,e.y)}function MO(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function wO(n,e,t,i,r){return n-=e,n=CE(n,1/t,i),r!==void 0&&(n=CE(n,1/r,i)),n}function eq(n,e=0,t=1,i=.5,r,a=n,s=n){if(Ac.test(e)&&(e=parseFloat(e),e=zi(s.min,s.max,e/100)-s.min),typeof e!="number")return;let l=zi(a.min,a.max,i);n===a&&(l-=e),n.min=wO(n.min,e,t,l,r),n.max=wO(n.max,e,t,l,r)}function RO(n,e,[t,i,r],a,s){eq(n,e[t],e[i],e[r],e.scale,a,s)}const tq=["x","scaleX","originX"],nq=["y","scaleY","originY"];function CO(n,e,t,i){RO(n.x,e,tq,t?t.x:void 0,i?i.x:void 0),RO(n.y,e,nq,t?t.y:void 0,i?i.y:void 0)}function OO(n){return n.translate===0&&n.scale===1}function wU(n){return OO(n.x)&&OO(n.y)}function NO(n,e){return n.min===e.min&&n.max===e.max}function iq(n,e){return NO(n.x,e.x)&&NO(n.y,e.y)}function DO(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function RU(n,e){return DO(n.x,e.x)&&DO(n.y,e.y)}function IO(n){return ds(n.x)/ds(n.y)}function LO(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class rq{constructor(){this.members=[]}add(e){dM(this.members,e),e.scheduleRender()}remove(e){if(RS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aq(n,e,t){let i="";const r=n.x.translate/e.x,a=n.y.translate/e.y,s=(t==null?void 0:t.z)||0;if((r||a||s)&&(i=`translate3d(${r}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:v,skewX:y,skewY:E}=t;h&&(i=`perspective(${h}px) ${i}`),p&&(i+=`rotate(${p}deg) `),g&&(i+=`rotateX(${g}deg) `),v&&(i+=`rotateY(${v}deg) `),y&&(i+=`skewX(${y}deg) `),E&&(i+=`skewY(${E}deg) `)}const l=n.x.scale*e.x,u=n.y.scale*e.y;return(l!==1||u!==1)&&(i+=`scale(${l}, ${u})`),i||"none"}const W2=["","X","Y","Z"],sq=1e3;let oq=0;function Y2(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function CU(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=mU(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Di,!(r||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&CU(i)}function OU({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(s={},l=e==null?void 0:e()){this.id=oq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uq),this.nodes.forEach(pq),this.nodes.forEach(mq),this.nodes.forEach(fq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new qj)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new gM),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const u=this.eventHandlers.get(s);u&&u.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=LM(s)&&!XL(s),this.instance=s;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),n){let p,g=0;const v=()=>this.root.updateBlockedByResize=!1;Di.read(()=>{g=window.innerWidth}),n(s,()=>{const y=window.innerWidth;y!==g&&(g=y,this.root.updateBlockedByResize=!0,p&&p(),p=Kj(v,250),N_.hasAnimatedSinceResize&&(N_.hasAnimatedSinceResize=!1,this.nodes.forEach(PO)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||h.getDefaultTransition()||_q,{onLayoutAnimationStart:T,onLayoutAnimationComplete:S}=h.getProps(),A=!this.targetLayout||!RU(this.targetLayout,y),R=!g&&v;if(this.options.layoutRoot||this.resumeFrom||R||g&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...OM(E,"layout"),onPlay:T,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(p,R)}else g||PO(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Tu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gq),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UO);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(FO);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dq),this.nodes.forEach(lq),this.nodes.forEach(cq)):this.nodes.forEach(FO),this.clearAllSnapshots();const l=Fs.now();va.delta=Eu(0,1e3/60,l-va.timestamp),va.timestamp=l,va.isProcessing=!0,F2.update.process(va),F2.preRender.process(va),F2.render.process(va),va.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,DM.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hq),this.sharedNodes.forEach(vq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Di.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Di.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ds(this.snapshot.measuredBox.x)&&!ds(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!wU(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;s&&this.instance&&(l||cd(this.latestValues)||p)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return s&&(u=this.removeTransform(u)),Eq(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:s}=this.options;if(!s)return nr();const l=s.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(Sq))){const{scroll:p}=this.root;p&&(Rp(l.x,p.offset.x),Rp(l.y,p.offset.y))}return l}removeElementScroll(s){var u;const l=nr();if(No(l,s),(u=this.scroll)!=null&&u.wasRoot)return l;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&No(l,s),Rp(l.x,g.offset.x),Rp(l.y,g.offset.y))}return l}applyTransform(s,l=!1){const u=nr();No(u,s);for(let h=0;h<this.path.length;h++){const p=this.path[h];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Cp(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),cd(p.latestValues)&&Cp(u,p.latestValues)}return cd(this.latestValues)&&Cp(u,this.latestValues),u}removeTransform(s){const l=nr();No(l,s);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!cd(h.latestValues))continue;KA(h.latestValues)&&h.updateSnapshot();const p=nr(),g=h.measurePageBox();No(p,g),CO(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return cd(this.latestValues)&&CO(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==va.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var v;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=va.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),vv(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),No(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nr(),this.targetWithTransforms=nr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Cj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):No(this.target,this.layout.layoutBox),sU(this.target,this.targetDelta)):No(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),vv(this.relativeTargetOrigin,this.target,y.target),No(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||KA(this.parent.latestValues)||aU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===va.timestamp&&(u=!1),u)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;No(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;XY(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=nr());const{target:y}=s;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(MO(this.prevProjectionDelta.x,this.projectionDelta.x),MO(this.prevProjectionDelta.y,this.projectionDelta.y)),gv(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!LO(this.projectionDelta.x,this.prevProjectionDelta.x)||!LO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),s){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Op(),this.projectionDelta=Op(),this.projectionDeltaWithTransform=Op()}setAnimationOrigin(s,l=!1){const u=this.snapshot,h=u?u.latestValues:{},p={...this.latestValues},g=Op();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=nr(),y=u?u.source:void 0,E=this.layout?this.layout.source:void 0,T=y!==E,S=this.getStack(),A=!S||S.members.length<=1,R=!!(T&&!A&&this.options.crossfade===!0&&!this.path.some(yq));this.animationProgress=0;let w;this.mixTargetDelta=D=>{const P=D/1e3;BO(g.x,s.x,P),BO(g.y,s.y,P),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vv(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xq(this.relativeTarget,this.relativeTargetOrigin,v,P),w&&iq(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=nr()),No(w,this.relativeTarget)),T&&(this.animationValues=p,Qj(p,h,this.latestValues,P,R,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var l,u,h;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(h=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Tu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Di.update(()=>{N_.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Dd(0)),this.currentAnimation=AU(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),s.onUpdate&&s.onUpdate(p)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:u,layout:h,latestValues:p}=s;if(!(!l||!u||!h)){if(this!==s&&this.layout&&h&&NU(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||nr();const g=ds(this.layout.layoutBox.x);u.x.min=s.target.x.min,u.x.max=u.x.min+g;const v=ds(this.layout.layoutBox.y);u.y.min=s.target.y.min,u.y.max=u.y.min+v}No(l,u),Cp(l,p),gv(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new rq),this.sharedNodes.get(s).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var l;const{layoutId:s}=this.options;return s?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:s}=this.options;return s?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:u}=s;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const h={};u.z&&Y2("z",s,h,this.animationValues);for(let p=0;p<W2.length;p++)Y2(`rotate${W2[p]}`,s,h,this.animationValues),Y2(`skew${W2[p]}`,s,h,this.animationValues);s.render();for(const p in h)s.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);s.scheduleRender()}applyProjectionStyles(s,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=O_(l==null?void 0:l.pointerEvents)||"",s.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=O_(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!cd(this.latestValues)&&(s.transform=u?u({},""):"none",this.hasProjected=!1);return}s.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=aq(this.projectionDeltaWithTransform,this.treeScale,p);u&&(g=u(p,g)),s.transform=g;const{x:v,y}=this.projectionDelta;s.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,h.animationValues?s.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:s.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const E in qv){if(p[E]===void 0)continue;const{correct:T,applyTo:S,isCSSVariable:A}=qv[E],R=g==="none"?p[E]:T(p[E],h);if(S){const w=S.length;for(let D=0;D<w;D++)s[S[D]]=R}else A?this.options.visualElement.renderState.vars[E]=R:s[E]=R}this.options.layoutId&&(s.pointerEvents=h===this?O_(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(UO),this.root.sharedNodes.clear()}}}function lq(n){n.updateLayout()}function cq(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:a}=n.options,s=e.source!==n.layout.source;a==="size"?Fo(g=>{const v=s?e.measuredBox[g]:e.layoutBox[g],y=ds(v);v.min=i[g].min,v.max=v.min+y}):NU(a,e.layoutBox,i)&&Fo(g=>{const v=s?e.measuredBox[g]:e.layoutBox[g],y=ds(i[g]);v.max=v.min+y,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+y)});const l=Op();gv(l,i,e.layoutBox);const u=Op();s?gv(u,n.applyTransform(r,!0),e.measuredBox):gv(u,i,e.layoutBox);const h=!wU(l);let p=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:y}=g;if(v&&y){const E=nr();vv(E,e.layoutBox,v.layoutBox);const T=nr();vv(T,i,y.layoutBox),RU(E,T)||(p=!0),g.options.layoutRoot&&(n.relativeTarget=T,n.relativeTargetOrigin=E,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function uq(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function fq(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function hq(n){n.clearSnapshot()}function UO(n){n.clearMeasurements()}function FO(n){n.isLayoutDirty=!1}function dq(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function PO(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function pq(n){n.resolveTargetDelta()}function mq(n){n.calcProjection()}function gq(n){n.resetSkewAndRotation()}function vq(n){n.removeLeadSnapshot()}function BO(n,e,t){n.translate=zi(e.translate,0,t),n.scale=zi(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function kO(n,e,t,i){n.min=zi(e.min,t.min,i),n.max=zi(e.max,t.max,i)}function xq(n,e,t,i){kO(n.x,e.x,t.x,i),kO(n.y,e.y,t.y,i)}function yq(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const _q={duration:.45,ease:[.4,0,.1,1]},zO=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),VO=zO("applewebkit/")&&!zO("chrome/")?Math.round:Vo;function HO(n){n.min=VO(n.min),n.max=VO(n.max)}function Eq(n){HO(n.x),HO(n.y)}function NU(n,e,t){return n==="position"||n==="preserve-aspect"&&!Rj(IO(e),IO(t),.2)}function Sq(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const Tq=OU({attachResizeListener:(n,e)=>Qv(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),j2={current:void 0},DU=OU({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!j2.current){const n=new Tq({});n.mount(window),n.setOptions({layoutScroll:!0}),j2.current=n}return j2.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Aq={pan:{Feature:Gj},drag:{Feature:Hj,ProjectionNode:DU,MeasureLayout:TU}};function GO(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,a=i[r];a&&Di.postRender(()=>a(e,Mx(e)))}class bq extends qf{mount(){const{current:e}=this.node;e&&(this.unmount=nY(e,(t,i)=>(GO(this.node,i,"Start"),r=>GO(this.node,r,"End"))))}unmount(){}}class Mq extends qf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tx(Qv(this.node.current,"focus",()=>this.onFocus()),Qv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function XO(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),a=i[r];a&&Di.postRender(()=>a(e,Mx(e)))}class wq extends qf{mount(){const{current:e}=this.node;e&&(this.unmount=sY(e,(t,i)=>(XO(this.node,i,"Start"),(r,{success:a})=>XO(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nb=new WeakMap,q2=new WeakMap,Rq=n=>{const e=nb.get(n.target);e&&e(n)},Cq=n=>{n.forEach(Rq)};function Oq({root:n,...e}){const t=n||document;q2.has(t)||q2.set(t,{});const i=q2.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(Cq,{root:n,...e})),i[r]}function Nq(n,e,t){const i=Oq(e);return nb.set(n,t),i.observe(n),()=>{nb.delete(n),i.unobserve(n)}}const Dq={some:0,all:1};class Iq extends qf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:Dq[r]},l=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=h?p:g;v&&v(u)};return Nq(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Lq(e,t))&&this.startObserver()}unmount(){}}function Lq({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Uq={inView:{Feature:Iq},tap:{Feature:wq},focus:{Feature:Mq},hover:{Feature:bq}},Fq={layout:{ProjectionNode:DU,MeasureLayout:TU}},Pq={...Sj,...Uq,...Aq,...Fq},WO=VY(Pq,ZY);function IU(n){const e=KI(()=>Dd(n)),{isStatic:t}=De.useContext(UM);if(t){const[,i]=De.useState(n);De.useEffect(()=>e.on("change",i),[])}return e}function Bq(n,e){const t=IU(e()),i=()=>t.set(e());return i(),ZI(()=>{const r=()=>Di.preRender(i,!1,!0),a=n.map(s=>s.on("change",r));return()=>{a.forEach(s=>s()),Tu(i)}}),t}function K2(n,...e){const t=n.length;function i(){let r="";for(let a=0;a<t;a++){r+=n[a];const s=e[a];s&&(r+=Dr(s)?s.get():s)}return r}return Bq(e.filter(Dr),i)}function YM(n){return typeof n=="object"&&!Array.isArray(n)}function LU(n,e,t,i){return typeof n=="string"&&YM(e)?kL(n,t,i):n instanceof NodeList?Array.from(n):Array.isArray(n)?n:[n]}function kq(n,e,t){return n*(e+1)}function YO(n,e,t,i){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,n+parseFloat(e)):e==="<"?t:e.startsWith("<")?Math.max(0,t+parseFloat(e.slice(1))):i.get(e)??n}function zq(n,e,t){for(let i=0;i<n.length;i++){const r=n[i];r.at>e&&r.at<t&&(RS(n,r),i--)}}function Vq(n,e,t,i,r,a){zq(n,r,a);for(let s=0;s<e.length;s++)n.push({value:e[s],at:zi(r,a,i[s]),easing:fL(t,s)})}function Hq(n,e){for(let t=0;t<n.length;t++)n[t]=n[t]/(e+1)}function Gq(n,e){return n.at===e.at?n.value===null?1:e.value===null?-1:0:n.at-e.at}const Xq="easeInOut";function Wq(n,{defaultTransition:e={},...t}={},i,r){const a=e.duration||.3,s=new Map,l=new Map,u={},h=new Map;let p=0,g=0,v=0;for(let y=0;y<n.length;y++){const E=n[y];if(typeof E=="string"){h.set(E,g);continue}else if(!Array.isArray(E)){h.set(E.name,YO(g,E.at,p,h));continue}let[T,S,A={}]=E;A.at!==void 0&&(g=YO(g,A.at,p,h));let R=0;const w=(D,P,F,U=0,I=0)=>{const C=Yq(D),{delay:L=0,times:k=ML(C),type:G="keyframes",repeat:ee,repeatType:ve,repeatDelay:pe=0,...W}=P;let{ease:K=e.ease||"easeOut",duration:ie}=P;const ne=typeof L=="function"?L(U,I):L,j=C.length,le=CM(G)?G:r==null?void 0:r[G||"keyframes"];if(j<=2&&le){let Q=100;if(j===2&&Kq(C)){const Ee=C[1]-C[0];Q=Math.abs(Ee)}const ge={...W};ie!==void 0&&(ge.duration=Rl(ie));const Ae=TL(ge,Q,le);K=Ae.ease,ie=Ae.duration}ie??(ie=a);const H=g+ne;k.length===1&&k[0]===0&&(k[1]=1);const q=k.length-C.length;if(q>0&&bL(k,q),C.length===1&&C.unshift(null),ee){ie=kq(ie,ee);const Q=[...C],ge=[...k];K=Array.isArray(K)?[...K]:[K];const Ae=[...K];for(let Ee=0;Ee<ee;Ee++){C.push(...Q);for(let Ce=0;Ce<Q.length;Ce++)k.push(ge[Ce]+(Ee+1)),K.push(Ce===0?"linear":fL(Ae,Ce-1))}Hq(k,ee)}const V=H+ie;Vq(F,C,K,k,H,V),R=Math.max(ne+ie,R),v=Math.max(V,v)};if(Dr(T)){const D=jO(T,l);w(S,A,qO("default",D))}else{const D=LU(T,S,i,u),P=D.length;for(let F=0;F<P;F++){S=S,A=A;const U=D[F],I=jO(U,l);for(const C in S)w(S[C],jq(A,C),qO(C,I),F,P)}}p=g,g+=R}return l.forEach((y,E)=>{for(const T in y){const S=y[T];S.sort(Gq);const A=[],R=[],w=[];for(let P=0;P<S.length;P++){const{at:F,value:U,easing:I}=S[P];A.push(U),R.push(qp(0,v,F)),w.push(I||"easeOut")}R[0]!==0&&(R.unshift(0),A.unshift(A[0]),w.unshift(Xq)),R[R.length-1]!==1&&(R.push(1),A.push(null)),s.has(E)||s.set(E,{keyframes:{},transition:{}});const D=s.get(E);D.keyframes[T]=A,D.transition[T]={...e,duration:v,ease:w,times:R,...t}}}),s}function jO(n,e){return!e.has(n)&&e.set(n,{}),e.get(n)}function qO(n,e){return e[n]||(e[n]=[]),e[n]}function Yq(n){return Array.isArray(n)?n:[n]}function jq(n,e){return n&&n[e]?{...n,...n[e]}:{...n}}const qq=n=>typeof n=="number",Kq=n=>n.every(qq);function Zq(n,e){return n in e}class Qq extends cU{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,t){if(Zq(t,e)){const i=e[t];if(typeof i=="string"||typeof i=="number")return i}}getBaseTargetFromProps(){}removeValueFromRenderState(e,t){delete t.output[e]}measureInstanceViewportBox(){return nr()}build(e,t){Object.assign(e.output,t)}renderInstance(e,{output:t}){Object.assign(e,t)}sortInstanceNodePosition(){return 0}}function Jq(n){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},t=LM(n)&&!XL(n)?new pU(e):new hU(e);t.mount(n),Kv.set(n,t)}function $q(n){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},t=new Qq(e);t.mount(n),Kv.set(n,t)}function eK(n,e){return Dr(n)||typeof n=="number"||typeof n=="string"&&!YM(e)}function UU(n,e,t,i){const r=[];if(eK(n,e))r.push(AU(n,YM(e)&&e.default||e,t&&(t.default||t)));else{const a=LU(n,e,i),s=a.length;for(let l=0;l<s;l++){const u=a[l],h=u instanceof Element?Jq:$q;Kv.has(u)||h(u);const p=Kv.get(u),g={...t};"delay"in g&&typeof g.delay=="function"&&(g.delay=g.delay(l,s)),r.push(...WM(p,{...e,transition:g},{}))}}return r}function tK(n,e,t){const i=[];return Wq(n,e,t,{spring:Yv}).forEach(({keyframes:a,transition:s},l)=>{i.push(...UU(l,a,s))}),i}function nK(n){return Array.isArray(n)&&n.some(Array.isArray)}function iK(n){function e(t,i,r){let a=[];return nK(t)?a=tK(t,i,n):a=UU(t,i,r,n),new kW(a)}return e}const rK=iK(),KO=["#13FFAA","#1E67C6","#CE84CF","#DD335C"],aK=({onGetStarted:n})=>{const e=IU(KO[0]);De.useEffect(()=>{rK(e,KO,{ease:"easeInOut",duration:10,repeat:1/0,repeatType:"mirror"})},[e]);const t=K2`radial-gradient(125% 125% at 50% 0%, #020617 50%, ${e})`,i=K2`1px solid ${e}`,r=K2`0px 4px 24px ${e}`;return Be.jsxs(WO.section,{style:{backgroundImage:t},className:"relative grid min-h-screen place-content-center overflow-hidden bg-gray-950 px-4 py-24 text-gray-200",children:[Be.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[Be.jsx("span",{className:"mb-1.5 inline-block rounded-full bg-gray-600/50 px-3 py-1.5 text-sm",children:"Attribution IA • Version Beta"}),Be.jsx("h1",{className:"max-w-3xl bg-gradient-to-br from-white to-gray-400 bg-clip-text text-center text-3xl font-medium leading-tight text-transparent sm:text-5xl sm:leading-tight md:text-7xl md:leading-tight",children:"Attribution automatique des secteurs par Intelligence Artificielle"}),Be.jsx("p",{className:"my-6 max-w-xl text-center text-base leading-relaxed md:text-lg md:leading-relaxed",children:"Classifiez automatiquement vos articles dans les secteurs appropriés selon la structure CYRUS. Traitement individuel ou en lot avec export Excel/CSV."}),Be.jsxs(WO.button,{onClick:n,style:{border:i,boxShadow:r},whileHover:{scale:1.015},whileTap:{scale:.985},className:"group relative flex w-fit items-center gap-1.5 rounded-full bg-gray-950/10 px-4 py-2 text-gray-50 transition-colors hover:bg-gray-950/50",children:["Commencer l'attribution",Be.jsx(pX,{className:"transition-transform group-hover:-rotate-45 group-active:-rotate-12"})]})]}),Be.jsx("div",{className:"absolute inset-0 z-0",children:Be.jsx(eX,{children:Be.jsx(aX,{radius:50,count:2500,factor:4,fade:!0,speed:2})})})]})};function ZO(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function FU(...n){return e=>{let t=!1;const i=n.map(r=>{const a=ZO(r,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let r=0;r<i.length;r++){const a=i[r];typeof a=="function"?a():ZO(n[r],null)}}}}function OE(...n){return De.useCallback(FU(...n),n)}function NE(n){const e=sK(n),t=De.forwardRef((i,r)=>{const{children:a,...s}=i,l=De.Children.toArray(a),u=l.find(lK);if(u){const h=u.props.children,p=l.map(g=>g===u?De.Children.count(h)>1?De.Children.only(null):De.isValidElement(h)?h.props.children:null:g);return Be.jsx(e,{...s,ref:r,children:De.isValidElement(h)?De.cloneElement(h,void 0,p):null})}return Be.jsx(e,{...s,ref:r,children:a})});return t.displayName=`${n}.Slot`,t}var PU=NE("Slot");function sK(n){const e=De.forwardRef((t,i)=>{const{children:r,...a}=t;if(De.isValidElement(r)){const s=uK(r),l=cK(a,r.props);return r.type!==De.Fragment&&(l.ref=i?FU(i,s):s),De.cloneElement(r,l)}return De.Children.count(r)>1?De.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var oK=Symbol("radix.slottable");function lK(n){return De.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===oK}function cK(n,e){const t={...e};for(const i in e){const r=n[i],a=e[i];/^on[A-Z]/.test(i)?r&&a?t[i]=(...l)=>{const u=a(...l);return r(...l),u}:r&&(t[i]=r):i==="style"?t[i]={...r,...a}:i==="className"&&(t[i]=[r,a].filter(Boolean).join(" "))}return{...n,...t}}function uK(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function BU(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=BU(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function kU(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=BU(n))&&(i&&(i+=" "),i+=e);return i}const QO=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,JO=kU,jM=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return JO(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:a}=e,s=Object.keys(r).map(h=>{const p=t==null?void 0:t[h],g=a==null?void 0:a[h];if(p===null)return null;const v=QO(p)||QO(g);return r[h][v]}),l=t&&Object.entries(t).reduce((h,p)=>{let[g,v]=p;return v===void 0||(h[g]=v),h},{}),u=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((h,p)=>{let{class:g,className:v,...y}=p;return Object.entries(y).every(E=>{let[T,S]=E;return Array.isArray(S)?S.includes({...a,...l}[T]):{...a,...l}[T]===S})?[...h,g,v]:h},[]);return JO(n,s,u,t==null?void 0:t.class,t==null?void 0:t.className)},qM="-",fK=n=>{const e=dK(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:s=>{const l=s.split(qM);return l[0]===""&&l.length!==1&&l.shift(),zU(l,e)||hK(s)},getConflictingClassGroupIds:(s,l)=>{const u=t[s]||[];return l&&i[s]?[...u,...i[s]]:u}}},zU=(n,e)=>{var s;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),r=i?zU(n.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const a=n.join(qM);return(s=e.validators.find(({validator:l})=>l(a)))==null?void 0:s.classGroupId},$O=/^\[(.+)\]$/,hK=n=>{if($O.test(n)){const e=$O.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},dK=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const r in t)ib(t[r],i,r,e);return i},ib=(n,e,t,i)=>{n.forEach(r=>{if(typeof r=="string"){const a=r===""?e:e4(e,r);a.classGroupId=t;return}if(typeof r=="function"){if(pK(r)){ib(r(i),e,t,i);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([a,s])=>{ib(s,e4(e,a),t,i)})})},e4=(n,e)=>{let t=n;return e.split(qM).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},pK=n=>n.isThemeGetter,mK=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const r=(a,s)=>{t.set(a,s),e++,e>n&&(e=0,i=t,t=new Map)};return{get(a){let s=t.get(a);if(s!==void 0)return s;if((s=i.get(a))!==void 0)return r(a,s),s},set(a,s){t.has(a)?t.set(a,s):r(a,s)}}},rb="!",ab=":",gK=ab.length,vK=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=r=>{const a=[];let s=0,l=0,u=0,h;for(let E=0;E<r.length;E++){let T=r[E];if(s===0&&l===0){if(T===ab){a.push(r.slice(u,E)),u=E+gK;continue}if(T==="/"){h=E;continue}}T==="["?s++:T==="]"?s--:T==="("?l++:T===")"&&l--}const p=a.length===0?r:r.substring(u),g=xK(p),v=g!==p,y=h&&h>u?h-u:void 0;return{modifiers:a,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:y}};if(e){const r=e+ab,a=i;i=s=>s.startsWith(r)?a(s.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(t){const r=i;i=a=>t({className:a,parseClassName:r})}return i},xK=n=>n.endsWith(rb)?n.substring(0,n.length-1):n.startsWith(rb)?n.substring(1):n,yK=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const r=[];let a=[];return i.forEach(s=>{s[0]==="["||e[s]?(r.push(...a.sort(),s),a=[]):a.push(s)}),r.push(...a.sort()),r}},_K=n=>({cache:mK(n.cacheSize),parseClassName:vK(n),sortModifiers:yK(n),...fK(n)}),EK=/\s+/,SK=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:a}=e,s=[],l=n.trim().split(EK);let u="";for(let h=l.length-1;h>=0;h-=1){const p=l[h],{isExternal:g,modifiers:v,hasImportantModifier:y,baseClassName:E,maybePostfixModifierPosition:T}=t(p);if(g){u=p+(u.length>0?" "+u:u);continue}let S=!!T,A=i(S?E.substring(0,T):E);if(!A){if(!S){u=p+(u.length>0?" "+u:u);continue}if(A=i(E),!A){u=p+(u.length>0?" "+u:u);continue}S=!1}const R=a(v).join(":"),w=y?R+rb:R,D=w+A;if(s.includes(D))continue;s.push(D);const P=r(A,S);for(let F=0;F<P.length;++F){const U=P[F];s.push(w+U)}u=p+(u.length>0?" "+u:u)}return u};function TK(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=VU(e))&&(i&&(i+=" "),i+=t);return i}const VU=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=VU(n[i]))&&(t&&(t+=" "),t+=e);return t};function AK(n,...e){let t,i,r,a=s;function s(u){const h=e.reduce((p,g)=>g(p),n());return t=_K(h),i=t.cache.get,r=t.cache.set,a=l,l(u)}function l(u){const h=i(u);if(h)return h;const p=SK(u,t);return r(u,p),p}return function(){return a(TK.apply(null,arguments))}}const Hr=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},HU=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,GU=/^\((?:(\w[\w-]*):)?(.+)\)$/i,bK=/^\d+\/\d+$/,MK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wK=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CK=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vp=n=>bK.test(n),In=n=>!!n&&!Number.isNaN(Number(n)),wf=n=>!!n&&Number.isInteger(Number(n)),Z2=n=>n.endsWith("%")&&In(n.slice(0,-1)),ou=n=>MK.test(n),NK=()=>!0,DK=n=>wK.test(n)&&!RK.test(n),XU=()=>!1,IK=n=>CK.test(n),LK=n=>OK.test(n),UK=n=>!Vt(n)&&!Ht(n),FK=n=>um(n,jU,XU),Vt=n=>HU.test(n),ad=n=>um(n,qU,DK),Q2=n=>um(n,VK,In),t4=n=>um(n,WU,XU),PK=n=>um(n,YU,LK),a_=n=>um(n,KU,IK),Ht=n=>GU.test(n),Wg=n=>fm(n,qU),BK=n=>fm(n,HK),n4=n=>fm(n,WU),kK=n=>fm(n,jU),zK=n=>fm(n,YU),s_=n=>fm(n,KU,!0),um=(n,e,t)=>{const i=HU.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},fm=(n,e,t=!1)=>{const i=GU.exec(n);return i?i[1]?e(i[1]):t:!1},WU=n=>n==="position"||n==="percentage",YU=n=>n==="image"||n==="url",jU=n=>n==="length"||n==="size"||n==="bg-size",qU=n=>n==="length",VK=n=>n==="number",HK=n=>n==="family-name",KU=n=>n==="shadow",GK=()=>{const n=Hr("color"),e=Hr("font"),t=Hr("text"),i=Hr("font-weight"),r=Hr("tracking"),a=Hr("leading"),s=Hr("breakpoint"),l=Hr("container"),u=Hr("spacing"),h=Hr("radius"),p=Hr("shadow"),g=Hr("inset-shadow"),v=Hr("text-shadow"),y=Hr("drop-shadow"),E=Hr("blur"),T=Hr("perspective"),S=Hr("aspect"),A=Hr("ease"),R=Hr("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...D(),Ht,Vt],F=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],I=()=>[Ht,Vt,u],C=()=>[vp,"full","auto",...I()],L=()=>[wf,"none","subgrid",Ht,Vt],k=()=>["auto",{span:["full",wf,Ht,Vt]},wf,Ht,Vt],G=()=>[wf,"auto",Ht,Vt],ee=()=>["auto","min","max","fr",Ht,Vt],ve=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],pe=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...I()],K=()=>[vp,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],ie=()=>[n,Ht,Vt],ne=()=>[...D(),n4,t4,{position:[Ht,Vt]}],j=()=>["no-repeat",{repeat:["","x","y","space","round"]}],le=()=>["auto","cover","contain",kK,FK,{size:[Ht,Vt]}],H=()=>[Z2,Wg,ad],q=()=>["","none","full",h,Ht,Vt],V=()=>["",In,Wg,ad],Q=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ae=()=>[In,Z2,n4,t4],Ee=()=>["","none",E,Ht,Vt],Ce=()=>["none",In,Ht,Vt],Ne=()=>["none",In,Ht,Vt],st=()=>[In,Ht,Vt],se=()=>[vp,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ou],breakpoint:[ou],color:[NK],container:[ou],"drop-shadow":[ou],ease:["in","out","in-out"],font:[UK],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ou],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ou],shadow:[ou],spacing:["px",In],text:[ou],"text-shadow":[ou],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vp,Vt,Ht,S]}],container:["container"],columns:[{columns:[In,Vt,Ht,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[wf,"auto",Ht,Vt]}],basis:[{basis:[vp,"full","auto",l,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[In,vp,"auto","initial","none",Vt]}],grow:[{grow:["",In,Ht,Vt]}],shrink:[{shrink:["",In,Ht,Vt]}],order:[{order:[wf,"first","last","none",Ht,Vt]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ee()}],"auto-rows":[{"auto-rows":ee()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...ve(),"normal"]}],"justify-items":[{"justify-items":[...pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...pe()]}],"align-content":[{content:["normal",...ve()]}],"align-items":[{items:[...pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ve()}],"place-items":[{"place-items":[...pe(),"baseline"]}],"place-self":[{"place-self":["auto",...pe()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[l,"screen",...K()]}],"min-w":[{"min-w":[l,"screen","none",...K()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[s]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",t,Wg,ad]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ht,Q2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Z2,Vt]}],"font-family":[{font:[BK,Vt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,Ht,Vt]}],"line-clamp":[{"line-clamp":[In,"none",Ht,Q2]}],leading:[{leading:[a,...I()]}],"list-image":[{"list-image":["none",Ht,Vt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ht,Vt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ie()}],"text-color":[{text:ie()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:[In,"from-font","auto",Ht,ad]}],"text-decoration-color":[{decoration:ie()}],"underline-offset":[{"underline-offset":[In,"auto",Ht,Vt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ht,Vt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ht,Vt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:j()}],"bg-size":[{bg:le()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wf,Ht,Vt],radial:["",Ht,Vt],conic:[wf,Ht,Vt]},zK,PK]}],"bg-color":[{bg:ie()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:ie()}],"gradient-via":[{via:ie()}],"gradient-to":[{to:ie()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Q(),"hidden","none"]}],"divide-style":[{divide:[...Q(),"hidden","none"]}],"border-color":[{border:ie()}],"border-color-x":[{"border-x":ie()}],"border-color-y":[{"border-y":ie()}],"border-color-s":[{"border-s":ie()}],"border-color-e":[{"border-e":ie()}],"border-color-t":[{"border-t":ie()}],"border-color-r":[{"border-r":ie()}],"border-color-b":[{"border-b":ie()}],"border-color-l":[{"border-l":ie()}],"divide-color":[{divide:ie()}],"outline-style":[{outline:[...Q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[In,Ht,Vt]}],"outline-w":[{outline:["",In,Wg,ad]}],"outline-color":[{outline:ie()}],shadow:[{shadow:["","none",p,s_,a_]}],"shadow-color":[{shadow:ie()}],"inset-shadow":[{"inset-shadow":["none",g,s_,a_]}],"inset-shadow-color":[{"inset-shadow":ie()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ie()}],"ring-offset-w":[{"ring-offset":[In,ad]}],"ring-offset-color":[{"ring-offset":ie()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":ie()}],"text-shadow":[{"text-shadow":["none",v,s_,a_]}],"text-shadow-color":[{"text-shadow":ie()}],opacity:[{opacity:[In,Ht,Vt]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[In]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ae()}],"mask-image-linear-from-color":[{"mask-linear-from":ie()}],"mask-image-linear-to-color":[{"mask-linear-to":ie()}],"mask-image-t-from-pos":[{"mask-t-from":Ae()}],"mask-image-t-to-pos":[{"mask-t-to":Ae()}],"mask-image-t-from-color":[{"mask-t-from":ie()}],"mask-image-t-to-color":[{"mask-t-to":ie()}],"mask-image-r-from-pos":[{"mask-r-from":Ae()}],"mask-image-r-to-pos":[{"mask-r-to":Ae()}],"mask-image-r-from-color":[{"mask-r-from":ie()}],"mask-image-r-to-color":[{"mask-r-to":ie()}],"mask-image-b-from-pos":[{"mask-b-from":Ae()}],"mask-image-b-to-pos":[{"mask-b-to":Ae()}],"mask-image-b-from-color":[{"mask-b-from":ie()}],"mask-image-b-to-color":[{"mask-b-to":ie()}],"mask-image-l-from-pos":[{"mask-l-from":Ae()}],"mask-image-l-to-pos":[{"mask-l-to":Ae()}],"mask-image-l-from-color":[{"mask-l-from":ie()}],"mask-image-l-to-color":[{"mask-l-to":ie()}],"mask-image-x-from-pos":[{"mask-x-from":Ae()}],"mask-image-x-to-pos":[{"mask-x-to":Ae()}],"mask-image-x-from-color":[{"mask-x-from":ie()}],"mask-image-x-to-color":[{"mask-x-to":ie()}],"mask-image-y-from-pos":[{"mask-y-from":Ae()}],"mask-image-y-to-pos":[{"mask-y-to":Ae()}],"mask-image-y-from-color":[{"mask-y-from":ie()}],"mask-image-y-to-color":[{"mask-y-to":ie()}],"mask-image-radial":[{"mask-radial":[Ht,Vt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ae()}],"mask-image-radial-from-color":[{"mask-radial-from":ie()}],"mask-image-radial-to-color":[{"mask-radial-to":ie()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[In]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ae()}],"mask-image-conic-from-color":[{"mask-conic-from":ie()}],"mask-image-conic-to-color":[{"mask-conic-to":ie()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:j()}],"mask-size":[{mask:le()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ht,Vt]}],filter:[{filter:["","none",Ht,Vt]}],blur:[{blur:Ee()}],brightness:[{brightness:[In,Ht,Vt]}],contrast:[{contrast:[In,Ht,Vt]}],"drop-shadow":[{"drop-shadow":["","none",y,s_,a_]}],"drop-shadow-color":[{"drop-shadow":ie()}],grayscale:[{grayscale:["",In,Ht,Vt]}],"hue-rotate":[{"hue-rotate":[In,Ht,Vt]}],invert:[{invert:["",In,Ht,Vt]}],saturate:[{saturate:[In,Ht,Vt]}],sepia:[{sepia:["",In,Ht,Vt]}],"backdrop-filter":[{"backdrop-filter":["","none",Ht,Vt]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[In,Ht,Vt]}],"backdrop-contrast":[{"backdrop-contrast":[In,Ht,Vt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",In,Ht,Vt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[In,Ht,Vt]}],"backdrop-invert":[{"backdrop-invert":["",In,Ht,Vt]}],"backdrop-opacity":[{"backdrop-opacity":[In,Ht,Vt]}],"backdrop-saturate":[{"backdrop-saturate":[In,Ht,Vt]}],"backdrop-sepia":[{"backdrop-sepia":["",In,Ht,Vt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ht,Vt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[In,"initial",Ht,Vt]}],ease:[{ease:["linear","initial",A,Ht,Vt]}],delay:[{delay:[In,Ht,Vt]}],animate:[{animate:["none",R,Ht,Vt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Ht,Vt]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:Ce()}],"rotate-x":[{"rotate-x":Ce()}],"rotate-y":[{"rotate-y":Ce()}],"rotate-z":[{"rotate-z":Ce()}],scale:[{scale:Ne()}],"scale-x":[{"scale-x":Ne()}],"scale-y":[{"scale-y":Ne()}],"scale-z":[{"scale-z":Ne()}],"scale-3d":["scale-3d"],skew:[{skew:st()}],"skew-x":[{"skew-x":st()}],"skew-y":[{"skew-y":st()}],transform:[{transform:[Ht,Vt,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:se()}],"translate-x":[{"translate-x":se()}],"translate-y":[{"translate-y":se()}],"translate-z":[{"translate-z":se()}],"translate-none":["translate-none"],accent:[{accent:ie()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ie()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ht,Vt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ht,Vt]}],fill:[{fill:["none",...ie()]}],"stroke-w":[{stroke:[In,Wg,ad,Q2]}],stroke:[{stroke:["none",...ie()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},XK=AK(GK);function gr(...n){return XK(kU(n))}const WK=jM("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function sd({className:n,variant:e,size:t,asChild:i=!1,...r}){const a=i?PU:"button";return Be.jsx(a,{"data-slot":"button",className:gr(WK({variant:e,size:t,className:n})),...r})}function YK({className:n,...e}){return Be.jsx("textarea",{"data-slot":"textarea",className:gr("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function o_({className:n,...e}){return Be.jsx("div",{"data-slot":"card",className:gr("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function J2({className:n,...e}){return Be.jsx("div",{"data-slot":"card-header",className:gr("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function $2({className:n,...e}){return Be.jsx("div",{"data-slot":"card-title",className:gr("leading-none font-semibold",n),...e})}function eA({className:n,...e}){return Be.jsx("div",{"data-slot":"card-description",className:gr("text-muted-foreground text-sm",n),...e})}function l_({className:n,...e}){return Be.jsx("div",{"data-slot":"card-content",className:gr("px-6",n),...e})}function du(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function DS(n,e=[]){let t=[];function i(a,s){const l=De.createContext(s),u=t.length;t=[...t,s];const h=g=>{var A;const{scope:v,children:y,...E}=g,T=((A=v==null?void 0:v[n])==null?void 0:A[u])||l,S=De.useMemo(()=>E,Object.values(E));return Be.jsx(T.Provider,{value:S,children:y})};h.displayName=a+"Provider";function p(g,v){var T;const y=((T=v==null?void 0:v[n])==null?void 0:T[u])||l,E=De.useContext(y);if(E)return E;if(s!==void 0)return s;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[h,p]}const r=()=>{const a=t.map(s=>De.createContext(s));return function(l){const u=(l==null?void 0:l[n])||a;return De.useMemo(()=>({[`__scope${n}`]:{...l,[n]:u}}),[l,u])}};return r.scopeName=n,[i,jK(r,...e)]}function jK(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const s=i.reduce((l,{useScope:u,scopeName:h})=>{const g=u(a)[`__scope${h}`];return{...l,...g}},{});return De.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return t.scopeName=e.scopeName,t}function qK(n){const e=n+"CollectionProvider",[t,i]=DS(e),[r,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),s=T=>{const{scope:S,children:A}=T,R=Fa.useRef(null),w=Fa.useRef(new Map).current;return Be.jsx(r,{scope:S,itemMap:w,collectionRef:R,children:A})};s.displayName=e;const l=n+"CollectionSlot",u=NE(l),h=Fa.forwardRef((T,S)=>{const{scope:A,children:R}=T,w=a(l,A),D=OE(S,w.collectionRef);return Be.jsx(u,{ref:D,children:R})});h.displayName=l;const p=n+"CollectionItemSlot",g="data-radix-collection-item",v=NE(p),y=Fa.forwardRef((T,S)=>{const{scope:A,children:R,...w}=T,D=Fa.useRef(null),P=OE(S,D),F=a(p,A);return Fa.useEffect(()=>(F.itemMap.set(D,{ref:D,...w}),()=>void F.itemMap.delete(D))),Be.jsx(v,{[g]:"",ref:P,children:R})});y.displayName=p;function E(T){const S=a(n+"CollectionConsumer",T);return Fa.useCallback(()=>{const R=S.collectionRef.current;if(!R)return[];const w=Array.from(R.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((F,U)=>w.indexOf(F.ref.current)-w.indexOf(U.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:s,Slot:h,ItemSlot:y},E,i]}var DE=globalThis!=null&&globalThis.document?De.useLayoutEffect:()=>{},KK=AN[" useId ".trim().toString()]||(()=>{}),ZK=0;function ZU(n){const[e,t]=De.useState(KK());return DE(()=>{t(i=>i??String(ZK++))},[n]),n||(e?`radix-${e}`:"")}bN();var QK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kf=QK.reduce((n,e)=>{const t=NE(`Primitive.${e}`),i=De.forwardRef((r,a)=>{const{asChild:s,...l}=r,u=s?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),Be.jsx(u,{...l,ref:a})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function JK(n){const e=De.useRef(n);return De.useEffect(()=>{e.current=n}),De.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}var $K=AN[" useInsertionEffect ".trim().toString()]||DE;function QU({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[r,a,s]=eZ({defaultProp:e,onChange:t}),l=n!==void 0,u=l?n:r;{const p=De.useRef(n!==void 0);De.useEffect(()=>{const g=p.current;g!==l&&console.warn(`${i} is changing from ${g?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=l},[l,i])}const h=De.useCallback(p=>{var g;if(l){const v=tZ(p)?p(n):p;v!==n&&((g=s.current)==null||g.call(s,v))}else a(p)},[l,n,a,s]);return[u,h]}function eZ({defaultProp:n,onChange:e}){const[t,i]=De.useState(n),r=De.useRef(t),a=De.useRef(e);return $K(()=>{a.current=e},[e]),De.useEffect(()=>{var s;r.current!==t&&((s=a.current)==null||s.call(a,t),r.current=t)},[t,r]),[t,i,a]}function tZ(n){return typeof n=="function"}var nZ=De.createContext(void 0);function JU(n){const e=De.useContext(nZ);return n||e||"ltr"}var tA="rovingFocusGroup.onEntryFocus",iZ={bubbles:!1,cancelable:!0},wx="RovingFocusGroup",[sb,$U,rZ]=qK(wx),[aZ,eF]=DS(wx,[rZ]),[sZ,oZ]=aZ(wx),tF=De.forwardRef((n,e)=>Be.jsx(sb.Provider,{scope:n.__scopeRovingFocusGroup,children:Be.jsx(sb.Slot,{scope:n.__scopeRovingFocusGroup,children:Be.jsx(lZ,{...n,ref:e})})}));tF.displayName=wx;var lZ=De.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:i,loop:r=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=n,v=De.useRef(null),y=OE(e,v),E=JU(a),[T,S]=QU({prop:s,defaultProp:l??null,onChange:u,caller:wx}),[A,R]=De.useState(!1),w=JK(h),D=$U(t),P=De.useRef(!1),[F,U]=De.useState(0);return De.useEffect(()=>{const I=v.current;if(I)return I.addEventListener(tA,w),()=>I.removeEventListener(tA,w)},[w]),Be.jsx(sZ,{scope:t,orientation:i,dir:E,loop:r,currentTabStopId:T,onItemFocus:De.useCallback(I=>S(I),[S]),onItemShiftTab:De.useCallback(()=>R(!0),[]),onFocusableItemAdd:De.useCallback(()=>U(I=>I+1),[]),onFocusableItemRemove:De.useCallback(()=>U(I=>I-1),[]),children:Be.jsx(Kf.div,{tabIndex:A||F===0?-1:0,"data-orientation":i,...g,ref:y,style:{outline:"none",...n.style},onMouseDown:du(n.onMouseDown,()=>{P.current=!0}),onFocus:du(n.onFocus,I=>{const C=!P.current;if(I.target===I.currentTarget&&C&&!A){const L=new CustomEvent(tA,iZ);if(I.currentTarget.dispatchEvent(L),!L.defaultPrevented){const k=D().filter(W=>W.focusable),G=k.find(W=>W.active),ee=k.find(W=>W.id===T),pe=[G,ee,...k].filter(Boolean).map(W=>W.ref.current);rF(pe,p)}}P.current=!1}),onBlur:du(n.onBlur,()=>R(!1))})})}),nF="RovingFocusGroupItem",iF=De.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:i=!0,active:r=!1,tabStopId:a,children:s,...l}=n,u=ZU(),h=a||u,p=oZ(nF,t),g=p.currentTabStopId===h,v=$U(t),{onFocusableItemAdd:y,onFocusableItemRemove:E,currentTabStopId:T}=p;return De.useEffect(()=>{if(i)return y(),()=>E()},[i,y,E]),Be.jsx(sb.ItemSlot,{scope:t,id:h,focusable:i,active:r,children:Be.jsx(Kf.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...l,ref:e,onMouseDown:du(n.onMouseDown,S=>{i?p.onItemFocus(h):S.preventDefault()}),onFocus:du(n.onFocus,()=>p.onItemFocus(h)),onKeyDown:du(n.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const A=fZ(S,p.orientation,p.dir);if(A!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let w=v().filter(D=>D.focusable).map(D=>D.ref.current);if(A==="last")w.reverse();else if(A==="prev"||A==="next"){A==="prev"&&w.reverse();const D=w.indexOf(S.currentTarget);w=p.loop?hZ(w,D+1):w.slice(D+1)}setTimeout(()=>rF(w))}}),children:typeof s=="function"?s({isCurrentTabStop:g,hasTabStop:T!=null}):s})})});iF.displayName=nF;var cZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uZ(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function fZ(n,e,t){const i=uZ(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return cZ[i]}function rF(n,e=!1){const t=document.activeElement;for(const i of n)if(i===t||(i.focus({preventScroll:e}),document.activeElement!==t))return}function hZ(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var dZ=tF,pZ=iF;function mZ(n,e){return De.useReducer((t,i)=>e[t][i]??t,n)}var aF=n=>{const{present:e,children:t}=n,i=gZ(e),r=typeof t=="function"?t({present:i.isPresent}):De.Children.only(t),a=OE(i.ref,vZ(r));return typeof t=="function"||i.isPresent?De.cloneElement(r,{ref:a}):null};aF.displayName="Presence";function gZ(n){const[e,t]=De.useState(),i=De.useRef(null),r=De.useRef(n),a=De.useRef("none"),s=n?"mounted":"unmounted",[l,u]=mZ(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return De.useEffect(()=>{const h=c_(i.current);a.current=l==="mounted"?h:"none"},[l]),DE(()=>{const h=i.current,p=r.current;if(p!==n){const v=a.current,y=c_(h);n?u("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(p&&v!==y?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,u]),DE(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=y=>{const T=c_(i.current).includes(y.animationName);if(y.target===e&&T&&(u("ANIMATION_END"),!r.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},v=y=>{y.target===e&&(a.current=c_(i.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:De.useCallback(h=>{i.current=h?getComputedStyle(h):null,t(h)},[])}}function c_(n){return(n==null?void 0:n.animationName)||"none"}function vZ(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var IS="Tabs",[xZ,gce]=DS(IS,[eF]),sF=eF(),[yZ,KM]=xZ(IS),oF=De.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,onValueChange:r,defaultValue:a,orientation:s="horizontal",dir:l,activationMode:u="automatic",...h}=n,p=JU(l),[g,v]=QU({prop:i,onChange:r,defaultProp:a??"",caller:IS});return Be.jsx(yZ,{scope:t,baseId:ZU(),value:g,onValueChange:v,orientation:s,dir:p,activationMode:u,children:Be.jsx(Kf.div,{dir:p,"data-orientation":s,...h,ref:e})})});oF.displayName=IS;var lF="TabsList",cF=De.forwardRef((n,e)=>{const{__scopeTabs:t,loop:i=!0,...r}=n,a=KM(lF,t),s=sF(t);return Be.jsx(dZ,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:i,children:Be.jsx(Kf.div,{role:"tablist","aria-orientation":a.orientation,...r,ref:e})})});cF.displayName=lF;var uF="TabsTrigger",fF=De.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,disabled:r=!1,...a}=n,s=KM(uF,t),l=sF(t),u=pF(s.baseId,i),h=mF(s.baseId,i),p=i===s.value;return Be.jsx(pZ,{asChild:!0,...l,focusable:!r,active:p,children:Be.jsx(Kf.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:u,...a,ref:e,onMouseDown:du(n.onMouseDown,g=>{!r&&g.button===0&&g.ctrlKey===!1?s.onValueChange(i):g.preventDefault()}),onKeyDown:du(n.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&s.onValueChange(i)}),onFocus:du(n.onFocus,()=>{const g=s.activationMode!=="manual";!p&&!r&&g&&s.onValueChange(i)})})})});fF.displayName=uF;var hF="TabsContent",dF=De.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,forceMount:r,children:a,...s}=n,l=KM(hF,t),u=pF(l.baseId,i),h=mF(l.baseId,i),p=i===l.value,g=De.useRef(p);return De.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),Be.jsx(aF,{present:r||p,children:({present:v})=>Be.jsx(Kf.div,{"data-state":p?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!v,id:h,tabIndex:0,...s,ref:e,style:{...n.style,animationDuration:g.current?"0s":void 0},children:v&&a})})});dF.displayName=hF;function pF(n,e){return`${n}-trigger-${e}`}function mF(n,e){return`${n}-content-${e}`}var _Z=oF,EZ=cF,SZ=fF,TZ=dF;function AZ({className:n,...e}){return Be.jsx(_Z,{"data-slot":"tabs",className:gr("flex flex-col gap-2",n),...e})}function bZ({className:n,...e}){return Be.jsx(EZ,{"data-slot":"tabs-list",className:gr("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),...e})}function i4({className:n,...e}){return Be.jsx(SZ,{"data-slot":"tabs-trigger",className:gr("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function r4({className:n,...e}){return Be.jsx(TZ,{"data-slot":"tabs-content",className:gr("flex-1 outline-none",n),...e})}const MZ=jM("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function wZ({className:n,variant:e,asChild:t=!1,...i}){const r=t?PU:"span";return Be.jsx(r,{"data-slot":"badge",className:gr(MZ({variant:e}),n),...i})}var ZM="Progress",QM=100,[RZ,vce]=DS(ZM),[CZ,OZ]=RZ(ZM),gF=De.forwardRef((n,e)=>{const{__scopeProgress:t,value:i=null,max:r,getValueLabel:a=NZ,...s}=n;(r||r===0)&&!a4(r)&&console.error(DZ(`${r}`,"Progress"));const l=a4(r)?r:QM;i!==null&&!s4(i,l)&&console.error(IZ(`${i}`,"Progress"));const u=s4(i,l)?i:null,h=IE(u)?a(u,l):void 0;return Be.jsx(CZ,{scope:t,value:u,max:l,children:Be.jsx(Kf.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":IE(u)?u:void 0,"aria-valuetext":h,role:"progressbar","data-state":yF(u,l),"data-value":u??void 0,"data-max":l,...s,ref:e})})});gF.displayName=ZM;var vF="ProgressIndicator",xF=De.forwardRef((n,e)=>{const{__scopeProgress:t,...i}=n,r=OZ(vF,t);return Be.jsx(Kf.div,{"data-state":yF(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...i,ref:e})});xF.displayName=vF;function NZ(n,e){return`${Math.round(n/e*100)}%`}function yF(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function IE(n){return typeof n=="number"}function a4(n){return IE(n)&&!isNaN(n)&&n>0}function s4(n,e){return IE(n)&&!isNaN(n)&&n<=e&&n>=0}function DZ(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${QM}\`.`}function IZ(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${QM} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var LZ=gF,UZ=xF;function FZ({className:n,value:e,...t}){return Be.jsx(LZ,{"data-slot":"progress",className:gr("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:Be.jsx(UZ,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const PZ=jM("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function o4({className:n,variant:e,...t}){return Be.jsx("div",{"data-slot":"alert",role:"alert",className:gr(PZ({variant:e}),n),...t})}function l4({className:n,...e}){return Be.jsx("div",{"data-slot":"alert-description",className:gr("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function BZ({className:n,...e}){return Be.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:Be.jsx("table",{"data-slot":"table",className:gr("w-full caption-bottom text-sm",n),...e})})}function kZ({className:n,...e}){return Be.jsx("thead",{"data-slot":"table-header",className:gr("[&_tr]:border-b",n),...e})}function zZ({className:n,...e}){return Be.jsx("tbody",{"data-slot":"table-body",className:gr("[&_tr:last-child]:border-0",n),...e})}function c4({className:n,...e}){return Be.jsx("tr",{"data-slot":"table-row",className:gr("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...e})}function Yg({className:n,...e}){return Be.jsx("th",{"data-slot":"table-head",className:gr("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function jg({className:n,...e}){return Be.jsx("td",{"data-slot":"table-cell",className:gr("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HZ=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),u4=n=>{const e=HZ(n);return e.charAt(0).toUpperCase()+e.slice(1)},_F=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),GZ=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=De.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:s,...l},u)=>De.createElement("svg",{ref:u,...XZ,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:_F("lucide",r),...!a&&!GZ(l)&&{"aria-hidden":"true"},...l},[...s.map(([h,p])=>De.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=(n,e)=>{const t=De.forwardRef(({className:i,...r},a)=>De.createElement(WZ,{ref:a,iconNode:e,className:_F(`lucide-${VZ(u4(n))}`,`lucide-${n}`,i),...r}));return t.displayName=u4(n),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jZ=hm("arrow-left",YZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],KZ=hm("circle-alert",qZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],QZ=hm("circle-check-big",ZZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],f4=hm("download",JZ);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],h4=hm("loader-circle",$Z);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],tQ=hm("upload",eQ),nQ="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",iQ="moonshotai/kimi-k2:free",rQ="https://openrouter.ai/api/v1/chat/completions",hd=class hd{static getInstance(){return hd.instance||(hd.instance=new hd),hd.instance}async attributeSecteur(e,t){var r,a;const i=this.buildPrompt(e,t);try{const s=await fetch(rQ,{method:"POST",headers:{Authorization:`Bearer ${nQ}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"Secteur Attribution AI"},body:JSON.stringify({model:iQ,messages:[{role:"system",content:this.getSystemPrompt()},{role:"user",content:i}],temperature:.3,max_tokens:500,top_p:1,frequency_penalty:0,presence_penalty:0})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const u=(a=(r=(await s.json()).choices[0])==null?void 0:r.message)==null?void 0:a.content;if(!u)throw new Error("Réponse vide de l'API");return this.parseAIResponse(u)}catch(s){throw console.error("Erreur lors de l'appel à l'API:",s),new Error("Erreur lors de la communication avec l'IA")}}getSystemPrompt(){return`Tu es un expert en classification de produits commerciaux pour hypermarchés. 
Ta tâche est d'attribuer automatiquement des articles à leur secteur approprié selon la structure CYRUS fournie.

Règles importantes:
1. Analyse le libellé de l'article pour déterminer le secteur le plus approprié
2. Utilise UNIQUEMENT les codes secteurs fournis dans la structure
3. Choisis le niveau le plus précis possible (niveau 4 si possible, sinon niveau 3, etc.)
4. Fournis un score de confiance entre 0 et 1
5. Explique brièvement ton raisonnement

Format de réponse OBLIGATOIRE (JSON):
{
  "secteurCode": "XXX",
  "secteurLibelle": "LIBELLE EXACT",
  "confidence": 0.95,
  "reasoning": "Explication courte"
}`}buildPrompt(e,t){return`Article à classer: "${e}"

Structure des secteurs disponibles:
${t}

Classe cet article dans le secteur le plus approprié et réponds UNIQUEMENT en JSON selon le format demandé.`}parseAIResponse(e){try{const t=e.match(/\{[\s\S]*\}/);if(!t)throw new Error("Format de réponse invalide");const i=JSON.parse(t[0]);if(!i.secteurCode||!i.secteurLibelle||typeof i.confidence!="number")throw new Error("Réponse incomplète de l'IA");return{secteurCode:i.secteurCode,secteurLibelle:i.secteurLibelle,confidence:Math.max(0,Math.min(1,i.confidence)),reasoning:i.reasoning||"Aucune explication fournie"}}catch(t){throw console.error("Erreur parsing réponse AI:",t),new Error("Impossible de traiter la réponse de l'IA")}}async attributeBatch(e,t){const i=[];for(const r of e)try{const a=await this.attributeSecteur(r,t);i.push(a),await new Promise(s=>setTimeout(s,500))}catch(a){console.error(`Erreur pour l'article "${r}":`,a),i.push({secteurCode:"ERROR",secteurLibelle:"ERREUR DE TRAITEMENT",confidence:0,reasoning:`Erreur: ${a instanceof Error?a.message:"Erreur inconnue"}`})}return i}};SR(hd,"instance");let ob=hd;/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var LE={};LE.version="0.18.5";var EF=1252,aQ=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],JM={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},$M=function(n){aQ.indexOf(n)!=-1&&(EF=JM[0]=n)};function sQ(){$M(1252)}var Ml=function(n){$M(n)};function ew(){Ml(1200),sQ()}function d4(n){for(var e=[],t=0,i=n.length;t<i;++t)e[t]=n.charCodeAt(t);return e}function oQ(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t)+(n.charCodeAt(2*t+1)<<8));return e.join("")}function SF(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t+1)+(n.charCodeAt(2*t)<<8));return e.join("")}var $g=function(n){var e=n.charCodeAt(0),t=n.charCodeAt(1);return e==255&&t==254?oQ(n.slice(2)):e==254&&t==255?SF(n.slice(2)):e==65279?n.slice(1):n},u_=function(e){return String.fromCharCode(e)},p4=function(e){return String.fromCharCode(e)},lb,Lf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Jv(n){for(var e="",t=0,i=0,r=0,a=0,s=0,l=0,u=0,h=0;h<n.length;)t=n.charCodeAt(h++),a=t>>2,i=n.charCodeAt(h++),s=(t&3)<<4|i>>4,r=n.charCodeAt(h++),l=(i&15)<<2|r>>6,u=r&63,isNaN(i)?l=u=64:isNaN(r)&&(u=64),e+=Lf.charAt(a)+Lf.charAt(s)+Lf.charAt(l)+Lf.charAt(u);return e}function oo(n){var e="",t=0,i=0,r=0,a=0,s=0,l=0,u=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<n.length;)a=Lf.indexOf(n.charAt(h++)),s=Lf.indexOf(n.charAt(h++)),t=a<<2|s>>4,e+=String.fromCharCode(t),l=Lf.indexOf(n.charAt(h++)),i=(s&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(i)),u=Lf.indexOf(n.charAt(h++)),r=(l&3)<<6|u,u!==64&&(e+=String.fromCharCode(r));return e}var Ln=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),bu=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function zf(n){return Ln?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function m4(n){return Ln?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var io=function(e){return Ln?bu(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function LS(n){if(typeof ArrayBuffer>"u")return io(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),i=0;i!=n.length;++i)t[i]=n.charCodeAt(i)&255;return e}function Zf(n){if(Array.isArray(n))return n.map(function(i){return String.fromCharCode(i)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function lQ(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}function tw(n){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(n instanceof ArrayBuffer)return tw(new Uint8Array(n));for(var e=new Array(n.length),t=0;t<n.length;++t)e[t]=n[t];return e}var ra=Ln?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:bu(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var i=new Uint8Array(t),r=0;for(e=0,t=0;e<n.length;t+=r,++e)if(r=n[e].length,n[e]instanceof Uint8Array)i.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";i.set(new Uint8Array(n[e]),t)}return i}return[].concat.apply([],n.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function cQ(n){for(var e=[],t=0,i=n.length+250,r=zf(n.length+255),a=0;a<n.length;++a){var s=n.charCodeAt(a);if(s<128)r[t++]=s;else if(s<2048)r[t++]=192|s>>6&31,r[t++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var l=n.charCodeAt(++a)&1023;r[t++]=240|s>>8&7,r[t++]=128|s>>2&63,r[t++]=128|l>>6&15|(s&3)<<4,r[t++]=128|l&63}else r[t++]=224|s>>12&15,r[t++]=128|s>>6&63,r[t++]=128|s&63;t>i&&(e.push(r.slice(0,t)),t=0,r=zf(65535),i=65530)}return e.push(r.slice(0,t)),ra(e)}var ms=/\u0000/g,ev=/[\u0001-\u0006]/g;function Lp(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function wl(n,e){var t=""+n;return t.length>=e?t:rr("0",e-t.length)+t}function nw(n,e){var t=""+n;return t.length>=e?t:rr(" ",e-t.length)+t}function UE(n,e){var t=""+n;return t.length>=e?t:t+rr(" ",e-t.length)}function uQ(n,e){var t=""+Math.round(n);return t.length>=e?t:rr("0",e-t.length)+t}function fQ(n,e){var t=""+n;return t.length>=e?t:rr("0",e-t.length)+t}var g4=Math.pow(2,32);function xp(n,e){if(n>g4||n<-g4)return uQ(n,e);var t=Math.round(n);return fQ(t,e)}function FE(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var v4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],nA=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function hQ(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',n}var an={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},x4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},dQ={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function PE(n,e,t){for(var i=n<0?-1:1,r=n*i,a=0,s=1,l=0,u=1,h=0,p=0,g=Math.floor(r);h<e&&(g=Math.floor(r),l=g*s+a,p=g*h+u,!(r-g<5e-8));)r=1/(r-g),a=s,s=l,u=h,h=p;if(p>e&&(h>e?(p=u,l=a):(p=h,l=s)),!t)return[0,i*l,p];var v=Math.floor(i*l/p);return[v,i*l-v*p,p]}function xd(n,e,t){if(n>2958465||n<0)return null;var i=n|0,r=Math.floor(86400*(n-i)),a=0,s=[],l={D:i,T:r,u:86400*(n-i)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(i+=1462),l.u>.9999&&(l.u=0,++r==86400&&(l.T=r=0,++i,++l.D)),i===60)s=t?[1317,10,29]:[1900,2,29],a=3;else if(i===0)s=t?[1317,8,29]:[1900,1,0],a=6;else{i>60&&--i;var u=new Date(1900,0,1);u.setDate(u.getDate()+i-1),s=[u.getFullYear(),u.getMonth()+1,u.getDate()],a=u.getDay(),i<60&&(a=(a+6)%7),t&&(a=yQ(u,s))}return l.y=s[0],l.m=s[1],l.d=s[2],l.S=r%60,r=Math.floor(r/60),l.M=r%60,r=Math.floor(r/60),l.H=r,l.q=a,l}var TF=new Date(1899,11,31,0,0,0),pQ=TF.getTime(),mQ=new Date(1900,2,1,0,0,0);function AF(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=mQ&&(t+=24*60*60*1e3),(t-(pQ+(n.getTimezoneOffset()-TF.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function iw(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function gQ(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function vQ(n){var e=n<0?12:11,t=iw(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function xQ(n){var e=iw(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function $v(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=vQ(n):e===10?t=n.toFixed(10).substr(0,12):t=xQ(n),iw(gQ(t.toUpperCase()))}function Id(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):$v(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return Wo(14,AF(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function yQ(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function _Q(n,e,t,i){var r="",a=0,s=0,l=t.y,u,h=0;switch(n){case 98:l=t.y+543;case 121:switch(e.length){case 1:case 2:u=l%100,h=2;break;default:u=l%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:u=t.m,h=e.length;break;case 3:return nA[t.m-1][1];case 5:return nA[t.m-1][0];default:return nA[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:u=t.d,h=e.length;break;case 3:return v4[t.q][0];default:return v4[t.q][1]}break;case 104:switch(e.length){case 1:case 2:u=1+(t.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:u=t.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:u=t.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?wl(t.S,e.length):(i>=2?s=i===3?1e3:100:s=i===1?10:1,a=Math.round(s*(t.S+t.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(r=wl(a,2+i),e==="ss"?r.substr(0,2):"."+r.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":u=t.D*24+t.H;break;case"[m]":case"[mm]":u=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":u=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:u=l,h=1;break}var p=h>0?wl(u,h):"";return p}function Uf(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,i=n.substr(0,t);t!=n.length;t+=e)i+=(i.length>0?",":"")+n.substr(t,e);return i}var bF=/%/g;function EQ(n,e,t){var i=e.replace(bF,""),r=e.length-i.length;return pu(n,i,t*Math.pow(10,2*r))+rr("%",r)}function SQ(n,e,t){for(var i=e.length-1;e.charCodeAt(i-1)===44;)--i;return pu(n,e.substr(0,i),t/Math.pow(10,3*(e.length-i)))}function MF(n,e){var t,i=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+MF(n,-e);var r=n.indexOf(".");r===-1&&(r=n.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%r;if(a<0&&(a+=r),t=(e/Math.pow(10,a)).toPrecision(i+1+(r+a)%r),t.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+a):t+="E+"+(s-a);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,r)+"."+t.substr(2+r),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,h,p){return u+h+p.substr(0,(r+a)%r)+"."+p.substr(a)+"E"})}else t=e.toExponential(i);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var wF=/# (\?+)( ?)\/( ?)(\d+)/;function TQ(n,e,t){var i=parseInt(n[4],10),r=Math.round(e*i),a=Math.floor(r/i),s=r-a*i,l=i;return t+(a===0?"":""+a)+" "+(s===0?rr(" ",n[1].length+1+n[4].length):nw(s,n[1].length)+n[2]+"/"+n[3]+wl(l,n[4].length))}function AQ(n,e,t){return t+(e===0?"":""+e)+rr(" ",n[1].length+2+n[4].length)}var RF=/^#*0*\.([0#]+)/,CF=/\).*[0#]/,OF=/\(###\) ###\\?-####/;function us(n){for(var e="",t,i=0;i!=n.length;++i)switch(t=n.charCodeAt(i)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function y4(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function _4(n,e){var t=n-Math.floor(n),i=Math.pow(10,e);return e<(""+Math.round(t*i)).length?0:Math.round(t*i)}function bQ(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function MQ(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Io(n,e,t){if(n.charCodeAt(0)===40&&!e.match(CF)){var i=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Io("n",i,t):"("+Io("n",i,-t)+")"}if(e.charCodeAt(e.length-1)===44)return SQ(n,e,t);if(e.indexOf("%")!==-1)return EQ(n,e,t);if(e.indexOf("E")!==-1)return MF(e,t);if(e.charCodeAt(0)===36)return"$"+Io(n,e.substr(e.charAt(1)==" "?2:1),t);var r,a,s,l,u=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+xp(u,e.length);if(e.match(/^[#?]+$/))return r=xp(t,0),r==="0"&&(r=""),r.length>e.length?r:us(e.substr(0,e.length-r.length))+r;if(a=e.match(wF))return TQ(a,u,h);if(e.match(/^#+0+$/))return h+xp(u,e.length-e.indexOf("0"));if(a=e.match(RF))return r=y4(t,a[1].length).replace(/^([^\.]+)$/,"$1."+us(a[1])).replace(/\.$/,"."+us(a[1])).replace(/\.(\d*)$/,function(E,T){return"."+T+rr("0",us(a[1]).length-T.length)}),e.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return h+y4(u,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return h+Uf(xp(u,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Io(n,e,-t):Uf(""+(Math.floor(t)+bQ(t,a[1].length)))+"."+wl(_4(t,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return Io(n,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return r=Lp(Io(n,e.replace(/[\\-]/g,""),t)),s=0,Lp(Lp(e.replace(/\\/g,"")).replace(/[0#]/g,function(E){return s<r.length?r.charAt(s++):E==="0"?"0":""}));if(e.match(OF))return r=Io(n,"##########",t),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),l=PE(u,Math.pow(10,s)-1,!1),r=""+h,p=pu("n",a[1],l[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),r+=p+a[2]+"/"+a[3],p=UE(l[2],s),p.length<a[4].length&&(p=us(a[4].substr(a[4].length-p.length))+p),r+=p,r;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),l=PE(u,Math.pow(10,s)-1,!0),h+(l[0]||(l[1]?"":"0"))+" "+(l[1]?nw(l[1],s)+a[2]+"/"+a[3]+UE(l[2],s):rr(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return r=xp(t,0),e.length<=r.length?r:us(e.substr(0,e.length-r.length))+r;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){r=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=r.indexOf(".");var g=e.indexOf(".")-s,v=e.length-r.length-g;return us(e.substr(0,g)+r+e.substr(e.length-v))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=_4(t,a[1].length),t<0?"-"+Io(n,e,-t):Uf(MQ(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?wl(0,3-E.length):"")+E})+"."+wl(s,a[1].length);switch(e){case"###,##0.00":return Io(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var y=Uf(xp(u,0));return y!=="0"?h+y:"";case"###,###.00":return Io(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Io(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function wQ(n,e,t){for(var i=e.length-1;e.charCodeAt(i-1)===44;)--i;return pu(n,e.substr(0,i),t/Math.pow(10,3*(e.length-i)))}function RQ(n,e,t){var i=e.replace(bF,""),r=e.length-i.length;return pu(n,i,t*Math.pow(10,2*r))+rr("%",r)}function NF(n,e){var t,i=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+NF(n,-e);var r=n.indexOf(".");r===-1&&(r=n.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%r;if(a<0&&(a+=r),t=(e/Math.pow(10,a)).toPrecision(i+1+(r+a)%r),!t.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+a):t+="E+"+(s-a),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,h,p){return u+h+p.substr(0,(r+a)%r)+"."+p.substr(a)+"E"})}else t=e.toExponential(i);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function mc(n,e,t){if(n.charCodeAt(0)===40&&!e.match(CF)){var i=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?mc("n",i,t):"("+mc("n",i,-t)+")"}if(e.charCodeAt(e.length-1)===44)return wQ(n,e,t);if(e.indexOf("%")!==-1)return RQ(n,e,t);if(e.indexOf("E")!==-1)return NF(e,t);if(e.charCodeAt(0)===36)return"$"+mc(n,e.substr(e.charAt(1)==" "?2:1),t);var r,a,s,l,u=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+wl(u,e.length);if(e.match(/^[#?]+$/))return r=""+t,t===0&&(r=""),r.length>e.length?r:us(e.substr(0,e.length-r.length))+r;if(a=e.match(wF))return AQ(a,u,h);if(e.match(/^#+0+$/))return h+wl(u,e.length-e.indexOf("0"));if(a=e.match(RF))return r=(""+t).replace(/^([^\.]+)$/,"$1."+us(a[1])).replace(/\.$/,"."+us(a[1])),r=r.replace(/\.(\d*)$/,function(E,T){return"."+T+rr("0",us(a[1]).length-T.length)}),e.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return h+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return h+Uf(""+u);if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+mc(n,e,-t):Uf(""+t)+"."+rr("0",a[1].length);if(a=e.match(/^#,#*,#0/))return mc(n,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return r=Lp(mc(n,e.replace(/[\\-]/g,""),t)),s=0,Lp(Lp(e.replace(/\\/g,"")).replace(/[0#]/g,function(E){return s<r.length?r.charAt(s++):E==="0"?"0":""}));if(e.match(OF))return r=mc(n,"##########",t),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),l=PE(u,Math.pow(10,s)-1,!1),r=""+h,p=pu("n",a[1],l[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),r+=p+a[2]+"/"+a[3],p=UE(l[2],s),p.length<a[4].length&&(p=us(a[4].substr(a[4].length-p.length))+p),r+=p,r;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),l=PE(u,Math.pow(10,s)-1,!0),h+(l[0]||(l[1]?"":"0"))+" "+(l[1]?nw(l[1],s)+a[2]+"/"+a[3]+UE(l[2],s):rr(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return r=""+t,e.length<=r.length?r:us(e.substr(0,e.length-r.length))+r;if(a=e.match(/^([#0]+)\.([#0]+)$/)){r=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=r.indexOf(".");var g=e.indexOf(".")-s,v=e.length-r.length-g;return us(e.substr(0,g)+r+e.substr(e.length-v))}if(a=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+mc(n,e,-t):Uf(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?wl(0,3-E.length):"")+E})+"."+wl(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var y=Uf(""+u);return y!=="0"?h+y:"";default:if(e.match(/\.[0#?]*$/))return mc(n,e.slice(0,e.lastIndexOf(".")),t)+us(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function pu(n,e,t){return(t|0)===t?mc(n,e,t):Io(n,e,t)}function CQ(n){for(var e=[],t=!1,i=0,r=0;i<n.length;++i)switch(n.charCodeAt(i)){case 34:t=!t;break;case 95:case 42:case 92:++i;break;case 59:e[e.length]=n.substr(r,i-r),r=i+1}if(e[e.length]=n.substr(r),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var DF=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function dm(n){for(var e=0,t="",i="";e<n.length;)switch(t=n.charAt(e)){case"G":FE(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(i=t;n.charAt(e++)!=="]"&&e<n.length;)i+=n.charAt(e);if(i.match(DF))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function OQ(n,e,t,i){for(var r=[],a="",s=0,l="",u="t",h,p,g,v="H";s<n.length;)switch(l=n.charAt(s)){case"G":if(!FE(n,s))throw new Error("unrecognized character "+l+" in "+n);r[r.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(g=n.charCodeAt(++s))!==34&&s<n.length;)a+=String.fromCharCode(g);r[r.length]={t:"t",v:a},++s;break;case"\\":var y=n.charAt(++s),E=y==="("||y===")"?y:"t";r[r.length]={t:E,v:y},++s;break;case"_":r[r.length]={t:"t",v:" "},s+=2;break;case"@":r[r.length]={t:"T",v:e},++s;break;case"B":case"b":if(n.charAt(s+1)==="1"||n.charAt(s+1)==="2"){if(h==null&&(h=xd(e,t,n.charAt(s+1)==="2"),h==null))return"";r[r.length]={t:"X",v:n.substr(s,2)},u=l,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=xd(e,t),h==null))return"";for(a=l;++s<n.length&&n.charAt(s).toLowerCase()===l;)a+=l;l==="m"&&u.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=v),r[r.length]={t:l,v:a},u=l;break;case"A":case"a":case"上":var T={t:l,v:l};if(h==null&&(h=xd(e,t)),n.substr(s,3).toUpperCase()==="A/P"?(h!=null&&(T.v=h.H>=12?"P":"A"),T.t="T",v="h",s+=3):n.substr(s,5).toUpperCase()==="AM/PM"?(h!=null&&(T.v=h.H>=12?"PM":"AM"),T.t="T",s+=5,v="h"):n.substr(s,5).toUpperCase()==="上午/下午"?(h!=null&&(T.v=h.H>=12?"下午":"上午"),T.t="T",s+=5,v="h"):(T.t="t",++s),h==null&&T.t==="T")return"";r[r.length]=T,u=l;break;case"[":for(a=l;n.charAt(s++)!=="]"&&s<n.length;)a+=n.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(DF)){if(h==null&&(h=xd(e,t),h==null))return"";r[r.length]={t:"Z",v:a.toLowerCase()},u=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",dm(n)||(r[r.length]={t:"t",v:a}));break;case".":if(h!=null){for(a=l;++s<n.length&&(l=n.charAt(s))==="0";)a+=l;r[r.length]={t:"s",v:a};break}case"0":case"#":for(a=l;++s<n.length&&"0#?.,E+-%".indexOf(l=n.charAt(s))>-1;)a+=l;r[r.length]={t:"n",v:a};break;case"?":for(a=l;n.charAt(++s)===l;)a+=l;r[r.length]={t:l,v:a},u=l;break;case"*":++s,(n.charAt(s)==" "||n.charAt(s)=="*")&&++s;break;case"(":case")":r[r.length]={t:i===1?"t":l,v:l},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=l;s<n.length&&"0123456789".indexOf(n.charAt(++s))>-1;)a+=n.charAt(s);r[r.length]={t:"D",v:a};break;case" ":r[r.length]={t:l,v:l},++s;break;case"$":r[r.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+n);r[r.length]={t:"t",v:l},++s;break}var S=0,A=0,R;for(s=r.length-1,u="t";s>=0;--s)switch(r[s].t){case"h":case"H":r[s].t=v,u="h",S<1&&(S=1);break;case"s":(R=r[s].v.match(/\.0+$/))&&(A=Math.max(A,R[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":u=r[s].t;break;case"m":u==="s"&&(r[s].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&r[s].v.match(/[Hh]/)&&(S=1),S<2&&r[s].v.match(/[Mm]/)&&(S=2),S<3&&r[s].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var w="",D;for(s=0;s<r.length;++s)switch(r[s].t){case"t":case"T":case" ":case"D":break;case"X":r[s].v="",r[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[s].v=_Q(r[s].t.charCodeAt(0),r[s].v,h,A),r[s].t="t";break;case"n":case"?":for(D=s+1;r[D]!=null&&((l=r[D].t)==="?"||l==="D"||(l===" "||l==="t")&&r[D+1]!=null&&(r[D+1].t==="?"||r[D+1].t==="t"&&r[D+1].v==="/")||r[s].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(r[D].v==="/"||r[D].v===" "&&r[D+1]!=null&&r[D+1].t=="?"));)r[s].v+=r[D].v,r[D]={v:"",t:";"},++D;w+=r[s].v,s=D-1;break;case"G":r[s].t="t",r[s].v=Id(e,t);break}var P="",F,U;if(w.length>0){w.charCodeAt(0)==40?(F=e<0&&w.charCodeAt(0)===45?-e:e,U=pu("n",w,F)):(F=e<0&&i>1?-e:e,U=pu("n",w,F),F<0&&r[0]&&r[0].t=="t"&&(U=U.substr(1),r[0].v="-"+r[0].v)),D=U.length-1;var I=r.length;for(s=0;s<r.length;++s)if(r[s]!=null&&r[s].t!="t"&&r[s].v.indexOf(".")>-1){I=s;break}var C=r.length;if(I===r.length&&U.indexOf("E")===-1){for(s=r.length-1;s>=0;--s)r[s]==null||"n?".indexOf(r[s].t)===-1||(D>=r[s].v.length-1?(D-=r[s].v.length,r[s].v=U.substr(D+1,r[s].v.length)):D<0?r[s].v="":(r[s].v=U.substr(0,D+1),D=-1),r[s].t="t",C=s);D>=0&&C<r.length&&(r[C].v=U.substr(0,D+1)+r[C].v)}else if(I!==r.length&&U.indexOf("E")===-1){for(D=U.indexOf(".")-1,s=I;s>=0;--s)if(!(r[s]==null||"n?".indexOf(r[s].t)===-1)){for(p=r[s].v.indexOf(".")>-1&&s===I?r[s].v.indexOf(".")-1:r[s].v.length-1,P=r[s].v.substr(p+1);p>=0;--p)D>=0&&(r[s].v.charAt(p)==="0"||r[s].v.charAt(p)==="#")&&(P=U.charAt(D--)+P);r[s].v=P,r[s].t="t",C=s}for(D>=0&&C<r.length&&(r[C].v=U.substr(0,D+1)+r[C].v),D=U.indexOf(".")+1,s=I;s<r.length;++s)if(!(r[s]==null||"n?(".indexOf(r[s].t)===-1&&s!==I)){for(p=r[s].v.indexOf(".")>-1&&s===I?r[s].v.indexOf(".")+1:0,P=r[s].v.substr(0,p);p<r[s].v.length;++p)D<U.length&&(P+=U.charAt(D++));r[s].v=P,r[s].t="t",C=s}}}for(s=0;s<r.length;++s)r[s]!=null&&"n?".indexOf(r[s].t)>-1&&(F=i>1&&e<0&&s>0&&r[s-1].v==="-"?-e:e,r[s].v=pu(r[s].t,r[s].v,F),r[s].t="t");var L="";for(s=0;s!==r.length;++s)r[s]!=null&&(L+=r[s].v);return L}var E4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function S4(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function NQ(n,e){var t=CQ(n),i=t.length,r=t[i-1].indexOf("@");if(i<4&&r>-1&&--i,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||r>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=r>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=r>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=r>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var a=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[i,a];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var s=t[0].match(E4),l=t[1].match(E4);return S4(e,s)?[i,t[0]]:S4(e,l)?[i,t[1]]:[i,t[s!=null&&l!=null?2:1]]}return[i,a]}function Wo(n,e,t){t==null&&(t={});var i="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?i=t.dateNF:i=n;break;case"number":n==14&&t.dateNF?i=t.dateNF:i=(t.table!=null?t.table:an)[n],i==null&&(i=t.table&&t.table[x4[n]]||an[x4[n]]),i==null&&(i=dQ[n]||"General");break}if(FE(i,0))return Id(e,t);e instanceof Date&&(e=AF(e,t.date1904));var r=NQ(i,e);if(FE(r[1]))return Id(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return OQ(r[1],e,t,r[0])}function mu(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(an[t]==null){e<0&&(e=t);continue}if(an[t]==n){e=t;break}}e<0&&(e=391)}return an[e]=n,e}function US(n){for(var e=0;e!=392;++e)n[e]!==void 0&&mu(n[e],e)}function pm(){an=hQ()}var DQ={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},IF=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function IQ(n){var e=typeof n=="number"?an[n]:n;return e=e.replace(IF,"(\\d+)"),new RegExp("^"+e+"$")}function LQ(n,e,t){var i=-1,r=-1,a=-1,s=-1,l=-1,u=-1;(e.match(IF)||[]).forEach(function(g,v){var y=parseInt(t[v+1],10);switch(g.toLowerCase().charAt(0)){case"y":i=y;break;case"d":a=y;break;case"h":s=y;break;case"s":u=y;break;case"m":s>=0?l=y:r=y;break}}),u>=0&&l==-1&&r>=0&&(l=r,r=-1);var h=(""+(i>=0?i:new Date().getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var p=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return s==-1&&l==-1&&u==-1?h:i==-1&&r==-1&&a==-1?p:h+"T"+p}var UQ=function(){var n={};n.version="1.2.0";function e(){for(var U=0,I=new Array(256),C=0;C!=256;++C)U=C,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,I[C]=U;return typeof Int32Array<"u"?new Int32Array(I):I}var t=e();function i(U){var I=0,C=0,L=0,k=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)k[L]=U[L];for(L=0;L!=256;++L)for(C=U[L],I=256+L;I<4096;I+=256)C=k[I]=C>>>8^U[C&255];var G=[];for(L=1;L!=16;++L)G[L-1]=typeof Int32Array<"u"?k.subarray(L*256,L*256+256):k.slice(L*256,L*256+256);return G}var r=i(t),a=r[0],s=r[1],l=r[2],u=r[3],h=r[4],p=r[5],g=r[6],v=r[7],y=r[8],E=r[9],T=r[10],S=r[11],A=r[12],R=r[13],w=r[14];function D(U,I){for(var C=I^-1,L=0,k=U.length;L<k;)C=C>>>8^t[(C^U.charCodeAt(L++))&255];return~C}function P(U,I){for(var C=I^-1,L=U.length-15,k=0;k<L;)C=w[U[k++]^C&255]^R[U[k++]^C>>8&255]^A[U[k++]^C>>16&255]^S[U[k++]^C>>>24]^T[U[k++]]^E[U[k++]]^y[U[k++]]^v[U[k++]]^g[U[k++]]^p[U[k++]]^h[U[k++]]^u[U[k++]]^l[U[k++]]^s[U[k++]]^a[U[k++]]^t[U[k++]];for(L+=15;k<L;)C=C>>>8^t[(C^U[k++])&255];return~C}function F(U,I){for(var C=I^-1,L=0,k=U.length,G=0,ee=0;L<k;)G=U.charCodeAt(L++),G<128?C=C>>>8^t[(C^G)&255]:G<2048?(C=C>>>8^t[(C^(192|G>>6&31))&255],C=C>>>8^t[(C^(128|G&63))&255]):G>=55296&&G<57344?(G=(G&1023)+64,ee=U.charCodeAt(L++)&1023,C=C>>>8^t[(C^(240|G>>8&7))&255],C=C>>>8^t[(C^(128|G>>2&63))&255],C=C>>>8^t[(C^(128|ee>>6&15|(G&3)<<4))&255],C=C>>>8^t[(C^(128|ee&63))&255]):(C=C>>>8^t[(C^(224|G>>12&15))&255],C=C>>>8^t[(C^(128|G>>6&63))&255],C=C>>>8^t[(C^(128|G&63))&255]);return~C}return n.table=t,n.bstr=D,n.buf=P,n.str=F,n}(),Jt=function(){var e={};e.version="1.2.1";function t(Z,ue){for(var oe=Z.split("/"),ae=ue.split("/"),fe=0,de=0,Ve=Math.min(oe.length,ae.length);fe<Ve;++fe){if(de=oe[fe].length-ae[fe].length)return de;if(oe[fe]!=ae[fe])return oe[fe]<ae[fe]?-1:1}return oe.length-ae.length}function i(Z){if(Z.charAt(Z.length-1)=="/")return Z.slice(0,-1).indexOf("/")===-1?Z:i(Z.slice(0,-1));var ue=Z.lastIndexOf("/");return ue===-1?Z:Z.slice(0,ue+1)}function r(Z){if(Z.charAt(Z.length-1)=="/")return r(Z.slice(0,-1));var ue=Z.lastIndexOf("/");return ue===-1?Z:Z.slice(ue+1)}function a(Z,ue){typeof ue=="string"&&(ue=new Date(ue));var oe=ue.getHours();oe=oe<<6|ue.getMinutes(),oe=oe<<5|ue.getSeconds()>>>1,Z.write_shift(2,oe);var ae=ue.getFullYear()-1980;ae=ae<<4|ue.getMonth()+1,ae=ae<<5|ue.getDate(),Z.write_shift(2,ae)}function s(Z){var ue=Z.read_shift(2)&65535,oe=Z.read_shift(2)&65535,ae=new Date,fe=oe&31;oe>>>=5;var de=oe&15;oe>>>=4,ae.setMilliseconds(0),ae.setFullYear(oe+1980),ae.setMonth(de-1),ae.setDate(fe);var Ve=ue&31;ue>>>=5;var et=ue&63;return ue>>>=6,ae.setHours(ue),ae.setMinutes(et),ae.setSeconds(Ve<<1),ae}function l(Z){xa(Z,0);for(var ue={},oe=0;Z.l<=Z.length-4;){var ae=Z.read_shift(2),fe=Z.read_shift(2),de=Z.l+fe,Ve={};switch(ae){case 21589:oe=Z.read_shift(1),oe&1&&(Ve.mtime=Z.read_shift(4)),fe>5&&(oe&2&&(Ve.atime=Z.read_shift(4)),oe&4&&(Ve.ctime=Z.read_shift(4))),Ve.mtime&&(Ve.mt=new Date(Ve.mtime*1e3));break}Z.l=de,ue[ae]=Ve}return ue}var u;function h(){return u||(u={})}function p(Z,ue){if(Z[0]==80&&Z[1]==75)return Ct(Z,ue);if((Z[0]|32)==109&&(Z[1]|32)==105)return qr(Z,ue);if(Z.length<512)throw new Error("CFB file size "+Z.length+" < 512");var oe=3,ae=512,fe=0,de=0,Ve=0,et=0,Ue=0,Xe=[],Ye=Z.slice(0,512);xa(Ye,0);var ht=g(Ye);switch(oe=ht[0],oe){case 3:ae=512;break;case 4:ae=4096;break;case 0:if(ht[1]==0)return Ct(Z,ue);default:throw new Error("Major Version: Expected 3 or 4 saw "+oe)}ae!==512&&(Ye=Z.slice(0,ae),xa(Ye,28));var X=Z.slice(0,ae);v(Ye,oe);var me=Ye.read_shift(4,"i");if(oe===3&&me!==0)throw new Error("# Directory Sectors: Expected 0 saw "+me);Ye.l+=4,Ve=Ye.read_shift(4,"i"),Ye.l+=4,Ye.chk("00100000","Mini Stream Cutoff Size: "),et=Ye.read_shift(4,"i"),fe=Ye.read_shift(4,"i"),Ue=Ye.read_shift(4,"i"),de=Ye.read_shift(4,"i");for(var xe=-1,Te=0;Te<109&&(xe=Ye.read_shift(4,"i"),!(xe<0));++Te)Xe[Te]=xe;var Se=y(Z,ae);S(Ue,de,Se,ae,Xe);var tt=R(Se,Ve,Xe,ae);tt[Ve].name="!Directory",fe>0&&et!==ee&&(tt[et].name="!MiniFAT"),tt[Xe[0]].name="!FAT",tt.fat_addrs=Xe,tt.ssz=ae;var mt={},Et=[],Ot=[],Yt=[];w(Ve,tt,Se,Et,fe,mt,Ot,et),E(Ot,Yt,Et),Et.shift();var Wt={FileIndex:Ot,FullPaths:Yt};return ue&&ue.raw&&(Wt.raw={header:X,sectors:Se}),Wt}function g(Z){if(Z[Z.l]==80&&Z[Z.l+1]==75)return[0,0];Z.chk(ve,"Header Signature: "),Z.l+=16;var ue=Z.read_shift(2,"u");return[Z.read_shift(2,"u"),ue]}function v(Z,ue){var oe=9;switch(Z.l+=2,oe=Z.read_shift(2)){case 9:if(ue!=3)throw new Error("Sector Shift: Expected 9 saw "+oe);break;case 12:if(ue!=4)throw new Error("Sector Shift: Expected 12 saw "+oe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+oe)}Z.chk("0600","Mini Sector Shift: "),Z.chk("000000000000","Reserved: ")}function y(Z,ue){for(var oe=Math.ceil(Z.length/ue)-1,ae=[],fe=1;fe<oe;++fe)ae[fe-1]=Z.slice(fe*ue,(fe+1)*ue);return ae[oe-1]=Z.slice(oe*ue),ae}function E(Z,ue,oe){for(var ae=0,fe=0,de=0,Ve=0,et=0,Ue=oe.length,Xe=[],Ye=[];ae<Ue;++ae)Xe[ae]=Ye[ae]=ae,ue[ae]=oe[ae];for(;et<Ye.length;++et)ae=Ye[et],fe=Z[ae].L,de=Z[ae].R,Ve=Z[ae].C,Xe[ae]===ae&&(fe!==-1&&Xe[fe]!==fe&&(Xe[ae]=Xe[fe]),de!==-1&&Xe[de]!==de&&(Xe[ae]=Xe[de])),Ve!==-1&&(Xe[Ve]=ae),fe!==-1&&ae!=Xe[ae]&&(Xe[fe]=Xe[ae],Ye.lastIndexOf(fe)<et&&Ye.push(fe)),de!==-1&&ae!=Xe[ae]&&(Xe[de]=Xe[ae],Ye.lastIndexOf(de)<et&&Ye.push(de));for(ae=1;ae<Ue;++ae)Xe[ae]===ae&&(de!==-1&&Xe[de]!==de?Xe[ae]=Xe[de]:fe!==-1&&Xe[fe]!==fe&&(Xe[ae]=Xe[fe]));for(ae=1;ae<Ue;++ae)if(Z[ae].type!==0){if(et=ae,et!=Xe[et])do et=Xe[et],ue[ae]=ue[et]+"/"+ue[ae];while(et!==0&&Xe[et]!==-1&&et!=Xe[et]);Xe[ae]=-1}for(ue[0]+="/",ae=1;ae<Ue;++ae)Z[ae].type!==2&&(ue[ae]+="/")}function T(Z,ue,oe){for(var ae=Z.start,fe=Z.size,de=[],Ve=ae;oe&&fe>0&&Ve>=0;)de.push(ue.slice(Ve*G,Ve*G+G)),fe-=G,Ve=fd(oe,Ve*4);return de.length===0?nt(0):ra(de).slice(0,Z.size)}function S(Z,ue,oe,ae,fe){var de=ee;if(Z===ee){if(ue!==0)throw new Error("DIFAT chain shorter than expected")}else if(Z!==-1){var Ve=oe[Z],et=(ae>>>2)-1;if(!Ve)return;for(var Ue=0;Ue<et&&(de=fd(Ve,Ue*4))!==ee;++Ue)fe.push(de);S(fd(Ve,ae-4),ue-1,oe,ae,fe)}}function A(Z,ue,oe,ae,fe){var de=[],Ve=[];fe||(fe=[]);var et=ae-1,Ue=0,Xe=0;for(Ue=ue;Ue>=0;){fe[Ue]=!0,de[de.length]=Ue,Ve.push(Z[Ue]);var Ye=oe[Math.floor(Ue*4/ae)];if(Xe=Ue*4&et,ae<4+Xe)throw new Error("FAT boundary crossed: "+Ue+" 4 "+ae);if(!Z[Ye])break;Ue=fd(Z[Ye],Xe)}return{nodes:de,data:L4([Ve])}}function R(Z,ue,oe,ae){var fe=Z.length,de=[],Ve=[],et=[],Ue=[],Xe=ae-1,Ye=0,ht=0,X=0,me=0;for(Ye=0;Ye<fe;++Ye)if(et=[],X=Ye+ue,X>=fe&&(X-=fe),!Ve[X]){Ue=[];var xe=[];for(ht=X;ht>=0;){xe[ht]=!0,Ve[ht]=!0,et[et.length]=ht,Ue.push(Z[ht]);var Te=oe[Math.floor(ht*4/ae)];if(me=ht*4&Xe,ae<4+me)throw new Error("FAT boundary crossed: "+ht+" 4 "+ae);if(!Z[Te]||(ht=fd(Z[Te],me),xe[ht]))break}de[X]={nodes:et,data:L4([Ue])}}return de}function w(Z,ue,oe,ae,fe,de,Ve,et){for(var Ue=0,Xe=ae.length?2:0,Ye=ue[Z].data,ht=0,X=0,me;ht<Ye.length;ht+=128){var xe=Ye.slice(ht,ht+128);xa(xe,64),X=xe.read_shift(2),me=uw(xe,0,X-Xe),ae.push(me);var Te={name:me,type:xe.read_shift(1),color:xe.read_shift(1),L:xe.read_shift(4,"i"),R:xe.read_shift(4,"i"),C:xe.read_shift(4,"i"),clsid:xe.read_shift(16),state:xe.read_shift(4,"i"),start:0,size:0},Se=xe.read_shift(2)+xe.read_shift(2)+xe.read_shift(2)+xe.read_shift(2);Se!==0&&(Te.ct=D(xe,xe.l-8));var tt=xe.read_shift(2)+xe.read_shift(2)+xe.read_shift(2)+xe.read_shift(2);tt!==0&&(Te.mt=D(xe,xe.l-8)),Te.start=xe.read_shift(4,"i"),Te.size=xe.read_shift(4,"i"),Te.size<0&&Te.start<0&&(Te.size=Te.type=0,Te.start=ee,Te.name=""),Te.type===5?(Ue=Te.start,fe>0&&Ue!==ee&&(ue[Ue].name="!StreamData")):Te.size>=4096?(Te.storage="fat",ue[Te.start]===void 0&&(ue[Te.start]=A(oe,Te.start,ue.fat_addrs,ue.ssz)),ue[Te.start].name=Te.name,Te.content=ue[Te.start].data.slice(0,Te.size)):(Te.storage="minifat",Te.size<0?Te.size=0:Ue!==ee&&Te.start!==ee&&ue[Ue]&&(Te.content=T(Te,ue[Ue].data,(ue[et]||{}).data))),Te.content&&xa(Te.content,0),de[me]=Te,Ve.push(Te)}}function D(Z,ue){return new Date((no(Z,ue+4)/1e7*Math.pow(2,32)+no(Z,ue)/1e7-11644473600)*1e3)}function P(Z,ue){return h(),p(u.readFileSync(Z),ue)}function F(Z,ue){var oe=ue&&ue.type;switch(oe||Ln&&Buffer.isBuffer(Z)&&(oe="buffer"),oe||"base64"){case"file":return P(Z,ue);case"base64":return p(io(oo(Z)),ue);case"binary":return p(io(Z),ue)}return p(Z,ue)}function U(Z,ue){var oe=ue||{},ae=oe.root||"Root Entry";if(Z.FullPaths||(Z.FullPaths=[]),Z.FileIndex||(Z.FileIndex=[]),Z.FullPaths.length!==Z.FileIndex.length)throw new Error("inconsistent CFB structure");Z.FullPaths.length===0&&(Z.FullPaths[0]=ae+"/",Z.FileIndex[0]={name:ae,type:5}),oe.CLSID&&(Z.FileIndex[0].clsid=oe.CLSID),I(Z)}function I(Z){var ue="Sh33tJ5";if(!Jt.find(Z,"/"+ue)){var oe=nt(4);oe[0]=55,oe[1]=oe[3]=50,oe[2]=54,Z.FileIndex.push({name:ue,type:2,content:oe,size:4,L:69,R:69,C:69}),Z.FullPaths.push(Z.FullPaths[0]+ue),C(Z)}}function C(Z,ue){U(Z);for(var oe=!1,ae=!1,fe=Z.FullPaths.length-1;fe>=0;--fe){var de=Z.FileIndex[fe];switch(de.type){case 0:ae?oe=!0:(Z.FileIndex.pop(),Z.FullPaths.pop());break;case 1:case 2:case 5:ae=!0,isNaN(de.R*de.L*de.C)&&(oe=!0),de.R>-1&&de.L>-1&&de.R==de.L&&(oe=!0);break;default:oe=!0;break}}if(!(!oe&&!ue)){var Ve=new Date(1987,1,19),et=0,Ue=Object.create?Object.create(null):{},Xe=[];for(fe=0;fe<Z.FullPaths.length;++fe)Ue[Z.FullPaths[fe]]=!0,Z.FileIndex[fe].type!==0&&Xe.push([Z.FullPaths[fe],Z.FileIndex[fe]]);for(fe=0;fe<Xe.length;++fe){var Ye=i(Xe[fe][0]);ae=Ue[Ye],ae||(Xe.push([Ye,{name:r(Ye).replace("/",""),type:1,clsid:W,ct:Ve,mt:Ve,content:null}]),Ue[Ye]=!0)}for(Xe.sort(function(me,xe){return t(me[0],xe[0])}),Z.FullPaths=[],Z.FileIndex=[],fe=0;fe<Xe.length;++fe)Z.FullPaths[fe]=Xe[fe][0],Z.FileIndex[fe]=Xe[fe][1];for(fe=0;fe<Xe.length;++fe){var ht=Z.FileIndex[fe],X=Z.FullPaths[fe];if(ht.name=r(X).replace("/",""),ht.L=ht.R=ht.C=-(ht.color=1),ht.size=ht.content?ht.content.length:0,ht.start=0,ht.clsid=ht.clsid||W,fe===0)ht.C=Xe.length>1?1:-1,ht.size=0,ht.type=5;else if(X.slice(-1)=="/"){for(et=fe+1;et<Xe.length&&i(Z.FullPaths[et])!=X;++et);for(ht.C=et>=Xe.length?-1:et,et=fe+1;et<Xe.length&&i(Z.FullPaths[et])!=i(X);++et);ht.R=et>=Xe.length?-1:et,ht.type=1}else i(Z.FullPaths[fe+1]||"")==i(X)&&(ht.R=fe+1),ht.type=2}}}function L(Z,ue){var oe=ue||{};if(oe.fileType=="mad")return Vi(Z,oe);switch(C(Z),oe.fileType){case"zip":return It(Z,oe)}var ae=function(me){for(var xe=0,Te=0,Se=0;Se<me.FileIndex.length;++Se){var tt=me.FileIndex[Se];if(tt.content){var mt=tt.content.length;mt>0&&(mt<4096?xe+=mt+63>>6:Te+=mt+511>>9)}}for(var Et=me.FullPaths.length+3>>2,Ot=xe+7>>3,Yt=xe+127>>7,Wt=Ot+Te+Et+Yt,Pt=Wt+127>>7,dn=Pt<=109?0:Math.ceil((Pt-109)/127);Wt+Pt+dn+127>>7>Pt;)dn=++Pt<=109?0:Math.ceil((Pt-109)/127);var yn=[1,dn,Pt,Yt,Et,Te,xe,0];return me.FileIndex[0].size=xe<<6,yn[7]=(me.FileIndex[0].start=yn[0]+yn[1]+yn[2]+yn[3]+yn[4]+yn[5])+(yn[6]+7>>3),yn}(Z),fe=nt(ae[7]<<9),de=0,Ve=0;{for(de=0;de<8;++de)fe.write_shift(1,pe[de]);for(de=0;de<8;++de)fe.write_shift(2,0);for(fe.write_shift(2,62),fe.write_shift(2,3),fe.write_shift(2,65534),fe.write_shift(2,9),fe.write_shift(2,6),de=0;de<3;++de)fe.write_shift(2,0);for(fe.write_shift(4,0),fe.write_shift(4,ae[2]),fe.write_shift(4,ae[0]+ae[1]+ae[2]+ae[3]-1),fe.write_shift(4,0),fe.write_shift(4,4096),fe.write_shift(4,ae[3]?ae[0]+ae[1]+ae[2]-1:ee),fe.write_shift(4,ae[3]),fe.write_shift(-4,ae[1]?ae[0]-1:ee),fe.write_shift(4,ae[1]),de=0;de<109;++de)fe.write_shift(-4,de<ae[2]?ae[1]+de:-1)}if(ae[1])for(Ve=0;Ve<ae[1];++Ve){for(;de<236+Ve*127;++de)fe.write_shift(-4,de<ae[2]?ae[1]+de:-1);fe.write_shift(-4,Ve===ae[1]-1?ee:Ve+1)}var et=function(me){for(Ve+=me;de<Ve-1;++de)fe.write_shift(-4,de+1);me&&(++de,fe.write_shift(-4,ee))};for(Ve=de=0,Ve+=ae[1];de<Ve;++de)fe.write_shift(-4,K.DIFSECT);for(Ve+=ae[2];de<Ve;++de)fe.write_shift(-4,K.FATSECT);et(ae[3]),et(ae[4]);for(var Ue=0,Xe=0,Ye=Z.FileIndex[0];Ue<Z.FileIndex.length;++Ue)Ye=Z.FileIndex[Ue],Ye.content&&(Xe=Ye.content.length,!(Xe<4096)&&(Ye.start=Ve,et(Xe+511>>9)));for(et(ae[6]+7>>3);fe.l&511;)fe.write_shift(-4,K.ENDOFCHAIN);for(Ve=de=0,Ue=0;Ue<Z.FileIndex.length;++Ue)Ye=Z.FileIndex[Ue],Ye.content&&(Xe=Ye.content.length,!(!Xe||Xe>=4096)&&(Ye.start=Ve,et(Xe+63>>6)));for(;fe.l&511;)fe.write_shift(-4,K.ENDOFCHAIN);for(de=0;de<ae[4]<<2;++de){var ht=Z.FullPaths[de];if(!ht||ht.length===0){for(Ue=0;Ue<17;++Ue)fe.write_shift(4,0);for(Ue=0;Ue<3;++Ue)fe.write_shift(4,-1);for(Ue=0;Ue<12;++Ue)fe.write_shift(4,0);continue}Ye=Z.FileIndex[de],de===0&&(Ye.start=Ye.size?Ye.start-1:ee);var X=de===0&&oe.root||Ye.name;if(Xe=2*(X.length+1),fe.write_shift(64,X,"utf16le"),fe.write_shift(2,Xe),fe.write_shift(1,Ye.type),fe.write_shift(1,Ye.color),fe.write_shift(-4,Ye.L),fe.write_shift(-4,Ye.R),fe.write_shift(-4,Ye.C),Ye.clsid)fe.write_shift(16,Ye.clsid,"hex");else for(Ue=0;Ue<4;++Ue)fe.write_shift(4,0);fe.write_shift(4,Ye.state||0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,Ye.start),fe.write_shift(4,Ye.size),fe.write_shift(4,0)}for(de=1;de<Z.FileIndex.length;++de)if(Ye=Z.FileIndex[de],Ye.size>=4096)if(fe.l=Ye.start+1<<9,Ln&&Buffer.isBuffer(Ye.content))Ye.content.copy(fe,fe.l,0,Ye.size),fe.l+=Ye.size+511&-512;else{for(Ue=0;Ue<Ye.size;++Ue)fe.write_shift(1,Ye.content[Ue]);for(;Ue&511;++Ue)fe.write_shift(1,0)}for(de=1;de<Z.FileIndex.length;++de)if(Ye=Z.FileIndex[de],Ye.size>0&&Ye.size<4096)if(Ln&&Buffer.isBuffer(Ye.content))Ye.content.copy(fe,fe.l,0,Ye.size),fe.l+=Ye.size+63&-64;else{for(Ue=0;Ue<Ye.size;++Ue)fe.write_shift(1,Ye.content[Ue]);for(;Ue&63;++Ue)fe.write_shift(1,0)}if(Ln)fe.l=fe.length;else for(;fe.l<fe.length;)fe.write_shift(1,0);return fe}function k(Z,ue){var oe=Z.FullPaths.map(function(Ue){return Ue.toUpperCase()}),ae=oe.map(function(Ue){var Xe=Ue.split("/");return Xe[Xe.length-(Ue.slice(-1)=="/"?2:1)]}),fe=!1;ue.charCodeAt(0)===47?(fe=!0,ue=oe[0].slice(0,-1)+ue):fe=ue.indexOf("/")!==-1;var de=ue.toUpperCase(),Ve=fe===!0?oe.indexOf(de):ae.indexOf(de);if(Ve!==-1)return Z.FileIndex[Ve];var et=!de.match(ev);for(de=de.replace(ms,""),et&&(de=de.replace(ev,"!")),Ve=0;Ve<oe.length;++Ve)if((et?oe[Ve].replace(ev,"!"):oe[Ve]).replace(ms,"")==de||(et?ae[Ve].replace(ev,"!"):ae[Ve]).replace(ms,"")==de)return Z.FileIndex[Ve];return null}var G=64,ee=-2,ve="d0cf11e0a1b11ae1",pe=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",K={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ee,FREESECT:-1,HEADER_SIGNATURE:ve,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ie(Z,ue,oe){h();var ae=L(Z,oe);u.writeFileSync(ue,ae)}function ne(Z){for(var ue=new Array(Z.length),oe=0;oe<Z.length;++oe)ue[oe]=String.fromCharCode(Z[oe]);return ue.join("")}function j(Z,ue){var oe=L(Z,ue);switch(ue&&ue.type||"buffer"){case"file":return h(),u.writeFileSync(ue.filename,oe),oe;case"binary":return typeof oe=="string"?oe:ne(oe);case"base64":return Jv(typeof oe=="string"?oe:ne(oe));case"buffer":if(Ln)return Buffer.isBuffer(oe)?oe:bu(oe);case"array":return typeof oe=="string"?io(oe):oe}return oe}var le;function H(Z){try{var ue=Z.InflateRaw,oe=new ue;if(oe._processChunk(new Uint8Array([3,0]),oe._finishFlushFlag),oe.bytesRead)le=Z;else throw new Error("zlib does not expose bytesRead")}catch(ae){console.error("cannot use native zlib: "+(ae.message||ae))}}function q(Z,ue){if(!le)return Kt(Z,ue);var oe=le.InflateRaw,ae=new oe,fe=ae._processChunk(Z.slice(Z.l),ae._finishFlushFlag);return Z.l+=ae.bytesRead,fe}function V(Z){return le?le.deflateRawSync(Z):it(Z)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ge=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ee(Z){var ue=(Z<<1|Z<<11)&139536|(Z<<5|Z<<15)&558144;return(ue>>16|ue>>8|ue)&255}for(var Ce=typeof Uint8Array<"u",Ne=Ce?new Uint8Array(256):[],st=0;st<256;++st)Ne[st]=Ee(st);function se(Z,ue){var oe=Ne[Z&255];return ue<=8?oe>>>8-ue:(oe=oe<<8|Ne[Z>>8&255],ue<=16?oe>>>16-ue:(oe=oe<<8|Ne[Z>>16&255],oe>>>24-ue))}function vt(Z,ue){var oe=ue&7,ae=ue>>>3;return(Z[ae]|(oe<=6?0:Z[ae+1]<<8))>>>oe&3}function J(Z,ue){var oe=ue&7,ae=ue>>>3;return(Z[ae]|(oe<=5?0:Z[ae+1]<<8))>>>oe&7}function Ze(Z,ue){var oe=ue&7,ae=ue>>>3;return(Z[ae]|(oe<=4?0:Z[ae+1]<<8))>>>oe&15}function Ie(Z,ue){var oe=ue&7,ae=ue>>>3;return(Z[ae]|(oe<=3?0:Z[ae+1]<<8))>>>oe&31}function Re(Z,ue){var oe=ue&7,ae=ue>>>3;return(Z[ae]|(oe<=1?0:Z[ae+1]<<8))>>>oe&127}function Pe(Z,ue,oe){var ae=ue&7,fe=ue>>>3,de=(1<<oe)-1,Ve=Z[fe]>>>ae;return oe<8-ae||(Ve|=Z[fe+1]<<8-ae,oe<16-ae)||(Ve|=Z[fe+2]<<16-ae,oe<24-ae)||(Ve|=Z[fe+3]<<24-ae),Ve&de}function ut(Z,ue,oe){var ae=ue&7,fe=ue>>>3;return ae<=5?Z[fe]|=(oe&7)<<ae:(Z[fe]|=oe<<ae&255,Z[fe+1]=(oe&7)>>8-ae),ue+3}function $e(Z,ue,oe){var ae=ue&7,fe=ue>>>3;return oe=(oe&1)<<ae,Z[fe]|=oe,ue+1}function yt(Z,ue,oe){var ae=ue&7,fe=ue>>>3;return oe<<=ae,Z[fe]|=oe&255,oe>>>=8,Z[fe+1]=oe,ue+8}function kt(Z,ue,oe){var ae=ue&7,fe=ue>>>3;return oe<<=ae,Z[fe]|=oe&255,oe>>>=8,Z[fe+1]=oe&255,Z[fe+2]=oe>>>8,ue+16}function ce(Z,ue){var oe=Z.length,ae=2*oe>ue?2*oe:ue+5,fe=0;if(oe>=ue)return Z;if(Ln){var de=m4(ae);if(Z.copy)Z.copy(de);else for(;fe<Z.length;++fe)de[fe]=Z[fe];return de}else if(Ce){var Ve=new Uint8Array(ae);if(Ve.set)Ve.set(Z);else for(;fe<oe;++fe)Ve[fe]=Z[fe];return Ve}return Z.length=ae,Z}function Y(Z){for(var ue=new Array(Z),oe=0;oe<Z;++oe)ue[oe]=0;return ue}function Oe(Z,ue,oe){var ae=1,fe=0,de=0,Ve=0,et=0,Ue=Z.length,Xe=Ce?new Uint16Array(32):Y(32);for(de=0;de<32;++de)Xe[de]=0;for(de=Ue;de<oe;++de)Z[de]=0;Ue=Z.length;var Ye=Ce?new Uint16Array(Ue):Y(Ue);for(de=0;de<Ue;++de)Xe[fe=Z[de]]++,ae<fe&&(ae=fe),Ye[de]=0;for(Xe[0]=0,de=1;de<=ae;++de)Xe[de+16]=et=et+Xe[de-1]<<1;for(de=0;de<Ue;++de)et=Z[de],et!=0&&(Ye[de]=Xe[et+16]++);var ht=0;for(de=0;de<Ue;++de)if(ht=Z[de],ht!=0)for(et=se(Ye[de],ae)>>ae-ht,Ve=(1<<ae+4-ht)-1;Ve>=0;--Ve)ue[et|Ve<<ht]=ht&15|de<<4;return ae}var ze=Ce?new Uint16Array(512):Y(512),Qe=Ce?new Uint16Array(32):Y(32);if(!Ce){for(var He=0;He<512;++He)ze[He]=0;for(He=0;He<32;++He)Qe[He]=0}(function(){for(var Z=[],ue=0;ue<32;ue++)Z.push(5);Oe(Z,Qe,32);var oe=[];for(ue=0;ue<=143;ue++)oe.push(8);for(;ue<=255;ue++)oe.push(9);for(;ue<=279;ue++)oe.push(7);for(;ue<=287;ue++)oe.push(8);Oe(oe,ze,288)})();var St=function(){for(var ue=Ce?new Uint8Array(32768):[],oe=0,ae=0;oe<Ae.length-1;++oe)for(;ae<Ae[oe+1];++ae)ue[ae]=oe;for(;ae<32768;++ae)ue[ae]=29;var fe=Ce?new Uint8Array(259):[];for(oe=0,ae=0;oe<ge.length-1;++oe)for(;ae<ge[oe+1];++ae)fe[ae]=oe;function de(et,Ue){for(var Xe=0;Xe<et.length;){var Ye=Math.min(65535,et.length-Xe),ht=Xe+Ye==et.length;for(Ue.write_shift(1,+ht),Ue.write_shift(2,Ye),Ue.write_shift(2,~Ye&65535);Ye-- >0;)Ue[Ue.l++]=et[Xe++]}return Ue.l}function Ve(et,Ue){for(var Xe=0,Ye=0,ht=Ce?new Uint16Array(32768):[];Ye<et.length;){var X=Math.min(65535,et.length-Ye);if(X<10){for(Xe=ut(Ue,Xe,+(Ye+X==et.length)),Xe&7&&(Xe+=8-(Xe&7)),Ue.l=Xe/8|0,Ue.write_shift(2,X),Ue.write_shift(2,~X&65535);X-- >0;)Ue[Ue.l++]=et[Ye++];Xe=Ue.l*8;continue}Xe=ut(Ue,Xe,+(Ye+X==et.length)+2);for(var me=0;X-- >0;){var xe=et[Ye];me=(me<<5^xe)&32767;var Te=-1,Se=0;if((Te=ht[me])&&(Te|=Ye&-32768,Te>Ye&&(Te-=32768),Te<Ye))for(;et[Te+Se]==et[Ye+Se]&&Se<250;)++Se;if(Se>2){xe=fe[Se],xe<=22?Xe=yt(Ue,Xe,Ne[xe+1]>>1)-1:(yt(Ue,Xe,3),Xe+=5,yt(Ue,Xe,Ne[xe-23]>>5),Xe+=3);var tt=xe<8?0:xe-4>>2;tt>0&&(kt(Ue,Xe,Se-ge[xe]),Xe+=tt),xe=ue[Ye-Te],Xe=yt(Ue,Xe,Ne[xe]>>3),Xe-=3;var mt=xe<4?0:xe-2>>1;mt>0&&(kt(Ue,Xe,Ye-Te-Ae[xe]),Xe+=mt);for(var Et=0;Et<Se;++Et)ht[me]=Ye&32767,me=(me<<5^et[Ye])&32767,++Ye;X-=Se-1}else xe<=143?xe=xe+48:Xe=$e(Ue,Xe,1),Xe=yt(Ue,Xe,Ne[xe]),ht[me]=Ye&32767,++Ye}Xe=yt(Ue,Xe,0)-1}return Ue.l=(Xe+7)/8|0,Ue.l}return function(Ue,Xe){return Ue.length<8?de(Ue,Xe):Ve(Ue,Xe)}}();function it(Z){var ue=nt(50+Math.floor(Z.length*1.1)),oe=St(Z,ue);return ue.slice(0,oe)}var xt=Ce?new Uint16Array(32768):Y(32768),bt=Ce?new Uint16Array(32768):Y(32768),Je=Ce?new Uint16Array(128):Y(128),At=1,Bt=1;function Xt(Z,ue){var oe=Ie(Z,ue)+257;ue+=5;var ae=Ie(Z,ue)+1;ue+=5;var fe=Ze(Z,ue)+4;ue+=4;for(var de=0,Ve=Ce?new Uint8Array(19):Y(19),et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ue=1,Xe=Ce?new Uint8Array(8):Y(8),Ye=Ce?new Uint8Array(8):Y(8),ht=Ve.length,X=0;X<fe;++X)Ve[Q[X]]=de=J(Z,ue),Ue<de&&(Ue=de),Xe[de]++,ue+=3;var me=0;for(Xe[0]=0,X=1;X<=Ue;++X)Ye[X]=me=me+Xe[X-1]<<1;for(X=0;X<ht;++X)(me=Ve[X])!=0&&(et[X]=Ye[me]++);var xe=0;for(X=0;X<ht;++X)if(xe=Ve[X],xe!=0){me=Ne[et[X]]>>8-xe;for(var Te=(1<<7-xe)-1;Te>=0;--Te)Je[me|Te<<xe]=xe&7|X<<3}var Se=[];for(Ue=1;Se.length<oe+ae;)switch(me=Je[Re(Z,ue)],ue+=me&7,me>>>=3){case 16:for(de=3+vt(Z,ue),ue+=2,me=Se[Se.length-1];de-- >0;)Se.push(me);break;case 17:for(de=3+J(Z,ue),ue+=3;de-- >0;)Se.push(0);break;case 18:for(de=11+Re(Z,ue),ue+=7;de-- >0;)Se.push(0);break;default:Se.push(me),Ue<me&&(Ue=me);break}var tt=Se.slice(0,oe),mt=Se.slice(oe);for(X=oe;X<286;++X)tt[X]=0;for(X=ae;X<30;++X)mt[X]=0;return At=Oe(tt,xt,286),Bt=Oe(mt,bt,30),ue}function Mt(Z,ue){if(Z[0]==3&&!(Z[1]&3))return[zf(ue),2];for(var oe=0,ae=0,fe=m4(ue||1<<18),de=0,Ve=fe.length>>>0,et=0,Ue=0;(ae&1)==0;){if(ae=J(Z,oe),oe+=3,ae>>>1)ae>>1==1?(et=9,Ue=5):(oe=Xt(Z,oe),et=At,Ue=Bt);else{oe&7&&(oe+=8-(oe&7));var Xe=Z[oe>>>3]|Z[(oe>>>3)+1]<<8;if(oe+=32,Xe>0)for(!ue&&Ve<de+Xe&&(fe=ce(fe,de+Xe),Ve=fe.length);Xe-- >0;)fe[de++]=Z[oe>>>3],oe+=8;continue}for(;;){!ue&&Ve<de+32767&&(fe=ce(fe,de+32767),Ve=fe.length);var Ye=Pe(Z,oe,et),ht=ae>>>1==1?ze[Ye]:xt[Ye];if(oe+=ht&15,ht>>>=4,(ht>>>8&255)===0)fe[de++]=ht;else{if(ht==256)break;ht-=257;var X=ht<8?0:ht-4>>2;X>5&&(X=0);var me=de+ge[ht];X>0&&(me+=Pe(Z,oe,X),oe+=X),Ye=Pe(Z,oe,Ue),ht=ae>>>1==1?Qe[Ye]:bt[Ye],oe+=ht&15,ht>>>=4;var xe=ht<4?0:ht-2>>1,Te=Ae[ht];for(xe>0&&(Te+=Pe(Z,oe,xe),oe+=xe),!ue&&Ve<me&&(fe=ce(fe,me+100),Ve=fe.length);de<me;)fe[de]=fe[de-Te],++de}}}return ue?[fe,oe+7>>>3]:[fe.slice(0,de),oe+7>>>3]}function Kt(Z,ue){var oe=Z.slice(Z.l||0),ae=Mt(oe,ue);return Z.l+=ae[1],ae[0]}function Me(Z,ue){if(Z)typeof console<"u"&&console.error(ue);else throw new Error(ue)}function Ct(Z,ue){var oe=Z;xa(oe,0);var ae=[],fe=[],de={FileIndex:ae,FullPaths:fe};U(de,{root:ue.root});for(var Ve=oe.length-4;(oe[Ve]!=80||oe[Ve+1]!=75||oe[Ve+2]!=5||oe[Ve+3]!=6)&&Ve>=0;)--Ve;oe.l=Ve+4,oe.l+=4;var et=oe.read_shift(2);oe.l+=6;var Ue=oe.read_shift(4);for(oe.l=Ue,Ve=0;Ve<et;++Ve){oe.l+=20;var Xe=oe.read_shift(4),Ye=oe.read_shift(4),ht=oe.read_shift(2),X=oe.read_shift(2),me=oe.read_shift(2);oe.l+=8;var xe=oe.read_shift(4),Te=l(oe.slice(oe.l+ht,oe.l+ht+X));oe.l+=ht+X+me;var Se=oe.l;oe.l=xe+4,pt(oe,Xe,Ye,de,Te),oe.l=Se}return de}function pt(Z,ue,oe,ae,fe){Z.l+=2;var de=Z.read_shift(2),Ve=Z.read_shift(2),et=s(Z);if(de&8257)throw new Error("Unsupported ZIP encryption");for(var Ue=Z.read_shift(4),Xe=Z.read_shift(4),Ye=Z.read_shift(4),ht=Z.read_shift(2),X=Z.read_shift(2),me="",xe=0;xe<ht;++xe)me+=String.fromCharCode(Z[Z.l++]);if(X){var Te=l(Z.slice(Z.l,Z.l+X));(Te[21589]||{}).mt&&(et=Te[21589].mt),((fe||{})[21589]||{}).mt&&(et=fe[21589].mt)}Z.l+=X;var Se=Z.slice(Z.l,Z.l+Xe);switch(Ve){case 8:Se=q(Z,Ye);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ve)}var tt=!1;de&8&&(Ue=Z.read_shift(4),Ue==134695760&&(Ue=Z.read_shift(4),tt=!0),Xe=Z.read_shift(4),Ye=Z.read_shift(4)),Xe!=ue&&Me(tt,"Bad compressed size: "+ue+" != "+Xe),Ye!=oe&&Me(tt,"Bad uncompressed size: "+oe+" != "+Ye),Ri(ae,me,Se,{unsafe:!0,mt:et})}function It(Z,ue){var oe=ue||{},ae=[],fe=[],de=nt(1),Ve=oe.compression?8:0,et=0,Ue=0,Xe=0,Ye=0,ht=0,X=Z.FullPaths[0],me=X,xe=Z.FileIndex[0],Te=[],Se=0;for(Ue=1;Ue<Z.FullPaths.length;++Ue)if(me=Z.FullPaths[Ue].slice(X.length),xe=Z.FileIndex[Ue],!(!xe.size||!xe.content||me=="Sh33tJ5")){var tt=Ye,mt=nt(me.length);for(Xe=0;Xe<me.length;++Xe)mt.write_shift(1,me.charCodeAt(Xe)&127);mt=mt.slice(0,mt.l),Te[ht]=UQ.buf(xe.content,0);var Et=xe.content;Ve==8&&(Et=V(Et)),de=nt(30),de.write_shift(4,67324752),de.write_shift(2,20),de.write_shift(2,et),de.write_shift(2,Ve),xe.mt?a(de,xe.mt):de.write_shift(4,0),de.write_shift(-4,Te[ht]),de.write_shift(4,Et.length),de.write_shift(4,xe.content.length),de.write_shift(2,mt.length),de.write_shift(2,0),Ye+=de.length,ae.push(de),Ye+=mt.length,ae.push(mt),Ye+=Et.length,ae.push(Et),de=nt(46),de.write_shift(4,33639248),de.write_shift(2,0),de.write_shift(2,20),de.write_shift(2,et),de.write_shift(2,Ve),de.write_shift(4,0),de.write_shift(-4,Te[ht]),de.write_shift(4,Et.length),de.write_shift(4,xe.content.length),de.write_shift(2,mt.length),de.write_shift(2,0),de.write_shift(2,0),de.write_shift(2,0),de.write_shift(2,0),de.write_shift(4,0),de.write_shift(4,tt),Se+=de.l,fe.push(de),Se+=mt.length,fe.push(mt),++ht}return de=nt(22),de.write_shift(4,101010256),de.write_shift(2,0),de.write_shift(2,0),de.write_shift(2,ht),de.write_shift(2,ht),de.write_shift(4,Se),de.write_shift(4,Ye),de.write_shift(2,0),ra([ra(ae),ra(fe),de])}var gt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function lt(Z,ue){if(Z.ctype)return Z.ctype;var oe=Z.name||"",ae=oe.match(/\.([^\.]+)$/);return ae&&gt[ae[1]]||ue&&(ae=(oe=ue).match(/[\.\\]([^\.\\])+$/),ae&&gt[ae[1]])?gt[ae[1]]:"application/octet-stream"}function Ft(Z){for(var ue=Jv(Z),oe=[],ae=0;ae<ue.length;ae+=76)oe.push(ue.slice(ae,ae+76));return oe.join(`\r
`)+`\r
`}function $t(Z){var ue=Z.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Xe){var Ye=Xe.charCodeAt(0).toString(16).toUpperCase();return"="+(Ye.length==1?"0"+Ye:Ye)});ue=ue.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ue.charAt(0)==`
`&&(ue="=0D"+ue.slice(1)),ue=ue.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var oe=[],ae=ue.split(`\r
`),fe=0;fe<ae.length;++fe){var de=ae[fe];if(de.length==0){oe.push("");continue}for(var Ve=0;Ve<de.length;){var et=76,Ue=de.slice(Ve,Ve+et);Ue.charAt(et-1)=="="?et--:Ue.charAt(et-2)=="="?et-=2:Ue.charAt(et-3)=="="&&(et-=3),Ue=de.slice(Ve,Ve+et),Ve+=et,Ve<de.length&&(Ue+="="),oe.push(Ue)}}return oe.join(`\r
`)}function kn(Z){for(var ue=[],oe=0;oe<Z.length;++oe){for(var ae=Z[oe];oe<=Z.length&&ae.charAt(ae.length-1)=="=";)ae=ae.slice(0,ae.length-1)+Z[++oe];ue.push(ae)}for(var fe=0;fe<ue.length;++fe)ue[fe]=ue[fe].replace(/[=][0-9A-Fa-f]{2}/g,function(de){return String.fromCharCode(parseInt(de.slice(1),16))});return io(ue.join(`\r
`))}function Nn(Z,ue,oe){for(var ae="",fe="",de="",Ve,et=0;et<10;++et){var Ue=ue[et];if(!Ue||Ue.match(/^\s*$/))break;var Xe=Ue.match(/^(.*?):\s*([^\s].*)$/);if(Xe)switch(Xe[1].toLowerCase()){case"content-location":ae=Xe[2].trim();break;case"content-type":de=Xe[2].trim();break;case"content-transfer-encoding":fe=Xe[2].trim();break}}switch(++et,fe.toLowerCase()){case"base64":Ve=io(oo(ue.slice(et).join("")));break;case"quoted-printable":Ve=kn(ue.slice(et));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+fe)}var Ye=Ri(Z,ae.slice(oe.length),Ve,{unsafe:!0});de&&(Ye.ctype=de)}function qr(Z,ue){if(ne(Z.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var oe=ue&&ue.root||"",ae=(Ln&&Buffer.isBuffer(Z)?Z.toString("binary"):ne(Z)).split(`\r
`),fe=0,de="";for(fe=0;fe<ae.length;++fe)if(de=ae[fe],!!/^Content-Location:/i.test(de)&&(de=de.slice(de.indexOf("file")),oe||(oe=de.slice(0,de.lastIndexOf("/")+1)),de.slice(0,oe.length)!=oe))for(;oe.length>0&&(oe=oe.slice(0,oe.length-1),oe=oe.slice(0,oe.lastIndexOf("/")+1),de.slice(0,oe.length)!=oe););var Ve=(ae[1]||"").match(/boundary="(.*?)"/);if(!Ve)throw new Error("MAD cannot find boundary");var et="--"+(Ve[1]||""),Ue=[],Xe=[],Ye={FileIndex:Ue,FullPaths:Xe};U(Ye);var ht,X=0;for(fe=0;fe<ae.length;++fe){var me=ae[fe];me!==et&&me!==et+"--"||(X++&&Nn(Ye,ae.slice(ht,fe),oe),ht=fe)}return Ye}function Vi(Z,ue){var oe=ue||{},ae=oe.boundary||"SheetJS";ae="------="+ae;for(var fe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ae.slice(2)+'"',"","",""],de=Z.FullPaths[0],Ve=de,et=Z.FileIndex[0],Ue=1;Ue<Z.FullPaths.length;++Ue)if(Ve=Z.FullPaths[Ue].slice(de.length),et=Z.FileIndex[Ue],!(!et.size||!et.content||Ve=="Sh33tJ5")){Ve=Ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Se){return"_x"+Se.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Se){return"_u"+Se.charCodeAt(0).toString(16)+"_"});for(var Xe=et.content,Ye=Ln&&Buffer.isBuffer(Xe)?Xe.toString("binary"):ne(Xe),ht=0,X=Math.min(1024,Ye.length),me=0,xe=0;xe<=X;++xe)(me=Ye.charCodeAt(xe))>=32&&me<128&&++ht;var Te=ht>=X*4/5;fe.push(ae),fe.push("Content-Location: "+(oe.root||"file:///C:/SheetJS/")+Ve),fe.push("Content-Transfer-Encoding: "+(Te?"quoted-printable":"base64")),fe.push("Content-Type: "+lt(et,Ve)),fe.push(""),fe.push(Te?$t(Ye):Ft(Ye))}return fe.push(ae+`--\r
`),fe.join(`\r
`)}function Ui(Z){var ue={};return U(ue,Z),ue}function Ri(Z,ue,oe,ae){var fe=ae&&ae.unsafe;fe||U(Z);var de=!fe&&Jt.find(Z,ue);if(!de){var Ve=Z.FullPaths[0];ue.slice(0,Ve.length)==Ve?Ve=ue:(Ve.slice(-1)!="/"&&(Ve+="/"),Ve=(Ve+ue).replace("//","/")),de={name:r(ue),type:2},Z.FileIndex.push(de),Z.FullPaths.push(Ve),fe||Jt.utils.cfb_gc(Z)}return de.content=oe,de.size=oe?oe.length:0,ae&&(ae.CLSID&&(de.clsid=ae.CLSID),ae.mt&&(de.mt=ae.mt),ae.ct&&(de.ct=ae.ct)),de}function xr(Z,ue){U(Z);var oe=Jt.find(Z,ue);if(oe){for(var ae=0;ae<Z.FileIndex.length;++ae)if(Z.FileIndex[ae]==oe)return Z.FileIndex.splice(ae,1),Z.FullPaths.splice(ae,1),!0}return!1}function Kr(Z,ue,oe){U(Z);var ae=Jt.find(Z,ue);if(ae){for(var fe=0;fe<Z.FileIndex.length;++fe)if(Z.FileIndex[fe]==ae)return Z.FileIndex[fe].name=r(oe),Z.FullPaths[fe]=oe,!0}return!1}function Oc(Z){C(Z,!0)}return e.find=k,e.read=F,e.parse=p,e.write=j,e.writeFile=ie,e.utils={cfb_new:Ui,cfb_add:Ri,cfb_del:xr,cfb_mov:Kr,cfb_gc:Oc,ReadShift:xv,CheckField:tP,prep_blob:xa,bconcat:ra,use_zlib:H,_deflateRaw:it,_inflateRaw:Kt,consts:K},e}();function FQ(n){return typeof n=="string"?LS(n):Array.isArray(n)?lQ(n):n}function Rx(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=LS(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var i=t=="utf8"?_c(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(i,n);if(typeof Blob<"u"){var r=new Blob([FQ(i)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,n);if(typeof saveAs<"u")return saveAs(r,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(r);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:n,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=n,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(n);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=Zf(e)),l.write(e),l.close(),e}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+n)}function PQ(n){if(typeof Deno<"u")return Deno.readFileSync(n);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(n);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(i){if(!i.message||!i.message.match(/onstruct/))throw i}throw new Error("Cannot access file "+n)}function or(n){for(var e=Object.keys(n),t=[],i=0;i<e.length;++i)Object.prototype.hasOwnProperty.call(n,e[i])&&t.push(e[i]);return t}function T4(n,e){for(var t=[],i=or(n),r=0;r!==i.length;++r)t[n[i[r]][e]]==null&&(t[n[i[r]][e]]=i[r]);return t}function FS(n){for(var e=[],t=or(n),i=0;i!==t.length;++i)e[n[t[i]]]=t[i];return e}function PS(n){for(var e=[],t=or(n),i=0;i!==t.length;++i)e[n[t[i]]]=parseInt(t[i],10);return e}function BQ(n){for(var e=[],t=or(n),i=0;i!==t.length;++i)e[n[t[i]]]==null&&(e[n[t[i]]]=[]),e[n[t[i]]].push(t[i]);return e}var BE=new Date(1899,11,30,0,0,0);function jr(n,e){var t=n.getTime(),i=BE.getTime()+(n.getTimezoneOffset()-BE.getTimezoneOffset())*6e4;return(t-i)/(24*60*60*1e3)}var LF=new Date,kQ=BE.getTime()+(LF.getTimezoneOffset()-BE.getTimezoneOffset())*6e4,A4=LF.getTimezoneOffset();function BS(n){var e=new Date;return e.setTime(n*24*60*60*1e3+kQ),e.getTimezoneOffset()!==A4&&e.setTime(e.getTime()+(e.getTimezoneOffset()-A4)*6e4),e}function zQ(n){var e=0,t=0,i=!1,r=n.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!r)throw new Error("|"+n+"| is not an ISO8601 Duration");for(var a=1;a!=r.length;++a)if(r[a]){switch(t=1,a>3&&(i=!0),r[a].slice(r[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+r[a].slice(r[a].length-1));case"D":t*=24;case"H":t*=60;case"M":if(i)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(r[a],10)}return e}var b4=new Date("2017-02-19T19:06:09.000Z"),UF=isNaN(b4.getFullYear())?new Date("2/19/17"):b4,VQ=UF.getFullYear()==2017;function Ii(n,e){var t=new Date(n);if(VQ)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(UF.getFullYear()==1917&&!isNaN(t.getFullYear())){var i=t.getFullYear();return n.indexOf(""+i)>-1||t.setFullYear(t.getFullYear()+100),t}var r=n.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+r[0],+r[1]-1,+r[2],+r[3]||0,+r[4]||0,+r[5]||0);return n.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Ld(n,e){if(Ln&&Buffer.isBuffer(n)){if(e){if(n[0]==255&&n[1]==254)return _c(n.slice(2).toString("utf16le"));if(n[1]==254&&n[2]==255)return _c(SF(n.slice(2).toString("binary")))}return n.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(n[0]==255&&n[1]==254)return _c(new TextDecoder("utf-16le").decode(n.slice(2)));if(n[0]==254&&n[1]==255)return _c(new TextDecoder("utf-16be").decode(n.slice(2)))}var t={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(a){return t[a]||a})}catch{}for(var i=[],r=0;r!=n.length;++r)i.push(String.fromCharCode(n[r]));return i.join("")}function Li(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=Li(n[t]));return e}function rr(n,e){for(var t="";t.length<e;)t+=n;return t}function Cl(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,i=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(i))||(i=i.replace(/[(](.*)[)]/,function(r,a){return t=-t,a}),!isNaN(e=Number(i)))?e/t:e}var HQ=["january","february","march","april","may","june","july","august","september","october","november","december"];function Zp(n){var e=new Date(n),t=new Date(NaN),i=e.getYear(),r=e.getMonth(),a=e.getDate();if(isNaN(a))return t;var s=n.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&HQ.indexOf(s)==-1)return t}else if(s.match(/[a-z]/))return t;return i<0||i>8099?t:(r>0||a>1)&&i!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}var GQ=function(){var n="abacaba".split(/(:?b)/i).length==5;return function(t,i,r){if(n||typeof i=="string")return t.split(i);for(var a=t.split(i),s=[a[0]],l=1;l<a.length;++l)s.push(r),s.push(a[l]);return s}}();function FF(n){return n?n.content&&n.type?Ld(n.content,!0):n.data?$g(n.data):n.asNodeBuffer&&Ln?$g(n.asNodeBuffer().toString("binary")):n.asBinary?$g(n.asBinary()):n._data&&n._data.getContent?$g(Ld(Array.prototype.slice.call(n._data.getContent(),0))):null:null}function PF(n){if(!n)return null;if(n.data)return d4(n.data);if(n.asNodeBuffer&&Ln)return n.asNodeBuffer();if(n._data&&n._data.getContent){var e=n._data.getContent();return typeof e=="string"?d4(e):Array.prototype.slice.call(e)}return n.content&&n.type?n.content:null}function XQ(n){return n&&n.name.slice(-4)===".bin"?PF(n):FF(n)}function Po(n,e){for(var t=n.FullPaths||or(n.files),i=e.toLowerCase().replace(/[\/]/g,"\\"),r=i.replace(/\\/g,"/"),a=0;a<t.length;++a){var s=t[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(i==s||r==s)return n.files?n.files[t[a]]:n.FileIndex[a]}return null}function rw(n,e){var t=Po(n,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function Rr(n,e,t){if(!t)return XQ(rw(n,e));if(!e)return null;try{return Rr(n,e)}catch{return null}}function ro(n,e,t){if(!t)return FF(rw(n,e));if(!e)return null;try{return ro(n,e)}catch{return null}}function WQ(n,e,t){return PF(rw(n,e))}function M4(n){for(var e=n.FullPaths||or(n.files),t=[],i=0;i<e.length;++i)e[i].slice(-1)!="/"&&t.push(e[i].replace(/^Root Entry[\/]/,""));return t.sort()}function Cn(n,e,t){if(n.FullPaths){if(typeof t=="string"){var i;return Ln?i=bu(t):i=cQ(t),Jt.utils.cfb_add(n,e,i)}Jt.utils.cfb_add(n,e,t)}else n.file(e,t)}function aw(){return Jt.utils.cfb_new()}function BF(n,e){switch(e.type){case"base64":return Jt.read(n,{type:"base64"});case"binary":return Jt.read(n,{type:"binary"});case"buffer":case"array":return Jt.read(n,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function tv(n,e){if(n.charAt(0)=="/")return n.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var i=n.split("/");i.length!==0;){var r=i.shift();r===".."?t.pop():r!=="."&&t.push(r)}return t.join("/")}var vr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,YQ=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,w4=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,jQ=/<[^>]*>/g,Ya=vr.match(w4)?w4:jQ,qQ=/<\w*:/,KQ=/<(\/?)\w+:/;function hn(n,e,t){for(var i={},r=0,a=0;r!==n.length&&!((a=n.charCodeAt(r))===32||a===10||a===13);++r);if(e||(i[0]=n.slice(0,r)),r===n.length)return i;var s=n.match(YQ),l=0,u="",h=0,p="",g="",v=1;if(s)for(h=0;h!=s.length;++h){for(g=s[h],a=0;a!=g.length&&g.charCodeAt(a)!==61;++a);for(p=g.slice(0,a).trim();g.charCodeAt(a+1)==32;)++a;for(v=(r=g.charCodeAt(a+1))==34||r==39?1:0,u=g.slice(a+1+v,g.length-v),l=0;l!=p.length&&p.charCodeAt(l)!==58;++l);if(l===p.length)p.indexOf("_")>0&&(p=p.slice(0,p.indexOf("_"))),i[p]=u,i[p.toLowerCase()]=u;else{var y=(l===5&&p.slice(0,5)==="xmlns"?"xmlns":"")+p.slice(l+1);if(i[y]&&p.slice(l-3,l)=="ext")continue;i[y]=u,i[y.toLowerCase()]=u}}return i}function Rc(n){return n.replace(KQ,"<$1")}var kF={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},sw=FS(kF),Zn=function(){var n=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(i){var r=i+"",a=r.indexOf("<![CDATA[");if(a==-1)return r.replace(n,function(l,u){return kF[l]||String.fromCharCode(parseInt(u,l.indexOf("x")>-1?16:10))||l}).replace(e,function(l,u){return String.fromCharCode(parseInt(u,16))});var s=r.indexOf("]]>");return t(r.slice(0,a))+r.slice(a+9,s)+t(r.slice(s+3))}}(),ow=/[&<>'"]/g,ZQ=/[\u0000-\u0008\u000b-\u001f]/g;function gi(n){var e=n+"";return e.replace(ow,function(t){return sw[t]}).replace(ZQ,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function R4(n){return gi(n).replace(/ /g,"_x0020_")}var zF=/[\u0000-\u001f]/g;function lw(n){var e=n+"";return e.replace(ow,function(t){return sw[t]}).replace(/\n/g,"<br/>").replace(zF,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function QQ(n){var e=n+"";return e.replace(ow,function(t){return sw[t]}).replace(zF,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}var C4=function(){var n=/&#(\d+);/g;function e(t,i){return String.fromCharCode(parseInt(i,10))}return function(i){return i.replace(n,e)}}();function JQ(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function Ni(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function iA(n){for(var e="",t=0,i=0,r=0,a=0,s=0,l=0;t<n.length;){if(i=n.charCodeAt(t++),i<128){e+=String.fromCharCode(i);continue}if(r=n.charCodeAt(t++),i>191&&i<224){s=(i&31)<<6,s|=r&63,e+=String.fromCharCode(s);continue}if(a=n.charCodeAt(t++),i<240){e+=String.fromCharCode((i&15)<<12|(r&63)<<6|a&63);continue}s=n.charCodeAt(t++),l=((i&7)<<18|(r&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function O4(n){var e=zf(2*n.length),t,i,r=1,a=0,s=0,l;for(i=0;i<n.length;i+=r)r=1,(l=n.charCodeAt(i))<128?t=l:l<224?(t=(l&31)*64+(n.charCodeAt(i+1)&63),r=2):l<240?(t=(l&15)*4096+(n.charCodeAt(i+1)&63)*64+(n.charCodeAt(i+2)&63),r=3):(r=4,t=(l&7)*262144+(n.charCodeAt(i+1)&63)*4096+(n.charCodeAt(i+2)&63)*64+(n.charCodeAt(i+3)&63),t-=65536,s=55296+(t>>>10&1023),t=56320+(t&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=t%256,e[a++]=t>>>8;return e.slice(0,a).toString("ucs2")}function N4(n){return bu(n,"binary").toString("utf8")}var f_="foo bar bazâð£",Ti=Ln&&(N4(f_)==iA(f_)&&N4||O4(f_)==iA(f_)&&O4)||iA,_c=Ln?function(n){return bu(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,i=0,r=0;t<n.length;)switch(i=n.charCodeAt(t++),!0){case i<128:e.push(String.fromCharCode(i));break;case i<2048:e.push(String.fromCharCode(192+(i>>6))),e.push(String.fromCharCode(128+(i&63)));break;case(i>=55296&&i<57344):i-=55296,r=n.charCodeAt(t++)-56320+(i<<10),e.push(String.fromCharCode(240+(r>>18&7))),e.push(String.fromCharCode(144+(r>>12&63))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)));break;default:e.push(String.fromCharCode(224+(i>>12))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)))}return e.join("")},ex=function(){var n={};return function(t,i){var r=t+"|"+(i||"");return n[r]?n[r]:n[r]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",i||"")}}(),VF=function(){var n=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var i=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),r=0;r<n.length;++r)i=i.replace(n[r][0],n[r][1]);return i}}(),$Q=function(){var n={};return function(t){return n[t]!==void 0?n[t]:n[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),eJ=/<\/?(?:vt:)?variant>/g,tJ=/<(?:vt:)([^>]*)>([\s\S]*)</;function D4(n,e){var t=hn(n),i=n.match($Q(t.baseType))||[],r=[];if(i.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+i.length+" != "+t.size);return r}return i.forEach(function(a){var s=a.replace(eJ,"").match(tJ);s&&r.push({v:Ti(s[2]),t:s[1]})}),r}var HF=/(^\s|\s$|\n)/;function ya(n,e){return"<"+n+(e.match(HF)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function tx(n){return or(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function wt(n,e,t){return"<"+n+(t!=null?tx(t):"")+(e!=null?(e.match(HF)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function cb(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function nJ(n,e){switch(typeof n){case"string":var t=wt("vt:lpwstr",gi(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return wt((n|0)==n?"vt:i4":"vt:r8",gi(String(n)));case"boolean":return wt("vt:bool",n?"true":"false")}if(n instanceof Date)return wt("vt:filetime",cb(n));throw new Error("Unable to serialize "+n)}function cw(n){if(Ln&&Buffer.isBuffer(n))return n.toString("utf8");if(typeof n=="string")return n;if(typeof Uint8Array<"u"&&n instanceof Uint8Array)return Ti(Zf(tw(n)));throw new Error("Bad input format: expected Buffer or string")}var nx=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Gr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Hd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],to={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function iJ(n,e){for(var t=1-2*(n[e+7]>>>7),i=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),r=n[e+6]&15,a=5;a>=0;--a)r=r*256+n[e+a];return i==2047?r==0?t*(1/0):NaN:(i==0?i=-1022:(i-=1023,r+=Math.pow(2,52)),t*Math.pow(2,i-52)*r)}function rJ(n,e,t){var i=(e<0||1/e==-1/0?1:0)<<7,r=0,a=0,s=i?-e:e;isFinite(s)?s==0?r=a=0:(r=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-r),r<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?r=-1022:(a-=Math.pow(2,52),r+=1023)):(r=2047,a=isNaN(e)?26985:0);for(var l=0;l<=5;++l,a/=256)n[t+l]=a&255;n[t+6]=(r&15)<<4|a&15,n[t+7]=r>>4|i}var I4=function(n){for(var e=[],t=10240,i=0;i<n[0].length;++i)if(n[0][i])for(var r=0,a=n[0][i].length;r<a;r+=t)e.push.apply(e,n[0][i].slice(r,r+t));return e},L4=Ln?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:bu(e)})):I4(n)}:I4,U4=function(n,e,t){for(var i=[],r=e;r<t;r+=2)i.push(String.fromCharCode(uu(n,r)));return i.join("").replace(ms,"")},uw=Ln?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(ms,""):U4(n,e,t)}:U4,F4=function(n,e,t){for(var i=[],r=e;r<e+t;++r)i.push(("0"+n[r].toString(16)).slice(-2));return i.join("")},GF=Ln?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):F4(n,e,t)}:F4,P4=function(n,e,t){for(var i=[],r=e;r<t;r++)i.push(String.fromCharCode(Ep(n,r)));return i.join("")},Cx=Ln?function(e,t,i){return Buffer.isBuffer(e)?e.toString("utf8",t,i):P4(e,t,i)}:P4,XF=function(n,e){var t=no(n,e);return t>0?Cx(n,e+4,e+4+t-1):""},WF=XF,YF=function(n,e){var t=no(n,e);return t>0?Cx(n,e+4,e+4+t-1):""},jF=YF,qF=function(n,e){var t=2*no(n,e);return t>0?Cx(n,e+4,e+4+t-1):""},KF=qF,ZF=function(e,t){var i=no(e,t);return i>0?uw(e,t+4,t+4+i):""},QF=ZF,JF=function(n,e){var t=no(n,e);return t>0?Cx(n,e+4,e+4+t):""},$F=JF,eP=function(n,e){return iJ(n,e)},kE=eP,fw=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ln&&(WF=function(e,t){if(!Buffer.isBuffer(e))return XF(e,t);var i=e.readUInt32LE(t);return i>0?e.toString("utf8",t+4,t+4+i-1):""},jF=function(e,t){if(!Buffer.isBuffer(e))return YF(e,t);var i=e.readUInt32LE(t);return i>0?e.toString("utf8",t+4,t+4+i-1):""},KF=function(e,t){if(!Buffer.isBuffer(e))return qF(e,t);var i=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+i-1)},QF=function(e,t){if(!Buffer.isBuffer(e))return ZF(e,t);var i=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+i)},$F=function(e,t){if(!Buffer.isBuffer(e))return JF(e,t);var i=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+i)},kE=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):eP(e,t)},fw=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Ep=function(n,e){return n[e]},uu=function(n,e){return n[e+1]*256+n[e]},aJ=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},no=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},fd=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},sJ=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function xv(n,e){var t="",i,r,a=[],s,l,u,h;switch(e){case"dbcs":if(h=this.l,Ln&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(u=0;u<n;++u)t+=String.fromCharCode(uu(this,h)),h+=2;n*=2;break;case"utf8":t=Cx(this,this.l,this.l+n);break;case"utf16le":n*=2,t=uw(this,this.l,this.l+n);break;case"wstr":return xv.call(this,n,"dbcs");case"lpstr-ansi":t=WF(this,this.l),n=4+no(this,this.l);break;case"lpstr-cp":t=jF(this,this.l),n=4+no(this,this.l);break;case"lpwstr":t=KF(this,this.l),n=4+2*no(this,this.l);break;case"lpp4":n=4+no(this,this.l),t=QF(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+no(this,this.l),t=$F(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(s=Ep(this,this.l+n++))!==0;)a.push(u_(s));t=a.join("");break;case"_wstr":for(n=0,t="";(s=uu(this,this.l+n))!==0;)a.push(u_(s)),n+=2;n+=2,t=a.join("");break;case"dbcs-cont":for(t="",h=this.l,u=0;u<n;++u){if(this.lens&&this.lens.indexOf(h)!==-1)return s=Ep(this,h),this.l=h+1,l=xv.call(this,n-u,s?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(u_(uu(this,h))),h+=2}t=a.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",h=this.l,u=0;u!=n;++u){if(this.lens&&this.lens.indexOf(h)!==-1)return s=Ep(this,h),this.l=h+1,l=xv.call(this,n-u,s?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(u_(Ep(this,h))),h+=1}t=a.join("");break;default:switch(n){case 1:return i=Ep(this,this.l),this.l++,i;case 2:return i=(e==="i"?aJ:uu)(this,this.l),this.l+=2,i;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(i=(n>0?fd:sJ)(this,this.l),this.l+=4,i):(r=no(this,this.l),this.l+=4,r);case 8:case-8:if(e==="f")return n==8?r=kE(this,this.l):r=kE([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;n=8;case 16:t=GF(this,this.l,n);break}}return this.l+=n,t}var oJ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},lJ=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},cJ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function uJ(n,e,t){var i=0,r=0;if(t==="dbcs"){for(r=0;r!=e.length;++r)cJ(this,e.charCodeAt(r),this.l+2*r);i=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=e.length;++r)this[this.l+r]=e.charCodeAt(r)&255;i=e.length}else if(t==="hex"){for(;r<n;++r)this[this.l++]=parseInt(e.slice(2*r,2*r+2),16)||0;return this}else if(t==="utf16le"){var a=Math.min(this.l+n,this.length);for(r=0;r<Math.min(e.length,n);++r){var s=e.charCodeAt(r);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(n){case 1:i=1,this[this.l]=e&255;break;case 2:i=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:i=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:i=4,oJ(this,e,this.l);break;case 8:if(i=8,t==="f"){rJ(this,e,this.l);break}case 16:break;case-4:i=4,lJ(this,e,this.l);break}return this.l+=i,this}function tP(n,e){var t=GF(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function xa(n,e){n.l=e,n.read_shift=xv,n.chk=tP,n.write_shift=uJ}function Xa(n,e){n.l+=e}function nt(n){var e=zf(n);return xa(e,0),e}function Mu(n,e,t){if(n){var i,r,a;xa(n,n.l||0);for(var s=n.length,l=0,u=0;n.l<s;){l=n.read_shift(1),l&128&&(l=(l&127)+((n.read_shift(1)&127)<<7));var h=lx[l]||lx[65535];for(i=n.read_shift(1),a=i&127,r=1;r<4&&i&128;++r)a+=((i=n.read_shift(1))&127)<<7*r;u=n.l+a;var p=h.f&&h.f(n,a,t);if(n.l=u,e(p,h,l))return}}}function Bs(){var n=[],e=Ln?256:2048,t=function(h){var p=nt(h);return xa(p,0),p},i=t(e),r=function(){i&&(i.length>i.l&&(i=i.slice(0,i.l),i.l=i.length),i.length>0&&n.push(i),i=null)},a=function(h){return i&&h<i.length-i.l?i:(r(),i=t(Math.max(h+1,e)))},s=function(){return r(),ra(n)},l=function(h){r(),i=h,i.l==null&&(i.l=i.length),a(e)};return{next:a,push:l,end:s,_bufs:n}}function dt(n,e,t,i){var r=+e,a;if(!isNaN(r)){i||(i=lx[r].p||(t||[]).length||0),a=1+(r>=128?1:0)+1,i>=128&&++a,i>=16384&&++a,i>=2097152&&++a;var s=n.next(a);r<=127?s.write_shift(1,r):(s.write_shift(1,(r&127)+128),s.write_shift(1,r>>7));for(var l=0;l!=4;++l)if(i>=128)s.write_shift(1,(i&127)+128),i>>=7;else{s.write_shift(1,i);break}i>0&&fw(t)&&n.push(t)}}function yv(n,e,t){var i=Li(n);if(e.s?(i.cRel&&(i.c+=e.s.c),i.rRel&&(i.r+=e.s.r)):(i.cRel&&(i.c+=e.c),i.rRel&&(i.r+=e.r)),!t||t.biff<12){for(;i.c>=256;)i.c-=256;for(;i.r>=65536;)i.r-=65536}return i}function B4(n,e,t){var i=Li(n);return i.s=yv(i.s,e.s,t),i.e=yv(i.e,e.s,t),i}function _v(n,e){if(n.cRel&&n.c<0)for(n=Li(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=Li(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=ln(n);return!n.cRel&&n.cRel!=null&&(t=dJ(t)),!n.rRel&&n.rRel!=null&&(t=fJ(t)),t}function rA(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Ki(n.s.c)+":"+(n.e.cRel?"":"$")+Ki(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+mr(n.s.r)+":"+(n.e.rRel?"":"$")+mr(n.e.r):_v(n.s,e.biff)+":"+_v(n.e,e.biff)}function hw(n){return parseInt(hJ(n),10)-1}function mr(n){return""+(n+1)}function fJ(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function hJ(n){return n.replace(/\$(\d+)$/,"$1")}function dw(n){for(var e=pJ(n),t=0,i=0;i!==e.length;++i)t=26*t+e.charCodeAt(i)-64;return t-1}function Ki(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function dJ(n){return n.replace(/^([A-Z])/,"$$$1")}function pJ(n){return n.replace(/^\$([A-Z])/,"$1")}function mJ(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Zi(n){for(var e=0,t=0,i=0;i<n.length;++i){var r=n.charCodeAt(i);r>=48&&r<=57?e=10*e+(r-48):r>=65&&r<=90&&(t=26*t+(r-64))}return{c:t-1,r:e-1}}function ln(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function ks(n){var e=n.indexOf(":");return e==-1?{s:Zi(n),e:Zi(n)}:{s:Zi(n.slice(0,e)),e:Zi(n.slice(e+1))}}function bn(n,e){return typeof e>"u"||typeof e=="number"?bn(n.s,n.e):(typeof n!="string"&&(n=ln(n)),typeof e!="string"&&(e=ln(e)),n==e?n:n+":"+e)}function Jn(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,i=0,r=0,a=n.length;for(t=0;i<a&&!((r=n.charCodeAt(i)-64)<1||r>26);++i)t=26*t+r;for(e.s.c=--t,t=0;i<a&&!((r=n.charCodeAt(i)-48)<0||r>9);++i)t=10*t+r;if(e.s.r=--t,i===a||r!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++i,t=0;i!=a&&!((r=n.charCodeAt(i)-64)<1||r>26);++i)t=26*t+r;for(e.e.c=--t,t=0;i!=a&&!((r=n.charCodeAt(i)-48)<0||r>9);++i)t=10*t+r;return e.e.r=--t,e}function k4(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=Wo(n.z,t?jr(e):e)}catch{}try{return n.w=Wo((n.XF||{}).numFmtId||(t?14:0),t?jr(e):e)}catch{return""+e}}function Au(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?wu[n.v]||n.v:e==null?k4(n,n.v):k4(n,e))}function Qf(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",i={};return i[t]=n,{SheetNames:[t],Sheets:i}}function nP(n,e,t){var i=t||{},r=n?Array.isArray(n):i.dense,a=n||(r?[]:{}),s=0,l=0;if(a&&i.origin!=null){if(typeof i.origin=="number")s=i.origin;else{var u=typeof i.origin=="string"?Zi(i.origin):i.origin;s=u.r,l=u.c}a["!ref"]||(a["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var p=Jn(a["!ref"]);h.s.c=p.s.c,h.s.r=p.s.r,h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),s==-1&&(h.e.r=s=p.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=e[g].length;++v)if(!(typeof e[g][v]>"u")){var y={v:e[g][v]},E=s+g,T=l+v;if(h.s.r>E&&(h.s.r=E),h.s.c>T&&(h.s.c=T),h.e.r<E&&(h.e.r=E),h.e.c<T&&(h.e.c=T),e[g][v]&&typeof e[g][v]=="object"&&!Array.isArray(e[g][v])&&!(e[g][v]instanceof Date))y=e[g][v];else if(Array.isArray(y.v)&&(y.f=e[g][v][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(i.nullError)y.t="e",y.v=0;else if(i.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=i.dateNF||an[14],i.cellDates?(y.t="d",y.w=Wo(y.z,jr(y.v))):(y.t="n",y.v=jr(y.v),y.w=Wo(y.z,y.v))):y.t="s";if(r)a[E]||(a[E]=[]),a[E][T]&&a[E][T].z&&(y.z=a[E][T].z),a[E][T]=y;else{var S=ln({c:T,r:E});a[S]&&a[S].z&&(y.z=a[S].z),a[S]=y}}}return h.s.c<1e7&&(a["!ref"]=bn(h)),a}function mm(n,e){return nP(null,n,e)}function gJ(n){return n.read_shift(4,"i")}function Ol(n,e){return e||(e=nt(4)),e.write_shift(4,n),e}function Ga(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function aa(n,e){var t=!1;return e==null&&(t=!0,e=nt(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function vJ(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function xJ(n,e){return e||(e=nt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function pw(n,e){var t=n.l,i=n.read_shift(1),r=Ga(n),a=[],s={t:r,h:r};if((i&1)!==0){for(var l=n.read_shift(4),u=0;u!=l;++u)a.push(vJ(n));s.r=a}else s.r=[{ich:0,ifnt:0}];return n.l=t+e,s}function yJ(n,e){var t=!1;return e==null&&(t=!0,e=nt(15+4*n.t.length)),e.write_shift(1,0),aa(n.t,e),t?e.slice(0,e.l):e}var _J=pw;function EJ(n,e){var t=!1;return e==null&&(t=!0,e=nt(23+4*n.t.length)),e.write_shift(1,1),aa(n.t,e),e.write_shift(4,1),xJ({},e),t?e.slice(0,e.l):e}function jo(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function Gd(n,e){return e==null&&(e=nt(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function Xd(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function Wd(n,e){return e==null&&(e=nt(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var SJ=Ga,iP=aa;function mw(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function zE(n,e){var t=!1;return e==null&&(t=!0,e=nt(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var TJ=Ga,ub=mw,gw=zE;function vw(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,i=e[0]&2;n.l+=4;var r=i===0?kE([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):fd(e,0)>>2;return t?r/100:r}function rP(n,e){e==null&&(e=nt(4));var t=0,i=0,r=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?i=1:r==(r|0)&&r>=-536870912&&r<1<<29&&(i=1,t=1),i)e.write_shift(-4,((t?r:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function aP(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function AJ(n,e){return e||(e=nt(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var Yd=aP,gm=AJ;function za(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function Ud(n,e){return(e||nt(8)).write_shift(8,n,"f")}function bJ(n){var e={},t=n.read_shift(1),i=t>>>1,r=n.read_shift(1),a=n.read_shift(2,"i"),s=n.read_shift(1),l=n.read_shift(1),u=n.read_shift(1);switch(n.l++,i){case 0:e.auto=1;break;case 1:e.index=r;var h=Ad[r];h&&(e.rgb=rx(h));break;case 2:e.rgb=rx([s,l,u]);break;case 3:e.theme=r;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function VE(n,e){if(e||(e=nt(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var i=n.rgb||"FFFFFF";typeof i=="number"&&(i=("000000"+i.toString(16)).slice(-6)),e.write_shift(1,parseInt(i.slice(0,2),16)),e.write_shift(1,parseInt(i.slice(2,4),16)),e.write_shift(1,parseInt(i.slice(4,6),16)),e.write_shift(1,255)}return e}function MJ(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function wJ(n,e){e||(e=nt(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}function sP(n,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},i=n.read_shift(4);switch(i){case 0:return"";case 4294967295:case 4294967294:return t[n.read_shift(4)]||""}if(i>400)throw new Error("Unsupported Clipboard: "+i.toString(16));return n.l-=4,n.read_shift(0,e==1?"lpstr":"lpwstr")}function RJ(n){return sP(n,1)}function CJ(n){return sP(n,2)}var xw=2,Ds=3,h_=11,z4=12,HE=19,d_=64,OJ=65,NJ=71,DJ=4108,IJ=4126,na=80,oP=81,LJ=[na,oP],fb={1:{n:"CodePage",t:xw},2:{n:"Category",t:na},3:{n:"PresentationFormat",t:na},4:{n:"ByteCount",t:Ds},5:{n:"LineCount",t:Ds},6:{n:"ParagraphCount",t:Ds},7:{n:"SlideCount",t:Ds},8:{n:"NoteCount",t:Ds},9:{n:"HiddenCount",t:Ds},10:{n:"MultimediaClipCount",t:Ds},11:{n:"ScaleCrop",t:h_},12:{n:"HeadingPairs",t:DJ},13:{n:"TitlesOfParts",t:IJ},14:{n:"Manager",t:na},15:{n:"Company",t:na},16:{n:"LinksUpToDate",t:h_},17:{n:"CharacterCount",t:Ds},19:{n:"SharedDoc",t:h_},22:{n:"HyperlinksChanged",t:h_},23:{n:"AppVersion",t:Ds,p:"version"},24:{n:"DigSig",t:OJ},26:{n:"ContentType",t:na},27:{n:"ContentStatus",t:na},28:{n:"Language",t:na},29:{n:"Version",t:na},255:{},2147483648:{n:"Locale",t:HE},2147483651:{n:"Behavior",t:HE},1919054434:{}},hb={1:{n:"CodePage",t:xw},2:{n:"Title",t:na},3:{n:"Subject",t:na},4:{n:"Author",t:na},5:{n:"Keywords",t:na},6:{n:"Comments",t:na},7:{n:"Template",t:na},8:{n:"LastAuthor",t:na},9:{n:"RevNumber",t:na},10:{n:"EditTime",t:d_},11:{n:"LastPrinted",t:d_},12:{n:"CreatedDate",t:d_},13:{n:"ModifiedDate",t:d_},14:{n:"PageCount",t:Ds},15:{n:"WordCount",t:Ds},16:{n:"CharCount",t:Ds},17:{n:"Thumbnail",t:NJ},18:{n:"Application",t:na},19:{n:"DocSecurity",t:Ds},255:{},2147483648:{n:"Locale",t:HE},2147483651:{n:"Behavior",t:HE},1919054434:{}},V4={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},UJ=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function FJ(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var PJ=FJ([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ad=Li(PJ),wu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},lP={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},db={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},p_={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function yw(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function BJ(n){var e=yw();if(!n||!n.match)return e;var t={};if((n.match(Ya)||[]).forEach(function(i){var r=hn(i);switch(r[0].replace(qQ,"<")){case"<?xml":break;case"<Types":e.xmlns=r["xmlns"+(r[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[r.Extension]=r.ContentType;break;case"<Override":e[db[r.ContentType]]!==void 0&&e[db[r.ContentType]].push(r.PartName);break}}),e.xmlns!==Gr.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}function cP(n,e){var t=BQ(db),i=[],r;i[i.length]=vr,i[i.length]=wt("Types",null,{xmlns:Gr.CT,"xmlns:xsd":Gr.xsd,"xmlns:xsi":Gr.xsi}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return wt("Default",null,{Extension:u[0],ContentType:u[1]})}));var a=function(u){n[u]&&n[u].length>0&&(r=n[u][0],i[i.length]=wt("Override",null,{PartName:(r[0]=="/"?"":"/")+r,ContentType:p_[u][e.bookType]||p_[u].xlsx}))},s=function(u){(n[u]||[]).forEach(function(h){i[i.length]=wt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:p_[u][e.bookType]||p_[u].xlsx})})},l=function(u){(n[u]||[]).forEach(function(h){i[i.length]=wt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:t[u][0]})})};return a("workbooks"),s("sheets"),s("charts"),l("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),s("metadata"),l("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var Bn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function ix(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function Ev(n,e){var t={"!id":{}};if(!n)return t;e.charAt(0)!=="/"&&(e="/"+e);var i={};return(n.match(Ya)||[]).forEach(function(r){var a=hn(r);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var l=a.TargetMode==="External"?a.Target:tv(a.Target,e);t[l]=s,i[a.Id]=s}}),t["!id"]=i,t}function Up(n){var e=[vr,wt("Relationships",null,{xmlns:Gr.RELS})];return or(n["!id"]).forEach(function(t){e[e.length]=wt("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function mi(n,e,t,i,r,a){if(r||(r={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,r.Id="rId"+e,r.Type=i,r.Target=t,[Bn.HLINK,Bn.XPATH,Bn.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),n["!id"][r.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][r.Id]=r,n[("/"+r.Target).replace("//","/")]=r,e}var kJ="application/vnd.oasis.opendocument.spreadsheet";function zJ(n,e){for(var t=cw(n),i,r;i=nx.exec(t);)switch(i[3]){case"manifest":break;case"file-entry":if(r=hn(i[0],!1),r.path=="/"&&r.type!==kJ)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw i}}function VJ(n){var e=[vr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function H4(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function HJ(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function GJ(n){var e=[vr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(H4(n[t][0],n[t][1])),e.push(HJ("",n[t][0]));return e.push(H4("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function uP(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+LE.version+"</meta:generator></office:meta></office:document-meta>"}var Ho=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],XJ=function(){for(var n=new Array(Ho.length),e=0;e<Ho.length;++e){var t=Ho[e],i="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);n[e]=new RegExp("<"+i+"[^>]*>([\\s\\S]*?)</"+i+">")}return n}();function fP(n){var e={};n=Ti(n);for(var t=0;t<Ho.length;++t){var i=Ho[t],r=n.match(XJ[t]);r!=null&&r.length>0&&(e[i[1]]=Zn(r[1])),i[2]==="date"&&e[i[1]]&&(e[i[1]]=Ii(e[i[1]]))}return e}function aA(n,e,t,i,r){r[n]!=null||e==null||e===""||(r[n]=e,e=gi(e),i[i.length]=t?wt(n,e,t):ya(n,e))}function hP(n,e){var t=e||{},i=[vr,wt("cp:coreProperties",null,{"xmlns:cp":Gr.CORE_PROPS,"xmlns:dc":Gr.dc,"xmlns:dcterms":Gr.dcterms,"xmlns:dcmitype":Gr.dcmitype,"xmlns:xsi":Gr.xsi})],r={};if(!n&&!t.Props)return i.join("");n&&(n.CreatedDate!=null&&aA("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:cb(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r),n.ModifiedDate!=null&&aA("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:cb(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r));for(var a=0;a!=Ho.length;++a){var s=Ho[a],l=t.Props&&t.Props[s[1]]!=null?t.Props[s[1]]:n?n[s[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&aA(s[0],l,null,i,r)}return i.length>2&&(i[i.length]="</cp:coreProperties>",i[1]=i[1].replace("/>",">")),i.join("")}var bd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],dP=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function pP(n,e,t,i){var r=[];if(typeof n=="string")r=D4(n,i);else for(var a=0;a<n.length;++a)r=r.concat(n[a].map(function(p){return{v:p}}));var s=typeof e=="string"?D4(e,i).map(function(p){return p.v}):e,l=0,u=0;if(s.length>0)for(var h=0;h!==r.length;h+=2){switch(u=+r[h+1].v,r[h].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":t.Worksheets=u,t.SheetNames=s.slice(l,l+u);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":t.NamedRanges=u,t.DefinedNames=s.slice(l,l+u);break;case"Charts":case"Diagramme":t.Chartsheets=u,t.ChartNames=s.slice(l,l+u);break}l+=u}}function WJ(n,e,t){var i={};return e||(e={}),n=Ti(n),bd.forEach(function(r){var a=(n.match(ex(r[0]))||[])[1];switch(r[2]){case"string":a&&(e[r[1]]=Zn(a));break;case"bool":e[r[1]]=a==="true";break;case"raw":var s=n.match(new RegExp("<"+r[0]+"[^>]*>([\\s\\S]*?)</"+r[0]+">"));s&&s.length>0&&(i[r[1]]=s[1]);break}}),i.HeadingPairs&&i.TitlesOfParts&&pP(i.HeadingPairs,i.TitlesOfParts,e,t),e}function mP(n){var e=[],t=wt;return n||(n={}),n.Application="SheetJS",e[e.length]=vr,e[e.length]=wt("Properties",null,{xmlns:Gr.EXT_PROPS,"xmlns:vt":Gr.vt}),bd.forEach(function(i){if(n[i[1]]!==void 0){var r;switch(i[2]){case"string":r=gi(String(n[i[1]]));break;case"bool":r=n[i[1]]?"true":"false";break}r!==void 0&&(e[e.length]=t(i[0],r))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(i){return"<vt:lpstr>"+gi(i)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var YJ=/<[^>]+>[^<]*/g;function jJ(n,e){var t={},i="",r=n.match(YJ);if(r)for(var a=0;a!=r.length;++a){var s=r[a],l=hn(s);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":i=Zn(l.name);break;case"</property>":i=null;break;default:if(s.indexOf("<vt:")===0){var u=s.split(">"),h=u[0].slice(4),p=u[1];switch(h){case"lpstr":case"bstr":case"lpwstr":t[i]=Zn(p);break;case"bool":t[i]=Ni(p);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[i]=parseInt(p,10);break;case"r4":case"r8":case"decimal":t[i]=parseFloat(p);break;case"filetime":case"date":t[i]=Ii(p);break;case"cy":case"error":t[i]=Zn(p);break;default:if(h.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,h,u)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return t}function gP(n){var e=[vr,wt("Properties",null,{xmlns:Gr.CUST_PROPS,"xmlns:vt":Gr.vt})];if(!n)return e.join("");var t=1;return or(n).forEach(function(r){++t,e[e.length]=wt("property",nJ(n[r]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:gi(r)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var pb={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},sA;function qJ(n,e,t){sA||(sA=FS(pb)),e=sA[e]||e,n[e]=t}function KJ(n,e){var t=[];return or(pb).map(function(i){for(var r=0;r<Ho.length;++r)if(Ho[r][1]==i)return Ho[r];for(r=0;r<bd.length;++r)if(bd[r][1]==i)return bd[r];throw i}).forEach(function(i){if(n[i[1]]!=null){var r=e&&e.Props&&e.Props[i[1]]!=null?e.Props[i[1]]:n[i[1]];switch(i[2]){case"date":r=new Date(r).toISOString().replace(/\.\d*Z/,"Z");break}typeof r=="number"?r=String(r):r===!0||r===!1?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),t.push(ya(pb[i[1]]||i[1],r))}}),wt("DocumentProperties",t.join(""),{xmlns:to.o})}function ZJ(n,e){var t=["Worksheets","SheetNames"],i="CustomDocumentProperties",r=[];return n&&or(n).forEach(function(a){if(Object.prototype.hasOwnProperty.call(n,a)){for(var s=0;s<Ho.length;++s)if(a==Ho[s][1])return;for(s=0;s<bd.length;++s)if(a==bd[s][1])return;for(s=0;s<t.length;++s)if(a==t[s])return;var l=n[a],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l=String(l),r.push(wt(R4(a),l,{"dt:dt":u}))}}),e&&or(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(n&&Object.prototype.hasOwnProperty.call(n,a))){var s=e[a],l="string";typeof s=="number"?(l="float",s=String(s)):s===!0||s===!1?(l="boolean",s=s?"1":"0"):s instanceof Date?(l="dateTime.tz",s=s.toISOString()):s=String(s),r.push(wt(R4(a),s,{"dt:dt":l}))}}),"<"+i+' xmlns="'+to.o+'">'+r.join("")+"</"+i+">"}function _w(n){var e=n.read_shift(4),t=n.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function QJ(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,i=t%Math.pow(2,32),r=(t-i)/Math.pow(2,32);i*=1e7,r*=1e7;var a=i/Math.pow(2,32)|0;a>0&&(i=i%Math.pow(2,32),r+=a);var s=nt(8);return s.write_shift(4,i),s.write_shift(4,r),s}function vP(n,e,t){var i=n.l,r=n.read_shift(0,"lpstr-cp");if(t)for(;n.l-i&3;)++n.l;return r}function xP(n,e,t){var i=n.read_shift(0,"lpwstr");return i}function yP(n,e,t){return e===31?xP(n):vP(n,e,t)}function mb(n,e,t){return yP(n,e,t===!1?0:4)}function JJ(n,e){if(!e)throw new Error("VtUnalignedString must have positive length");return yP(n,e,0)}function $J(n){for(var e=n.read_shift(4),t=[],i=0;i!=e;++i){var r=n.l;t[i]=n.read_shift(0,"lpwstr").replace(ms,""),n.l-r&2&&(n.l+=2)}return t}function e$(n){for(var e=n.read_shift(4),t=[],i=0;i!=e;++i)t[i]=n.read_shift(0,"lpstr-cp").replace(ms,"");return t}function t$(n){var e=n.l,t=GE(n,oP);n[n.l]==0&&n[n.l+1]==0&&n.l-e&2&&(n.l+=2);var i=GE(n,Ds);return[t,i]}function n$(n){for(var e=n.read_shift(4),t=[],i=0;i<e/2;++i)t.push(t$(n));return t}function G4(n,e){for(var t=n.read_shift(4),i={},r=0;r!=t;++r){var a=n.read_shift(4),s=n.read_shift(4);i[a]=n.read_shift(s,e===1200?"utf16le":"utf8").replace(ms,"").replace(ev,"!"),e===1200&&s%2&&(n.l+=2)}return n.l&3&&(n.l=n.l>>3<<2),i}function _P(n){var e=n.read_shift(4),t=n.slice(n.l,n.l+e);return n.l+=e,(e&3)>0&&(n.l+=4-(e&3)&3),t}function i$(n){var e={};return e.Size=n.read_shift(4),n.l+=e.Size+3-(e.Size-1)%4,e}function GE(n,e,t){var i=n.read_shift(2),r,a=t||{};if(n.l+=2,e!==z4&&i!==e&&LJ.indexOf(e)===-1&&!((e&65534)==4126&&(i&65534)==4126))throw new Error("Expected type "+e+" saw "+i);switch(e===z4?i:e){case 2:return r=n.read_shift(2,"i"),a.raw||(n.l+=2),r;case 3:return r=n.read_shift(4,"i"),r;case 11:return n.read_shift(4)!==0;case 19:return r=n.read_shift(4),r;case 30:return vP(n,i,4).replace(ms,"");case 31:return xP(n);case 64:return _w(n);case 65:return _P(n);case 71:return i$(n);case 80:return mb(n,i,!a.raw).replace(ms,"");case 81:return JJ(n,i).replace(ms,"");case 4108:return n$(n);case 4126:case 4127:return i==4127?$J(n):e$(n);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+i)}}function X4(n,e){var t=nt(4),i=nt(4);switch(t.write_shift(4,n==80?31:n),n){case 3:i.write_shift(-4,e);break;case 5:i=nt(8),i.write_shift(8,e,"f");break;case 11:i.write_shift(4,e?1:0);break;case 64:i=QJ(e);break;case 31:case 80:for(i=nt(4+2*(e.length+1)+(e.length%2?0:2)),i.write_shift(4,e.length+1),i.write_shift(0,e,"dbcs");i.l!=i.length;)i.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return ra([t,i])}function W4(n,e){var t=n.l,i=n.read_shift(4),r=n.read_shift(4),a=[],s=0,l=0,u=-1,h={};for(s=0;s!=r;++s){var p=n.read_shift(4),g=n.read_shift(4);a[s]=[p,g+t]}a.sort(function(R,w){return R[1]-w[1]});var v={};for(s=0;s!=r;++s){if(n.l!==a[s][1]){var y=!0;if(s>0&&e)switch(e[a[s-1][0]].t){case 2:n.l+2===a[s][1]&&(n.l+=2,y=!1);break;case 80:n.l<=a[s][1]&&(n.l=a[s][1],y=!1);break;case 4108:n.l<=a[s][1]&&(n.l=a[s][1],y=!1);break}if((!e||s==0)&&n.l<=a[s][1]&&(y=!1,n.l=a[s][1]),y)throw new Error("Read Error: Expected address "+a[s][1]+" at "+n.l+" :"+s)}if(e){var E=e[a[s][0]];if(v[E.n]=GE(n,E.t,{raw:!0}),E.p==="version"&&(v[E.n]=String(v[E.n]>>16)+"."+("0000"+String(v[E.n]&65535)).slice(-4)),E.n=="CodePage")switch(v[E.n]){case 0:v[E.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ml(l=v[E.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+v[E.n])}}else if(a[s][0]===1){if(l=v.CodePage=GE(n,xw),Ml(l),u!==-1){var T=n.l;n.l=a[u][1],h=G4(n,l),n.l=T}}else if(a[s][0]===0){if(l===0){u=s,n.l=a[s+1][1];continue}h=G4(n,l)}else{var S=h[a[s][0]],A;switch(n[n.l]){case 65:n.l+=4,A=_P(n);break;case 30:n.l+=4,A=mb(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 31:n.l+=4,A=mb(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 3:n.l+=4,A=n.read_shift(4,"i");break;case 19:n.l+=4,A=n.read_shift(4);break;case 5:n.l+=4,A=n.read_shift(8,"f");break;case 11:n.l+=4,A=pr(n,4);break;case 64:n.l+=4,A=Ii(_w(n));break;default:throw new Error("unparsed value: "+n[n.l])}v[S]=A}}return n.l=t+i,v}var EP=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function r$(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function Y4(n,e,t){var i=nt(8),r=[],a=[],s=8,l=0,u=nt(8),h=nt(8);if(u.write_shift(4,2),u.write_shift(4,1200),h.write_shift(4,1),a.push(u),r.push(h),s+=8+u.length,!e){h=nt(8),h.write_shift(4,0),r.unshift(h);var p=[nt(4)];for(p[0].write_shift(4,n.length),l=0;l<n.length;++l){var g=n[l][0];for(u=nt(8+2*(g.length+1)+(g.length%2?0:2)),u.write_shift(4,l+2),u.write_shift(4,g.length+1),u.write_shift(0,g,"dbcs");u.l!=u.length;)u.write_shift(1,0);p.push(u)}u=ra(p),a.unshift(u),s+=8+u.length}for(l=0;l<n.length;++l)if(!(e&&!e[n[l][0]])&&!(EP.indexOf(n[l][0])>-1||dP.indexOf(n[l][0])>-1)&&n[l][1]!=null){var v=n[l][1],y=0;if(e){y=+e[n[l][0]];var E=t[y];if(E.p=="version"&&typeof v=="string"){var T=v.split(".");v=(+T[0]<<16)+(+T[1]||0)}u=X4(E.t,v)}else{var S=r$(v);S==-1&&(S=31,v=String(v)),u=X4(S,v)}a.push(u),h=nt(8),h.write_shift(4,e?y:2+l),r.push(h),s+=8+u.length}var A=8*(a.length+1);for(l=0;l<a.length;++l)r[l].write_shift(4,A),A+=a[l].length;return i.write_shift(4,s),i.write_shift(4,a.length),ra([i].concat(r).concat(a))}function j4(n,e,t){var i=n.content;if(!i)return{};xa(i,0);var r,a,s,l,u=0;i.chk("feff","Byte Order: "),i.read_shift(2);var h=i.read_shift(4),p=i.read_shift(16);if(p!==Jt.utils.consts.HEADER_CLSID&&p!==t)throw new Error("Bad PropertySet CLSID "+p);if(r=i.read_shift(4),r!==1&&r!==2)throw new Error("Unrecognized #Sets: "+r);if(a=i.read_shift(16),l=i.read_shift(4),r===1&&l!==i.l)throw new Error("Length mismatch: "+l+" !== "+i.l);r===2&&(s=i.read_shift(16),u=i.read_shift(4));var g=W4(i,e),v={SystemIdentifier:h};for(var y in g)v[y]=g[y];if(v.FMTID=a,r===1)return v;if(u-i.l==2&&(i.l+=2),i.l!==u)throw new Error("Length mismatch 2: "+i.l+" !== "+u);var E;try{E=W4(i,null)}catch{}for(y in E)v[y]=E[y];return v.FMTID=[a,s],v}function q4(n,e,t,i,r,a){var s=nt(r?68:48),l=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Jt.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,r?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,r?68:48);var u=Y4(n,t,i);if(l.push(u),r){var h=Y4(r,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+u.length),l.push(h)}return ra(l)}function Rf(n,e){return n.read_shift(e),null}function a$(n,e){e||(e=nt(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function s$(n,e,t){for(var i=[],r=n.l+e;n.l<r;)i.push(t(n,r-n.l));if(r!==n.l)throw new Error("Slurp error");return i}function pr(n,e){return n.read_shift(e)===1}function fs(n,e){return e||(e=nt(2)),e.write_shift(2,+!!n),e}function Cr(n){return n.read_shift(2,"u")}function Bo(n,e){return e||(e=nt(2)),e.write_shift(2,n),e}function SP(n,e){return s$(n,e,Cr)}function o$(n){var e=n.read_shift(1),t=n.read_shift(1);return t===1?e:e===1}function TP(n,e,t){return t||(t=nt(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function Ox(n,e,t){var i=n.read_shift(t&&t.biff>=12?2:1),r="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var a=n.read_shift(1);a&&(r="dbcs-cont")}else t.biff==12&&(r="wstr");t.biff>=2&&t.biff<=5&&(r="cpstr");var s=i?n.read_shift(i,r):"";return s}function l$(n){var e=n.read_shift(2),t=n.read_shift(1),i=t&4,r=t&8,a=1+(t&1),s=0,l,u={};r&&(s=n.read_shift(2)),i&&(l=n.read_shift(4));var h=a==2?"dbcs-cont":"sbcs-cont",p=e===0?"":n.read_shift(e,h);return r&&(n.l+=4*s),i&&(n.l+=l),u.t=p,r||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function c$(n){var e=n.t||"",t=nt(3);t.write_shift(2,e.length),t.write_shift(1,1);var i=nt(2*e.length);i.write_shift(2*e.length,e,"utf16le");var r=[t,i];return ra(r)}function Fd(n,e,t){var i;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var r=n.read_shift(1);return r===0?i=n.read_shift(e,"sbcs-cont"):i=n.read_shift(e,"dbcs-cont"),i}function Nx(n,e,t){var i=n.read_shift(t&&t.biff==2?1:2);return i===0?(n.l++,""):Fd(n,i,t)}function jd(n,e,t){if(t.biff>5)return Nx(n,e,t);var i=n.read_shift(1);return i===0?(n.l++,""):n.read_shift(i,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function AP(n,e,t){return t||(t=nt(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function u$(n){var e=n.read_shift(1);n.l++;var t=n.read_shift(2);return n.l+=2,[e,t]}function f$(n){var e=n.read_shift(4),t=n.l,i=!1;e>24&&(n.l+=e-24,n.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(i=!0),n.l=t);var r=n.read_shift((i?e-24:e)>>1,"utf16le").replace(ms,"");return i&&(n.l+=24),r}function h$(n){for(var e=n.read_shift(2),t="";e-- >0;)t+="../";var i=n.read_shift(0,"lpstr-ansi");if(n.l+=2,n.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var r=n.read_shift(4);if(r===0)return t+i.replace(/\\/g,"/");var a=n.read_shift(4);if(n.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=n.read_shift(a>>1,"utf16le").replace(ms,"");return t+s}function d$(n,e){var t=n.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return f$(n);case"0303000000000000c000000000000046":return h$(n);default:throw new Error("Unsupported Moniker "+t)}}function m_(n){var e=n.read_shift(4),t=e>0?n.read_shift(e,"utf16le").replace(ms,""):"";return t}function K4(n,e){e||(e=nt(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function p$(n,e){var t=n.l+e,i=n.read_shift(4);if(i!==2)throw new Error("Unrecognized streamVersion: "+i);var r=n.read_shift(2);n.l+=2;var a,s,l,u,h="",p,g;r&16&&(a=m_(n,t-n.l)),r&128&&(s=m_(n,t-n.l)),(r&257)===257&&(l=m_(n,t-n.l)),(r&257)===1&&(u=d$(n,t-n.l)),r&8&&(h=m_(n,t-n.l)),r&32&&(p=n.read_shift(16)),r&64&&(g=_w(n)),n.l=t;var v=s||l||u||"";v&&h&&(v+="#"+h),v||(v="#"+h),r&2&&v.charAt(0)=="/"&&v.charAt(1)!="/"&&(v="file://"+v);var y={Target:v};return p&&(y.guid=p),g&&(y.time=g),a&&(y.Tooltip=a),y}function m$(n){var e=nt(512),t=0,i=n.Target;i.slice(0,7)=="file://"&&(i=i.slice(7));var r=i.indexOf("#"),a=r>-1?31:23;switch(i.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(t=0;t<s.length;++t)e.write_shift(4,s[t]);if(a==28)i=i.slice(1),K4(i,e);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<s.length;++t)e.write_shift(1,parseInt(s[t],16));var l=r>-1?i.slice(0,r):i;for(e.write_shift(4,2*(l.length+1)),t=0;t<l.length;++t)e.write_shift(2,l.charCodeAt(t));e.write_shift(2,0),a&8&&K4(r>-1?i.slice(r+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<s.length;++t)e.write_shift(1,parseInt(s[t],16));for(var u=0;i.slice(u*3,u*3+3)=="../"||i.slice(u*3,u*3+3)=="..\\";)++u;for(e.write_shift(2,u),e.write_shift(4,i.length-3*u+1),t=0;t<i.length-3*u;++t)e.write_shift(1,i.charCodeAt(t+3*u)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function bP(n){var e=n.read_shift(1),t=n.read_shift(1),i=n.read_shift(1),r=n.read_shift(1);return[e,t,i,r]}function MP(n,e){var t=bP(n);return t[3]=0,t}function Cc(n){var e=n.read_shift(2),t=n.read_shift(2),i=n.read_shift(2);return{r:e,c:t,ixfe:i}}function Pd(n,e,t,i){return i||(i=nt(6)),i.write_shift(2,n),i.write_shift(2,e),i.write_shift(2,t||0),i}function g$(n){var e=n.read_shift(2),t=n.read_shift(2);return n.l+=8,{type:e,flags:t}}function v$(n,e,t){return e===0?"":jd(n,e,t)}function x$(n,e,t){var i=t.biff>8?4:2,r=n.read_shift(i),a=n.read_shift(i,"i"),s=n.read_shift(i,"i");return[r,a,s]}function wP(n){var e=n.read_shift(2),t=vw(n);return[e,t]}function y$(n,e,t){n.l+=4,e-=4;var i=n.l+e,r=Ox(n,e,t),a=n.read_shift(2);if(i-=n.l,a!==i)throw new Error("Malformed AddinUdf: padding = "+i+" != "+a);return n.l+=a,r}function kS(n){var e=n.read_shift(2),t=n.read_shift(2),i=n.read_shift(2),r=n.read_shift(2);return{s:{c:i,r:e},e:{c:r,r:t}}}function RP(n,e){return e||(e=nt(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function CP(n){var e=n.read_shift(2),t=n.read_shift(2),i=n.read_shift(1),r=n.read_shift(1);return{s:{c:i,r:e},e:{c:r,r:t}}}var _$=CP;function OP(n){n.l+=4;var e=n.read_shift(2),t=n.read_shift(2),i=n.read_shift(2);return n.l+=12,[t,e,i]}function E$(n){var e={};return n.l+=4,n.l+=16,e.fSharedNote=n.read_shift(2),n.l+=4,e}function S$(n){var e={};return n.l+=4,n.cf=n.read_shift(2),e}function La(n){n.l+=2,n.l+=n.read_shift(2)}var T$={0:La,4:La,5:La,6:La,7:S$,8:La,9:La,10:La,11:La,12:La,13:E$,14:La,15:La,16:La,17:La,18:La,19:La,20:La,21:OP};function A$(n,e){for(var t=n.l+e,i=[];n.l<t;){var r=n.read_shift(2);n.l-=2;try{i.push(T$[r](n,t-n.l))}catch{return n.l=t,i}}return n.l!=t&&(n.l=t),i}function g_(n,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=n.read_shift(2),e-=2,e>=2&&(t.dt=n.read_shift(2),n.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return n.read_shift(e),t}function Ew(n,e,t){var i=1536,r=16;switch(t.bookType){case"biff8":break;case"biff5":i=1280,r=8;break;case"biff4":i=4,r=6;break;case"biff3":i=3,r=6;break;case"biff2":i=2,r=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=nt(r);return a.write_shift(2,i),a.write_shift(2,e),r>4&&a.write_shift(2,29282),r>6&&a.write_shift(2,1997),r>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function b$(n,e){return e===0||n.read_shift(2),1200}function M$(n,e,t){if(t.enc)return n.l+=e,"";var i=n.l,r=jd(n,0,t);return n.read_shift(e+i-n.l),r}function w$(n,e){var t=!e||e.biff==8,i=nt(t?112:54);for(i.write_shift(e.biff==8?2:1,7),t&&i.write_shift(1,0),i.write_shift(4,859007059),i.write_shift(4,5458548|(t?0:536870912));i.l<i.length;)i.write_shift(1,t?0:32);return i}function R$(n,e,t){var i=t&&t.biff==8||e==2?n.read_shift(2):(n.l+=e,0);return{fDialog:i&16,fBelow:i&64,fRight:i&128}}function C$(n,e,t){var i=n.read_shift(4),r=n.read_shift(1)&3,a=n.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=Ox(n,0,t);return s.length===0&&(s="Sheet1"),{pos:i,hs:r,dt:a,name:s}}function O$(n,e){var t=!e||e.biff>=8?2:1,i=nt(8+t*n.name.length);i.write_shift(4,n.pos),i.write_shift(1,n.hs||0),i.write_shift(1,n.dt),i.write_shift(1,n.name.length),e.biff>=8&&i.write_shift(1,1),i.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var r=i.slice(0,i.l);return r.l=i.l,r}function N$(n,e){for(var t=n.l+e,i=n.read_shift(4),r=n.read_shift(4),a=[],s=0;s!=r&&n.l<t;++s)a.push(l$(n));return a.Count=i,a.Unique=r,a}function D$(n,e){var t=nt(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var i=[],r=0;r<n.length;++r)i[r]=c$(n[r]);var a=ra([t].concat(i));return a.parts=[t.length].concat(i.map(function(s){return s.length})),a}function I$(n,e){var t={};return t.dsst=n.read_shift(2),n.l+=e-2,t}function L$(n){var e={};e.r=n.read_shift(2),e.c=n.read_shift(2),e.cnt=n.read_shift(2)-e.c;var t=n.read_shift(2);n.l+=4;var i=n.read_shift(1);return n.l+=3,i&7&&(e.level=i&7),i&32&&(e.hidden=!0),i&64&&(e.hpt=t/20),e}function U$(n){var e=g$(n);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=n.read_shift(4);return t!==0}function F$(n){return n.read_shift(2),n.read_shift(4)}function Z4(n,e,t){var i=0;t&&t.biff==2||(i=n.read_shift(2));var r=n.read_shift(2);t&&t.biff==2&&(i=1-(r>>15),r&=32767);var a={Unsynced:i&1,DyZero:(i&2)>>1,ExAsc:(i&4)>>2,ExDsc:(i&8)>>3};return[a,r]}function P$(n){var e=n.read_shift(2),t=n.read_shift(2),i=n.read_shift(2),r=n.read_shift(2),a=n.read_shift(2),s=n.read_shift(2),l=n.read_shift(2),u=n.read_shift(2),h=n.read_shift(2);return{Pos:[e,t],Dim:[i,r],Flags:a,CurTab:s,FirstTab:l,Selected:u,TabRatio:h}}function B$(){var n=nt(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function k$(n,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var i=n.read_shift(2);return{RTL:i&64}}function z$(n){var e=nt(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function V$(){}function H$(n,e,t){var i={dyHeight:n.read_shift(2),fl:n.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:n.l+=2;break;default:n.l+=10;break}return i.name=Ox(n,0,t),i}function G$(n,e){var t=n.name||"Arial",i=e&&e.biff==5,r=i?15+t.length:16+2*t.length,a=nt(r);return a.write_shift(2,n.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,t.length),i||a.write_shift(1,1),a.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le"),a}function X$(n){var e=Cc(n);return e.isst=n.read_shift(4),e}function W$(n,e,t,i){var r=nt(10);return Pd(n,e,i,r),r.write_shift(4,t),r}function Y$(n,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var i=n.l+e,r=Cc(n);t.biff==2&&n.l++;var a=Nx(n,i-n.l,t);return r.val=a,r}function j$(n,e,t,i,r){var a=!r||r.biff==8,s=nt(8+ +a+(1+a)*t.length);return Pd(n,e,i,s),s.write_shift(2,t.length),a&&s.write_shift(1,1),s.write_shift((1+a)*t.length,t,a?"utf16le":"sbcs"),s}function q$(n,e,t){var i=n.read_shift(2),r=jd(n,0,t);return[i,r]}function K$(n,e,t,i){var r=t&&t.biff==5;i||(i=nt(r?3+e.length:5+2*e.length)),i.write_shift(2,n),i.write_shift(r?1:2,e.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*e.length,e,r?"sbcs":"utf16le");var a=i.length>i.l?i.slice(0,i.l):i;return a.l==null&&(a.l=a.length),a}var Z$=jd;function Q4(n,e,t){var i=n.l+e,r=t.biff==8||!t.biff?4:2,a=n.read_shift(r),s=n.read_shift(r),l=n.read_shift(2),u=n.read_shift(2);return n.l=i,{s:{r:a,c:l},e:{r:s,c:u}}}function Q$(n,e){var t=e.biff==8||!e.biff?4:2,i=nt(2*t+6);return i.write_shift(t,n.s.r),i.write_shift(t,n.e.r+1),i.write_shift(2,n.s.c),i.write_shift(2,n.e.c+1),i.write_shift(2,0),i}function J$(n){var e=n.read_shift(2),t=n.read_shift(2),i=wP(n);return{r:e,c:t,ixfe:i[0],rknum:i[1]}}function $$(n,e){for(var t=n.l+e-2,i=n.read_shift(2),r=n.read_shift(2),a=[];n.l<t;)a.push(wP(n));if(n.l!==t)throw new Error("MulRK read error");var s=n.read_shift(2);if(a.length!=s-r+1)throw new Error("MulRK length mismatch");return{r:i,c:r,C:s,rkrec:a}}function eee(n,e){for(var t=n.l+e-2,i=n.read_shift(2),r=n.read_shift(2),a=[];n.l<t;)a.push(n.read_shift(2));if(n.l!==t)throw new Error("MulBlank read error");var s=n.read_shift(2);if(a.length!=s-r+1)throw new Error("MulBlank length mismatch");return{r:i,c:r,C:s,ixfe:a}}function tee(n,e,t,i){var r={},a=n.read_shift(4),s=n.read_shift(4),l=n.read_shift(4),u=n.read_shift(2);return r.patternType=UJ[l>>26],i.cellStyles&&(r.alc=a&7,r.fWrap=a>>3&1,r.alcV=a>>4&7,r.fJustLast=a>>7&1,r.trot=a>>8&255,r.cIndent=a>>16&15,r.fShrinkToFit=a>>20&1,r.iReadOrder=a>>22&2,r.fAtrNum=a>>26&1,r.fAtrFnt=a>>27&1,r.fAtrAlc=a>>28&1,r.fAtrBdr=a>>29&1,r.fAtrPat=a>>30&1,r.fAtrProt=a>>31&1,r.dgLeft=s&15,r.dgRight=s>>4&15,r.dgTop=s>>8&15,r.dgBottom=s>>12&15,r.icvLeft=s>>16&127,r.icvRight=s>>23&127,r.grbitDiag=s>>30&3,r.icvTop=l&127,r.icvBottom=l>>7&127,r.icvDiag=l>>14&127,r.dgDiag=l>>21&15,r.icvFore=u&127,r.icvBack=u>>7&127,r.fsxButton=u>>14&1),r}function nee(n,e,t){var i={};return i.ifnt=n.read_shift(2),i.numFmtId=n.read_shift(2),i.flags=n.read_shift(2),i.fStyle=i.flags>>2&1,e-=6,i.data=tee(n,e,i.fStyle,t),i}function J4(n,e,t,i){var r=t&&t.biff==5;i||(i=nt(r?16:20)),i.write_shift(2,0),n.style?(i.write_shift(2,n.numFmtId||0),i.write_shift(2,65524)):(i.write_shift(2,n.numFmtId||0),i.write_shift(2,e<<4));var a=0;return n.numFmtId>0&&r&&(a|=1024),i.write_shift(4,a),i.write_shift(4,0),r||i.write_shift(4,0),i.write_shift(2,0),i}function iee(n){n.l+=4;var e=[n.read_shift(2),n.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function ree(n){var e=nt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function $4(n,e,t){var i=Cc(n);(t.biff==2||e==9)&&++n.l;var r=o$(n);return i.val=r,i.t=r===!0||r===!1?"b":"e",i}function aee(n,e,t,i,r,a){var s=nt(8);return Pd(n,e,i,s),TP(t,a,s),s}function see(n,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var i=Cc(n),r=za(n);return i.val=r,i}function oee(n,e,t,i){var r=nt(14);return Pd(n,e,i,r),Ud(t,r),r}var eN=v$;function lee(n,e,t){var i=n.l+e,r=n.read_shift(2),a=n.read_shift(2);if(t.sbcch=a,a==1025||a==14849)return[a,r];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=Fd(n,a),l=[];i>n.l;)l.push(Nx(n));return[a,r,s,l]}function tN(n,e,t){var i=n.read_shift(2),r,a={fBuiltIn:i&1,fWantAdvise:i>>>1&1,fWantPict:i>>>2&1,fOle:i>>>3&1,fOleLink:i>>>4&1,cf:i>>>5&1023,fIcon:i>>>15&1};return t.sbcch===14849&&(r=y$(n,e-2,t)),a.body=r||n.read_shift(e-2),typeof r=="string"&&(a.Name=r),a}var cee=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function nN(n,e,t){var i=n.l+e,r=n.read_shift(2),a=n.read_shift(1),s=n.read_shift(1),l=n.read_shift(t&&t.biff==2?1:2),u=0;(!t||t.biff>=5)&&(t.biff!=5&&(n.l+=2),u=n.read_shift(2),t.biff==5&&(n.l+=2),n.l+=4);var h=Fd(n,s,t);r&32&&(h=cee[h.charCodeAt(0)]);var p=i-n.l;t&&t.biff==2&&--p;var g=i==n.l||l===0||!(p>0)?[]:Are(n,p,t,l);return{chKey:a,Name:h,itab:u,rgce:g}}function NP(n,e,t){if(t.biff<8)return uee(n,e,t);for(var i=[],r=n.l+e,a=n.read_shift(t.biff>8?4:2);a--!==0;)i.push(x$(n,t.biff>8?12:6,t));if(n.l!=r)throw new Error("Bad ExternSheet: "+n.l+" != "+r);return i}function uee(n,e,t){n[n.l+1]==3&&n[n.l]++;var i=Ox(n,e,t);return i.charCodeAt(0)==3?i.slice(1):i}function fee(n,e,t){if(t.biff<8){n.l+=e;return}var i=n.read_shift(2),r=n.read_shift(2),a=Fd(n,i,t),s=Fd(n,r,t);return[a,s]}function hee(n,e,t){var i=CP(n);n.l++;var r=n.read_shift(1);return e-=8,[bre(n,e,t),r,i]}function iN(n,e,t){var i=_$(n);switch(t.biff){case 2:n.l++,e-=7;break;case 3:case 4:n.l+=2,e-=8;break;default:n.l+=6,e-=12}return[i,Sre(n,e,t)]}function dee(n){var e=n.read_shift(4)!==0,t=n.read_shift(4)!==0,i=n.read_shift(4);return[e,t,i]}function pee(n,e,t){if(!(t.biff<8)){var i=n.read_shift(2),r=n.read_shift(2),a=n.read_shift(2),s=n.read_shift(2),l=jd(n,0,t);return t.biff<8&&n.read_shift(1),[{r:i,c:r},l,s,a]}}function mee(n,e,t){return pee(n,e,t)}function gee(n,e){for(var t=[],i=n.read_shift(2);i--;)t.push(kS(n));return t}function vee(n){var e=nt(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)RP(n[t],e);return e}function xee(n,e,t){if(t&&t.biff<8)return _ee(n,e,t);var i=OP(n),r=A$(n,e-22,i[1]);return{cmo:i,ft:r}}var yee={8:function(n,e){var t=n.l+e;n.l+=10;var i=n.read_shift(2);n.l+=4,n.l+=2,n.l+=2,n.l+=2,n.l+=4;var r=n.read_shift(1);return n.l+=r,n.l=t,{fmt:i}}};function _ee(n,e,t){n.l+=4;var i=n.read_shift(2),r=n.read_shift(2),a=n.read_shift(2);n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=6,e-=36;var s=[];return s.push((yee[i]||Xa)(n,e,t)),{cmo:[r,i,a],ft:s}}function Eee(n,e,t){var i=n.l,r="";try{n.l+=4;var a=(t.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?n.l+=6:s=u$(n,6,t);var l=n.read_shift(2);n.read_shift(2),Cr(n,2);var u=n.read_shift(2);n.l+=u;for(var h=1;h<n.lens.length-1;++h){if(n.l-i!=n.lens[h])throw new Error("TxO: bad continue record");var p=n[n.l],g=Fd(n,n.lens[h+1]-n.lens[h]-1);if(r+=g,r.length>=(p?l:2*l))break}if(r.length!==l&&r.length!==l*2)throw new Error("cchText: "+l+" != "+r.length);return n.l=i+e,{t:r}}catch{return n.l=i+e,{t:r}}}function See(n,e){var t=kS(n);n.l+=16;var i=p$(n,e-24);return[t,i]}function Tee(n){var e=nt(24),t=Zi(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var i="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)e.write_shift(1,parseInt(i[r],16));return ra([e,m$(n[1])])}function Aee(n,e){n.read_shift(2);var t=kS(n),i=n.read_shift((e-10)/2,"dbcs-cont");return i=i.replace(ms,""),[t,i]}function bee(n){var e=n[1].Tooltip,t=nt(10+2*(e.length+1));t.write_shift(2,2048);var i=Zi(n[0]);t.write_shift(2,i.r),t.write_shift(2,i.r),t.write_shift(2,i.c),t.write_shift(2,i.c);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Mee(n){var e=[0,0],t;return t=n.read_shift(2),e[0]=V4[t]||t,t=n.read_shift(2),e[1]=V4[t]||t,e}function wee(n){return n||(n=nt(4)),n.write_shift(2,1),n.write_shift(2,1),n}function Ree(n){for(var e=n.read_shift(2),t=[];e-- >0;)t.push(MP(n));return t}function Cee(n){for(var e=n.read_shift(2),t=[];e-- >0;)t.push(MP(n));return t}function Oee(n){n.l+=2;var e={cxfs:0,crc:0};return e.cxfs=n.read_shift(2),e.crc=n.read_shift(4),e}function DP(n,e,t){if(!t.cellStyles)return Xa(n,e);var i=t&&t.biff>=12?4:2,r=n.read_shift(i),a=n.read_shift(i),s=n.read_shift(i),l=n.read_shift(i),u=n.read_shift(2);i==2&&(n.l+=2);var h={s:r,e:a,w:s,ixfe:l,flags:u};return(t.biff>=5||!t.biff)&&(h.level=u>>8&7),h}function Nee(n,e){var t=nt(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var i=0;return n.hidden&&(i|=1),t.write_shift(1,i),i=n.level||0,t.write_shift(1,i),t.write_shift(2,0),t}function Dee(n,e){var t={};return e<32||(n.l+=16,t.header=za(n),t.footer=za(n),n.l+=2),t}function Iee(n,e,t){var i={area:!1};if(t.biff!=5)return n.l+=e,i;var r=n.read_shift(1);return n.l+=3,r&16&&(i.area=!0),i}function Lee(n){for(var e=nt(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}var Uee=Cc,Fee=SP,Pee=Nx;function Bee(n){var e=n.read_shift(2),t=n.read_shift(2),i=n.read_shift(4),r={fmt:e,env:t,len:i,data:n.slice(n.l,n.l+i)};return n.l+=i,r}function kee(n,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var i=Cc(n);++n.l;var r=jd(n,e-7,t);return i.t="str",i.val=r,i}function zee(n){var e=Cc(n);++n.l;var t=za(n);return e.t="n",e.val=t,e}function Vee(n,e,t){var i=nt(15);return Ux(i,n,e),i.write_shift(8,t,"f"),i}function Hee(n){var e=Cc(n);++n.l;var t=n.read_shift(2);return e.t="n",e.val=t,e}function Gee(n,e,t){var i=nt(9);return Ux(i,n,e),i.write_shift(2,t),i}function Xee(n){var e=n.read_shift(1);return e===0?(n.l++,""):n.read_shift(e,"sbcs-cont")}function Wee(n,e){n.l+=6,n.l+=2,n.l+=1,n.l+=3,n.l+=1,n.l+=e-13}function Yee(n,e,t){var i=n.l+e,r=Cc(n),a=n.read_shift(2),s=Fd(n,a,t);return n.l=i,r.t="str",r.val=s,r}var jee=[2,3,48,49,131,139,140,245],gb=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=FS({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(l,u){var h=[],p=zf(1);switch(u.type){case"base64":p=io(oo(l));break;case"binary":p=io(l);break;case"buffer":case"array":p=l;break}xa(p,0);var g=p.read_shift(1),v=!!(g&136),y=!1,E=!1;switch(g){case 2:break;case 3:break;case 48:y=!0,v=!0;break;case 49:y=!0,v=!0;break;case 131:break;case 139:break;case 140:E=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var T=0,S=521;g==2&&(T=p.read_shift(2)),p.l+=3,g!=2&&(T=p.read_shift(4)),T>1048576&&(T=1e6),g!=2&&(S=p.read_shift(2));var A=p.read_shift(2),R=u.codepage||1252;g!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(R=n[p[p.l]]),p.l+=1,p.l+=2),E&&(p.l+=36);for(var w=[],D={},P=Math.min(p.length,g==2?521:S-10-(y?264:0)),F=E?32:11;p.l<P&&p[p.l]!=13;)switch(D={},D.name=lb.utils.decode(R,p.slice(p.l,p.l+F)).replace(/[\u0000\r\n].*$/g,""),p.l+=F,D.type=String.fromCharCode(p.read_shift(1)),g!=2&&!E&&(D.offset=p.read_shift(4)),D.len=p.read_shift(1),g==2&&(D.offset=p.read_shift(2)),D.dec=p.read_shift(1),D.name.length&&w.push(D),g!=2&&(p.l+=E?13:14),D.type){case"B":(!y||D.len!=8)&&u.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(p[p.l]!==13&&(p.l=S-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=S;var U=0,I=0;for(h[0]=[],I=0;I!=w.length;++I)h[0][I]=w[I].name;for(;T-- >0;){if(p[p.l]===42){p.l+=A;continue}for(++p.l,h[++U]=[],I=0,I=0;I!=w.length;++I){var C=p.slice(p.l,p.l+w[I].len);p.l+=w[I].len,xa(C,0);var L=lb.utils.decode(R,C);switch(w[I].type){case"C":L.trim().length&&(h[U][I]=L.replace(/\s+$/,""));break;case"D":L.length===8?h[U][I]=new Date(+L.slice(0,4),+L.slice(4,6)-1,+L.slice(6,8)):h[U][I]=L;break;case"F":h[U][I]=parseFloat(L.trim());break;case"+":case"I":h[U][I]=E?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(L.trim().toUpperCase()){case"Y":case"T":h[U][I]=!0;break;case"N":case"F":h[U][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+L+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));h[U][I]="##MEMO##"+(E?parseInt(L.trim(),10):C.read_shift(4));break;case"N":L=L.replace(/\u0000/g,"").trim(),L&&L!="."&&(h[U][I]=+L||0);break;case"@":h[U][I]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":h[U][I]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":h[U][I]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[U][I]=-C.read_shift(-8,"f");break;case"B":if(y&&w[I].len==8){h[U][I]=C.read_shift(8,"f");break}case"G":case"P":C.l+=w[I].len;break;case"0":if(w[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[I].type)}}}if(g!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return u&&u.sheetRows&&(h=h.slice(0,u.sheetRows)),u.DBF=w,h}function i(l,u){var h=u||{};h.dateNF||(h.dateNF="yyyymmdd");var p=mm(t(l,h),h);return p["!cols"]=h.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete h.DBF,p}function r(l,u){try{return Qf(i(l,u),u)}catch(h){if(u&&u.WTF)throw h}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(l,u){var h=u||{};if(+h.codepage>=0&&Ml(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var p=Bs(),g=YE(l,{header:1,raw:!0,cellDates:!0}),v=g[0],y=g.slice(1),E=l["!cols"]||[],T=0,S=0,A=0,R=1;for(T=0;T<v.length;++T){if(((E[T]||{}).DBF||{}).name){v[T]=E[T].DBF.name,++A;continue}if(v[T]!=null){if(++A,typeof v[T]=="number"&&(v[T]=v[T].toString(10)),typeof v[T]!="string")throw new Error("DBF Invalid column name "+v[T]+" |"+typeof v[T]+"|");if(v.indexOf(v[T])!==T){for(S=0;S<1024;++S)if(v.indexOf(v[T]+"_"+S)==-1){v[T]+="_"+S;break}}}}var w=Jn(l["!ref"]),D=[],P=[],F=[];for(T=0;T<=w.e.c-w.s.c;++T){var U="",I="",C=0,L=[];for(S=0;S<y.length;++S)y[S][T]!=null&&L.push(y[S][T]);if(L.length==0||v[T]==null){D[T]="?";continue}for(S=0;S<L.length;++S){switch(typeof L[S]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=L[S]instanceof Date?"D":"C";break;default:I="C"}C=Math.max(C,String(L[S]).length),U=U&&U!=I?"C":I}C>250&&(C=250),I=((E[T]||{}).DBF||{}).type,I=="C"&&E[T].DBF.len>C&&(C=E[T].DBF.len),U=="B"&&I=="N"&&(U="N",F[T]=E[T].DBF.dec,C=E[T].DBF.len),P[T]=U=="C"||I=="N"?C:a[U]||0,R+=P[T],D[T]=U}var k=p.next(32);for(k.write_shift(4,318902576),k.write_shift(4,y.length),k.write_shift(2,296+32*A),k.write_shift(2,R),T=0;T<4;++T)k.write_shift(4,0);for(k.write_shift(4,0|(+e[EF]||3)<<8),T=0,S=0;T<v.length;++T)if(v[T]!=null){var G=p.next(32),ee=(v[T].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);G.write_shift(1,ee,"sbcs"),G.write_shift(1,D[T]=="?"?"C":D[T],"sbcs"),G.write_shift(4,S),G.write_shift(1,P[T]||a[D[T]]||0),G.write_shift(1,F[T]||0),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(1,0),G.write_shift(4,0),G.write_shift(4,0),S+=P[T]||a[D[T]]||0}var ve=p.next(264);for(ve.write_shift(4,13),T=0;T<65;++T)ve.write_shift(4,0);for(T=0;T<y.length;++T){var pe=p.next(R);for(pe.write_shift(1,0),S=0;S<v.length;++S)if(v[S]!=null)switch(D[S]){case"L":pe.write_shift(1,y[T][S]==null?63:y[T][S]?84:70);break;case"B":pe.write_shift(8,y[T][S]||0,"f");break;case"N":var W="0";for(typeof y[T][S]=="number"&&(W=y[T][S].toFixed(F[S]||0)),A=0;A<P[S]-W.length;++A)pe.write_shift(1,32);pe.write_shift(1,W,"sbcs");break;case"D":y[T][S]?(pe.write_shift(4,("0000"+y[T][S].getFullYear()).slice(-4),"sbcs"),pe.write_shift(2,("00"+(y[T][S].getMonth()+1)).slice(-2),"sbcs"),pe.write_shift(2,("00"+y[T][S].getDate()).slice(-2),"sbcs")):pe.write_shift(8,"00000000","sbcs");break;case"C":var K=String(y[T][S]!=null?y[T][S]:"").slice(0,P[S]);for(pe.write_shift(1,K,"sbcs"),A=0;A<P[S]-K.length;++A)pe.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:r,to_sheet:i,from_sheet:s}}(),IP=function(){var n={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+or(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(v,y){var E=n[y];return typeof E=="number"?p4(E):E},i=function(v,y,E){var T=y.charCodeAt(0)-32<<4|E.charCodeAt(0)-48;return T==59?v:p4(T)};n["|"]=254;function r(v,y){switch(y.type){case"base64":return a(oo(v),y);case"binary":return a(v,y);case"buffer":return a(Ln&&Buffer.isBuffer(v)?v.toString("binary"):Zf(v),y);case"array":return a(Ld(v),y)}throw new Error("Unrecognized type "+y.type)}function a(v,y){var E=v.split(/[\n\r]+/),T=-1,S=-1,A=0,R=0,w=[],D=[],P=null,F={},U=[],I=[],C=[],L=0,k;for(+y.codepage>=0&&Ml(+y.codepage);A!==E.length;++A){L=0;var G=E[A].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,i).replace(e,t),ee=G.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),ve=ee[0],pe;if(G.length>0)switch(ve){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ee[1].charAt(0)=="P"&&D.push(G.slice(3).replace(/;;/g,";"));break;case"C":var W=!1,K=!1,ie=!1,ne=!1,j=-1,le=-1;for(R=1;R<ee.length;++R)switch(ee[R].charAt(0)){case"A":break;case"X":S=parseInt(ee[R].slice(1))-1,K=!0;break;case"Y":for(T=parseInt(ee[R].slice(1))-1,K||(S=0),k=w.length;k<=T;++k)w[k]=[];break;case"K":pe=ee[R].slice(1),pe.charAt(0)==='"'?pe=pe.slice(1,pe.length-1):pe==="TRUE"?pe=!0:pe==="FALSE"?pe=!1:isNaN(Cl(pe))?isNaN(Zp(pe).getDate())||(pe=Ii(pe)):(pe=Cl(pe),P!==null&&dm(P)&&(pe=BS(pe))),W=!0;break;case"E":ne=!0;var H=Fp(ee[R].slice(1),{r:T,c:S});w[T][S]=[w[T][S],H];break;case"S":ie=!0,w[T][S]=[w[T][S],"S5S"];break;case"G":break;case"R":j=parseInt(ee[R].slice(1))-1;break;case"C":le=parseInt(ee[R].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+G)}if(W&&(w[T][S]&&w[T][S].length==2?w[T][S][0]=pe:w[T][S]=pe,P=null),ie){if(ne)throw new Error("SYLK shared formula cannot have own formula");var q=j>-1&&w[j][le];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");w[T][S][1]=QP(q[1],{r:T-j,c:S-le})}break;case"F":var V=0;for(R=1;R<ee.length;++R)switch(ee[R].charAt(0)){case"X":S=parseInt(ee[R].slice(1))-1,++V;break;case"Y":for(T=parseInt(ee[R].slice(1))-1,k=w.length;k<=T;++k)w[k]=[];break;case"M":L=parseInt(ee[R].slice(1))/20;break;case"F":break;case"G":break;case"P":P=D[parseInt(ee[R].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=ee[R].slice(1).split(" "),k=parseInt(C[0],10);k<=parseInt(C[1],10);++k)L=parseInt(C[2],10),I[k-1]=L===0?{hidden:!0}:{wch:L},Vf(I[k-1]);break;case"C":S=parseInt(ee[R].slice(1))-1,I[S]||(I[S]={});break;case"R":T=parseInt(ee[R].slice(1))-1,U[T]||(U[T]={}),L>0?(U[T].hpt=L,U[T].hpx=Jp(L)):L===0&&(U[T].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+G)}V<1&&(P=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+G)}}return U.length>0&&(F["!rows"]=U),I.length>0&&(F["!cols"]=I),y&&y.sheetRows&&(w=w.slice(0,y.sheetRows)),[w,F]}function s(v,y){var E=r(v,y),T=E[0],S=E[1],A=mm(T,y);return or(S).forEach(function(R){A[R]=S[R]}),A}function l(v,y){return Qf(s(v,y),y)}function u(v,y,E,T){var S="C;Y"+(E+1)+";X"+(T+1)+";K";switch(v.t){case"n":S+=v.v||0,v.f&&!v.F&&(S+=";E"+ww(v.f,{r:E,c:T}));break;case"b":S+=v.v?"TRUE":"FALSE";break;case"e":S+=v.w||v.v;break;case"d":S+='"'+(v.w||v.v)+'"';break;case"s":S+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function h(v,y){y.forEach(function(E,T){var S="F;W"+(T+1)+" "+(T+1)+" ";E.hidden?S+="0":(typeof E.width=="number"&&!E.wpx&&(E.wpx=ax(E.width)),typeof E.wpx=="number"&&!E.wch&&(E.wch=sx(E.wpx)),typeof E.wch=="number"&&(S+=Math.round(E.wch))),S.charAt(S.length-1)!=" "&&v.push(S)})}function p(v,y){y.forEach(function(E,T){var S="F;";E.hidden?S+="M0;":E.hpt?S+="M"+20*E.hpt+";":E.hpx&&(S+="M"+20*ox(E.hpx)+";"),S.length>2&&v.push(S+"R"+(T+1))})}function g(v,y){var E=["ID;PWXL;N;E"],T=[],S=Jn(v["!ref"]),A,R=Array.isArray(v),w=`\r
`;E.push("P;PGeneral"),E.push("F;P0;DG0G8;M255"),v["!cols"]&&h(E,v["!cols"]),v["!rows"]&&p(E,v["!rows"]),E.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var D=S.s.r;D<=S.e.r;++D)for(var P=S.s.c;P<=S.e.c;++P){var F=ln({r:D,c:P});A=R?(v[D]||[])[P]:v[F],!(!A||A.v==null&&(!A.f||A.F))&&T.push(u(A,v,D,P))}return E.join(w)+w+T.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:s,from_sheet:g}}(),LP=function(){function n(a,s){switch(s.type){case"base64":return e(oo(a),s);case"binary":return e(a,s);case"buffer":return e(Ln&&Buffer.isBuffer(a)?a.toString("binary"):Zf(a),s);case"array":return e(Ld(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var l=a.split(`
`),u=-1,h=-1,p=0,g=[];p!==l.length;++p){if(l[p].trim()==="BOT"){g[++u]=[],h=0;continue}if(!(u<0)){var v=l[p].trim().split(","),y=v[0],E=v[1];++p;for(var T=l[p]||"";(T.match(/["]/g)||[]).length&1&&p<l.length-1;)T+=`
`+l[++p];switch(T=T.trim(),+y){case-1:if(T==="BOT"){g[++u]=[],h=0;continue}else if(T!=="EOD")throw new Error("Unrecognized DIF special command "+T);break;case 0:T==="TRUE"?g[u][h]=!0:T==="FALSE"?g[u][h]=!1:isNaN(Cl(E))?isNaN(Zp(E).getDate())?g[u][h]=E:g[u][h]=Ii(E):g[u][h]=Cl(E),++h;break;case 1:T=T.slice(1,T.length-1),T=T.replace(/""/g,'"'),T&&T.match(/^=".*"$/)&&(T=T.slice(2,-1)),g[u][h++]=T!==""?T:null;break}if(T==="EOD")break}}return s&&s.sheetRows&&(g=g.slice(0,s.sheetRows)),g}function t(a,s){return mm(n(a,s),s)}function i(a,s){return Qf(t(a,s),s)}var r=function(){var a=function(u,h,p,g,v){u.push(h),u.push(p+","+g),u.push('"'+v.replace(/"/g,'""')+'"')},s=function(u,h,p,g){u.push(h+","+p),u.push(h==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(u){var h=[],p=Jn(u["!ref"]),g,v=Array.isArray(u);a(h,"TABLE",0,1,"sheetjs"),a(h,"VECTORS",0,p.e.r-p.s.r+1,""),a(h,"TUPLES",0,p.e.c-p.s.c+1,""),a(h,"DATA",0,0,"");for(var y=p.s.r;y<=p.e.r;++y){s(h,-1,0,"BOT");for(var E=p.s.c;E<=p.e.c;++E){var T=ln({r:y,c:E});if(g=v?(u[y]||[])[E]:u[T],!g){s(h,1,0,"");continue}switch(g.t){case"n":var S=g.w;!S&&g.v!=null&&(S=g.v),S==null?g.f&&!g.F?s(h,1,0,"="+g.f):s(h,1,0,""):s(h,0,S,"V");break;case"b":s(h,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":s(h,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=Wo(g.z||an[14],jr(Ii(g.v)))),s(h,0,g.w,"V");break;default:s(h,1,0,"")}}}s(h,-1,0,"EOD");var A=`\r
`,R=h.join(A);return R}}();return{to_workbook:i,to_sheet:t,from_sheet:r}}(),UP=function(){function n(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(g,v){for(var y=g.split(`
`),E=-1,T=-1,S=0,A=[];S!==y.length;++S){var R=y[S].trim().split(":");if(R[0]==="cell"){var w=Zi(R[1]);if(A.length<=w.r)for(E=A.length;E<=w.r;++E)A[E]||(A[E]=[]);switch(E=w.r,T=w.c,R[2]){case"t":A[E][T]=n(R[3]);break;case"v":A[E][T]=+R[3];break;case"vtf":var D=R[R.length-1];case"vtc":switch(R[3]){case"nl":A[E][T]=!!+R[4];break;default:A[E][T]=+R[4];break}R[2]=="vtf"&&(A[E][T]=[A[E][T],D])}}}return v&&v.sheetRows&&(A=A.slice(0,v.sheetRows)),A}function i(g,v){return mm(t(g,v),v)}function r(g,v){return Qf(i(g,v),v)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function h(g){if(!g||!g["!ref"])return"";for(var v=[],y=[],E,T="",S=ks(g["!ref"]),A=Array.isArray(g),R=S.s.r;R<=S.e.r;++R)for(var w=S.s.c;w<=S.e.c;++w)if(T=ln({r:R,c:w}),E=A?(g[R]||[])[w]:g[T],!(!E||E.v==null||E.t==="z")){switch(y=["cell",T,"t"],E.t){case"s":case"str":y.push(e(E.v));break;case"n":E.f?(y[2]="vtf",y[3]="n",y[4]=E.v,y[5]=e(E.f)):(y[2]="v",y[3]=E.v);break;case"b":y[2]="vt"+(E.f?"f":"c"),y[3]="nl",y[4]=E.v?"1":"0",y[5]=e(E.f||(E.v?"TRUE":"FALSE"));break;case"d":var D=jr(Ii(E.v));y[2]="vtc",y[3]="nd",y[4]=""+D,y[5]=E.w||Wo(E.z||an[14],D);break;case"e":continue}v.push(y.join(":"))}return v.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function p(g){return[a,s,l,s,h(g),u].join(`
`)}return{to_workbook:r,to_sheet:i,from_sheet:p}}(),Qp=function(){function n(p,g,v,y,E){E.raw?g[v][y]=p:p===""||(p==="TRUE"?g[v][y]=!0:p==="FALSE"?g[v][y]=!1:isNaN(Cl(p))?isNaN(Zp(p).getDate())?g[v][y]=p:g[v][y]=Ii(p):g[v][y]=Cl(p))}function e(p,g){var v=g||{},y=[];if(!p||p.length===0)return y;for(var E=p.split(/[\r\n]/),T=E.length-1;T>=0&&E[T].length===0;)--T;for(var S=10,A=0,R=0;R<=T;++R)A=E[R].indexOf(" "),A==-1?A=E[R].length:A++,S=Math.max(S,A);for(R=0;R<=T;++R){y[R]=[];var w=0;for(n(E[R].slice(0,S).trim(),y,R,w,v),w=1;w<=(E[R].length-S)/10+1;++w)n(E[R].slice(S+(w-1)*10,S+w*10).trim(),y,R,w,v)}return v.sheetRows&&(y=y.slice(0,v.sheetRows)),y}var t={44:",",9:"	",59:";",124:"|"},i={44:3,9:2,59:1,124:0};function r(p){for(var g={},v=!1,y=0,E=0;y<p.length;++y)(E=p.charCodeAt(y))==34?v=!v:!v&&E in t&&(g[E]=(g[E]||0)+1);E=[];for(y in g)Object.prototype.hasOwnProperty.call(g,y)&&E.push([g[y],y]);if(!E.length){g=i;for(y in g)Object.prototype.hasOwnProperty.call(g,y)&&E.push([g[y],y])}return E.sort(function(T,S){return T[0]-S[0]||i[T[1]]-i[S[1]]}),t[E.pop()[1]]||44}function a(p,g){var v=g||{},y="",E=v.dense?[]:{},T={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(y=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(y=p.charAt(4),p=p.slice(6)):y=r(p.slice(0,1024)):v&&v.FS?y=v.FS:y=r(p.slice(0,1024));var S=0,A=0,R=0,w=0,D=0,P=y.charCodeAt(0),F=!1,U=0,I=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var C=v.dateNF!=null?IQ(v.dateNF):null;function L(){var k=p.slice(w,D),G={};if(k.charAt(0)=='"'&&k.charAt(k.length-1)=='"'&&(k=k.slice(1,-1).replace(/""/g,'"')),k.length===0)G.t="z";else if(v.raw)G.t="s",G.v=k;else if(k.trim().length===0)G.t="s",G.v=k;else if(k.charCodeAt(0)==61)k.charCodeAt(1)==34&&k.charCodeAt(k.length-1)==34?(G.t="s",G.v=k.slice(2,-1).replace(/""/g,'"')):lie(k)?(G.t="n",G.f=k.slice(1)):(G.t="s",G.v=k);else if(k=="TRUE")G.t="b",G.v=!0;else if(k=="FALSE")G.t="b",G.v=!1;else if(!isNaN(R=Cl(k)))G.t="n",v.cellText!==!1&&(G.w=k),G.v=R;else if(!isNaN(Zp(k).getDate())||C&&k.match(C)){G.z=v.dateNF||an[14];var ee=0;C&&k.match(C)&&(k=LQ(k,v.dateNF,k.match(C)||[]),ee=1),v.cellDates?(G.t="d",G.v=Ii(k,ee)):(G.t="n",G.v=jr(Ii(k,ee))),v.cellText!==!1&&(G.w=Wo(G.z,G.v instanceof Date?jr(G.v):G.v)),v.cellNF||delete G.z}else G.t="s",G.v=k;if(G.t=="z"||(v.dense?(E[S]||(E[S]=[]),E[S][A]=G):E[ln({c:A,r:S})]=G),w=D+1,I=p.charCodeAt(w),T.e.c<A&&(T.e.c=A),T.e.r<S&&(T.e.r=S),U==P)++A;else if(A=0,++S,v.sheetRows&&v.sheetRows<=S)return!0}e:for(;D<p.length;++D)switch(U=p.charCodeAt(D)){case 34:I===34&&(F=!F);break;case P:case 10:case 13:if(!F&&L())break e;break}return D-w>0&&L(),E["!ref"]=bn(T),E}function s(p,g){return!(g&&g.PRN)||g.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?a(p,g):mm(e(p,g),g)}function l(p,g){var v="",y=g.type=="string"?[0,0,0,0]:Uw(p,g);switch(g.type){case"base64":v=oo(p);break;case"binary":v=p;break;case"buffer":g.codepage==65001?v=p.toString("utf8"):(g.codepage,v=Ln&&Buffer.isBuffer(p)?p.toString("binary"):Zf(p));break;case"array":v=Ld(p);break;case"string":v=p;break;default:throw new Error("Unrecognized type "+g.type)}return y[0]==239&&y[1]==187&&y[2]==191?v=Ti(v.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?v=Ti(v):g.type=="binary",v.slice(0,19)=="socialcalc:version:"?UP.to_sheet(g.type=="string"?v:Ti(v),g):s(v,g)}function u(p,g){return Qf(l(p,g),g)}function h(p){for(var g=[],v=Jn(p["!ref"]),y,E=Array.isArray(p),T=v.s.r;T<=v.e.r;++T){for(var S=[],A=v.s.c;A<=v.e.c;++A){var R=ln({r:T,c:A});if(y=E?(p[T]||[])[A]:p[R],!y||y.v==null){S.push("          ");continue}for(var w=(y.w||(Au(y),y.w)||"").slice(0,10);w.length<10;)w+=" ";S.push(w+(A===0?" ":""))}g.push(S.join(""))}return g.join(`
`)}return{to_workbook:u,to_sheet:l,from_sheet:h}}();function qee(n,e){var t=e||{},i=!!t.WTF;t.WTF=!0;try{var r=IP.to_workbook(n,t);return t.WTF=i,r}catch(a){if(t.WTF=i,!a.message.match(/SYLK bad record ID/)&&i)throw a;return Qp.to_workbook(n,e)}}var Md=function(){function n(H,q,V){if(H){xa(H,H.l||0);for(var Q=V.Enum||j;H.l<H.length;){var ge=H.read_shift(2),Ae=Q[ge]||Q[65535],Ee=H.read_shift(2),Ce=H.l+Ee,Ne=Ae.f&&Ae.f(H,Ee,V);if(H.l=Ce,q(Ne,Ae,ge))return}}}function e(H,q){switch(q.type){case"base64":return t(io(oo(H)),q);case"binary":return t(io(H),q);case"buffer":case"array":return t(H,q)}throw"Unsupported type "+q.type}function t(H,q){if(!H)return H;var V=q||{},Q=V.dense?[]:{},ge="Sheet1",Ae="",Ee=0,Ce={},Ne=[],st=[],se={s:{r:0,c:0},e:{r:0,c:0}},vt=V.sheetRows||0;if(H[2]==0&&(H[3]==8||H[3]==9)&&H.length>=16&&H[14]==5&&H[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(H[2]==2)V.Enum=j,n(H,function(Re,Pe,ut){switch(ut){case 0:V.vers=Re,Re>=4096&&(V.qpro=!0);break;case 6:se=Re;break;case 204:Re&&(Ae=Re);break;case 222:Ae=Re;break;case 15:case 51:V.qpro||(Re[1].v=Re[1].v.slice(1));case 13:case 14:case 16:ut==14&&(Re[2]&112)==112&&(Re[2]&15)>1&&(Re[2]&15)<15&&(Re[1].z=V.dateNF||an[14],V.cellDates&&(Re[1].t="d",Re[1].v=BS(Re[1].v))),V.qpro&&Re[3]>Ee&&(Q["!ref"]=bn(se),Ce[ge]=Q,Ne.push(ge),Q=V.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},Ee=Re[3],ge=Ae||"Sheet"+(Ee+1),Ae="");var $e=V.dense?(Q[Re[0].r]||[])[Re[0].c]:Q[ln(Re[0])];if($e){$e.t=Re[1].t,$e.v=Re[1].v,Re[1].z!=null&&($e.z=Re[1].z),Re[1].f!=null&&($e.f=Re[1].f);break}V.dense?(Q[Re[0].r]||(Q[Re[0].r]=[]),Q[Re[0].r][Re[0].c]=Re[1]):Q[ln(Re[0])]=Re[1];break}},V);else if(H[2]==26||H[2]==14)V.Enum=le,H[2]==14&&(V.qpro=!0,H.l=0),n(H,function(Re,Pe,ut){switch(ut){case 204:ge=Re;break;case 22:Re[1].v=Re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Re[3]>Ee&&(Q["!ref"]=bn(se),Ce[ge]=Q,Ne.push(ge),Q=V.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},Ee=Re[3],ge="Sheet"+(Ee+1)),vt>0&&Re[0].r>=vt)break;V.dense?(Q[Re[0].r]||(Q[Re[0].r]=[]),Q[Re[0].r][Re[0].c]=Re[1]):Q[ln(Re[0])]=Re[1],se.e.c<Re[0].c&&(se.e.c=Re[0].c),se.e.r<Re[0].r&&(se.e.r=Re[0].r);break;case 27:Re[14e3]&&(st[Re[14e3][0]]=Re[14e3][1]);break;case 1537:st[Re[0]]=Re[1],Re[0]==Ee&&(ge=Re[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+H[2]);if(Q["!ref"]=bn(se),Ce[Ae||ge]=Q,Ne.push(Ae||ge),!st.length)return{SheetNames:Ne,Sheets:Ce};for(var J={},Ze=[],Ie=0;Ie<st.length;++Ie)Ce[Ne[Ie]]?(Ze.push(st[Ie]||Ne[Ie]),J[st[Ie]]=Ce[st[Ie]]||Ce[Ne[Ie]]):(Ze.push(st[Ie]),J[st[Ie]]={"!ref":"A1"});return{SheetNames:Ze,Sheets:J}}function i(H,q){var V=q||{};if(+V.codepage>=0&&Ml(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=Bs(),ge=Jn(H["!ref"]),Ae=Array.isArray(H),Ee=[];Rt(Q,0,a(1030)),Rt(Q,6,u(ge));for(var Ce=Math.min(ge.e.r,8191),Ne=ge.s.r;Ne<=Ce;++Ne)for(var st=mr(Ne),se=ge.s.c;se<=ge.e.c;++se){Ne===ge.s.r&&(Ee[se]=Ki(se));var vt=Ee[se]+st,J=Ae?(H[Ne]||[])[se]:H[vt];if(!(!J||J.t=="z"))if(J.t=="n")(J.v|0)==J.v&&J.v>=-32768&&J.v<=32767?Rt(Q,13,y(Ne,se,J.v)):Rt(Q,14,T(Ne,se,J.v));else{var Ze=Au(J);Rt(Q,15,g(Ne,se,Ze.slice(0,239)))}}return Rt(Q,1),Q.end()}function r(H,q){var V=q||{};if(+V.codepage>=0&&Ml(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=Bs();Rt(Q,0,s(H));for(var ge=0,Ae=0;ge<H.SheetNames.length;++ge)(H.Sheets[H.SheetNames[ge]]||{})["!ref"]&&Rt(Q,27,ne(H.SheetNames[ge],Ae++));var Ee=0;for(ge=0;ge<H.SheetNames.length;++ge){var Ce=H.Sheets[H.SheetNames[ge]];if(!(!Ce||!Ce["!ref"])){for(var Ne=Jn(Ce["!ref"]),st=Array.isArray(Ce),se=[],vt=Math.min(Ne.e.r,8191),J=Ne.s.r;J<=vt;++J)for(var Ze=mr(J),Ie=Ne.s.c;Ie<=Ne.e.c;++Ie){J===Ne.s.r&&(se[Ie]=Ki(Ie));var Re=se[Ie]+Ze,Pe=st?(Ce[J]||[])[Ie]:Ce[Re];if(!(!Pe||Pe.t=="z"))if(Pe.t=="n")Rt(Q,23,L(J,Ie,Ee,Pe.v));else{var ut=Au(Pe);Rt(Q,22,U(J,Ie,Ee,ut.slice(0,239)))}}++Ee}}return Rt(Q,1),Q.end()}function a(H){var q=nt(2);return q.write_shift(2,H),q}function s(H){var q=nt(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var V=0,Q=0,ge=0,Ae=0;Ae<H.SheetNames.length;++Ae){var Ee=H.SheetNames[Ae],Ce=H.Sheets[Ee];if(!(!Ce||!Ce["!ref"])){++ge;var Ne=ks(Ce["!ref"]);V<Ne.e.r&&(V=Ne.e.r),Q<Ne.e.c&&(Q=Ne.e.c)}}return V>8191&&(V=8191),q.write_shift(2,V),q.write_shift(1,ge),q.write_shift(1,Q),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function l(H,q,V){var Q={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&V.qpro?(Q.s.c=H.read_shift(1),H.l++,Q.s.r=H.read_shift(2),Q.e.c=H.read_shift(1),H.l++,Q.e.r=H.read_shift(2),Q):(Q.s.c=H.read_shift(2),Q.s.r=H.read_shift(2),q==12&&V.qpro&&(H.l+=2),Q.e.c=H.read_shift(2),Q.e.r=H.read_shift(2),q==12&&V.qpro&&(H.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function u(H){var q=nt(8);return q.write_shift(2,H.s.c),q.write_shift(2,H.s.r),q.write_shift(2,H.e.c),q.write_shift(2,H.e.r),q}function h(H,q,V){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(Q[0].c=H.read_shift(1),Q[3]=H.read_shift(1),Q[0].r=H.read_shift(2),H.l+=2):(Q[2]=H.read_shift(1),Q[0].c=H.read_shift(2),Q[0].r=H.read_shift(2)),Q}function p(H,q,V){var Q=H.l+q,ge=h(H,q,V);if(ge[1].t="s",V.vers==20768){H.l++;var Ae=H.read_shift(1);return ge[1].v=H.read_shift(Ae,"utf8"),ge}return V.qpro&&H.l++,ge[1].v=H.read_shift(Q-H.l,"cstr"),ge}function g(H,q,V){var Q=nt(7+V.length);Q.write_shift(1,255),Q.write_shift(2,q),Q.write_shift(2,H),Q.write_shift(1,39);for(var ge=0;ge<Q.length;++ge){var Ae=V.charCodeAt(ge);Q.write_shift(1,Ae>=128?95:Ae)}return Q.write_shift(1,0),Q}function v(H,q,V){var Q=h(H,q,V);return Q[1].v=H.read_shift(2,"i"),Q}function y(H,q,V){var Q=nt(7);return Q.write_shift(1,255),Q.write_shift(2,q),Q.write_shift(2,H),Q.write_shift(2,V,"i"),Q}function E(H,q,V){var Q=h(H,q,V);return Q[1].v=H.read_shift(8,"f"),Q}function T(H,q,V){var Q=nt(13);return Q.write_shift(1,255),Q.write_shift(2,q),Q.write_shift(2,H),Q.write_shift(8,V,"f"),Q}function S(H,q,V){var Q=H.l+q,ge=h(H,q,V);if(ge[1].v=H.read_shift(8,"f"),V.qpro)H.l=Q;else{var Ae=H.read_shift(2);D(H.slice(H.l,H.l+Ae),ge),H.l+=Ae}return ge}function A(H,q,V){var Q=q&32768;return q&=-32769,q=(Q?H:0)+(q>=8192?q-16384:q),(Q?"":"$")+(V?Ki(q):mr(q))}var R={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(H,q){xa(H,0);for(var V=[],Q=0,ge="",Ae="",Ee="",Ce="";H.l<H.length;){var Ne=H[H.l++];switch(Ne){case 0:V.push(H.read_shift(8,"f"));break;case 1:Ae=A(q[0].c,H.read_shift(2),!0),ge=A(q[0].r,H.read_shift(2),!1),V.push(Ae+ge);break;case 2:{var st=A(q[0].c,H.read_shift(2),!0),se=A(q[0].r,H.read_shift(2),!1);Ae=A(q[0].c,H.read_shift(2),!0),ge=A(q[0].r,H.read_shift(2),!1),V.push(st+se+":"+Ae+ge)}break;case 3:if(H.l<H.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(H.read_shift(2));break;case 6:{for(var vt="";Ne=H[H.l++];)vt+=String.fromCharCode(Ne);V.push('"'+vt.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:Ce=V.pop(),Ee=V.pop(),V.push(["AND","OR"][Ne-20]+"("+Ee+","+Ce+")");break;default:if(Ne<32&&w[Ne])Ce=V.pop(),Ee=V.pop(),V.push(Ee+w[Ne]+Ce);else if(R[Ne]){if(Q=R[Ne][1],Q==69&&(Q=H[H.l++]),Q>V.length){console.error("WK1 bad formula parse 0x"+Ne.toString(16)+":|"+V.join("|")+"|");return}var J=V.slice(-Q);V.length-=Q,V.push(R[Ne][0]+"("+J.join(",")+")")}else return Ne<=7?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=24?console.error("WK1 unsupported op "+Ne.toString(16)):Ne<=30?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=115?console.error("WK1 unsupported function opcode "+Ne.toString(16)):console.error("WK1 unrecognized opcode "+Ne.toString(16))}}V.length==1?q[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function P(H){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=H.read_shift(2),q[3]=H[H.l++],q[0].c=H[H.l++],q}function F(H,q){var V=P(H);return V[1].t="s",V[1].v=H.read_shift(q-4,"cstr"),V}function U(H,q,V,Q){var ge=nt(6+Q.length);ge.write_shift(2,H),ge.write_shift(1,V),ge.write_shift(1,q),ge.write_shift(1,39);for(var Ae=0;Ae<Q.length;++Ae){var Ee=Q.charCodeAt(Ae);ge.write_shift(1,Ee>=128?95:Ee)}return ge.write_shift(1,0),ge}function I(H,q){var V=P(H);V[1].v=H.read_shift(2);var Q=V[1].v>>1;if(V[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return V[1].v=Q,V}function C(H,q){var V=P(H),Q=H.read_shift(4),ge=H.read_shift(4),Ae=H.read_shift(2);if(Ae==65535)return Q===0&&ge===3221225472?(V[1].t="e",V[1].v=15):Q===0&&ge===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var Ee=Ae&32768;return Ae=(Ae&32767)-16446,V[1].v=(1-Ee*2)*(ge*Math.pow(2,Ae+32)+Q*Math.pow(2,Ae)),V}function L(H,q,V,Q){var ge=nt(14);if(ge.write_shift(2,H),ge.write_shift(1,V),ge.write_shift(1,q),Q==0)return ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(2,65535),ge;var Ae=0,Ee=0,Ce=0,Ne=0;return Q<0&&(Ae=1,Q=-Q),Ee=Math.log2(Q)|0,Q/=Math.pow(2,Ee-31),Ne=Q>>>0,(Ne&2147483648)==0&&(Q/=2,++Ee,Ne=Q>>>0),Q-=Ne,Ne|=2147483648,Ne>>>=0,Q*=Math.pow(2,32),Ce=Q>>>0,ge.write_shift(4,Ce),ge.write_shift(4,Ne),Ee+=16383+(Ae?32768:0),ge.write_shift(2,Ee),ge}function k(H,q){var V=C(H);return H.l+=q-14,V}function G(H,q){var V=P(H),Q=H.read_shift(4);return V[1].v=Q>>6,V}function ee(H,q){var V=P(H),Q=H.read_shift(8,"f");return V[1].v=Q,V}function ve(H,q){var V=ee(H);return H.l+=q-10,V}function pe(H,q){return H[H.l+q-1]==0?H.read_shift(q,"cstr"):""}function W(H,q){var V=H[H.l++];V>q-1&&(V=q-1);for(var Q="";Q.length<V;)Q+=String.fromCharCode(H[H.l++]);return Q}function K(H,q,V){if(!(!V.qpro||q<21)){var Q=H.read_shift(1);H.l+=17,H.l+=1,H.l+=2;var ge=H.read_shift(q-21,"cstr");return[Q,ge]}}function ie(H,q){for(var V={},Q=H.l+q;H.l<Q;){var ge=H.read_shift(2);if(ge==14e3){for(V[ge]=[0,""],V[ge][0]=H.read_shift(2);H[H.l];)V[ge][1]+=String.fromCharCode(H[H.l]),H.l++;H.l++}}return V}function ne(H,q){var V=nt(5+H.length);V.write_shift(2,14e3),V.write_shift(2,q);for(var Q=0;Q<H.length;++Q){var ge=H.charCodeAt(Q);V[V.l++]=ge>127?95:ge}return V[V.l++]=0,V}var j={0:{n:"BOF",f:Cr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:E},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:pe},222:{n:"SHEETNAMELP",f:W},65535:{n:""}},le={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:F},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:k},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ie},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:G},38:{n:"??"},39:{n:"NUMBER27",f:ee},40:{n:"FORMULA28",f:ve},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:pe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:K},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:i,book_to_wk3:r,to_workbook:e}}();function Kee(n){var e={},t=n.match(Ya),i=0,r=!1;if(t)for(;i!=t.length;++i){var a=hn(t[i]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=JM[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(a[0].charCodeAt(1)!==47&&!r)throw new Error("Unrecognized rich format "+a[0])}}return e}var Zee=function(){var n=ex("t"),e=ex("rPr");function t(a){var s=a.match(n);if(!s)return{t:"s",v:""};var l={t:"s",v:Zn(s[1])},u=a.match(e);return u&&(l.s=Kee(u[1])),l}var i=/<(?:\w+:)?r>/g,r=/<\/(?:\w+:)?r>/;return function(s){return s.replace(i,"").split(r).map(t).filter(function(l){return l.v})}}(),Qee=function(){var e=/(\r\n|\n)/g;function t(r,a,s){var l=[];r.u&&l.push("text-decoration: underline;"),r.uval&&l.push("text-underline-style:"+r.uval+";"),r.sz&&l.push("font-size:"+r.sz+"pt;"),r.outline&&l.push("text-effect: outline;"),r.shadow&&l.push("text-shadow: auto;"),a.push('<span style="'+l.join("")+'">'),r.b&&(a.push("<b>"),s.push("</b>")),r.i&&(a.push("<i>"),s.push("</i>")),r.strike&&(a.push("<s>"),s.push("</s>"));var u=r.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(a.push("<"+u+">"),s.push("</"+u+">")),s.push("</span>"),r}function i(r){var a=[[],r.v,[]];return r.v?(r.s&&t(r.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(i).join("")}}(),Jee=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,$ee=/<(?:\w+:)?r>/,ete=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Sw(n,e){var t=e?e.cellHTML:!0,i={};return n?(n.match(/^\s*<(?:\w+:)?t[^>]*>/)?(i.t=Zn(Ti(n.slice(n.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),i.r=Ti(n),t&&(i.h=lw(i.t))):n.match($ee)&&(i.r=Ti(n),i.t=Zn(Ti((n.replace(ete,"").match(Jee)||[]).join("").replace(Ya,""))),t&&(i.h=Qee(Zee(i.r)))),i):{t:""}}var tte=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,nte=/<(?:\w+:)?(?:si|sstItem)>/g,ite=/<\/(?:\w+:)?(?:si|sstItem)>/;function rte(n,e){var t=[],i="";if(!n)return t;var r=n.match(tte);if(r){i=r[2].replace(nte,"").split(ite);for(var a=0;a!=i.length;++a){var s=Sw(i[a].trim(),e);s!=null&&(t[t.length]=s)}r=hn(r[1]),t.Count=r.count,t.Unique=r.uniqueCount}return t}var ate=/^\s|\s$|[\t\n\r]/;function FP(n,e){if(!e.bookSST)return"";var t=[vr];t[t.length]=wt("sst",null,{xmlns:Hd[0],count:n.Count,uniqueCount:n.Unique});for(var i=0;i!=n.length;++i)if(n[i]!=null){var r=n[i],a="<si>";r.r?a+=r.r:(a+="<t",r.t||(r.t=""),r.t.match(ate)&&(a+=' xml:space="preserve"'),a+=">"+gi(r.t)+"</t>"),a+="</si>",t[t.length]=a}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function ste(n){return[n.read_shift(4),n.read_shift(4)]}function ote(n,e){var t=[],i=!1;return Mu(n,function(a,s,l){switch(l){case 159:t.Count=a[0],t.Unique=a[1];break;case 19:t.push(a);break;case 160:return!0;case 35:i=!0;break;case 36:i=!1;break;default:if(s.T,!i||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),t}function lte(n,e){return e||(e=nt(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var cte=yJ;function ute(n){var e=Bs();dt(e,159,lte(n));for(var t=0;t<n.length;++t)dt(e,19,cte(n[t]));return dt(e,160),e.end()}function PP(n){for(var e=[],t=n.split(""),i=0;i<t.length;++i)e[i]=t[i].charCodeAt(0);return e}function gu(n,e){var t={};return t.Major=n.read_shift(2),t.Minor=n.read_shift(2),e>=4&&(n.l+=e-4),t}function fte(n){var e={};return e.id=n.read_shift(0,"lpp4"),e.R=gu(n,4),e.U=gu(n,4),e.W=gu(n,4),e}function hte(n){for(var e=n.read_shift(4),t=n.l+e-4,i={},r=n.read_shift(4),a=[];r-- >0;)a.push({t:n.read_shift(4),v:n.read_shift(0,"lpp4")});if(i.name=n.read_shift(0,"lpp4"),i.comps=a,n.l!=t)throw new Error("Bad DataSpaceMapEntry: "+n.l+" != "+t);return i}function dte(n){var e=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)e.push(hte(n));return e}function pte(n){var e=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)e.push(n.read_shift(0,"lpp4"));return e}function mte(n){var e={};return n.read_shift(4),n.l+=4,e.id=n.read_shift(0,"lpp4"),e.name=n.read_shift(0,"lpp4"),e.R=gu(n,4),e.U=gu(n,4),e.W=gu(n,4),e}function gte(n){var e=mte(n);if(e.ename=n.read_shift(0,"8lpp4"),e.blksz=n.read_shift(4),e.cmode=n.read_shift(4),n.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function BP(n,e){var t=n.l+e,i={};i.Flags=n.read_shift(4)&63,n.l+=4,i.AlgID=n.read_shift(4);var r=!1;switch(i.AlgID){case 26126:case 26127:case 26128:r=i.Flags==36;break;case 26625:r=i.Flags==4;break;case 0:r=i.Flags==16||i.Flags==4||i.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+i.AlgID}if(!r)throw new Error("Encryption Flags/AlgID mismatch");return i.AlgIDHash=n.read_shift(4),i.KeySize=n.read_shift(4),i.ProviderType=n.read_shift(4),n.l+=8,i.CSPName=n.read_shift(t-n.l>>1,"utf16le"),n.l=t,i}function kP(n,e){var t={},i=n.l+e;return n.l+=4,t.Salt=n.slice(n.l,n.l+16),n.l+=16,t.Verifier=n.slice(n.l,n.l+16),n.l+=16,n.read_shift(4),t.VerifierHash=n.slice(n.l,i),n.l=i,t}function vte(n){var e=gu(n);switch(e.Minor){case 2:return[e.Minor,xte(n)];case 3:return[e.Minor,yte()];case 4:return[e.Minor,_te(n)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function xte(n){var e=n.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=n.read_shift(4),i=BP(n,t),r=kP(n,n.length-n.l);return{t:"Std",h:i,v:r}}function yte(){throw new Error("File is password-protected: ECMA-376 Extensible")}function _te(n){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];n.l+=4;var t=n.read_shift(n.length-n.l,"utf8"),i={};return t.replace(Ya,function(a){var s=hn(a);switch(Rc(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(l){i[l]=s[l]});break;case"<dataIntegrity":i.encryptedHmacKey=s.encryptedHmacKey,i.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":i.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":i.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":i.encs.push(s);break;default:throw s[0]}}),i}function Ete(n,e){var t={},i=t.EncryptionVersionInfo=gu(n,4);if(e-=4,i.Minor!=2)throw new Error("unrecognized minor version code: "+i.Minor);if(i.Major>4||i.Major<2)throw new Error("unrecognized major version code: "+i.Major);t.Flags=n.read_shift(4),e-=4;var r=n.read_shift(4);return e-=4,t.EncryptionHeader=BP(n,r),e-=r,t.EncryptionVerifier=kP(n,e),t}function Ste(n){var e={},t=e.EncryptionVersionInfo=gu(n,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=n.read_shift(16),e.EncryptedVerifier=n.read_shift(16),e.EncryptedVerifierHash=n.read_shift(16),e}function Tw(n){var e=0,t,i=PP(n),r=i.length+1,a,s,l,u,h;for(t=zf(r),t[0]=i.length,a=1;a!=r;++a)t[a]=i[a-1];for(a=r-1;a>=0;--a)s=t[a],l=(e&16384)===0?0:1,u=e<<1&32767,h=l|u,e=h^s;return e^52811}var zP=function(){var n=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],i=function(s){return(s/2|s*128)&255},r=function(s,l){return i(s^l)},a=function(s){for(var l=e[s.length-1],u=104,h=s.length-1;h>=0;--h)for(var p=s[h],g=0;g!=7;++g)p&64&&(l^=t[u]),p*=2,--u;return l};return function(s){for(var l=PP(s),u=a(l),h=l.length,p=zf(16),g=0;g!=16;++g)p[g]=0;var v,y,E;for((h&1)===1&&(v=u>>8,p[h]=r(n[0],v),--h,v=u&255,y=l[l.length-1],p[h]=r(y,v));h>0;)--h,v=u>>8,p[h]=r(l[h],v),--h,v=u&255,p[h]=r(l[h],v);for(h=15,E=15-l.length;E>0;)v=u>>8,p[h]=r(n[E],v),--h,--E,v=u&255,p[h]=r(l[h],v),--h,--E;return p}}(),Tte=function(n,e,t,i,r){r||(r=e),i||(i=zP(n));var a,s;for(a=0;a!=e.length;++a)s=e[a],s^=i[t],s=(s>>5|s<<3)&255,r[a]=s,++t;return[r,t,i]},Ate=function(n){var e=0,t=zP(n);return function(i){var r=Tte("",i,e,t);return e=r[1],r[0]}};function bte(n,e,t,i){var r={key:Cr(n),verificationBytes:Cr(n)};return t.password&&(r.verifier=Tw(t.password)),i.valid=r.verificationBytes===r.verifier,i.valid&&(i.insitu=Ate(t.password)),r}function Mte(n,e,t){var i=t||{};return i.Info=n.read_shift(2),n.l-=2,i.Info===1?i.Data=Ste(n):i.Data=Ete(n,e),i}function wte(n,e,t){var i={Type:t.biff>=8?n.read_shift(2):0};return i.Type?Mte(n,e-2,i):bte(n,t.biff>=8?e:e-2,t,i),i}var VP=function(){function n(r,a){switch(a.type){case"base64":return e(oo(r),a);case"binary":return e(r,a);case"buffer":return e(Ln&&Buffer.isBuffer(r)?r.toString("binary"):Zf(r),a);case"array":return e(Ld(r),a)}throw new Error("Unrecognized type "+a.type)}function e(r,a){var s=a||{},l=s.dense?[]:{},u=r.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(p,g){Array.isArray(l)&&(l[g]=[]);for(var v=/\\\w+\b/g,y=0,E,T=-1;E=v.exec(p);){switch(E[0]){case"\\cell":var S=p.slice(y,v.lastIndex-E[0].length);if(S[0]==" "&&(S=S.slice(1)),++T,S.length){var A={v:S,t:"s"};Array.isArray(l)?l[g][T]=A:l[ln({r:g,c:T})]=A}break}y=v.lastIndex}T>h.e.c&&(h.e.c=T)}),l["!ref"]=bn(h),l}function t(r,a){return Qf(n(r,a),a)}function i(r){for(var a=["{\\rtf1\\ansi"],s=Jn(r["!ref"]),l,u=Array.isArray(r),h=s.s.r;h<=s.e.r;++h){a.push("\\trowd\\trautofit1");for(var p=s.s.c;p<=s.e.c;++p)a.push("\\cellx"+(p+1));for(a.push("\\pard\\intbl"),p=s.s.c;p<=s.e.c;++p){var g=ln({r:h,c:p});l=u?(r[h]||[])[p]:r[g],!(!l||l.v==null&&(!l.f||l.F))&&(a.push(" "+(l.w||(Au(l),l.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:i}}();function Rte(n){var e=n.slice(n[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function rx(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}function Cte(n){var e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.max(e,t,i),a=Math.min(e,t,i),s=r-a;if(s===0)return[0,0,e];var l=0,u=0,h=r+a;switch(u=s/(h>1?2-h:h),r){case e:l=((t-i)/s+6)%6;break;case t:l=(i-e)/s+2;break;case i:l=(e-t)/s+4;break}return[l/6,u,h/2]}function Ote(n){var e=n[0],t=n[1],i=n[2],r=t*2*(i<.5?i:1-i),a=i-r/2,s=[a,a,a],l=6*e,u;if(t!==0)switch(l|0){case 0:case 6:u=r*l,s[0]+=r,s[1]+=u;break;case 1:u=r*(2-l),s[0]+=u,s[1]+=r;break;case 2:u=r*(l-2),s[1]+=r,s[2]+=u;break;case 3:u=r*(4-l),s[1]+=u,s[2]+=r;break;case 4:u=r*(l-4),s[2]+=r,s[0]+=u;break;case 5:u=r*(6-l),s[2]+=u,s[0]+=r;break}for(var h=0;h!=3;++h)s[h]=Math.round(s[h]*255);return s}function XE(n,e){if(e===0)return n;var t=Cte(Rte(n));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),rx(Ote(t))}var HP=6,Nte=15,Dte=1,ka=HP;function ax(n){return Math.floor((n+Math.round(128/ka)/256)*ka)}function sx(n){return Math.floor((n-5)/ka*100+.5)/100}function WE(n){return Math.round((n*ka+5)/ka*256)/256}function oA(n){return WE(sx(ax(n)))}function Aw(n){var e=Math.abs(n-oA(n)),t=ka;if(e>.005)for(ka=Dte;ka<Nte;++ka)Math.abs(n-oA(n))<=e&&(e=Math.abs(n-oA(n)),t=ka);ka=t}function Vf(n){n.width?(n.wpx=ax(n.width),n.wch=sx(n.wpx),n.MDW=ka):n.wpx?(n.wch=sx(n.wpx),n.width=WE(n.wch),n.MDW=ka):typeof n.wch=="number"&&(n.width=WE(n.wch),n.wpx=ax(n.width),n.MDW=ka),n.customWidth&&delete n.customWidth}var Ite=96,GP=Ite;function ox(n){return n*96/GP}function Jp(n){return n*GP/96}var Lte={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Ute(n,e,t,i){e.Borders=[];var r={},a=!1;(n[0].match(Ya)||[]).forEach(function(s){var l=hn(s);switch(Rc(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":r={},l.diagonalUp&&(r.diagonalUp=Ni(l.diagonalUp)),l.diagonalDown&&(r.diagonalDown=Ni(l.diagonalDown)),e.Borders.push(r);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i&&i.WTF&&!a)throw new Error("unrecognized "+l[0]+" in borders")}})}function Fte(n,e,t,i){e.Fills=[];var r={},a=!1;(n[0].match(Ya)||[]).forEach(function(s){var l=hn(s);switch(Rc(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":r={},e.Fills.push(r);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(r),r={};break;case"<patternFill":case"<patternFill>":l.patternType&&(r.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":r.bgColor||(r.bgColor={}),l.indexed&&(r.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(r.bgColor.theme=parseInt(l.theme,10)),l.tint&&(r.bgColor.tint=parseFloat(l.tint)),l.rgb&&(r.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":r.fgColor||(r.fgColor={}),l.theme&&(r.fgColor.theme=parseInt(l.theme,10)),l.tint&&(r.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(r.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i&&i.WTF&&!a)throw new Error("unrecognized "+l[0]+" in fills")}})}function Pte(n,e,t,i){e.Fonts=[];var r={},a=!1;(n[0].match(Ya)||[]).forEach(function(s){var l=hn(s);switch(Rc(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(r),r={};break;case"<name":l.val&&(r.name=Ti(l.val));break;case"<name/>":case"</name>":break;case"<b":r.bold=l.val?Ni(l.val):1;break;case"<b/>":r.bold=1;break;case"<i":r.italic=l.val?Ni(l.val):1;break;case"<i/>":r.italic=1;break;case"<u":switch(l.val){case"none":r.underline=0;break;case"single":r.underline=1;break;case"double":r.underline=2;break;case"singleAccounting":r.underline=33;break;case"doubleAccounting":r.underline=34;break}break;case"<u/>":r.underline=1;break;case"<strike":r.strike=l.val?Ni(l.val):1;break;case"<strike/>":r.strike=1;break;case"<outline":r.outline=l.val?Ni(l.val):1;break;case"<outline/>":r.outline=1;break;case"<shadow":r.shadow=l.val?Ni(l.val):1;break;case"<shadow/>":r.shadow=1;break;case"<condense":r.condense=l.val?Ni(l.val):1;break;case"<condense/>":r.condense=1;break;case"<extend":r.extend=l.val?Ni(l.val):1;break;case"<extend/>":r.extend=1;break;case"<sz":l.val&&(r.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(r.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(r.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(r.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=JM[parseInt(l.val,10)];break;case"<color":if(r.color||(r.color={}),l.auto&&(r.color.auto=Ni(l.auto)),l.rgb)r.color.rgb=l.rgb.slice(-6);else if(l.indexed){r.color.index=parseInt(l.indexed,10);var u=Ad[r.color.index];r.color.index==81&&(u=Ad[1]),u||(u=Ad[1]),r.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else l.theme&&(r.color.theme=parseInt(l.theme,10),l.tint&&(r.color.tint=parseFloat(l.tint)),l.theme&&t.themeElements&&t.themeElements.clrScheme&&(r.color.rgb=XE(t.themeElements.clrScheme[r.color.theme].rgb,r.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i&&i.WTF&&!a)throw new Error("unrecognized "+l[0]+" in fonts")}})}function Bte(n,e,t){e.NumberFmt=[];for(var i=or(an),r=0;r<i.length;++r)e.NumberFmt[i[r]]=an[i[r]];var a=n[0].match(Ya);if(a)for(r=0;r<a.length;++r){var s=hn(a[r]);switch(Rc(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Zn(Ti(s.formatCode)),u=parseInt(s.numFmtId,10);if(e.NumberFmt[u]=l,u>0){if(u>392){for(u=392;u>60&&e.NumberFmt[u]!=null;--u);e.NumberFmt[u]=l}mu(l,u)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function kte(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var i=t[0];i<=t[1];++i)n[i]!=null&&(e[e.length]=wt("numFmt",null,{numFmtId:i,formatCode:gi(n[i])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=wt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var v_=["numFmtId","fillId","fontId","borderId","xfId"],x_=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function zte(n,e,t){e.CellXf=[];var i,r=!1;(n[0].match(Ya)||[]).forEach(function(a){var s=hn(a),l=0;switch(Rc(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(i=s,delete i[0],l=0;l<v_.length;++l)i[v_[l]]&&(i[v_[l]]=parseInt(i[v_[l]],10));for(l=0;l<x_.length;++l)i[x_[l]]&&(i[x_[l]]=Ni(i[x_[l]]));if(e.NumberFmt&&i.numFmtId>392){for(l=392;l>60;--l)if(e.NumberFmt[i.numFmtId]==e.NumberFmt[l]){i.numFmtId=l;break}}e.CellXf.push(i);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};s.vertical&&(u.vertical=s.vertical),s.horizontal&&(u.horizontal=s.horizontal),s.textRotation!=null&&(u.textRotation=s.textRotation),s.indent&&(u.indent=s.indent),s.wrapText&&(u.wrapText=Ni(s.wrapText)),i.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":r=!0;break;case"</AlternateContent>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(t&&t.WTF&&!r)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function Vte(n){var e=[];return e[e.length]=wt("cellXfs",null),n.forEach(function(t){e[e.length]=wt("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=wt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Hte=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,i=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,r=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,u,h){var p={};if(!l)return p;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var g;return(g=l.match(e))&&Bte(g,p,h),(g=l.match(r))&&Pte(g,p,u,h),(g=l.match(i))&&Fte(g,p,u,h),(g=l.match(a))&&Ute(g,p,u,h),(g=l.match(t))&&zte(g,p,h),p}}();function XP(n,e){var t=[vr,wt("styleSheet",null,{xmlns:Hd[0],"xmlns:vt":Gr.vt})],i;return n.SSF&&(i=kte(n.SSF))!=null&&(t[t.length]=i),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(i=Vte(e.cellXfs))&&(t[t.length]=i),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function Gte(n,e){var t=n.read_shift(2),i=Ga(n);return[t,i]}function Xte(n,e,t){t||(t=nt(6+4*e.length)),t.write_shift(2,n),aa(e,t);var i=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),i}function Wte(n,e,t){var i={};i.sz=n.read_shift(2)/20;var r=MJ(n);r.fItalic&&(i.italic=1),r.fCondense&&(i.condense=1),r.fExtend&&(i.extend=1),r.fShadow&&(i.shadow=1),r.fOutline&&(i.outline=1),r.fStrikeout&&(i.strike=1);var a=n.read_shift(2);switch(a===700&&(i.bold=1),n.read_shift(2)){case 1:i.vertAlign="superscript";break;case 2:i.vertAlign="subscript";break}var s=n.read_shift(1);s!=0&&(i.underline=s);var l=n.read_shift(1);l>0&&(i.family=l);var u=n.read_shift(1);switch(u>0&&(i.charset=u),n.l++,i.color=bJ(n),n.read_shift(1)){case 1:i.scheme="major";break;case 2:i.scheme="minor";break}return i.name=Ga(n),i}function Yte(n,e){e||(e=nt(25+4*32)),e.write_shift(2,n.sz*20),wJ(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),VE(n.color,e);var i=0;return i=2,e.write_shift(1,i),aa(n.name,e),e.length>e.l?e.slice(0,e.l):e}var jte=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],lA,qte=Xa;function rN(n,e){e||(e=nt(4*3+8*7+16*1)),lA||(lA=FS(jte));var t=lA[n.patternType];t==null&&(t=40),e.write_shift(4,t);var i=0;if(t!=40)for(VE({auto:1},e),VE({auto:1},e);i<12;++i)e.write_shift(4,0);else{for(;i<4;++i)e.write_shift(4,0);for(;i<12;++i)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Kte(n,e){var t=n.l+e,i=n.read_shift(2),r=n.read_shift(2);return n.l=t,{ixfe:i,numFmtId:r}}function WP(n,e,t){t||(t=nt(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var i=0;return t.write_shift(1,i),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function qg(n,e){return e||(e=nt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Zte=Xa;function Qte(n,e){return e||(e=nt(51)),e.write_shift(1,0),qg(null,e),qg(null,e),qg(null,e),qg(null,e),qg(null,e),e.length>e.l?e.slice(0,e.l):e}function Jte(n,e){return e||(e=nt(12+4*10)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),zE(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function $te(n,e,t){var i=nt(2052);return i.write_shift(4,n),zE(e,i),zE(t,i),i.length>i.l?i.slice(0,i.l):i}function ene(n,e,t){var i={};i.NumberFmt=[];for(var r in an)i.NumberFmt[r]=an[r];i.CellXf=[],i.Fonts=[];var a=[],s=!1;return Mu(n,function(u,h,p){switch(p){case 44:i.NumberFmt[u[0]]=u[1],mu(u[1],u[0]);break;case 43:i.Fonts.push(u),u.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(u.color.rgb=XE(e.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&i.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(p),s=!0;break;case 38:a.pop(),s=!1;break;default:if(h.T>0)a.push(p);else if(h.T<0)a.pop();else if(!s||t.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+p.toString(16))}}),i}function tne(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)e[r]!=null&&++t}),t!=0&&(dt(n,615,Ol(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)e[r]!=null&&dt(n,44,Xte(r,e[r]))}),dt(n,616))}}function nne(n){var e=1;dt(n,611,Ol(e)),dt(n,43,Yte({sz:12,color:{theme:1},name:"Calibri",family:2})),dt(n,612)}function ine(n){var e=2;dt(n,603,Ol(e)),dt(n,45,rN({patternType:"none"})),dt(n,45,rN({patternType:"gray125"})),dt(n,604)}function rne(n){var e=1;dt(n,613,Ol(e)),dt(n,46,Qte()),dt(n,614)}function ane(n){var e=1;dt(n,626,Ol(e)),dt(n,47,WP({numFmtId:0},65535)),dt(n,627)}function sne(n,e){dt(n,617,Ol(e.length)),e.forEach(function(t){dt(n,47,WP(t,0))}),dt(n,618)}function one(n){var e=1;dt(n,619,Ol(e)),dt(n,48,Jte({xfId:0,name:"Normal"})),dt(n,620)}function lne(n){var e=0;dt(n,505,Ol(e)),dt(n,506)}function cne(n){var e=0;dt(n,508,$te(e,"TableStyleMedium9","PivotStyleMedium4")),dt(n,509)}function une(n,e){var t=Bs();return dt(t,278),tne(t,n.SSF),nne(t),ine(t),rne(t),ane(t),sne(t,e.cellXfs),one(t),lne(t),cne(t),dt(t,279),t.end()}var fne=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function hne(n,e,t){e.themeElements.clrScheme=[];var i={};(n[0].match(Ya)||[]).forEach(function(r){var a=hn(r);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":i.rgb=a.val;break;case"<a:sysClr":i.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[fne.indexOf(a[0])]=i,i={}):i.name=a[0].slice(3,a[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function dne(){}function pne(){}var mne=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,gne=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,vne=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function xne(n,e,t){e.themeElements={};var i;[["clrScheme",mne,hne],["fontScheme",gne,dne],["fmtScheme",vne,pne]].forEach(function(r){if(!(i=n.match(r[1])))throw new Error(r[0]+" not found in themeElements");r[2](i,e,t)})}var yne=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function YP(n,e){(!n||n.length===0)&&(n=bw());var t,i={};if(!(t=n.match(yne)))throw new Error("themeElements not found in theme");return xne(t[0],i,e),i.raw=n,i}function bw(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[vr];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function _ne(n,e,t){var i=n.l+e,r=n.read_shift(4);if(r!==124226){if(!t.cellStyles){n.l=i;return}var a=n.slice(n.l);n.l=i;var s;try{s=BF(a,{type:"array"})}catch{return}var l=ro(s,"theme/theme/theme1.xml",!0);if(l)return YP(l,t)}}function Ene(n){return n.read_shift(4)}function Sne(n){var e={};switch(e.xclrType=n.read_shift(2),e.nTintShade=n.read_shift(2),e.xclrType){case 0:n.l+=4;break;case 1:e.xclrValue=Tne(n,4);break;case 2:e.xclrValue=bP(n);break;case 3:e.xclrValue=Ene(n);break;case 4:n.l+=4;break}return n.l+=8,e}function Tne(n,e){return Xa(n,e)}function Ane(n,e){return Xa(n,e)}function bne(n){var e=n.read_shift(2),t=n.read_shift(2)-4,i=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:i[1]=Sne(n);break;case 6:i[1]=Ane(n,t);break;case 14:case 15:i[1]=n.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return i}function Mne(n,e){var t=n.l+e;n.l+=2;var i=n.read_shift(2);n.l+=2;for(var r=n.read_shift(2),a=[];r-- >0;)a.push(bne(n,t-n.l));return{ixfe:i,ext:a}}function wne(n,e){e.forEach(function(t){t[0]})}function Rne(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Ga(n)}}function Cne(n){var e=nt(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),aa(n.name,e),e.slice(0,e.l)}function One(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function Nne(n){var e=nt(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function Dne(n,e){var t=nt(8+2*e.length);return t.write_shift(4,n),aa(e,t),t.slice(0,t.l)}function Ine(n){return n.l+=4,n.read_shift(4)!=0}function Lne(n,e){var t=nt(8);return t.write_shift(4,n),t.write_shift(4,1),t}function Une(n,e,t){var i={Types:[],Cell:[],Value:[]},r=t||{},a=[],s=!1,l=2;return Mu(n,function(u,h,p){switch(p){case 335:i.Types.push({name:u.name});break;case 51:u.forEach(function(g){l==1?i.Cell.push({type:i.Types[g[0]-1].name,index:g[1]}):l==0&&i.Value.push({type:i.Types[g[0]-1].name,index:g[1]})});break;case 337:l=u?1:0;break;case 338:l=2;break;case 35:a.push(p),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!h.T){if(!s||r.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+p.toString(16))}}}),i}function Fne(){var n=Bs();return dt(n,332),dt(n,334,Ol(1)),dt(n,335,Cne({name:"XLDAPR",version:12e4,flags:3496657072})),dt(n,336),dt(n,339,Dne(1,"XLDAPR")),dt(n,52),dt(n,35,Ol(514)),dt(n,4096,Ol(0)),dt(n,4097,Bo(1)),dt(n,36),dt(n,53),dt(n,340),dt(n,337,Lne(1)),dt(n,51,Nne([[1,0]])),dt(n,338),dt(n,333),n.end()}function Pne(n,e,t){var i={Types:[],Cell:[],Value:[]};if(!n)return i;var r=!1,a=2,s;return n.replace(Ya,function(l){var u=hn(l);switch(Rc(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":i.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var h=0;h<i.Types.length;++h)i.Types[h].name==u.name&&(s=i.Types[h]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?i.Cell.push({type:i.Types[u.t-1].name,index:+u.v}):a==0&&i.Value.push({type:i.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+u.i);break;default:if(!r&&t.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return l}),i}function jP(){var n=[vr];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function Bne(n){var e=[];if(!n)return e;var t=1;return(n.match(Ya)||[]).forEach(function(i){var r=hn(i);switch(r[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete r[0],r.i?t=r.i:r.i=t,e.push(r);break}}),e}function kne(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=ln(t);var i=n.read_shift(1);return i&2&&(e.l="1"),i&8&&(e.a="1"),e}function zne(n,e,t){var i=[];return Mu(n,function(a,s,l){switch(l){case 63:i.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),i}function Vne(n,e,t,i){if(!n)return n;var r=i||{},a=!1;Mu(n,function(l,u,h){switch(h){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!u.T){if(!a||r.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}},r)}function Hne(n,e){if(!n)return"??";var t=(n.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}var Np=1024;function qP(n,e){for(var t=[21600,21600],i=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),r=[wt("xml",null,{"xmlns:v":to.v,"xmlns:o":to.o,"xmlns:x":to.x,"xmlns:mv":to.mv}).replace(/\/>/,">"),wt("o:shapelayout",wt("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),wt("v:shapetype",[wt("v:stroke",null,{joinstyle:"miter"}),wt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:i})];Np<n*1e3;)Np+=1e3;return e.forEach(function(a){var s=Zi(a[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var u=l.type=="gradient"?wt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=wt("v:fill",u,l),p={on:"t",obscured:"t"};++Np,r=r.concat(["<v:shape"+tx({id:"_x0000_s"+Np,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,wt("v:shadow",null,p),wt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ya("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),ya("x:AutoFill","False"),ya("x:Row",String(s.r)),ya("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),r.push("</xml>"),r.join("")}function aN(n,e,t,i){var r=Array.isArray(n),a;e.forEach(function(s){var l=Zi(s.ref);if(r?(n[l.r]||(n[l.r]=[]),a=n[l.r][l.c]):a=n[s.ref],!a){a={t:"z"},r?n[l.r][l.c]=a:n[s.ref]=a;var u=Jn(n["!ref"]||"BDWGO1000001:A1");u.s.r>l.r&&(u.s.r=l.r),u.e.r<l.r&&(u.e.r=l.r),u.s.c>l.c&&(u.s.c=l.c),u.e.c<l.c&&(u.e.c=l.c);var h=bn(u);h!==n["!ref"]&&(n["!ref"]=h)}a.c||(a.c=[]);var p={a:s.author,t:s.t,r:s.r,T:t};s.h&&(p.h=s.h);for(var g=a.c.length-1;g>=0;--g){if(!t&&a.c[g].T)return;t&&!a.c[g].T&&a.c.splice(g,1)}if(t&&i){for(g=0;g<i.length;++g)if(p.a==i[g].id){p.a=i[g].name||p.a;break}}a.c.push(p)})}function Gne(n,e){if(n.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],i=[],r=n.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);r&&r[1]&&r[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var l=s.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&t.push(l[1])}});var a=n.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var l=s.match(/<(?:\w+:)?comment[^>]*>/);if(l){var u=hn(l[0]),h={author:u.authorId&&t[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},p=Zi(u.ref);if(!(e.sheetRows&&e.sheetRows<=p.r)){var g=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),v=!!g&&!!g[1]&&Sw(g[1])||{r:"",t:"",h:""};h.r=v.r,v.r=="<t></t>"&&(v.t=v.h=""),h.t=(v.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(h.h=v.h),i.push(h)}}}}),i}function KP(n){var e=[vr,wt("comments",null,{xmlns:Hd[0]})],t=[];return e.push("<authors>"),n.forEach(function(i){i[1].forEach(function(r){var a=gi(r.a);t.indexOf(a)==-1&&(t.push(a),e.push("<author>"+a+"</author>")),r.T&&r.ID&&t.indexOf("tc="+r.ID)==-1&&(t.push("tc="+r.ID),e.push("<author>tc="+r.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(i){var r=0,a=[];if(i[1][0]&&i[1][0].T&&i[1][0].ID?r=t.indexOf("tc="+i[1][0].ID):i[1].forEach(function(u){u.a&&(r=t.indexOf(gi(u.a))),a.push(u.t||"")}),e.push('<comment ref="'+i[0]+'" authorId="'+r+'"><text>'),a.length<=1)e.push(ya("t",gi(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,l=1;l<a.length;++l)s+=`Reply:
    `+a[l]+`
`;e.push(ya("t",gi(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Xne(n,e){var t=[],i=!1,r={},a=0;return n.replace(Ya,function(l,u){var h=hn(l);switch(Rc(h[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":r={author:h.personId,guid:h.id,ref:h.ref,T:1};break;case"</threadedComment>":r.t!=null&&t.push(r);break;case"<text>":case"<text":a=u+l.length;break;case"</text>":r.t=n.slice(a,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":i=!0;break;case"</mentions>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(!i&&e.WTF)throw new Error("unrecognized "+h[0]+" in threaded comments")}return l}),t}function Wne(n,e,t){var i=[vr,wt("ThreadedComments",null,{xmlns:Gr.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(r){var a="";(r[1]||[]).forEach(function(s,l){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var u={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};l==0?a=u.id:u.parentId=a,s.ID=u.id,s.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),i.push(wt("threadedComment",ya("text",s.t||""),u))})}),i.push("</ThreadedComments>"),i.join("")}function Yne(n,e){var t=[],i=!1;return n.replace(Ya,function(a){var s=hn(a);switch(Rc(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(!i&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),t}function jne(n){var e=[vr,wt("personList",null,{xmlns:Gr.TCMNT,"xmlns:x":Hd[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,i){e.push(wt("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+i).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function qne(n){var e={};e.iauthor=n.read_shift(4);var t=Yd(n);return e.rfx=t.s,e.ref=ln(t.s),n.l+=16,e}function Kne(n,e){return e==null&&(e=nt(36)),e.write_shift(4,n[1].iauthor),gm(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Zne=Ga;function Qne(n){return aa(n.slice(0,54))}function Jne(n,e){var t=[],i=[],r={},a=!1;return Mu(n,function(l,u,h){switch(h){case 632:i.push(l);break;case 635:r=l;break;case 637:r.t=l.t,r.h=l.h,r.r=l.r;break;case 636:if(r.author=i[r.iauthor],delete r.iauthor,e.sheetRows&&r.rfx&&e.sheetRows<=r.rfx.r)break;r.t||(r.t=""),delete r.rfx,t.push(r);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}),t}function $ne(n){var e=Bs(),t=[];return dt(e,628),dt(e,630),n.forEach(function(i){i[1].forEach(function(r){t.indexOf(r.a)>-1||(t.push(r.a.slice(0,54)),dt(e,632,Qne(r.a)))})}),dt(e,631),dt(e,633),n.forEach(function(i){i[1].forEach(function(r){r.iauthor=t.indexOf(r.a);var a={s:Zi(i[0]),e:Zi(i[0])};dt(e,635,Kne([a,r])),r.t&&r.t.length>0&&dt(e,637,EJ(r)),dt(e,636),delete r.iauthor})}),dt(e,634),dt(e,629),e.end()}var eie="application/vnd.ms-office.vbaProject";function tie(n){var e=Jt.utils.cfb_new({root:"R"});return n.FullPaths.forEach(function(t,i){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var r=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Jt.utils.cfb_add(e,r,n.FileIndex[i].content)}}),Jt.write(e)}function nie(n,e){e.FullPaths.forEach(function(t,i){if(i!=0){var r=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");r.slice(-1)!=="/"&&Jt.utils.cfb_add(n,r,e.FileIndex[i].content)}})}var ZP=["xlsb","xlsm","xlam","biff8","xla"];function iie(){return{"!type":"dialog"}}function rie(){return{"!type":"dialog"}}function aie(){return{"!type":"macro"}}function sie(){return{"!type":"macro"}}var Fp=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(i,r,a,s){var l=!1,u=!1;a.length==0?u=!0:a.charAt(0)=="["&&(u=!0,a=a.slice(1,-1)),s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1));var h=a.length>0?parseInt(a,10)|0:0,p=s.length>0?parseInt(s,10)|0:0;return l?p+=e.c:--p,u?h+=e.r:--h,r+(l?"":"$")+Ki(p)+(u?"":"$")+mr(h)}return function(r,a){return e=a,r.replace(n,t)}}(),Mw=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ww=function(){return function(e,t){return e.replace(Mw,function(i,r,a,s,l,u){var h=dw(s)-(a?0:t.c),p=hw(u)-(l?0:t.r),g=p==0?"":l?p+1:"["+p+"]",v=h==0?"":a?h+1:"["+h+"]";return r+"R"+g+"C"+v})}}();function QP(n,e){return n.replace(Mw,function(t,i,r,a,s,l){return i+(r=="$"?r+a:Ki(dw(a)+e.c))+(s=="$"?s+l:mr(hw(l)+e.r))})}function oie(n,e,t){var i=ks(e),r=i.s,a=Zi(t),s={r:a.r-r.r,c:a.c-r.c};return QP(n,s)}function lie(n){return n.length!=1}function sN(n){return n.replace(/_xlfn\./g,"")}function wr(n){n.l+=1}function Hf(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function JP(n,e,t){var i=2;if(t){if(t.biff>=2&&t.biff<=5)return $P(n);t.biff==12&&(i=4)}var r=n.read_shift(i),a=n.read_shift(i),s=Hf(n),l=Hf(n);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function $P(n){var e=Hf(n),t=Hf(n),i=n.read_shift(1),r=n.read_shift(1);return{s:{r:e[0],c:i,cRel:e[1],rRel:e[2]},e:{r:t[0],c:r,cRel:t[1],rRel:t[2]}}}function cie(n,e,t){if(t.biff<8)return $P(n);var i=n.read_shift(t.biff==12?4:2),r=n.read_shift(t.biff==12?4:2),a=Hf(n),s=Hf(n);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r,c:s[0],cRel:s[1],rRel:s[2]}}}function eB(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return uie(n);var i=n.read_shift(t&&t.biff==12?4:2),r=Hf(n);return{r:i,c:r[0],cRel:r[1],rRel:r[2]}}function uie(n){var e=Hf(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function fie(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function hie(n,e,t){var i=t&&t.biff?t.biff:8;if(i>=2&&i<=5)return die(n);var r=n.read_shift(i>=12?4:2),a=n.read_shift(2),s=(a&16384)>>14,l=(a&32768)>>15;if(a&=16383,l==1)for(;r>524287;)r-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r,c:a,cRel:s,rRel:l}}function die(n){var e=n.read_shift(2),t=n.read_shift(1),i=(e&32768)>>15,r=(e&16384)>>14;return e&=16383,i==1&&e>=8192&&(e=e-16384),r==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:r,rRel:i}}function pie(n,e,t){var i=(n[n.l++]&96)>>5,r=JP(n,t.biff>=2&&t.biff<=5?6:8,t);return[i,r]}function mie(n,e,t){var i=(n[n.l++]&96)>>5,r=n.read_shift(2,"i"),a=8;if(t)switch(t.biff){case 5:n.l+=12,a=6;break;case 12:a=12;break}var s=JP(n,a,t);return[i,r,s]}function gie(n,e,t){var i=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[i]}function vie(n,e,t){var i=(n[n.l++]&96)>>5,r=n.read_shift(2),a=8;if(t)switch(t.biff){case 5:n.l+=12,a=6;break;case 12:a=12;break}return n.l+=a,[i,r]}function xie(n,e,t){var i=(n[n.l++]&96)>>5,r=cie(n,e-1,t);return[i,r]}function yie(n,e,t){var i=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[i]}function oN(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function _ie(n,e,t){n.l+=2;for(var i=n.read_shift(t&&t.biff==2?1:2),r=[],a=0;a<=i;++a)r.push(n.read_shift(t&&t.biff==2?1:2));return r}function Eie(n,e,t){var i=n[n.l+1]&255?1:0;return n.l+=2,[i,n.read_shift(t&&t.biff==2?1:2)]}function Sie(n,e,t){var i=n[n.l+1]&255?1:0;return n.l+=2,[i,n.read_shift(t&&t.biff==2?1:2)]}function Tie(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function Aie(n,e,t){var i=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[i]}function tB(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function bie(n){return n.read_shift(2),tB(n)}function Mie(n){return n.read_shift(2),tB(n)}function wie(n,e,t){var i=(n[n.l]&96)>>5;n.l+=1;var r=eB(n,0,t);return[i,r]}function Rie(n,e,t){var i=(n[n.l]&96)>>5;n.l+=1;var r=hie(n,0,t);return[i,r]}function Cie(n,e,t){var i=(n[n.l]&96)>>5;n.l+=1;var r=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var a=eB(n,0,t);return[i,r,a]}function Oie(n,e,t){var i=(n[n.l]&96)>>5;n.l+=1;var r=n.read_shift(t&&t.biff<=3?1:2);return[Ire[r],rB[r],i]}function Nie(n,e,t){var i=n[n.l++],r=n.read_shift(1),a=t&&t.biff<=3?[i==88?-1:0,n.read_shift(1)]:Die(n);return[r,(a[0]===0?rB:Dre)[a[1]]]}function Die(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function Iie(n,e,t){n.l+=t&&t.biff==2?3:4}function Lie(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var i=n.read_shift(2),r=n.read_shift(t&&t.biff==2?1:2);return[i,r]}function Uie(n){return n.l++,wu[n.read_shift(1)]}function Fie(n){return n.l++,n.read_shift(2)}function Pie(n){return n.l++,n.read_shift(1)!==0}function Bie(n){return n.l++,za(n)}function kie(n,e,t){return n.l++,Ox(n,e-1,t)}function zie(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=pr(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=wu[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=za(n);break;case 2:t[1]=jd(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function Vie(n,e,t){for(var i=n.read_shift(t.biff==12?4:2),r=[],a=0;a!=i;++a)r.push((t.biff==12?Yd:kS)(n));return r}function Hie(n,e,t){var i=0,r=0;t.biff==12?(i=n.read_shift(4),r=n.read_shift(4)):(r=1+n.read_shift(1),i=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--i,--r==0&&(r=256));for(var a=0,s=[];a!=i&&(s[a]=[]);++a)for(var l=0;l!=r;++l)s[a][l]=zie(n,t.biff);return s}function Gie(n,e,t){var i=n.read_shift(1)>>>5&3,r=!t||t.biff>=8?4:2,a=n.read_shift(r);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[i,0,a]}function Xie(n,e,t){if(t.biff==5)return Wie(n);var i=n.read_shift(1)>>>5&3,r=n.read_shift(2),a=n.read_shift(4);return[i,r,a]}function Wie(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var i=n.read_shift(2);return n.l+=12,[e,t,i]}function Yie(n,e,t){var i=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var r=n.read_shift(t&&t.biff==2?1:2);return[i,r]}function jie(n,e,t){var i=n.read_shift(1)>>>5&3,r=n.read_shift(t&&t.biff==2?1:2);return[i,r]}function qie(n,e,t){var i=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[i]}function Kie(n,e,t){var i=(n[n.l++]&96)>>5,r=n.read_shift(2),a=4;if(t)switch(t.biff){case 5:a=15;break;case 12:a=6;break}return n.l+=a,[i,r]}var Zie=Xa,Qie=Xa,Jie=Xa;function Dx(n,e,t){return n.l+=2,[fie(n)]}function Rw(n){return n.l+=6,[]}var $ie=Dx,ere=Rw,tre=Rw,nre=Dx;function nB(n){return n.l+=2,[Cr(n),n.read_shift(2)&1]}var ire=Dx,rre=nB,are=Rw,sre=Dx,ore=Dx,lre=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function cre(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),i=n.read_shift(4),r=n.read_shift(2),a=n.read_shift(2),s=lre[t>>2&31];return{ixti:e,coltype:t&3,rt:s,idx:i,c:r,C:a}}function ure(n){return n.l+=2,[n.read_shift(4)]}function fre(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function hre(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function dre(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function pre(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function mre(n){return n.l+=4,[0,0]}var lN={1:{n:"PtgExp",f:Lie},2:{n:"PtgTbl",f:Jie},3:{n:"PtgAdd",f:wr},4:{n:"PtgSub",f:wr},5:{n:"PtgMul",f:wr},6:{n:"PtgDiv",f:wr},7:{n:"PtgPower",f:wr},8:{n:"PtgConcat",f:wr},9:{n:"PtgLt",f:wr},10:{n:"PtgLe",f:wr},11:{n:"PtgEq",f:wr},12:{n:"PtgGe",f:wr},13:{n:"PtgGt",f:wr},14:{n:"PtgNe",f:wr},15:{n:"PtgIsect",f:wr},16:{n:"PtgUnion",f:wr},17:{n:"PtgRange",f:wr},18:{n:"PtgUplus",f:wr},19:{n:"PtgUminus",f:wr},20:{n:"PtgPercent",f:wr},21:{n:"PtgParen",f:wr},22:{n:"PtgMissArg",f:wr},23:{n:"PtgStr",f:kie},26:{n:"PtgSheet",f:fre},27:{n:"PtgEndSheet",f:hre},28:{n:"PtgErr",f:Uie},29:{n:"PtgBool",f:Pie},30:{n:"PtgInt",f:Fie},31:{n:"PtgNum",f:Bie},32:{n:"PtgArray",f:yie},33:{n:"PtgFunc",f:Oie},34:{n:"PtgFuncVar",f:Nie},35:{n:"PtgName",f:Gie},36:{n:"PtgRef",f:wie},37:{n:"PtgArea",f:pie},38:{n:"PtgMemArea",f:Yie},39:{n:"PtgMemErr",f:Zie},40:{n:"PtgMemNoMem",f:Qie},41:{n:"PtgMemFunc",f:jie},42:{n:"PtgRefErr",f:qie},43:{n:"PtgAreaErr",f:gie},44:{n:"PtgRefN",f:Rie},45:{n:"PtgAreaN",f:xie},46:{n:"PtgMemAreaN",f:dre},47:{n:"PtgMemNoMemN",f:pre},57:{n:"PtgNameX",f:Xie},58:{n:"PtgRef3d",f:Cie},59:{n:"PtgArea3d",f:mie},60:{n:"PtgRefErr3d",f:Kie},61:{n:"PtgAreaErr3d",f:vie},255:{}},gre={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},vre={1:{n:"PtgElfLel",f:nB},2:{n:"PtgElfRw",f:sre},3:{n:"PtgElfCol",f:$ie},6:{n:"PtgElfRwV",f:ore},7:{n:"PtgElfColV",f:nre},10:{n:"PtgElfRadical",f:ire},11:{n:"PtgElfRadicalS",f:are},13:{n:"PtgElfColS",f:ere},15:{n:"PtgElfColSV",f:tre},16:{n:"PtgElfRadicalLel",f:rre},25:{n:"PtgList",f:cre},29:{n:"PtgSxName",f:ure},255:{}},xre={0:{n:"PtgAttrNoop",f:mre},1:{n:"PtgAttrSemi",f:Aie},2:{n:"PtgAttrIf",f:Sie},4:{n:"PtgAttrChoose",f:_ie},8:{n:"PtgAttrGoto",f:Eie},16:{n:"PtgAttrSum",f:Iie},32:{n:"PtgAttrBaxcel",f:oN},33:{n:"PtgAttrBaxcel",f:oN},64:{n:"PtgAttrSpace",f:bie},65:{n:"PtgAttrSpaceSemi",f:Mie},128:{n:"PtgAttrIfError",f:Tie},255:{}};function Ix(n,e,t,i){if(i.biff<8)return Xa(n,e);for(var r=n.l+e,a=[],s=0;s!==t.length;++s)switch(t[s][0]){case"PtgArray":t[s][1]=Hie(n,0,i),a.push(t[s][1]);break;case"PtgMemArea":t[s][2]=Vie(n,t[s][1],i),a.push(t[s][2]);break;case"PtgExp":i&&i.biff==12&&(t[s][1][1]=n.read_shift(4),a.push(t[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[s][0]}return e=r-n.l,e!==0&&a.push(Xa(n,e)),a}function Lx(n,e,t){for(var i=n.l+e,r,a,s=[];i!=n.l;)e=i-n.l,a=n[n.l],r=lN[a]||lN[gre[a]],(a===24||a===25)&&(r=(a===24?vre:xre)[n[n.l+1]]),!r||!r.f?Xa(n,e):s.push([r.n,r.f(n,e,t)]);return s}function yre(n){for(var e=[],t=0;t<n.length;++t){for(var i=n[t],r=[],a=0;a<i.length;++a){var s=i[a];if(s)switch(s[0]){case 2:r.push('"'+s[1].replace(/"/g,'""')+'"');break;default:r.push(s[1])}else r.push("")}e.push(r.join(","))}return e.join(";")}var _re={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Ere(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function iB(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var i=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!i)return"SH33TJSERR1";var r="";if(t.biff>8)switch(n[i[0]][0]){case 357:return r=i[1]==-1?"#REF":n.SheetNames[i[1]],i[1]==i[2]?r:r+":"+n.SheetNames[i[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[i[0]][0];case 355:default:return"SH33TJSSRC"+n[i[0]][0]}switch(n[i[0]][0][0]){case 1025:return r=i[1]==-1?"#REF":n.SheetNames[i[1]]||"SH33TJSERR3",i[1]==i[2]?r:r+":"+n.SheetNames[i[2]];case 14849:return n[i[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return n[i[0]][0][3]?(r=i[1]==-1?"#REF":n[i[0]][0][3][i[1]]||"SH33TJSERR4",i[1]==i[2]?r:r+":"+n[i[0]][0][3][i[2]]):"SH33TJSERR2"}}function cN(n,e,t){var i=iB(n,e,t);return i=="#REF"?i:Ere(i,t)}function Ba(n,e,t,i,r){var a=r&&r.biff||8,s={s:{c:0,r:0}},l=[],u,h,p,g=0,v=0,y,E="";if(!n[0]||!n[0][0])return"";for(var T=-1,S="",A=0,R=n[0].length;A<R;++A){var w=n[0][A];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=l.pop(),h=l.pop(),T>=0){switch(n[0][T][1][0]){case 0:S=rr(" ",n[0][T][1][1]);break;case 1:S=rr("\r",n[0][T][1][1]);break;default:if(S="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][T][1][0])}h=h+S,T=-1}l.push(h+_re[w[0]]+u);break;case"PtgIsect":u=l.pop(),h=l.pop(),l.push(h+" "+u);break;case"PtgUnion":u=l.pop(),h=l.pop(),l.push(h+","+u);break;case"PtgRange":u=l.pop(),h=l.pop(),l.push(h+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=yv(w[1][1],s,r),l.push(_v(p,a));break;case"PtgRefN":p=t?yv(w[1][1],t,r):w[1][1],l.push(_v(p,a));break;case"PtgRef3d":g=w[1][1],p=yv(w[1][2],s,r),E=cN(i,g,r),l.push(E+"!"+_v(p,a));break;case"PtgFunc":case"PtgFuncVar":var D=w[1][0],P=w[1][1];D||(D=0),D&=127;var F=D==0?[]:l.slice(-D);l.length-=D,P==="User"&&(P=F.shift()),l.push(P+"("+F.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":y=B4(w[1][1],t?{s:t}:s,r),l.push(rA(y,r));break;case"PtgArea":y=B4(w[1][1],s,r),l.push(rA(y,r));break;case"PtgArea3d":g=w[1][1],y=w[1][2],E=cN(i,g,r),l.push(E+"!"+rA(y,r));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=w[1][2];var U=(i.names||[])[v-1]||(i[0]||[])[v],I=U?U.Name:"SH33TJSNAME"+String(v);I&&I.slice(0,6)=="_xlfn."&&!r.xlfn&&(I=I.slice(6)),l.push(I);break;case"PtgNameX":var C=w[1][1];v=w[1][2];var L;if(r.biff<=5)C<0&&(C=-C),i[C]&&(L=i[C][v]);else{var k="";if(((i[C]||[])[0]||[])[0]==14849||(((i[C]||[])[0]||[])[0]==1025?i[C][v]&&i[C][v].itab>0&&(k=i.SheetNames[i[C][v].itab-1]+"!"):k=i.SheetNames[v-1]+"!"),i[C]&&i[C][v])k+=i[C][v].Name;else if(i[0]&&i[0][v])k+=i[0][v].Name;else{var G=(iB(i,C,r)||"").split(";;");G[v-1]?k=G[v-1]:k+="SH33TJSERRX"}l.push(k);break}L||(L={Name:"SH33TJSERRY"}),l.push(L.Name);break;case"PtgParen":var ee="(",ve=")";if(T>=0){switch(S="",n[0][T][1][0]){case 2:ee=rr(" ",n[0][T][1][1])+ee;break;case 3:ee=rr("\r",n[0][T][1][1])+ee;break;case 4:ve=rr(" ",n[0][T][1][1])+ve;break;case 5:ve=rr("\r",n[0][T][1][1])+ve;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][T][1][0])}T=-1}l.push(ee+l.pop()+ve);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":p={c:w[1][1],r:w[1][0]};var pe={c:t.c,r:t.r};if(i.sharedf[ln(p)]){var W=i.sharedf[ln(p)];l.push(Ba(W,s,pe,i,r))}else{var K=!1;for(u=0;u!=i.arrayf.length;++u)if(h=i.arrayf[u],!(p.c<h[0].s.c||p.c>h[0].e.c)&&!(p.r<h[0].s.r||p.r>h[0].e.r)){l.push(Ba(h[1],s,pe,i,r)),K=!0;break}K||l.push(w[1])}break;case"PtgArray":l.push("{"+yre(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":T=A;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var ie=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(r.biff!=3&&T>=0&&ie.indexOf(n[0][A][0])==-1){w=n[0][T];var ne=!0;switch(w[1][0]){case 4:ne=!1;case 0:S=rr(" ",w[1][1]);break;case 5:ne=!1;case 1:S=rr("\r",w[1][1]);break;default:if(S="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((ne?S:"")+l.pop()+(ne?"":S)),T=-1}}if(l.length>1&&r.WTF)throw new Error("bad formula stack");return l[0]}function Sre(n,e,t){var i=n.l+e,r=t.biff==2?1:2,a,s=n.read_shift(r);if(s==65535)return[[],Xa(n,e-2)];var l=Lx(n,s,t);return e!==s+r&&(a=Ix(n,e-s-r,l,t)),n.l=i,[l,a]}function Tre(n,e,t){var i=n.l+e,r=t.biff==2?1:2,a,s=n.read_shift(r);if(s==65535)return[[],Xa(n,e-2)];var l=Lx(n,s,t);return e!==s+r&&(a=Ix(n,e-s-r,l,t)),n.l=i,[l,a]}function Are(n,e,t,i){var r=n.l+e,a=Lx(n,i,t),s;return r!==n.l&&(s=Ix(n,r-n.l,a,t)),[a,s]}function bre(n,e,t){var i=n.l+e,r,a=n.read_shift(2),s=Lx(n,a,t);return a==65535?[[],Xa(n,e-2)]:(e!==a+2&&(r=Ix(n,i-a-2,s,t)),[s,r])}function Mre(n){var e;if(uu(n,n.l+6)!==65535)return[za(n),"n"];switch(n[n.l]){case 0:return n.l+=8,["String","s"];case 1:return e=n[n.l+2]===1,n.l+=8,[e,"b"];case 2:return e=n[n.l+2],n.l+=8,[e,"e"];case 3:return n.l+=8,["","s"]}return[]}function wre(n){if(n==null){var e=nt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return Ud(n);return Ud(0)}function cA(n,e,t){var i=n.l+e,r=Cc(n);t.biff==2&&++n.l;var a=Mre(n),s=n.read_shift(1);t.biff!=2&&(n.read_shift(1),t.biff>=5&&n.read_shift(4));var l=Tre(n,i-n.l,t);return{cell:r,val:a[0],formula:l,shared:s>>3&1,tt:a[1]}}function Rre(n,e,t,i,r){var a=Pd(e,t,r),s=wre(n.v),l=nt(6),u=33;l.write_shift(2,u),l.write_shift(4,0);for(var h=nt(n.bf.length),p=0;p<n.bf.length;++p)h[p]=n.bf[p];var g=ra([a,s,l,h]);return g}function zS(n,e,t){var i=n.read_shift(4),r=Lx(n,i,t),a=n.read_shift(4),s=a>0?Ix(n,a,r,t):null;return[r,s]}var Cre=zS,VS=zS,Ore=zS,Nre=zS,Dre={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},rB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Ire={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function uN(n){return n.slice(0,3)=="of:"&&(n=n.slice(3)),n.charCodeAt(0)==61&&(n=n.slice(1),n.charCodeAt(0)==61&&(n=n.slice(1))),n=n.replace(/COM\.MICROSOFT\./g,""),n=n.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),n=n.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),n.replace(/[;~]/g,",").replace(/\|/g,";")}function Lre(n){var e="of:="+n.replace(Mw,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function uA(n){var e=n.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function Ure(n){return n.replace(/\./,"!")}var Sv={},Pp={},Tv=typeof Map<"u";function Cw(n,e,t){var i=0,r=n.length;if(t){if(Tv?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var a=Tv?t.get(e):t[e];i<a.length;++i)if(n[a[i]].t===e)return n.Count++,a[i]}}else for(;i<r;++i)if(n[i].t===e)return n.Count++,i;return n[r]={t:e},n.Count++,n.Unique++,t&&(Tv?(t.has(e)||t.set(e,[]),t.get(e).push(r)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(r))),r}function HS(n,e){var t={min:n+1,max:n+1},i=-1;return e.MDW&&(ka=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?i=sx(e.wpx):e.wch!=null&&(i=e.wch),i>-1?(t.width=WE(i),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function wd(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function Jf(n,e,t){var i=t.revssf[e.z!=null?e.z:"General"],r=60,a=n.length;if(i==null&&t.ssf){for(;r<392;++r)if(t.ssf[r]==null){mu(e.z,r),t.ssf[r]=e.z,t.revssf[e.z]=i=r;break}}for(r=0;r!=a;++r)if(n[r].numFmtId===i)return r;return n[a]={numFmtId:i,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function aB(n,e,t,i,r,a){try{i.cellNF&&(n.z=an[e])}catch(l){if(i.WTF)throw l}if(!(n.t==="z"&&!i.cellStyles)){if(n.t==="d"&&typeof n.v=="string"&&(n.v=Ii(n.v)),(!i||i.cellText!==!1)&&n.t!=="z")try{if(an[e]==null&&mu(DQ[e]||"General",e),n.t==="e")n.w=n.w||wu[n.v];else if(e===0)if(n.t==="n")(n.v|0)===n.v?n.w=n.v.toString(10):n.w=$v(n.v);else if(n.t==="d"){var s=jr(n.v);(s|0)===s?n.w=s.toString(10):n.w=$v(s)}else{if(n.v===void 0)return"";n.w=Id(n.v,Pp)}else n.t==="d"?n.w=Wo(e,jr(n.v),Pp):n.w=Wo(e,n.v,Pp)}catch(l){if(i.WTF)throw l}if(i.cellStyles&&t!=null)try{n.s=a.Fills[t],n.s.fgColor&&n.s.fgColor.theme&&!n.s.fgColor.rgb&&(n.s.fgColor.rgb=XE(r.themeElements.clrScheme[n.s.fgColor.theme].rgb,n.s.fgColor.tint||0),i.WTF&&(n.s.fgColor.raw_rgb=r.themeElements.clrScheme[n.s.fgColor.theme].rgb)),n.s.bgColor&&n.s.bgColor.theme&&(n.s.bgColor.rgb=XE(r.themeElements.clrScheme[n.s.bgColor.theme].rgb,n.s.bgColor.tint||0),i.WTF&&(n.s.bgColor.raw_rgb=r.themeElements.clrScheme[n.s.bgColor.theme].rgb))}catch(l){if(i.WTF&&a.Fills)throw l}}}function Fre(n,e,t){if(n&&n["!ref"]){var i=Jn(n["!ref"]);if(i.e.c<i.s.c||i.e.r<i.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function Pre(n,e){var t=Jn(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(n["!ref"]=bn(t))}var Bre=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,kre=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,zre=/<(?:\w:)?hyperlink [^>]*>/mg,Vre=/"(\w*:\w*)"/,Hre=/<(?:\w:)?col\b[^>]*[\/]?>/g,Gre=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Xre=/<(?:\w:)?pageMargins[^>]*\/>/g,sB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Wre=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Yre=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function jre(n,e,t,i,r,a,s){if(!n)return n;i||(i={"!id":{}});var l=e.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},h="",p="",g=n.match(kre);g?(h=n.slice(0,g.index),p=n.slice(g.index+g[0].length)):h=p=n;var v=h.match(sB);v?Ow(v[0],l,r,t):(v=h.match(Wre))&&Kre(v[0],v[1]||"",l,r,t);var y=(h.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(y>0){var E=h.slice(y,y+50).match(Vre);E&&Pre(l,E[1])}var T=h.match(Yre);T&&T[1]&&lae(T[1],r);var S=[];if(e.cellStyles){var A=h.match(Hre);A&&iae(S,A)}g&&fae(g[1],l,e,u,a,s);var R=p.match(Gre);R&&(l["!autofilter"]=aae(R[0]));var w=[],D=p.match(Bre);if(D)for(y=0;y!=D.length;++y)w[y]=Jn(D[y].slice(D[y].indexOf('"')+1));var P=p.match(zre);P&&eae(l,P,i);var F=p.match(Xre);if(F&&(l["!margins"]=tae(hn(F[0]))),!l["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(l["!ref"]=bn(u)),e.sheetRows>0&&l["!ref"]){var U=Jn(l["!ref"]);e.sheetRows<=+U.e.r&&(U.e.r=e.sheetRows-1,U.e.r>u.e.r&&(U.e.r=u.e.r),U.e.r<U.s.r&&(U.s.r=U.e.r),U.e.c>u.e.c&&(U.e.c=u.e.c),U.e.c<U.s.c&&(U.s.c=U.e.c),l["!fullref"]=l["!ref"],l["!ref"]=bn(U))}return S.length>0&&(l["!cols"]=S),w.length>0&&(l["!merges"]=w),l}function qre(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+bn(n[t])+'"/>';return e+"</mergeCells>"}function Ow(n,e,t,i){var r=hn(n);t.Sheets[i]||(t.Sheets[i]={}),r.codeName&&(t.Sheets[i].CodeName=Zn(Ti(r.codeName)))}function Kre(n,e,t,i,r){Ow(n.slice(0,n.indexOf(">")),t,i,r)}function Zre(n,e,t,i,r){var a=!1,s={},l=null;if(i.bookType!=="xlsx"&&e.vbaraw){var u=e.SheetNames[t];try{e.Workbook&&(u=e.Workbook.Sheets[t].CodeName||u)}catch{}a=!0,s.codeName=_c(gi(u))}if(n&&n["!outline"]){var h={summaryBelow:1,summaryRight:1};n["!outline"].above&&(h.summaryBelow=0),n["!outline"].left&&(h.summaryRight=0),l=(l||"")+wt("outlinePr",null,h)}!a&&!l||(r[r.length]=wt("sheetPr",l,s))}var Qre=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Jre=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function $re(n){var e={sheet:1};return Qre.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),Jre.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=Tw(n.password).toString(16).toUpperCase()),wt("sheetProtection",null,e)}function eae(n,e,t){for(var i=Array.isArray(n),r=0;r!=e.length;++r){var a=hn(Ti(e[r]),!0);if(!a.ref)return;var s=((t||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+Zn(a.location))):(a.Target="#"+Zn(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var l=Jn(a.ref),u=l.s.r;u<=l.e.r;++u)for(var h=l.s.c;h<=l.e.c;++h){var p=ln({c:h,r:u});i?(n[u]||(n[u]=[]),n[u][h]||(n[u][h]={t:"z",v:void 0}),n[u][h].l=a):(n[p]||(n[p]={t:"z",v:void 0}),n[p].l=a)}}}function tae(n){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){n[t]&&(e[t]=parseFloat(n[t]))}),e}function nae(n){return wd(n),wt("pageMargins",null,n)}function iae(n,e){for(var t=!1,i=0;i!=e.length;++i){var r=hn(e[i],!0);r.hidden&&(r.hidden=Ni(r.hidden));var a=parseInt(r.min,10)-1,s=parseInt(r.max,10)-1;for(r.outlineLevel&&(r.level=+r.outlineLevel||0),delete r.min,delete r.max,r.width=+r.width,!t&&r.width&&(t=!0,Aw(r.width)),Vf(r);a<=s;)n[a++]=Li(r)}}function rae(n,e){for(var t=["<cols>"],i,r=0;r!=e.length;++r)(i=e[r])&&(t[t.length]=wt("col",null,HS(r,i)));return t[t.length]="</cols>",t.join("")}function aae(n){var e={ref:(n.match(/ref="([^"]*)"/)||[])[1]};return e}function sae(n,e,t,i){var r=typeof n.ref=="string"?n.ref:bn(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var a=t.Workbook.Names,s=ks(r);s.s.r==s.e.r&&(s.e.r=ks(e["!ref"]).e.r,r=bn(s));for(var l=0;l<a.length;++l){var u=a[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==i){u.Ref="'"+t.SheetNames[i]+"'!"+r;break}}return l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+t.SheetNames[i]+"'!"+r}),wt("autoFilter",null,{ref:r})}var oae=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function lae(n,e){e.Views||(e.Views=[{}]),(n.match(oae)||[]).forEach(function(t,i){var r=hn(t);e.Views[i]||(e.Views[i]={}),+r.zoomScale&&(e.Views[i].zoom=+r.zoomScale),Ni(r.rightToLeft)&&(e.Views[i].RTL=!0)})}function cae(n,e,t,i){var r={workbookViewId:"0"};return(((i||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=i.Workbook.Views[0].RTL?"1":"0"),wt("sheetViews",wt("sheetView",null,r),{})}function uae(n,e,t,i){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var r="",a=n.t,s=n.v;if(n.t!=="z")switch(n.t){case"b":r=n.v?"1":"0";break;case"n":r=""+n.v;break;case"e":r=wu[n.v];break;case"d":i&&i.cellDates?r=Ii(n.v,-1).toISOString():(n=Li(n),n.t="n",r=""+(n.v=jr(Ii(n.v)))),typeof n.z>"u"&&(n.z=an[14]);break;default:r=n.v;break}var l=ya("v",gi(r)),u={r:e},h=Jf(i.cellXfs,n,i);switch(h!==0&&(u.s=h),n.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(i&&i.bookSST){l=ya("v",""+Cw(i.Strings,n.v,i.revStrings)),u.t="s";break}u.t="str";break}if(n.t!=a&&(n.t=a,n.v=s),typeof n.f=="string"&&n.f){var p=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;l=wt("f",gi(n.f),p)+(n.v!=null?l:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(u.cm=1),wt("c",l,u)}var fae=function(){var n=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,i=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,r=/ref=["']([^"']*)["']/,a=ex("v"),s=ex("f");return function(u,h,p,g,v,y){for(var E=0,T="",S=[],A=[],R=0,w=0,D=0,P="",F,U,I=0,C=0,L,k,G=0,ee=0,ve=Array.isArray(y.CellXf),pe,W=[],K=[],ie=Array.isArray(h),ne=[],j={},le=!1,H=!!p.sheetStubs,q=u.split(e),V=0,Q=q.length;V!=Q;++V){T=q[V].trim();var ge=T.length;if(ge!==0){var Ae=0;e:for(E=0;E<ge;++E)switch(T[E]){case">":if(T[E-1]!="/"){++E;break e}if(p&&p.cellStyles){if(U=hn(T.slice(Ae,E),!0),I=U.r!=null?parseInt(U.r,10):I+1,C=-1,p.sheetRows&&p.sheetRows<I)continue;j={},le=!1,U.ht&&(le=!0,j.hpt=parseFloat(U.ht),j.hpx=Jp(j.hpt)),U.hidden=="1"&&(le=!0,j.hidden=!0),U.outlineLevel!=null&&(le=!0,j.level=+U.outlineLevel),le&&(ne[I-1]=j)}break;case"<":Ae=E;break}if(Ae>=E)break;if(U=hn(T.slice(Ae,E),!0),I=U.r!=null?parseInt(U.r,10):I+1,C=-1,!(p.sheetRows&&p.sheetRows<I)){g.s.r>I-1&&(g.s.r=I-1),g.e.r<I-1&&(g.e.r=I-1),p&&p.cellStyles&&(j={},le=!1,U.ht&&(le=!0,j.hpt=parseFloat(U.ht),j.hpx=Jp(j.hpt)),U.hidden=="1"&&(le=!0,j.hidden=!0),U.outlineLevel!=null&&(le=!0,j.level=+U.outlineLevel),le&&(ne[I-1]=j)),S=T.slice(E).split(n);for(var Ee=0;Ee!=S.length&&S[Ee].trim().charAt(0)=="<";++Ee);for(S=S.slice(Ee),E=0;E!=S.length;++E)if(T=S[E].trim(),T.length!==0){if(A=T.match(t),R=E,w=0,D=0,T="<c "+(T.slice(0,1)=="<"?">":"")+T,A!=null&&A.length===2){for(R=0,P=A[1],w=0;w!=P.length&&!((D=P.charCodeAt(w)-64)<1||D>26);++w)R=26*R+D;--R,C=R}else++C;for(w=0;w!=T.length&&T.charCodeAt(w)!==62;++w);if(++w,U=hn(T.slice(0,w),!0),U.r||(U.r=ln({r:I-1,c:C})),P=T.slice(w),F={t:""},(A=P.match(a))!=null&&A[1]!==""&&(F.v=Zn(A[1])),p.cellFormula){if((A=P.match(s))!=null&&A[1]!==""){if(F.f=Zn(Ti(A[1])).replace(/\r\n/g,`
`),p.xlfn||(F.f=sN(F.f)),A[0].indexOf('t="array"')>-1)F.F=(P.match(r)||[])[1],F.F.indexOf(":")>-1&&W.push([Jn(F.F),F.F]);else if(A[0].indexOf('t="shared"')>-1){k=hn(A[0]);var Ce=Zn(Ti(A[1]));p.xlfn||(Ce=sN(Ce)),K[parseInt(k.si,10)]=[k,Ce,U.r]}}else(A=P.match(/<f[^>]*\/>/))&&(k=hn(A[0]),K[k.si]&&(F.f=oie(K[k.si][1],K[k.si][2],U.r)));var Ne=Zi(U.r);for(w=0;w<W.length;++w)Ne.r>=W[w][0].s.r&&Ne.r<=W[w][0].e.r&&Ne.c>=W[w][0].s.c&&Ne.c<=W[w][0].e.c&&(F.F=W[w][1])}if(U.t==null&&F.v===void 0)if(F.f||F.F)F.v=0,F.t="n";else if(H)F.t="z";else continue;else F.t=U.t||"n";switch(g.s.c>C&&(g.s.c=C),g.e.c<C&&(g.e.c=C),F.t){case"n":if(F.v==""||F.v==null){if(!H)continue;F.t="z"}else F.v=parseFloat(F.v);break;case"s":if(typeof F.v>"u"){if(!H)continue;F.t="z"}else L=Sv[parseInt(F.v,10)],F.v=L.t,F.r=L.r,p.cellHTML&&(F.h=L.h);break;case"str":F.t="s",F.v=F.v!=null?Ti(F.v):"",p.cellHTML&&(F.h=lw(F.v));break;case"inlineStr":A=P.match(i),F.t="s",A!=null&&(L=Sw(A[1]))?(F.v=L.t,p.cellHTML&&(F.h=L.h)):F.v="";break;case"b":F.v=Ni(F.v);break;case"d":p.cellDates?F.v=Ii(F.v,1):(F.v=jr(Ii(F.v,1)),F.t="n");break;case"e":(!p||p.cellText!==!1)&&(F.w=F.v),F.v=lP[F.v];break}if(G=ee=0,pe=null,ve&&U.s!==void 0&&(pe=y.CellXf[U.s],pe!=null&&(pe.numFmtId!=null&&(G=pe.numFmtId),p.cellStyles&&pe.fillId!=null&&(ee=pe.fillId))),aB(F,G,ee,p,v,y),p.cellDates&&ve&&F.t=="n"&&dm(an[G])&&(F.t="d",F.v=BS(F.v)),U.cm&&p.xlmeta){var st=(p.xlmeta.Cell||[])[+U.cm-1];st&&st.type=="XLDAPR"&&(F.D=!0)}if(ie){var se=Zi(U.r);h[se.r]||(h[se.r]=[]),h[se.r][se.c]=F}else h[U.r]=F}}}}ne.length>0&&(h["!rows"]=ne)}}();function hae(n,e,t,i){var r=[],a=[],s=Jn(n["!ref"]),l="",u,h="",p=[],g=0,v=0,y=n["!rows"],E=Array.isArray(n),T={r:h},S,A=-1;for(v=s.s.c;v<=s.e.c;++v)p[v]=Ki(v);for(g=s.s.r;g<=s.e.r;++g){for(a=[],h=mr(g),v=s.s.c;v<=s.e.c;++v){u=p[v]+h;var R=E?(n[g]||[])[v]:n[u];R!==void 0&&(l=uae(R,u,n,e))!=null&&a.push(l)}(a.length>0||y&&y[g])&&(T={r:h},y&&y[g]&&(S=y[g],S.hidden&&(T.hidden=1),A=-1,S.hpx?A=ox(S.hpx):S.hpt&&(A=S.hpt),A>-1&&(T.ht=A,T.customHeight=1),S.level&&(T.outlineLevel=S.level)),r[r.length]=wt("row",a.join(""),T))}if(y)for(;g<y.length;++g)y&&y[g]&&(T={r:g+1},S=y[g],S.hidden&&(T.hidden=1),A=-1,S.hpx?A=ox(S.hpx):S.hpt&&(A=S.hpt),A>-1&&(T.ht=A,T.customHeight=1),S.level&&(T.outlineLevel=S.level),r[r.length]=wt("row","",T));return r.join("")}function oB(n,e,t,i){var r=[vr,wt("worksheet",null,{xmlns:Hd[0],"xmlns:r":Gr.r})],a=t.SheetNames[n],s=0,l="",u=t.Sheets[a];u==null&&(u={});var h=u["!ref"]||"A1",p=Jn(h);if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),h=bn(p)}i||(i={}),u["!comments"]=[];var g=[];Zre(u,t,n,e,r),r[r.length]=wt("dimension",null,{ref:h}),r[r.length]=cae(u,e,n,t),e.sheetFormat&&(r[r.length]=wt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(r[r.length]=rae(u,u["!cols"])),r[s=r.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(l=hae(u,e),l.length>0&&(r[r.length]=l)),r.length>s+1&&(r[r.length]="</sheetData>",r[s]=r[s].replace("/>",">")),u["!protect"]&&(r[r.length]=$re(u["!protect"])),u["!autofilter"]!=null&&(r[r.length]=sae(u["!autofilter"],u,t,n)),u["!merges"]!=null&&u["!merges"].length>0&&(r[r.length]=qre(u["!merges"]));var v=-1,y,E=-1;return u["!links"].length>0&&(r[r.length]="<hyperlinks>",u["!links"].forEach(function(T){T[1].Target&&(y={ref:T[0]},T[1].Target.charAt(0)!="#"&&(E=mi(i,-1,gi(T[1].Target).replace(/#.*$/,""),Bn.HLINK),y["r:id"]="rId"+E),(v=T[1].Target.indexOf("#"))>-1&&(y.location=gi(T[1].Target.slice(v+1))),T[1].Tooltip&&(y.tooltip=gi(T[1].Tooltip)),r[r.length]=wt("hyperlink",null,y))}),r[r.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(r[r.length]=nae(u["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(r[r.length]=ya("ignoredErrors",wt("ignoredError",null,{numberStoredAsText:1,sqref:h}))),g.length>0&&(E=mi(i,-1,"../drawings/drawing"+(n+1)+".xml",Bn.DRAW),r[r.length]=wt("drawing",null,{"r:id":"rId"+E}),u["!drawing"]=g),u["!comments"].length>0&&(E=mi(i,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Bn.VML),r[r.length]=wt("legacyDrawing",null,{"r:id":"rId"+E}),u["!legacy"]=E),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function dae(n,e){var t={},i=n.l+e;t.r=n.read_shift(4),n.l+=4;var r=n.read_shift(2);n.l+=1;var a=n.read_shift(1);return n.l=i,a&7&&(t.level=a&7),a&16&&(t.hidden=!0),a&32&&(t.hpt=r/20),t}function pae(n,e,t){var i=nt(145),r=(t["!rows"]||[])[n]||{};i.write_shift(4,n),i.write_shift(4,0);var a=320;r.hpx?a=ox(r.hpx)*20:r.hpt&&(a=r.hpt*20),i.write_shift(2,a),i.write_shift(1,0);var s=0;r.level&&(s|=r.level),r.hidden&&(s|=16),(r.hpx||r.hpt)&&(s|=32),i.write_shift(1,s),i.write_shift(1,0);var l=0,u=i.l;i.l+=4;for(var h={r:n,c:0},p=0;p<16;++p)if(!(e.s.c>p+1<<10||e.e.c<p<<10)){for(var g=-1,v=-1,y=p<<10;y<p+1<<10;++y){h.c=y;var E=Array.isArray(t)?(t[h.r]||[])[h.c]:t[ln(h)];E&&(g<0&&(g=y),v=y)}g<0||(++l,i.write_shift(4,g),i.write_shift(4,v))}var T=i.l;return i.l=u,i.write_shift(4,l),i.l=T,i.length>i.l?i.slice(0,i.l):i}function mae(n,e,t,i){var r=pae(i,t,e);(r.length>17||(e["!rows"]||[])[i])&&dt(n,0,r)}var gae=Yd,vae=gm;function xae(){}function yae(n,e){var t={},i=n[n.l];return++n.l,t.above=!(i&64),t.left=!(i&128),n.l+=18,t.name=SJ(n),t}function _ae(n,e,t){t==null&&(t=nt(84+4*n.length));var i=192;e&&(e.above&&(i&=-65),e.left&&(i&=-129)),t.write_shift(1,i);for(var r=1;r<3;++r)t.write_shift(1,0);return VE({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),iP(n,t),t.slice(0,t.l)}function Eae(n){var e=jo(n);return[e]}function Sae(n,e,t){return t==null&&(t=nt(8)),Gd(e,t)}function Tae(n){var e=Xd(n);return[e]}function Aae(n,e,t){return t==null&&(t=nt(4)),Wd(e,t)}function bae(n){var e=jo(n),t=n.read_shift(1);return[e,t,"b"]}function Mae(n,e,t){return t==null&&(t=nt(9)),Gd(e,t),t.write_shift(1,n.v?1:0),t}function wae(n){var e=Xd(n),t=n.read_shift(1);return[e,t,"b"]}function Rae(n,e,t){return t==null&&(t=nt(5)),Wd(e,t),t.write_shift(1,n.v?1:0),t}function Cae(n){var e=jo(n),t=n.read_shift(1);return[e,t,"e"]}function Oae(n,e,t){return t==null&&(t=nt(9)),Gd(e,t),t.write_shift(1,n.v),t}function Nae(n){var e=Xd(n),t=n.read_shift(1);return[e,t,"e"]}function Dae(n,e,t){return t==null&&(t=nt(8)),Wd(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function Iae(n){var e=jo(n),t=n.read_shift(4);return[e,t,"s"]}function Lae(n,e,t){return t==null&&(t=nt(12)),Gd(e,t),t.write_shift(4,e.v),t}function Uae(n){var e=Xd(n),t=n.read_shift(4);return[e,t,"s"]}function Fae(n,e,t){return t==null&&(t=nt(8)),Wd(e,t),t.write_shift(4,e.v),t}function Pae(n){var e=jo(n),t=za(n);return[e,t,"n"]}function Bae(n,e,t){return t==null&&(t=nt(16)),Gd(e,t),Ud(n.v,t),t}function lB(n){var e=Xd(n),t=za(n);return[e,t,"n"]}function kae(n,e,t){return t==null&&(t=nt(12)),Wd(e,t),Ud(n.v,t),t}function zae(n){var e=jo(n),t=vw(n);return[e,t,"n"]}function Vae(n,e,t){return t==null&&(t=nt(12)),Gd(e,t),rP(n.v,t),t}function Hae(n){var e=Xd(n),t=vw(n);return[e,t,"n"]}function Gae(n,e,t){return t==null&&(t=nt(8)),Wd(e,t),rP(n.v,t),t}function Xae(n){var e=jo(n),t=pw(n);return[e,t,"is"]}function Wae(n){var e=jo(n),t=Ga(n);return[e,t,"str"]}function Yae(n,e,t){return t==null&&(t=nt(12+4*n.v.length)),Gd(e,t),aa(n.v,t),t.length>t.l?t.slice(0,t.l):t}function jae(n){var e=Xd(n),t=Ga(n);return[e,t,"str"]}function qae(n,e,t){return t==null&&(t=nt(8+4*n.v.length)),Wd(e,t),aa(n.v,t),t.length>t.l?t.slice(0,t.l):t}function Kae(n,e,t){var i=n.l+e,r=jo(n);r.r=t["!row"];var a=n.read_shift(1),s=[r,a,"b"];if(t.cellFormula){n.l+=2;var l=VS(n,i-n.l,t);s[3]=Ba(l,null,r,t.supbooks,t)}else n.l=i;return s}function Zae(n,e,t){var i=n.l+e,r=jo(n);r.r=t["!row"];var a=n.read_shift(1),s=[r,a,"e"];if(t.cellFormula){n.l+=2;var l=VS(n,i-n.l,t);s[3]=Ba(l,null,r,t.supbooks,t)}else n.l=i;return s}function Qae(n,e,t){var i=n.l+e,r=jo(n);r.r=t["!row"];var a=za(n),s=[r,a,"n"];if(t.cellFormula){n.l+=2;var l=VS(n,i-n.l,t);s[3]=Ba(l,null,r,t.supbooks,t)}else n.l=i;return s}function Jae(n,e,t){var i=n.l+e,r=jo(n);r.r=t["!row"];var a=Ga(n),s=[r,a,"str"];if(t.cellFormula){n.l+=2;var l=VS(n,i-n.l,t);s[3]=Ba(l,null,r,t.supbooks,t)}else n.l=i;return s}var $ae=Yd,ese=gm;function tse(n,e){return e==null&&(e=nt(4)),e.write_shift(4,n),e}function nse(n,e){var t=n.l+e,i=Yd(n),r=mw(n),a=Ga(n),s=Ga(n),l=Ga(n);n.l=t;var u={rfx:i,relId:r,loc:a,display:l};return s&&(u.Tooltip=s),u}function ise(n,e){var t=nt(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));gm({s:Zi(n[0]),e:Zi(n[0])},t),gw("rId"+e,t);var i=n[1].Target.indexOf("#"),r=i==-1?"":n[1].Target.slice(i+1);return aa(r||"",t),aa(n[1].Tooltip||"",t),aa("",t),t.slice(0,t.l)}function rse(){}function ase(n,e,t){var i=n.l+e,r=aP(n),a=n.read_shift(1),s=[r];if(s[2]=a,t.cellFormula){var l=Cre(n,i-n.l,t);s[1]=l}else n.l=i;return s}function sse(n,e,t){var i=n.l+e,r=Yd(n),a=[r];if(t.cellFormula){var s=Nre(n,i-n.l,t);a[1]=s,n.l=i}else n.l=i;return a}function ose(n,e,t){t==null&&(t=nt(18));var i=HS(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(i.width||10)*256),t.write_shift(4,0);var r=0;return e.hidden&&(r|=1),typeof i.width=="number"&&(r|=2),e.level&&(r|=e.level<<8),t.write_shift(2,r),t}var cB=["left","right","top","bottom","header","footer"];function lse(n){var e={};return cB.forEach(function(t){e[t]=za(n)}),e}function cse(n,e){return e==null&&(e=nt(6*8)),wd(n),cB.forEach(function(t){Ud(n[t],e)}),e}function use(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function fse(n,e,t){t==null&&(t=nt(30));var i=924;return(((e||{}).Views||[])[0]||{}).RTL&&(i|=32),t.write_shift(2,i),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function hse(n){var e=nt(24);return e.write_shift(4,4),e.write_shift(4,1),gm(n,e),e}function dse(n,e){return e==null&&(e=nt(16*4+2)),e.write_shift(2,n.password?Tw(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function pse(){}function mse(){}function gse(n,e,t,i,r,a,s){if(!n)return n;var l=e||{};i||(i={"!id":{}});var u=l.dense?[]:{},h,p={s:{r:2e6,c:2e6},e:{r:0,c:0}},g=!1,v=!1,y,E,T,S,A,R,w,D,P,F=[];l.biff=12,l["!row"]=0;var U=0,I=!1,C=[],L={},k=l.supbooks||r.supbooks||[[]];if(k.sharedf=L,k.arrayf=C,k.SheetNames=r.SheetNames||r.Sheets.map(function(ie){return ie.name}),!l.supbooks&&(l.supbooks=k,r.Names))for(var G=0;G<r.Names.length;++G)k[0][G+1]=r.Names[G];var ee=[],ve=[],pe=!1;lx[16]={n:"BrtShortReal",f:lB};var W;if(Mu(n,function(ne,j,le){if(!v)switch(le){case 148:h=ne;break;case 0:y=ne,l.sheetRows&&l.sheetRows<=y.r&&(v=!0),D=mr(S=y.r),l["!row"]=y.r,(ne.hidden||ne.hpt||ne.level!=null)&&(ne.hpt&&(ne.hpx=Jp(ne.hpt)),ve[ne.r]=ne);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(E={t:ne[2]},ne[2]){case"n":E.v=ne[1];break;case"s":w=Sv[ne[1]],E.v=w.t,E.r=w.r;break;case"b":E.v=!!ne[1];break;case"e":E.v=ne[1],l.cellText!==!1&&(E.w=wu[E.v]);break;case"str":E.t="s",E.v=ne[1];break;case"is":E.t="s",E.v=ne[1].t;break}if((T=s.CellXf[ne[0].iStyleRef])&&aB(E,T.numFmtId,null,l,a,s),A=ne[0].c==-1?A+1:ne[0].c,l.dense?(u[S]||(u[S]=[]),u[S][A]=E):u[Ki(A)+D]=E,l.cellFormula){for(I=!1,U=0;U<C.length;++U){var H=C[U];y.r>=H[0].s.r&&y.r<=H[0].e.r&&A>=H[0].s.c&&A<=H[0].e.c&&(E.F=bn(H[0]),I=!0)}!I&&ne.length>3&&(E.f=ne[3])}if(p.s.r>y.r&&(p.s.r=y.r),p.s.c>A&&(p.s.c=A),p.e.r<y.r&&(p.e.r=y.r),p.e.c<A&&(p.e.c=A),l.cellDates&&T&&E.t=="n"&&dm(an[T.numFmtId])){var q=xd(E.v);q&&(E.t="d",E.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}W&&(W.type=="XLDAPR"&&(E.D=!0),W=void 0);break;case 1:case 12:if(!l.sheetStubs||g)break;E={t:"z",v:void 0},A=ne[0].c==-1?A+1:ne[0].c,l.dense?(u[S]||(u[S]=[]),u[S][A]=E):u[Ki(A)+D]=E,p.s.r>y.r&&(p.s.r=y.r),p.s.c>A&&(p.s.c=A),p.e.r<y.r&&(p.e.r=y.r),p.e.c<A&&(p.e.c=A),W&&(W.type=="XLDAPR"&&(E.D=!0),W=void 0);break;case 176:F.push(ne);break;case 49:W=((l.xlmeta||{}).Cell||[])[ne-1];break;case 494:var V=i["!id"][ne.relId];for(V?(ne.Target=V.Target,ne.loc&&(ne.Target+="#"+ne.loc),ne.Rel=V):ne.relId==""&&(ne.Target="#"+ne.loc),S=ne.rfx.s.r;S<=ne.rfx.e.r;++S)for(A=ne.rfx.s.c;A<=ne.rfx.e.c;++A)l.dense?(u[S]||(u[S]=[]),u[S][A]||(u[S][A]={t:"z",v:void 0}),u[S][A].l=ne):(R=ln({c:A,r:S}),u[R]||(u[R]={t:"z",v:void 0}),u[R].l=ne);break;case 426:if(!l.cellFormula)break;C.push(ne),P=l.dense?u[S][A]:u[Ki(A)+D],P.f=Ba(ne[1],p,{r:y.r,c:A},k,l),P.F=bn(ne[0]);break;case 427:if(!l.cellFormula)break;L[ln(ne[0].s)]=ne[1],P=l.dense?u[S][A]:u[Ki(A)+D],P.f=Ba(ne[1],p,{r:y.r,c:A},k,l);break;case 60:if(!l.cellStyles)break;for(;ne.e>=ne.s;)ee[ne.e--]={width:ne.w/256,hidden:!!(ne.flags&1),level:ne.level},pe||(pe=!0,Aw(ne.w/256)),Vf(ee[ne.e+1]);break;case 161:u["!autofilter"]={ref:bn(ne)};break;case 476:u["!margins"]=ne;break;case 147:r.Sheets[t]||(r.Sheets[t]={}),ne.name&&(r.Sheets[t].CodeName=ne.name),(ne.above||ne.left)&&(u["!outline"]={above:ne.above,left:ne.left});break;case 137:r.Views||(r.Views=[{}]),r.Views[0]||(r.Views[0]={}),ne.RTL&&(r.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:g=!0;break;case 36:g=!1;break;case 37:g=!0;break;case 38:g=!1;break;default:if(!j.T){if(!g||l.WTF)throw new Error("Unexpected record 0x"+le.toString(16))}}},l),delete l.supbooks,delete l["!row"],!u["!ref"]&&(p.s.r<2e6||h&&(h.e.r>0||h.e.c>0||h.s.r>0||h.s.c>0))&&(u["!ref"]=bn(h||p)),l.sheetRows&&u["!ref"]){var K=Jn(u["!ref"]);l.sheetRows<=+K.e.r&&(K.e.r=l.sheetRows-1,K.e.r>p.e.r&&(K.e.r=p.e.r),K.e.r<K.s.r&&(K.s.r=K.e.r),K.e.c>p.e.c&&(K.e.c=p.e.c),K.e.c<K.s.c&&(K.s.c=K.e.c),u["!fullref"]=u["!ref"],u["!ref"]=bn(K))}return F.length>0&&(u["!merges"]=F),ee.length>0&&(u["!cols"]=ee),ve.length>0&&(u["!rows"]=ve),u}function vse(n,e,t,i,r,a,s){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=Li(e),e.z=e.z||an[14],e.v=jr(Ii(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var u={r:t,c:i};switch(u.s=Jf(r.cellXfs,e,r),e.l&&a["!links"].push([ln(u),e.l]),e.c&&a["!comments"].push([ln(u),e.c]),e.t){case"s":case"str":return r.bookSST?(l=Cw(r.Strings,e.v,r.revStrings),u.t="s",u.v=l,s?dt(n,18,Fae(e,u)):dt(n,7,Lae(e,u))):(u.t="str",s?dt(n,17,qae(e,u)):dt(n,6,Yae(e,u))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?dt(n,13,Gae(e,u)):dt(n,2,Vae(e,u)):s?dt(n,16,kae(e,u)):dt(n,5,Bae(e,u)),!0;case"b":return u.t="b",s?dt(n,15,Rae(e,u)):dt(n,4,Mae(e,u)),!0;case"e":return u.t="e",s?dt(n,14,Dae(e,u)):dt(n,3,Oae(e,u)),!0}return s?dt(n,12,Aae(e,u)):dt(n,1,Sae(e,u)),!0}function xse(n,e,t,i){var r=Jn(e["!ref"]||"A1"),a,s="",l=[];dt(n,145);var u=Array.isArray(e),h=r.e.r;e["!rows"]&&(h=Math.max(r.e.r,e["!rows"].length-1));for(var p=r.s.r;p<=h;++p){s=mr(p),mae(n,e,r,p);var g=!1;if(p<=r.e.r)for(var v=r.s.c;v<=r.e.c;++v){p===r.s.r&&(l[v]=Ki(v)),a=l[v]+s;var y=u?(e[p]||[])[v]:e[a];if(!y){g=!1;continue}g=vse(n,y,p,v,i,e,g)}}dt(n,146)}function yse(n,e){!e||!e["!merges"]||(dt(n,177,tse(e["!merges"].length)),e["!merges"].forEach(function(t){dt(n,176,ese(t))}),dt(n,178))}function _se(n,e){!e||!e["!cols"]||(dt(n,390),e["!cols"].forEach(function(t,i){t&&dt(n,60,ose(i,t))}),dt(n,391))}function Ese(n,e){!e||!e["!ref"]||(dt(n,648),dt(n,649,hse(Jn(e["!ref"]))),dt(n,650))}function Sse(n,e,t){e["!links"].forEach(function(i){if(i[1].Target){var r=mi(t,-1,i[1].Target.replace(/#.*$/,""),Bn.HLINK);dt(n,494,ise(i,r))}}),delete e["!links"]}function Tse(n,e,t,i){if(e["!comments"].length>0){var r=mi(i,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Bn.VML);dt(n,551,gw("rId"+r)),e["!legacy"]=r}}function Ase(n,e,t,i){if(e["!autofilter"]){var r=e["!autofilter"],a=typeof r.ref=="string"?r.ref:bn(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,l=ks(a);l.s.r==l.e.r&&(l.e.r=ks(e["!ref"]).e.r,a=bn(l));for(var u=0;u<s.length;++u){var h=s[u];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==i){h.Ref="'"+t.SheetNames[i]+"'!"+a;break}}u==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+t.SheetNames[i]+"'!"+a}),dt(n,161,gm(Jn(a))),dt(n,162)}}function bse(n,e,t){dt(n,133),dt(n,137,fse(e,t)),dt(n,138),dt(n,134)}function Mse(n,e){e["!protect"]&&dt(n,535,dse(e["!protect"]))}function wse(n,e,t,i){var r=Bs(),a=t.SheetNames[n],s=t.Sheets[a]||{},l=a;try{t&&t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch{}var u=Jn(s["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],dt(r,129),(t.vbaraw||s["!outline"])&&dt(r,147,_ae(l,s["!outline"])),dt(r,148,vae(u)),bse(r,s,t.Workbook),_se(r,s),xse(r,s,n,e),Mse(r,s),Ase(r,s,t,n),yse(r,s),Sse(r,s,i),s["!margins"]&&dt(r,476,cse(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Ese(r,s),Tse(r,s,n,i),dt(r,130),r.end()}function Rse(n){var e=[],t=n.match(/^<c:numCache>/),i;(n.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=t?+s[2]:s[2])});var r=Zn((n.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(n.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){i=a.replace(/<.*?>/g,"")}),[e,r,i]}function Cse(n,e,t,i,r,a){var s=a||{"!type":"chart"};if(!n)return a;var l=0,u=0,h="A",p={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(n.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(g){var v=Rse(g);p.s.r=p.s.c=0,p.e.c=l,h=Ki(l),v[0].forEach(function(y,E){s[h+mr(E)]={t:"n",v:y,z:v[1]},u=E}),p.e.r<u&&(p.e.r=u),++l}),l>0&&(s["!ref"]=bn(p)),s}function Ose(n,e,t,i,r){if(!n)return n;i||(i={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,l=n.match(sB);return l&&Ow(l[0],a,r,t),(s=n.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),i["!id"][a["!rel"]]&&(a["!drawel"]=i["!id"][a["!rel"]]),a}function Nse(n,e){n.l+=10;var t=Ga(n);return{name:t}}function Dse(n,e,t,i,r){if(!n)return n;i||(i={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Mu(n,function(u,h,p){switch(p){case 550:a["!rel"]=u;break;case 651:r.Sheets[t]||(r.Sheets[t]={}),u.name&&(r.Sheets[t].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(h.T>0)){if(!(h.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}}},e),i["!id"][a["!rel"]]&&(a["!drawel"]=i["!id"][a["!rel"]]),a}var Nw=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Ise=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Lse=[],Use=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function fN(n,e){for(var t=0;t!=n.length;++t)for(var i=n[t],r=0;r!=e.length;++r){var a=e[r];if(i[a[0]]==null)i[a[0]]=a[1];else switch(a[2]){case"bool":typeof i[a[0]]=="string"&&(i[a[0]]=Ni(i[a[0]]));break;case"int":typeof i[a[0]]=="string"&&(i[a[0]]=parseInt(i[a[0]],10));break}}}function hN(n,e){for(var t=0;t!=e.length;++t){var i=e[t];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Ni(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function uB(n){hN(n.WBProps,Nw),hN(n.CalcPr,Use),fN(n.WBView,Ise),fN(n.Sheets,Lse),Pp.date1904=Ni(n.WBProps.date1904)}function Fse(n){return!n.Workbook||!n.Workbook.WBProps?"false":Ni(n.Workbook.WBProps.date1904)?"true":"false"}var Pse="][*?/\\".split("");function fB(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return Pse.forEach(function(i){if(n.indexOf(i)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function Bse(n,e,t){n.forEach(function(i,r){fB(i);for(var a=0;a<r;++a)if(i==n[a])throw new Error("Duplicate Sheet Name: "+i);if(t){var s=e&&e[r]&&e[r].CodeName||i;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function kse(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];Bse(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)Fre(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}var zse=/<\w+:workbook/;function Vse(n,e){if(!n)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},i=!1,r="xmlns",a={},s=0;if(n.replace(Ya,function(u,h){var p=hn(u);switch(Rc(p[0])){case"<?xml":break;case"<workbook":u.match(zse)&&(r="xmlns"+u.match(/<(\w+):/)[1]),t.xmlns=p[r];break;case"</workbook>":break;case"<fileVersion":delete p[0],t.AppVersion=p;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Nw.forEach(function(g){if(p[g[0]]!=null)switch(g[2]){case"bool":t.WBProps[g[0]]=Ni(p[g[0]]);break;case"int":t.WBProps[g[0]]=parseInt(p[g[0]],10);break;default:t.WBProps[g[0]]=p[g[0]]}}),p.codeName&&(t.WBProps.CodeName=Ti(p.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete p[0],t.WBView.push(p);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(p.state){case"hidden":p.Hidden=1;break;case"veryHidden":p.Hidden=2;break;default:p.Hidden=0}delete p.state,p.name=Zn(Ti(p.name)),delete p[0],t.Sheets.push(p);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":i=!0;break;case"</definedNames>":i=!1;break;case"<definedName":a={},a.Name=Ti(p.name),p.comment&&(a.Comment=p.comment),p.localSheetId&&(a.Sheet=+p.localSheetId),Ni(p.hidden||"0")&&(a.Hidden=!0),s=h+u.length;break;case"</definedName>":a.Ref=Zn(Ti(n.slice(s,h))),t.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete p[0],t.CalcPr=p;break;case"<calcPr/>":delete p[0],t.CalcPr=p;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":i=!0;break;case"</AlternateContent>":i=!1;break;case"<revisionPtr":break;default:if(!i&&e.WTF)throw new Error("unrecognized "+p[0]+" in workbook")}return u}),Hd.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return uB(t),t}function hB(n){var e=[vr];e[e.length]=wt("workbook",null,{xmlns:Hd[0],"xmlns:r":Gr.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,i={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(Nw.forEach(function(l){n.Workbook.WBProps[l[0]]!=null&&n.Workbook.WBProps[l[0]]!=l[1]&&(i[l[0]]=n.Workbook.WBProps[l[0]])}),n.Workbook.WBProps.CodeName&&(i.codeName=n.Workbook.WBProps.CodeName,delete i.CodeName)),e[e.length]=wt("workbookPr",null,i);var r=n.Workbook&&n.Workbook.Sheets||[],a=0;if(r&&r[0]&&r[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=n.SheetNames.length&&!(!r[a]||!r[a].Hidden);++a);a==n.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=n.SheetNames.length;++a){var s={name:gi(n.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),r[a])switch(r[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=wt("sheet",null,s)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(l){var u={name:l.Name};l.Comment&&(u.comment=l.Comment),l.Sheet!=null&&(u.localSheetId=""+l.Sheet),l.Hidden&&(u.hidden="1"),l.Ref&&(e[e.length]=wt("definedName",gi(l.Ref),u))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Hse(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=ub(n),t.name=Ga(n),t}function Gse(n,e){return e||(e=nt(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),gw(n.strRelID,e),aa(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Xse(n,e){var t={},i=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var r=e>8?Ga(n):"";return r.length>0&&(t.CodeName=r),t.autoCompressPictures=!!(i&65536),t.backupFile=!!(i&64),t.checkCompatibility=!!(i&4096),t.date1904=!!(i&1),t.filterPrivacy=!!(i&8),t.hidePivotFieldList=!!(i&1024),t.promptedSolutions=!!(i&16),t.publishItems=!!(i&2048),t.refreshAllConnections=!!(i&262144),t.saveExternalLinkValues=!!(i&128),t.showBorderUnselectedTables=!!(i&4),t.showInkAnnotation=!!(i&32),t.showObjects=["all","placeholders","none"][i>>13&3],t.showPivotChartFilter=!!(i&32768),t.updateLinks=["userSet","never","always"][i>>8&3],t}function Wse(n,e){e||(e=nt(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),iP(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Yse(n,e){var t={};return n.read_shift(4),t.ArchID=n.read_shift(4),n.l+=e-8,t}function jse(n,e,t){var i=n.l+e;n.l+=4,n.l+=1;var r=n.read_shift(4),a=TJ(n),s=Ore(n,0,t),l=mw(n);n.l=i;var u={Name:a,Ptg:s};return r<268435455&&(u.Sheet=r),l&&(u.Comment=l),u}function qse(n,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},i=[],r=!1;e||(e={}),e.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],lx[16]={n:"BrtFRTArchID$",f:Yse},Mu(n,function(u,h,p){switch(p){case 156:s.SheetNames.push(u.name),t.Sheets.push(u);break;case 153:t.WBProps=u;break;case 39:u.Sheet!=null&&(e.SID=u.Sheet),u.Ref=Ba(u.Ptg,null,null,s,e),delete e.SID,delete u.Ptg,a.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([p,u]):s[0]=[p,u],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(u),s.XTI=s.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:i.push(p),r=!0;break;case 36:i.pop(),r=!1;break;case 37:i.push(p),r=!0;break;case 38:i.pop(),r=!1;break;case 16:break;default:if(!h.T){if(!r||e.WTF&&i[i.length-1]!=37&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+p.toString(16))}}},e),uB(t),t.Names=a,t.supbooks=s,t}function Kse(n,e){dt(n,143);for(var t=0;t!=e.SheetNames.length;++t){var i=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,r={Hidden:i,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};dt(n,156,Gse(r))}dt(n,144)}function Zse(n,e){e||(e=nt(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return aa("SheetJS",e),aa(LE.version,e),aa(LE.version,e),aa("7262",e),e.length>e.l?e.slice(0,e.l):e}function Qse(n,e){e||(e=nt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function Jse(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,i=0,r=-1,a=-1;i<t.length;++i)!t[i]||!t[i].Hidden&&r==-1?r=i:t[i].Hidden==1&&a==-1&&(a=i);a>r||(dt(n,135),dt(n,158,Qse(r)),dt(n,136))}}function $se(n,e){var t=Bs();return dt(t,131),dt(t,128,Zse()),dt(t,153,Wse(n.Workbook&&n.Workbook.WBProps||null)),Jse(t,n),Kse(t,n),dt(t,132),t.end()}function eoe(n,e,t){return e.slice(-4)===".bin"?qse(n,t):Vse(n,t)}function toe(n,e,t,i,r,a,s,l){return e.slice(-4)===".bin"?gse(n,i,t,r,a,s,l):jre(n,i,t,r,a,s,l)}function noe(n,e,t,i,r,a,s,l){return e.slice(-4)===".bin"?Dse(n,i,t,r,a):Ose(n,i,t,r,a)}function ioe(n,e,t,i,r,a,s,l){return e.slice(-4)===".bin"?aie():sie()}function roe(n,e,t,i,r,a,s,l){return e.slice(-4)===".bin"?iie():rie()}function aoe(n,e,t,i){return e.slice(-4)===".bin"?ene(n,t,i):Hte(n,t,i)}function soe(n,e,t){return YP(n,t)}function ooe(n,e,t){return e.slice(-4)===".bin"?ote(n,t):rte(n,t)}function loe(n,e,t){return e.slice(-4)===".bin"?Jne(n,t):Gne(n,t)}function coe(n,e,t){return e.slice(-4)===".bin"?zne(n):Bne(n)}function uoe(n,e,t,i){return t.slice(-4)===".bin"?Vne(n,e,t,i):void 0}function foe(n,e,t){return e.slice(-4)===".bin"?Une(n,e,t):Pne(n,e,t)}function hoe(n,e,t){return(e.slice(-4)===".bin"?$se:hB)(n)}function doe(n,e,t,i,r){return(e.slice(-4)===".bin"?wse:oB)(n,t,i,r)}function poe(n,e,t){return(e.slice(-4)===".bin"?une:XP)(n,t)}function moe(n,e,t){return(e.slice(-4)===".bin"?ute:FP)(n,t)}function goe(n,e,t){return(e.slice(-4)===".bin"?$ne:KP)(n)}function voe(n){return(n.slice(-4)===".bin"?Fne:jP)()}var dB=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,pB=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function El(n,e){var t=n.split(/\s+/),i=[];if(i[0]=t[0],t.length===1)return i;var r=n.match(dB),a,s,l,u;if(r)for(u=0;u!=r.length;++u)a=r[u].match(pB),(s=a[1].indexOf(":"))===-1?i[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?l="xmlns"+a[1].slice(6):l=a[1].slice(s+1),i[l]=a[2].slice(1,a[2].length-1));return i}function xoe(n){var e=n.split(/\s+/),t={};if(e.length===1)return t;var i=n.match(dB),r,a,s,l;if(i)for(l=0;l!=i.length;++l)r=i[l].match(pB),(a=r[1].indexOf(":"))===-1?t[r[1]]=r[2].slice(1,r[2].length-1):(r[1].slice(0,6)==="xmlns:"?s="xmlns"+r[1].slice(6):s=r[1].slice(a+1),t[s]=r[2].slice(1,r[2].length-1));return t}var Av;function yoe(n,e){var t=Av[n]||Zn(n);return t==="General"?Id(e):Wo(t,e)}function _oe(n,e,t,i){var r=i;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":r=Ni(i);break;case"i2":case"int":r=parseInt(i,10);break;case"r4":case"float":r=parseFloat(i);break;case"date":case"dateTime.tz":r=Ii(i);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}n[Zn(e)]=r}function Eoe(n,e,t){if(n.t!=="z"){if(!t||t.cellText!==!1)try{n.t==="e"?n.w=n.w||wu[n.v]:e==="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=$v(n.v):n.w=Id(n.v):n.w=yoe(e||"General",n.v)}catch(a){if(t.WTF)throw a}try{var i=Av[e]||e||"General";if(t.cellNF&&(n.z=i),t.cellDates&&n.t=="n"&&dm(i)){var r=xd(n.v);r&&(n.t="d",n.v=new Date(r.y,r.m-1,r.d,r.H,r.M,r.S,r.u))}}catch(a){if(t.WTF)throw a}}}function Soe(n,e,t){if(t.cellStyles&&e.Interior){var i=e.Interior;i.Pattern&&(i.patternType=Lte[i.Pattern]||i.Pattern)}n[e.ID]=e}function Toe(n,e,t,i,r,a,s,l,u,h){var p="General",g=i.StyleID,v={};h=h||{};var y=[],E=0;for(g===void 0&&l&&(g=l.StyleID),g===void 0&&s&&(g=s.StyleID);a[g]!==void 0&&(a[g].nf&&(p=a[g].nf),a[g].Interior&&y.push(a[g].Interior),!!a[g].Parent);)g=a[g].Parent;switch(t.Type){case"Boolean":i.t="b",i.v=Ni(n);break;case"String":i.t="s",i.r=C4(Zn(n)),i.v=n.indexOf("<")>-1?Zn(e||n).replace(/<.*?>/g,""):i.r;break;case"DateTime":n.slice(-1)!="Z"&&(n+="Z"),i.v=(Ii(n)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),i.v!==i.v?i.v=Zn(n):i.v<60&&(i.v=i.v-1),(!p||p=="General")&&(p="yyyy-mm-dd");case"Number":i.v===void 0&&(i.v=+n),i.t||(i.t="n");break;case"Error":i.t="e",i.v=lP[n],h.cellText!==!1&&(i.w=n);break;default:n==""&&e==""?i.t="z":(i.t="s",i.v=C4(e||n));break}if(Eoe(i,p,h),h.cellFormula!==!1)if(i.Formula){var T=Zn(i.Formula);T.charCodeAt(0)==61&&(T=T.slice(1)),i.f=Fp(T,r),delete i.Formula,i.ArrayRange=="RC"?i.F=Fp("RC:RC",r):i.ArrayRange&&(i.F=Fp(i.ArrayRange,r),u.push([Jn(i.F),i.F]))}else for(E=0;E<u.length;++E)r.r>=u[E][0].s.r&&r.r<=u[E][0].e.r&&r.c>=u[E][0].s.c&&r.c<=u[E][0].e.c&&(i.F=u[E][1]);h.cellStyles&&(y.forEach(function(S){!v.patternType&&S.patternType&&(v.patternType=S.patternType)}),i.s=v),i.StyleID!==void 0&&(i.ixfe=i.StyleID)}function Aoe(n){n.t=n.v||"",n.t=n.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),n.v=n.w=n.ixfe=void 0}function fA(n,e){var t=e||{};pm();var i=$g(cw(n));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(i=Ti(i));var r=i.slice(0,1024).toLowerCase(),a=!1;if(r=r.replace(/".*?"/g,""),(r.indexOf(">")&1023)>Math.min(r.indexOf(",")&1023,r.indexOf(";")&1023)){var s=Li(t);return s.type="string",Qp.to_workbook(i,s)}if(r.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Pe){r.indexOf("<"+Pe)>=0&&(a=!0)}),a)return cle(i,t);Av={"General Number":"General","General Date":an[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":an[15],"Short Date":an[14],"Long Time":an[19],"Medium Time":an[18],"Short Time":an[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:an[2],Standard:an[4],Percent:an[10],Scientific:an[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,u=[],h,p={},g=[],v=t.dense?[]:{},y="",E={},T={},S=El('<Data ss:Type="String">'),A=0,R=0,w=0,D={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},F={},U="",I=0,C=[],L={},k={},G=0,ee=[],ve=[],pe={},W=[],K,ie=!1,ne=[],j=[],le={},H=0,q=0,V={Sheets:[],WBProps:{date1904:!1}},Q={};nx.lastIndex=0,i=i.replace(/<!--([\s\S]*?)-->/mg,"");for(var ge="";l=nx.exec(i);)switch(l[3]=(ge=l[3]).toLowerCase()){case"data":if(ge=="data"){if(l[1]==="/"){if((h=u.pop())[0]!==l[3])throw new Error("Bad state: "+h.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break}if(u[u.length-1][1])break;l[1]==="/"?Toe(i.slice(A,l.index),U,S,u[u.length-1][0]=="comment"?pe:E,{c:R,r:w},P,W[R],T,ne,t):(U="",S=El(l[0]),A=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(ve.length>0&&(E.c=ve),(!t.sheetRows||t.sheetRows>w)&&E.v!==void 0&&(t.dense?(v[w]||(v[w]=[]),v[w][R]=E):v[Ki(R)+mr(w)]=E),E.HRef&&(E.l={Target:Zn(E.HRef)},E.HRefScreenTip&&(E.l.Tooltip=E.HRefScreenTip),delete E.HRef,delete E.HRefScreenTip),(E.MergeAcross||E.MergeDown)&&(H=R+(parseInt(E.MergeAcross,10)|0),q=w+(parseInt(E.MergeDown,10)|0),C.push({s:{c:R,r:w},e:{c:H,r:q}})),!t.sheetStubs)E.MergeAcross?R=H+1:++R;else if(E.MergeAcross||E.MergeDown){for(var Ae=R;Ae<=H;++Ae)for(var Ee=w;Ee<=q;++Ee)(Ae>R||Ee>w)&&(t.dense?(v[Ee]||(v[Ee]=[]),v[Ee][Ae]={t:"z"}):v[Ki(Ae)+mr(Ee)]={t:"z"});R=H+1}else++R;else E=xoe(l[0]),E.Index&&(R=+E.Index-1),R<D.s.c&&(D.s.c=R),R>D.e.c&&(D.e.c=R),l[0].slice(-2)==="/>"&&++R,ve=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(w<D.s.r&&(D.s.r=w),w>D.e.r&&(D.e.r=w),l[0].slice(-2)==="/>"&&(T=El(l[0]),T.Index&&(w=+T.Index-1)),R=0,++w):(T=El(l[0]),T.Index&&(w=+T.Index-1),le={},(T.AutoFitHeight=="0"||T.Height)&&(le.hpx=parseInt(T.Height,10),le.hpt=ox(le.hpx),j[w]=le),T.Hidden=="1"&&(le.hidden=!0,j[w]=le));break;case"worksheet":if(l[1]==="/"){if((h=u.pop())[0]!==l[3])throw new Error("Bad state: "+h.join("|"));g.push(y),D.s.r<=D.e.r&&D.s.c<=D.e.c&&(v["!ref"]=bn(D),t.sheetRows&&t.sheetRows<=D.e.r&&(v["!fullref"]=v["!ref"],D.e.r=t.sheetRows-1,v["!ref"]=bn(D))),C.length&&(v["!merges"]=C),W.length>0&&(v["!cols"]=W),j.length>0&&(v["!rows"]=j),p[y]=v}else D={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=R=0,u.push([l[3],!1]),h=El(l[0]),y=Zn(h.Name),v=t.dense?[]:{},C=[],ne=[],j=[],Q={name:y,Hidden:0},V.Sheets.push(Q);break;case"table":if(l[1]==="/"){if((h=u.pop())[0]!==l[3])throw new Error("Bad state: "+h.join("|"))}else{if(l[0].slice(-2)=="/>")break;u.push([l[3],!1]),W=[],ie=!1}break;case"style":l[1]==="/"?Soe(P,F,t):F=El(l[0]);break;case"numberformat":F.nf=Zn(El(l[0]).Format||"General"),Av[F.nf]&&(F.nf=Av[F.nf]);for(var Ce=0;Ce!=392&&an[Ce]!=F.nf;++Ce);if(Ce==392){for(Ce=57;Ce!=392;++Ce)if(an[Ce]==null){mu(F.nf,Ce);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(K=El(l[0]),K.Hidden&&(K.hidden=!0,delete K.Hidden),K.Width&&(K.wpx=parseInt(K.Width,10)),!ie&&K.wpx>10){ie=!0,ka=HP;for(var Ne=0;Ne<W.length;++Ne)W[Ne]&&Vf(W[Ne])}ie&&Vf(K),W[K.Index-1||W.length]=K;for(var st=0;st<+K.Span;++st)W[W.length]=Li(K);break;case"namedrange":if(l[1]==="/")break;V.Names||(V.Names=[]);var se=hn(l[0]),vt={Name:se.Name,Ref:Fp(se.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(vt.Sheet=V.Sheets.length-1),V.Names.push(vt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?U+=i.slice(I,l.index):I=l.index+l[0].length;break;case"interior":if(!t.cellStyles)break;F.Interior=El(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?qJ(L,ge,i.slice(G,l.index)):G=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((h=u.pop())[0]!==l[3])throw new Error("Bad state: "+h.join("|"))}else u.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((h=u.pop())[0]!==l[3])throw new Error("Bad state: "+h.join("|"));Aoe(pe),ve.push(pe)}else u.push([l[3],!1]),h=El(l[0]),pe={a:h.Author};break;case"autofilter":if(l[1]==="/"){if((h=u.pop())[0]!==l[3])throw new Error("Bad state: "+h.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var J=El(l[0]);v["!autofilter"]={ref:Fp(J.Range).replace(/\$/g,"")},u.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((h=u.pop())[0]!==l[3])throw new Error("Bad state: "+h.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((h=u.pop())[0]!==l[3])throw new Error("Bad state: "+h.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break;case"null":break;default:if(u.length==0&&l[3]=="document"||u.length==0&&l[3]=="uof")return vN(i,t);var Ze=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ze=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ze=!1}break;case"excelworkbook":switch(l[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ze=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Ze=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(i.slice(G,l.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else G=l.index+l[0].length;break;case"header":v["!margins"]||wd(v["!margins"]={},"xlml"),isNaN(+hn(l[0]).Margin)||(v["!margins"].header=+hn(l[0]).Margin);break;case"footer":v["!margins"]||wd(v["!margins"]={},"xlml"),isNaN(+hn(l[0]).Margin)||(v["!margins"].footer=+hn(l[0]).Margin);break;case"pagemargins":var Ie=hn(l[0]);v["!margins"]||wd(v["!margins"]={},"xlml"),isNaN(+Ie.Top)||(v["!margins"].top=+Ie.Top),isNaN(+Ie.Left)||(v["!margins"].left=+Ie.Left),isNaN(+Ie.Right)||(v["!margins"].right=+Ie.Right),isNaN(+Ie.Bottom)||(v["!margins"].bottom=+Ie.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ze=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ze=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ze=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ze=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ze=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ze=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ze=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ze=!1}break;case"smarttags":break;default:Ze=!1;break}if(Ze||l[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?_oe(k,ge,ee,i.slice(G,l.index)):(ee=l,G=l.index+l[0].length);break}if(t.WTF)throw"Unrecognized tag: "+l[3]+"|"+u.join("|")}var Re={};return!t.bookSheets&&!t.bookProps&&(Re.Sheets=p),Re.SheetNames=g,Re.Workbook=V,Re.SSF=Li(an),Re.Props=L,Re.Custprops=k,Re}function vb(n,e){switch(Iw(e=e||{}),e.type||"base64"){case"base64":return fA(oo(n),e);case"binary":case"buffer":case"file":return fA(n,e);case"array":return fA(Zf(n),e)}}function boe(n,e){var t=[];return n.Props&&t.push(KJ(n.Props,e)),n.Custprops&&t.push(ZJ(n.Props,n.Custprops)),t.join("")}function Moe(){return""}function woe(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(i,r){var a=[];a.push(wt("NumberFormat",null,{"ss:Format":gi(an[i.numFmtId])}));var s={"ss:ID":"s"+(21+r)};t.push(wt("Style",a.join(""),s))}),wt("Styles",t.join(""))}function mB(n){return wt("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+ww(n.Ref,{r:0,c:0})})}function Roe(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],i=0;i<e.length;++i){var r=e[i];r.Sheet==null&&(r.Name.match(/^_xlfn\./)||t.push(mB(r)))}return wt("Names",t.join(""))}function Coe(n,e,t,i){if(!n||!((i||{}).Workbook||{}).Names)return"";for(var r=i.Workbook.Names,a=[],s=0;s<r.length;++s){var l=r[s];l.Sheet==t&&(l.Name.match(/^_xlfn\./)||a.push(mB(l)))}return a.join("")}function Ooe(n,e,t,i){if(!n)return"";var r=[];if(n["!margins"]&&(r.push("<PageSetup>"),n["!margins"].header&&r.push(wt("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&r.push(wt("Footer",null,{"x:Margin":n["!margins"].footer})),r.push(wt("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),r.push("</PageSetup>")),i&&i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[t])if(i.Workbook.Sheets[t].Hidden)r.push(wt("Visible",i.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<t&&!(i.Workbook.Sheets[a]&&!i.Workbook.Sheets[a].Hidden);++a);a==t&&r.push("<Selected/>")}return((((i||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),n["!protect"]&&(r.push(ya("ProtectContents","True")),n["!protect"].objects&&r.push(ya("ProtectObjects","True")),n["!protect"].scenarios&&r.push(ya("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?r.push(ya("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&r.push(ya("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){n["!protect"][s[0]]&&r.push("<"+s[1]+"/>")})),r.length==0?"":wt("WorksheetOptions",r.join(""),{xmlns:to.x})}function Noe(n){return n.map(function(e){var t=JQ(e.t||""),i=wt("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return wt("Comment",i,{"ss:Author":e.a})}).join("")}function Doe(n,e,t,i,r,a,s){if(!n||n.v==null&&n.f==null)return"";var l={};if(n.f&&(l["ss:Formula"]="="+gi(ww(n.f,s))),n.F&&n.F.slice(0,e.length)==e){var u=Zi(n.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(u.r==s.r?"":"["+(u.r-s.r)+"]")+"C"+(u.c==s.c?"":"["+(u.c-s.c)+"]")}if(n.l&&n.l.Target&&(l["ss:HRef"]=gi(n.l.Target),n.l.Tooltip&&(l["x:HRefScreenTip"]=gi(n.l.Tooltip))),t["!merges"])for(var h=t["!merges"],p=0;p!=h.length;++p)h[p].s.c!=s.c||h[p].s.r!=s.r||(h[p].e.c>h[p].s.c&&(l["ss:MergeAcross"]=h[p].e.c-h[p].s.c),h[p].e.r>h[p].s.r&&(l["ss:MergeDown"]=h[p].e.r-h[p].s.r));var g="",v="";switch(n.t){case"z":if(!i.sheetStubs)return"";break;case"n":g="Number",v=String(n.v);break;case"b":g="Boolean",v=n.v?"1":"0";break;case"e":g="Error",v=wu[n.v];break;case"d":g="DateTime",v=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||an[14]);break;case"s":g="String",v=QQ(n.v||"");break}var y=Jf(i.cellXfs,n,i);l["ss:StyleID"]="s"+(21+y),l["ss:Index"]=s.c+1;var E=n.v!=null?v:"",T=n.t=="z"?"":'<Data ss:Type="'+g+'">'+E+"</Data>";return(n.c||[]).length>0&&(T+=Noe(n.c)),wt("Cell",T,l)}function Ioe(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Jp(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function Loe(n,e,t,i){if(!n["!ref"])return"";var r=Jn(n["!ref"]),a=n["!merges"]||[],s=0,l=[];n["!cols"]&&n["!cols"].forEach(function(S,A){Vf(S);var R=!!S.width,w=HS(A,S),D={"ss:Index":A+1};R&&(D["ss:Width"]=ax(w.width)),S.hidden&&(D["ss:Hidden"]="1"),l.push(wt("Column",null,D))});for(var u=Array.isArray(n),h=r.s.r;h<=r.e.r;++h){for(var p=[Ioe(h,(n["!rows"]||[])[h])],g=r.s.c;g<=r.e.c;++g){var v=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>g)&&!(a[s].s.r>h)&&!(a[s].e.c<g)&&!(a[s].e.r<h)){(a[s].s.c!=g||a[s].s.r!=h)&&(v=!0);break}if(!v){var y={r:h,c:g},E=ln(y),T=u?(n[h]||[])[g]:n[E];p.push(Doe(T,E,n,e,t,i,y))}}p.push("</Row>"),p.length>2&&l.push(p.join(""))}return l.join("")}function Uoe(n,e,t){var i=[],r=t.SheetNames[n],a=t.Sheets[r],s=a?Coe(a,e,n,t):"";return s.length>0&&i.push("<Names>"+s+"</Names>"),s=a?Loe(a,e,n,t):"",s.length>0&&i.push("<Table>"+s+"</Table>"),i.push(Ooe(a,e,n,t)),i.join("")}function Foe(n,e){e||(e={}),n.SSF||(n.SSF=Li(an)),n.SSF&&(pm(),US(n.SSF),e.revssf=PS(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],Jf(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(boe(n,e)),t.push(Moe()),t.push(""),t.push("");for(var i=0;i<n.SheetNames.length;++i)t.push(wt("Worksheet",Uoe(i,e,n),{"ss:Name":gi(n.SheetNames[i])}));return t[2]=woe(n,e),t[3]=Roe(n),vr+wt("Workbook",t.join(""),{xmlns:to.ss,"xmlns:o":to.o,"xmlns:x":to.x,"xmlns:ss":to.ss,"xmlns:dt":to.dt,"xmlns:html":to.html})}function Poe(n){var e={},t=n.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=RJ(t),t.length-t.l<=4)return e;var i=t.read_shift(4);if(i==0||i>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(i=t.read_shift(4),i!==1907505652)||(e.UnicodeClipboardFormat=CJ(t),i=t.read_shift(4),i==0||i>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var Boe=[60,1084,2066,2165,2175];function koe(n,e,t,i,r){var a=i,s=[],l=t.slice(t.l,t.l+a);if(r&&r.enc&&r.enc.insitu&&l.length>0)switch(n){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:r.enc.insitu(l)}s.push(l),t.l+=a;for(var u=uu(t,t.l),h=xb[u],p=0;h!=null&&Boe.indexOf(u)>-1;)a=uu(t,t.l+2),p=t.l+4,u==2066?p+=4:(u==2165||u==2175)&&(p+=12),l=t.slice(p,t.l+4+a),s.push(l),t.l+=4+a,h=xb[u=uu(t,t.l)];var g=ra(s);xa(g,0);var v=0;g.lens=[];for(var y=0;y<s.length;++y)g.lens.push(v),v+=s[y].length;if(g.length<i)throw"XLS Record 0x"+n.toString(16)+" Truncated: "+g.length+" < "+i;return e.f(g,g.length,r)}function pc(n,e,t){if(n.t!=="z"&&n.XF){var i=0;try{i=n.z||n.XF.numFmtId||0,e.cellNF&&(n.z=an[i])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{n.t==="e"?n.w=n.w||wu[n.v]:i===0||i=="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=$v(n.v):n.w=Id(n.v):n.w=Wo(i,n.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&i&&n.t=="n"&&dm(an[i]||String(i))){var r=xd(n.v);r&&(n.t="d",n.v=new Date(r.y,r.m-1,r.d,r.H,r.M,r.S,r.u))}}}function y_(n,e,t){return{v:n,ixfe:e,t}}function zoe(n,e){var t={opts:{}},i={},r=e.dense?[]:{},a={},s={},l=null,u=[],h="",p={},g,v="",y,E,T,S,A={},R=[],w,D,P=[],F=[],U={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},C=function(it){return it<8?Ad[it]:it<64&&F[it-8]||Ad[it]},L=function(it,xt,bt){var Je=xt.XF.data;if(!(!Je||!Je.patternType||!bt||!bt.cellStyles)){xt.s={},xt.s.patternType=Je.patternType;var At;(At=rx(C(Je.icvFore)))&&(xt.s.fgColor={rgb:At}),(At=rx(C(Je.icvBack)))&&(xt.s.bgColor={rgb:At})}},k=function(it,xt,bt){if(!(le>1)&&!(bt.sheetRows&&it.r>=bt.sheetRows)){if(bt.cellStyles&&xt.XF&&xt.XF.data&&L(it,xt,bt),delete xt.ixfe,delete xt.XF,g=it,v=ln(it),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),it.r<s.s.r&&(s.s.r=it.r),it.c<s.s.c&&(s.s.c=it.c),it.r+1>s.e.r&&(s.e.r=it.r+1),it.c+1>s.e.c&&(s.e.c=it.c+1),bt.cellFormula&&xt.f){for(var Je=0;Je<R.length;++Je)if(!(R[Je][0].s.c>it.c||R[Je][0].s.r>it.r)&&!(R[Je][0].e.c<it.c||R[Je][0].e.r<it.r)){xt.F=bn(R[Je][0]),(R[Je][0].s.c!=it.c||R[Je][0].s.r!=it.r)&&delete xt.f,xt.f&&(xt.f=""+Ba(R[Je][1],s,it,ne,G));break}}bt.dense?(r[it.r]||(r[it.r]=[]),r[it.r][it.c]=xt):r[v]=xt}},G={enc:!1,sbcch:0,snames:[],sharedf:A,arrayf:R,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(G.password=e.password);var ee,ve=[],pe=[],W=[],K=[],ie=!1,ne=[];ne.SheetNames=G.snames,ne.sharedf=G.sharedf,ne.arrayf=G.arrayf,ne.names=[],ne.XTI=[];var j=0,le=0,H=0,q=[],V=[],Q;G.codepage=1200,Ml(1200);for(var ge=!1;n.l<n.length-1;){var Ae=n.l,Ee=n.read_shift(2);if(Ee===0&&j===10)break;var Ce=n.l===n.length?0:n.read_shift(2),Ne=xb[Ee];if(Ne&&Ne.f){if(e.bookSheets&&j===133&&Ee!==133)break;if(j=Ee,Ne.r===2||Ne.r==12){var st=n.read_shift(2);if(Ce-=2,!G.enc&&st!==Ee&&((st&255)<<8|st>>8)!==Ee)throw new Error("rt mismatch: "+st+"!="+Ee);Ne.r==12&&(n.l+=10,Ce-=10)}var se={};if(Ee===10?se=Ne.f(n,Ce,G):se=koe(Ee,Ne,n,Ce,G),le==0&&[9,521,1033,2057].indexOf(j)===-1)continue;switch(Ee){case 34:t.opts.Date1904=U.WBProps.date1904=se;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(G.enc||(n.l=0),G.enc=se,!e.password)throw new Error("File is password-protected");if(se.valid==null)throw new Error("Encryption scheme unsupported");if(!se.valid)throw new Error("Password is incorrect");break;case 92:G.lastuser=se;break;case 66:var vt=Number(se);switch(vt){case 21010:vt=1200;break;case 32768:vt=1e4;break;case 32769:vt=1252;break}Ml(G.codepage=vt),ge=!0;break;case 317:G.rrtabid=se;break;case 25:G.winlocked=se;break;case 439:t.opts.RefreshAll=se;break;case 12:t.opts.CalcCount=se;break;case 16:t.opts.CalcDelta=se;break;case 17:t.opts.CalcIter=se;break;case 13:t.opts.CalcMode=se;break;case 14:t.opts.CalcPrecision=se;break;case 95:t.opts.CalcSaveRecalc=se;break;case 15:G.CalcRefMode=se;break;case 2211:t.opts.FullCalc=se;break;case 129:se.fDialog&&(r["!type"]="dialog"),se.fBelow||((r["!outline"]||(r["!outline"]={})).above=!0),se.fRight||((r["!outline"]||(r["!outline"]={})).left=!0);break;case 224:P.push(se);break;case 430:ne.push([se]),ne[ne.length-1].XTI=[];break;case 35:case 547:ne[ne.length-1].push(se);break;case 24:case 536:Q={Name:se.Name,Ref:Ba(se.rgce,s,null,ne,G)},se.itab>0&&(Q.Sheet=se.itab-1),ne.names.push(Q),ne[0]||(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].push(se),se.Name=="_xlnm._FilterDatabase"&&se.itab>0&&se.rgce&&se.rgce[0]&&se.rgce[0][0]&&se.rgce[0][0][0]=="PtgArea3d"&&(V[se.itab-1]={ref:bn(se.rgce[0][0][1][2])});break;case 22:G.ExternCount=se;break;case 23:ne.length==0&&(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].XTI=ne[ne.length-1].XTI.concat(se),ne.XTI=ne.XTI.concat(se);break;case 2196:if(G.biff<8)break;Q!=null&&(Q.Comment=se[1]);break;case 18:r["!protect"]=se;break;case 19:se!==0&&G.WTF&&console.error("Password verifier: "+se);break;case 133:a[se.pos]=se,G.snames.push(se.name);break;case 10:{if(--le)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,r["!ref"]=bn(s),e.sheetRows&&e.sheetRows<=s.e.r){var J=s.e.r;s.e.r=e.sheetRows-1,r["!fullref"]=r["!ref"],r["!ref"]=bn(s),s.e.r=J}s.e.r++,s.e.c++}ve.length>0&&(r["!merges"]=ve),pe.length>0&&(r["!objects"]=pe),W.length>0&&(r["!cols"]=W),K.length>0&&(r["!rows"]=K),U.Sheets.push(I)}h===""?p=r:i[h]=r,r=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(G.biff===8&&(G.biff={9:2,521:3,1033:4}[Ee]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[se.BIFFVer]||8),G.biffguess=se.BIFFVer==0,se.BIFFVer==0&&se.dt==4096&&(G.biff=5,ge=!0,Ml(G.codepage=28591)),G.biff==8&&se.BIFFVer==0&&se.dt==16&&(G.biff=2),le++)break;if(r=e.dense?[]:{},G.biff<8&&!ge&&(ge=!0,Ml(G.codepage=e.codepage||1252)),G.biff<5||se.BIFFVer==0&&se.dt==4096){h===""&&(h="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Ze={pos:n.l-Ce,name:h};a[Ze.pos]=Ze,G.snames.push(h)}else h=(a[Ae]||{name:""}).name;se.dt==32&&(r["!type"]="chart"),se.dt==64&&(r["!type"]="macro"),ve=[],pe=[],G.arrayf=R=[],W=[],K=[],ie=!1,I={Hidden:(a[Ae]||{hs:0}).hs,name:h}}break;case 515:case 3:case 2:r["!type"]=="chart"&&(e.dense?(r[se.r]||[])[se.c]:r[ln({c:se.c,r:se.r})])&&++se.c,w={ixfe:se.ixfe,XF:P[se.ixfe]||{},v:se.val,t:"n"},H>0&&(w.z=q[w.ixfe>>8&63]),pc(w,e,t.opts.Date1904),k({c:se.c,r:se.r},w,e);break;case 5:case 517:w={ixfe:se.ixfe,XF:P[se.ixfe],v:se.val,t:se.t},H>0&&(w.z=q[w.ixfe>>8&63]),pc(w,e,t.opts.Date1904),k({c:se.c,r:se.r},w,e);break;case 638:w={ixfe:se.ixfe,XF:P[se.ixfe],v:se.rknum,t:"n"},H>0&&(w.z=q[w.ixfe>>8&63]),pc(w,e,t.opts.Date1904),k({c:se.c,r:se.r},w,e);break;case 189:for(var Ie=se.c;Ie<=se.C;++Ie){var Re=se.rkrec[Ie-se.c][0];w={ixfe:Re,XF:P[Re],v:se.rkrec[Ie-se.c][1],t:"n"},H>0&&(w.z=q[w.ixfe>>8&63]),pc(w,e,t.opts.Date1904),k({c:Ie,r:se.r},w,e)}break;case 6:case 518:case 1030:{if(se.val=="String"){l=se;break}if(w=y_(se.val,se.cell.ixfe,se.tt),w.XF=P[w.ixfe],e.cellFormula){var Pe=se.formula;if(Pe&&Pe[0]&&Pe[0][0]&&Pe[0][0][0]=="PtgExp"){var ut=Pe[0][0][1][0],$e=Pe[0][0][1][1],yt=ln({r:ut,c:$e});A[yt]?w.f=""+Ba(se.formula,s,se.cell,ne,G):w.F=((e.dense?(r[ut]||[])[$e]:r[yt])||{}).F}else w.f=""+Ba(se.formula,s,se.cell,ne,G)}H>0&&(w.z=q[w.ixfe>>8&63]),pc(w,e,t.opts.Date1904),k(se.cell,w,e),l=se}break;case 7:case 519:if(l)l.val=se,w=y_(se,l.cell.ixfe,"s"),w.XF=P[w.ixfe],e.cellFormula&&(w.f=""+Ba(l.formula,s,l.cell,ne,G)),H>0&&(w.z=q[w.ixfe>>8&63]),pc(w,e,t.opts.Date1904),k(l.cell,w,e),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{R.push(se);var kt=ln(se[0].s);if(y=e.dense?(r[se[0].s.r]||[])[se[0].s.c]:r[kt],e.cellFormula&&y){if(!l||!kt||!y)break;y.f=""+Ba(se[1],s,se[0],ne,G),y.F=bn(se[0])}}break;case 1212:{if(!e.cellFormula)break;if(v){if(!l)break;A[ln(l.cell)]=se[0],y=e.dense?(r[l.cell.r]||[])[l.cell.c]:r[ln(l.cell)],(y||{}).f=""+Ba(se[0],s,g,ne,G)}}break;case 253:w=y_(u[se.isst].t,se.ixfe,"s"),u[se.isst].h&&(w.h=u[se.isst].h),w.XF=P[w.ixfe],H>0&&(w.z=q[w.ixfe>>8&63]),pc(w,e,t.opts.Date1904),k({c:se.c,r:se.r},w,e);break;case 513:e.sheetStubs&&(w={ixfe:se.ixfe,XF:P[se.ixfe],t:"z"},H>0&&(w.z=q[w.ixfe>>8&63]),pc(w,e,t.opts.Date1904),k({c:se.c,r:se.r},w,e));break;case 190:if(e.sheetStubs)for(var ce=se.c;ce<=se.C;++ce){var Y=se.ixfe[ce-se.c];w={ixfe:Y,XF:P[Y],t:"z"},H>0&&(w.z=q[w.ixfe>>8&63]),pc(w,e,t.opts.Date1904),k({c:ce,r:se.r},w,e)}break;case 214:case 516:case 4:w=y_(se.val,se.ixfe,"s"),w.XF=P[w.ixfe],H>0&&(w.z=q[w.ixfe>>8&63]),pc(w,e,t.opts.Date1904),k({c:se.c,r:se.r},w,e);break;case 0:case 512:le===1&&(s=se);break;case 252:u=se;break;case 1054:if(G.biff==4){q[H++]=se[1];for(var Oe=0;Oe<H+163&&an[Oe]!=se[1];++Oe);Oe>=163&&mu(se[1],H+163)}else mu(se[1],se[0]);break;case 30:{q[H++]=se;for(var ze=0;ze<H+163&&an[ze]!=se;++ze);ze>=163&&mu(se,H+163)}break;case 229:ve=ve.concat(se);break;case 93:pe[se.cmo[0]]=G.lastobj=se;break;case 438:G.lastobj.TxO=se;break;case 127:G.lastobj.ImData=se;break;case 440:for(S=se[0].s.r;S<=se[0].e.r;++S)for(T=se[0].s.c;T<=se[0].e.c;++T)y=e.dense?(r[S]||[])[T]:r[ln({c:T,r:S})],y&&(y.l=se[1]);break;case 2048:for(S=se[0].s.r;S<=se[0].e.r;++S)for(T=se[0].s.c;T<=se[0].e.c;++T)y=e.dense?(r[S]||[])[T]:r[ln({c:T,r:S})],y&&y.l&&(y.l.Tooltip=se[1]);break;case 28:{if(G.biff<=5&&G.biff>=2)break;y=e.dense?(r[se[0].r]||[])[se[0].c]:r[ln(se[0])];var Qe=pe[se[2]];y||(e.dense?(r[se[0].r]||(r[se[0].r]=[]),y=r[se[0].r][se[0].c]={t:"z"}):y=r[ln(se[0])]={t:"z"},s.e.r=Math.max(s.e.r,se[0].r),s.s.r=Math.min(s.s.r,se[0].r),s.e.c=Math.max(s.e.c,se[0].c),s.s.c=Math.min(s.s.c,se[0].c)),y.c||(y.c=[]),E={a:se[1],t:Qe.TxO.t},y.c.push(E)}break;case 2173:wne(P[se.ixfe],se.ext);break;case 125:{if(!G.cellStyles)break;for(;se.e>=se.s;)W[se.e--]={width:se.w/256,level:se.level||0,hidden:!!(se.flags&1)},ie||(ie=!0,Aw(se.w/256)),Vf(W[se.e+1])}break;case 520:{var He={};se.level!=null&&(K[se.r]=He,He.level=se.level),se.hidden&&(K[se.r]=He,He.hidden=!0),se.hpt&&(K[se.r]=He,He.hpt=se.hpt,He.hpx=Jp(se.hpt))}break;case 38:case 39:case 40:case 41:r["!margins"]||wd(r["!margins"]={}),r["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ee]]=se;break;case 161:r["!margins"]||wd(r["!margins"]={}),r["!margins"].header=se.header,r["!margins"].footer=se.footer;break;case 574:se.RTL&&(U.Views[0].RTL=!0);break;case 146:F=se;break;case 2198:ee=se;break;case 140:D=se;break;case 442:h?I.CodeName=se||I.name:U.WBProps.CodeName=se||"ThisWorkbook";break}}else Ne||console.error("Missing Info for XLS Record 0x"+Ee.toString(16)),n.l+=Ce}return t.SheetNames=or(a).sort(function(St,it){return Number(St)-Number(it)}).map(function(St){return a[St].name}),e.bookSheets||(t.Sheets=i),!t.SheetNames.length&&p["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=p)):t.Preamble=p,t.Sheets&&V.forEach(function(St,it){t.Sheets[t.SheetNames[it]]["!autofilter"]=St}),t.Strings=u,t.SSF=Li(an),G.enc&&(t.Encryption=G.enc),ee&&(t.Themes=ee),t.Metadata={},D!==void 0&&(t.Metadata.Country=D),ne.names.length>0&&(U.Names=ne.names),t.Workbook=U,t}var bv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Voe(n,e,t){var i=Jt.find(n,"/!DocumentSummaryInformation");if(i&&i.size>0)try{var r=j4(i,fb,bv.DSI);for(var a in r)e[a]=r[a]}catch(h){if(t.WTF)throw h}var s=Jt.find(n,"/!SummaryInformation");if(s&&s.size>0)try{var l=j4(s,hb,bv.SI);for(var u in l)e[u]==null&&(e[u]=l[u])}catch(h){if(t.WTF)throw h}e.HeadingPairs&&e.TitlesOfParts&&(pP(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function Hoe(n,e){var t=[],i=[],r=[],a=0,s,l=T4(fb,"n"),u=T4(hb,"n");if(n.Props)for(s=or(n.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(l,s[a])?t:Object.prototype.hasOwnProperty.call(u,s[a])?i:r).push([s[a],n.Props[s[a]]]);if(n.Custprops)for(s=or(n.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(n.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(l,s[a])?t:Object.prototype.hasOwnProperty.call(u,s[a])?i:r).push([s[a],n.Custprops[s[a]]]);var h=[];for(a=0;a<r.length;++a)EP.indexOf(r[a][0])>-1||dP.indexOf(r[a][0])>-1||r[a][1]!=null&&h.push(r[a]);i.length&&Jt.utils.cfb_add(e,"/SummaryInformation",q4(i,bv.SI,u,hb)),(t.length||h.length)&&Jt.utils.cfb_add(e,"/DocumentSummaryInformation",q4(t,bv.DSI,l,fb,h.length?h:null,bv.UDI))}function gB(n,e){e||(e={}),Iw(e),ew(),e.codepage&&$M(e.codepage);var t,i;if(n.FullPaths){if(Jt.find(n,"/encryption"))throw new Error("File is password-protected");t=Jt.find(n,"!CompObj"),i=Jt.find(n,"/Workbook")||Jt.find(n,"/Book")}else{switch(e.type){case"base64":n=io(oo(n));break;case"binary":n=io(n);break;case"buffer":break;case"array":Array.isArray(n)||(n=Array.prototype.slice.call(n));break}xa(n,0),i={content:n}}var r,a;if(t&&Poe(t),e.bookProps&&!e.bookSheets)r={};else{var s=Ln?"buffer":"array";if(i&&i.content)r=zoe(i.content,e);else if((a=Jt.find(n,"PerfectOffice_MAIN"))&&a.content)r=Md.to_workbook(a.content,(e.type=s,e));else if((a=Jt.find(n,"NativeContent_MAIN"))&&a.content)r=Md.to_workbook(a.content,(e.type=s,e));else throw(a=Jt.find(n,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&n.FullPaths&&Jt.find(n,"/_VBA_PROJECT_CUR/VBA/dir")&&(r.vbaraw=tie(n))}var l={};return n.FullPaths&&Voe(n,l,e),r.Props=r.Custprops=l,e.bookFiles&&(r.cfb=n),r}function Goe(n,e){var t=e||{},i=Jt.utils.cfb_new({root:"R"}),r="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":r="/Workbook",t.biff=8;break;case"biff5":r="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Jt.utils.cfb_add(i,r,vB(n,t)),t.biff==8&&(n.Props||n.Custprops)&&Hoe(n,i),t.biff==8&&n.vbaraw&&nie(i,Jt.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),i}var lx={0:{f:dae},1:{f:Eae},2:{f:zae},3:{f:Cae},4:{f:bae},5:{f:Pae},6:{f:Wae},7:{f:Iae},8:{f:Jae},9:{f:Qae},10:{f:Kae},11:{f:Zae},12:{f:Tae},13:{f:Hae},14:{f:Nae},15:{f:wae},16:{f:lB},17:{f:jae},18:{f:Uae},19:{f:pw},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:jse},40:{},42:{},43:{f:Wte},44:{f:Gte},45:{f:qte},46:{f:Zte},47:{f:Kte},48:{},49:{f:gJ},50:{},51:{f:One},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:DP},62:{f:Xae},63:{f:kne},64:{f:pse},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Xa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:use},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:yae},148:{f:gae,p:16},151:{f:rse},152:{},153:{f:Xse},154:{},155:{},156:{f:Hse},157:{},158:{},159:{T:1,f:ste},160:{T:-1},161:{T:1,f:Yd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:$ae},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Rne},336:{T:-1},337:{f:Ine,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:ub},357:{},358:{},359:{},360:{T:1},361:{},362:{f:NP},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:ase},427:{f:sse},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:lse},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:xae},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:nse},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:ub},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Zne},633:{T:1},634:{T:-1},635:{T:1,f:qne},636:{T:-1},637:{f:_J},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Nse},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:mse},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},xb={6:{f:cA},10:{f:Rf},12:{f:Cr},13:{f:Cr},14:{f:pr},15:{f:pr},16:{f:za},17:{f:pr},18:{f:pr},19:{f:Cr},20:{f:eN},21:{f:eN},23:{f:NP},24:{f:nN},25:{f:pr},26:{},27:{},28:{f:mee},29:{},34:{f:pr},35:{f:tN},38:{f:za},39:{f:za},40:{f:za},41:{f:za},42:{f:pr},43:{f:pr},47:{f:wte},49:{f:H$},51:{f:Cr},60:{},61:{f:P$},64:{f:pr},65:{f:V$},66:{f:Cr},77:{},80:{},81:{},82:{},85:{f:Cr},89:{},90:{},91:{},92:{f:M$},93:{f:xee},94:{},95:{f:pr},96:{},97:{},99:{f:pr},125:{f:DP},128:{f:iee},129:{f:R$},130:{f:Cr},131:{f:pr},132:{f:pr},133:{f:C$},134:{},140:{f:Mee},141:{f:Cr},144:{},146:{f:Cee},151:{},152:{},153:{},154:{},155:{},156:{f:Cr},157:{},158:{},160:{f:Fee},161:{f:Dee},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:$$},190:{f:eee},193:{f:Rf},197:{},198:{},199:{},200:{},201:{},202:{f:pr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Cr},220:{},221:{f:pr},222:{},224:{f:nee},225:{f:b$},226:{f:Rf},227:{},229:{f:gee},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:N$},253:{f:X$},255:{f:I$},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:SP},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:pr},353:{f:Rf},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:lee},431:{f:pr},432:{},433:{},434:{},437:{},438:{f:Eee},439:{f:pr},440:{f:See},441:{},442:{f:Nx},443:{},444:{f:Cr},445:{},446:{},448:{f:Rf},449:{f:F$,r:2},450:{f:Rf},512:{f:Q4},513:{f:Uee},515:{f:see},516:{f:Y$},517:{f:$4},519:{f:Pee},520:{f:L$},523:{},545:{f:iN},549:{f:Z4},566:{},574:{f:k$},638:{f:J$},659:{},1048:{},1054:{f:q$},1084:{},1212:{f:hee},2048:{f:Aee},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:g_},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Rf},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Oee,r:12},2173:{f:Mne,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:pr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:fee,r:12},2197:{},2198:{f:_ne,r:12},2199:{},2200:{},2201:{},2202:{f:dee,r:12},2203:{f:Rf},2204:{},2205:{},2206:{},2207:{},2211:{f:U$},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Cr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Iee},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Ree},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Q4},1:{},2:{f:Hee},3:{f:zee},4:{f:kee},5:{f:$4},7:{f:Xee},8:{},9:{f:g_},11:{},22:{f:Cr},30:{f:Z$},31:{},32:{},33:{f:iN},36:{},37:{f:Z4},50:{f:Wee},62:{},52:{},67:{},68:{f:Cr},69:{},86:{},126:{},127:{f:Bee},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Yee},223:{},234:{},354:{},421:{},518:{f:cA},521:{f:g_},536:{f:nN},547:{f:tN},561:{},579:{},1030:{f:cA},1033:{f:g_},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Rt(n,e,t,i){var r=e;if(!isNaN(r)){var a=i||(t||[]).length||0,s=n.next(4);s.write_shift(2,r),s.write_shift(2,a),a>0&&fw(t)&&n.push(t)}}function Xoe(n,e,t,i){var r=(t||[]).length||0;if(r<=8224)return Rt(n,e,t,r);var a=e;if(!isNaN(a)){for(var s=t.parts||[],l=0,u=0,h=0;h+(s[l]||8224)<=8224;)h+=s[l]||8224,l++;var p=n.next(4);for(p.write_shift(2,a),p.write_shift(2,h),n.push(t.slice(u,u+h)),u+=h;u<r;){for(p=n.next(4),p.write_shift(2,60),h=0;h+(s[l]||8224)<=8224;)h+=s[l]||8224,l++;p.write_shift(2,h),n.push(t.slice(u,u+h)),u+=h}}}function Ux(n,e,t){return n||(n=nt(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function Woe(n,e,t,i){var r=nt(9);return Ux(r,n,e),TP(t,i||"b",r),r}function Yoe(n,e,t){var i=nt(8+2*t.length);return Ux(i,n,e),i.write_shift(1,t.length),i.write_shift(t.length,t,"sbcs"),i.l<i.length?i.slice(0,i.l):i}function joe(n,e,t,i){if(e.v!=null)switch(e.t){case"d":case"n":var r=e.t=="d"?jr(Ii(e.v)):e.v;r==(r|0)&&r>=0&&r<65536?Rt(n,2,Gee(t,i,r)):Rt(n,3,Vee(t,i,r));return;case"b":case"e":Rt(n,5,Woe(t,i,e.v,e.t));return;case"s":case"str":Rt(n,4,Yoe(t,i,(e.v||"").slice(0,255)));return}Rt(n,1,Ux(null,t,i))}function qoe(n,e,t,i){var r=Array.isArray(e),a=Jn(e["!ref"]||"A1"),s,l="",u=[];if(a.e.c>255||a.e.r>16383){if(i.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=bn(a)}for(var h=a.s.r;h<=a.e.r;++h){l=mr(h);for(var p=a.s.c;p<=a.e.c;++p){h===a.s.r&&(u[p]=Ki(p)),s=u[p]+l;var g=r?(e[h]||[])[p]:e[s];g&&joe(n,g,h,p)}}}function Koe(n,e){for(var t=e||{},i=Bs(),r=0,a=0;a<n.SheetNames.length;++a)n.SheetNames[a]==t.sheet&&(r=a);if(r==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Rt(i,t.biff==4?1033:t.biff==3?521:9,Ew(n,16,t)),qoe(i,n.Sheets[n.SheetNames[r]],r,t),Rt(i,10),i.end()}function Zoe(n,e,t){Rt(n,49,G$({sz:12,name:"Arial"},t))}function Qoe(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)e[r]!=null&&Rt(n,1054,K$(r,e[r],t))})}function Joe(n,e){var t=nt(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Rt(n,2151,t),t=nt(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),RP(Jn(e["!ref"]||"A1"),t),t.write_shift(4,4),Rt(n,2152,t)}function $oe(n,e){for(var t=0;t<16;++t)Rt(n,224,J4({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(i){Rt(n,224,J4(i,0,e))})}function ele(n,e){for(var t=0;t<e["!links"].length;++t){var i=e["!links"][t];Rt(n,440,Tee(i)),i[1].Tooltip&&Rt(n,2048,bee(i))}delete e["!links"]}function tle(n,e){if(e){var t=0;e.forEach(function(i,r){++t<=256&&i&&Rt(n,125,Nee(HS(r,i),r))})}}function nle(n,e,t,i,r){var a=16+Jf(r.cellXfs,e,r);if(e.v==null&&!e.bf){Rt(n,513,Pd(t,i,a));return}if(e.bf)Rt(n,6,Rre(e,t,i,r,a));else switch(e.t){case"d":case"n":var s=e.t=="d"?jr(Ii(e.v)):e.v;Rt(n,515,oee(t,i,s,a));break;case"b":case"e":Rt(n,517,aee(t,i,e.v,a,r,e.t));break;case"s":case"str":if(r.bookSST){var l=Cw(r.Strings,e.v,r.revStrings);Rt(n,253,W$(t,i,l,a))}else Rt(n,516,j$(t,i,(e.v||"").slice(0,255),a,r));break;default:Rt(n,513,Pd(t,i,a))}}function ile(n,e,t){var i=Bs(),r=t.SheetNames[n],a=t.Sheets[r]||{},s=(t||{}).Workbook||{},l=(s.Sheets||[])[n]||{},u=Array.isArray(a),h=e.biff==8,p,g="",v=[],y=Jn(a["!ref"]||"A1"),E=h?65536:16384;if(y.e.c>255||y.e.r>=E){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");y.e.c=Math.min(y.e.c,255),y.e.r=Math.min(y.e.c,E-1)}Rt(i,2057,Ew(t,16,e)),Rt(i,13,Bo(1)),Rt(i,12,Bo(100)),Rt(i,15,fs(!0)),Rt(i,17,fs(!1)),Rt(i,16,Ud(.001)),Rt(i,95,fs(!0)),Rt(i,42,fs(!1)),Rt(i,43,fs(!1)),Rt(i,130,Bo(1)),Rt(i,128,ree()),Rt(i,131,fs(!1)),Rt(i,132,fs(!1)),h&&tle(i,a["!cols"]),Rt(i,512,Q$(y,e)),h&&(a["!links"]=[]);for(var T=y.s.r;T<=y.e.r;++T){g=mr(T);for(var S=y.s.c;S<=y.e.c;++S){T===y.s.r&&(v[S]=Ki(S)),p=v[S]+g;var A=u?(a[T]||[])[S]:a[p];A&&(nle(i,A,T,S,e),h&&A.l&&a["!links"].push([p,A.l]))}}var R=l.CodeName||l.name||r;return h&&Rt(i,574,z$((s.Views||[])[0])),h&&(a["!merges"]||[]).length&&Rt(i,229,vee(a["!merges"])),h&&ele(i,a),Rt(i,442,AP(R)),h&&Joe(i,a),Rt(i,10),i.end()}function rle(n,e,t){var i=Bs(),r=(n||{}).Workbook||{},a=r.Sheets||[],s=r.WBProps||{},l=t.biff==8,u=t.biff==5;if(Rt(i,2057,Ew(n,5,t)),t.bookType=="xla"&&Rt(i,135),Rt(i,225,l?Bo(1200):null),Rt(i,193,a$(2)),u&&Rt(i,191),u&&Rt(i,192),Rt(i,226),Rt(i,92,w$("SheetJS",t)),Rt(i,66,Bo(l?1200:1252)),l&&Rt(i,353,Bo(0)),l&&Rt(i,448),Rt(i,317,Lee(n.SheetNames.length)),l&&n.vbaraw&&Rt(i,211),l&&n.vbaraw){var h=s.CodeName||"ThisWorkbook";Rt(i,442,AP(h))}Rt(i,156,Bo(17)),Rt(i,25,fs(!1)),Rt(i,18,fs(!1)),Rt(i,19,Bo(0)),l&&Rt(i,431,fs(!1)),l&&Rt(i,444,Bo(0)),Rt(i,61,B$()),Rt(i,64,fs(!1)),Rt(i,141,Bo(0)),Rt(i,34,fs(Fse(n)=="true")),Rt(i,14,fs(!0)),l&&Rt(i,439,fs(!1)),Rt(i,218,Bo(0)),Zoe(i,n,t),Qoe(i,n.SSF,t),$oe(i,t),l&&Rt(i,352,fs(!1));var p=i.end(),g=Bs();l&&Rt(g,140,wee()),l&&t.Strings&&Xoe(g,252,D$(t.Strings)),Rt(g,10);var v=g.end(),y=Bs(),E=0,T=0;for(T=0;T<n.SheetNames.length;++T)E+=(l?12:11)+(l?2:1)*n.SheetNames[T].length;var S=p.length+E+v.length;for(T=0;T<n.SheetNames.length;++T){var A=a[T]||{};Rt(y,133,O$({pos:S,hs:A.Hidden||0,dt:0,name:n.SheetNames[T]},t)),S+=e[T].length}var R=y.end();if(E!=R.length)throw new Error("BS8 "+E+" != "+R.length);var w=[];return p.length&&w.push(p),R.length&&w.push(R),v.length&&w.push(v),ra(w)}function ale(n,e){var t=e||{},i=[];n&&!n.SSF&&(n.SSF=Li(an)),n&&n.SSF&&(pm(),US(n.SSF),t.revssf=PS(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Lw(t),t.cellXfs=[],Jf(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var r=0;r<n.SheetNames.length;++r)i[i.length]=ile(r,t,n);return i.unshift(rle(n,i,t)),ra(i)}function vB(n,e){for(var t=0;t<=n.SheetNames.length;++t){var i=n.Sheets[n.SheetNames[t]];if(!(!i||!i["!ref"])){var r=ks(i["!ref"]);r.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return ale(n,e);case 4:case 3:case 2:return Koe(n,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function dN(n,e){var t=e||{},i=t.dense?[]:{};n=n.replace(/<!--.*?-->/g,"");var r=n.match(/<table/i);if(!r)throw new Error("Invalid HTML: could not find <table>");var a=n.match(/<\/table/i),s=r.index,l=a&&a.index||n.length,u=GQ(n.slice(s,l),/(:?<tr[^>]*>)/i,"<tr>"),h=-1,p=0,g=0,v=0,y={s:{r:1e7,c:1e7},e:{r:0,c:0}},E=[];for(s=0;s<u.length;++s){var T=u[s].trim(),S=T.slice(0,3).toLowerCase();if(S=="<tr"){if(++h,t.sheetRows&&t.sheetRows<=h){--h;break}p=0;continue}if(!(S!="<td"&&S!="<th")){var A=T.split(/<\/t[dh]>/i);for(l=0;l<A.length;++l){var R=A[l].trim();if(R.match(/<t[dh]/i)){for(var w=R,D=0;w.charAt(0)=="<"&&(D=w.indexOf(">"))>-1;)w=w.slice(D+1);for(var P=0;P<E.length;++P){var F=E[P];F.s.c==p&&F.s.r<h&&h<=F.e.r&&(p=F.e.c+1,P=-1)}var U=hn(R.slice(0,R.indexOf(">")));v=U.colspan?+U.colspan:1,((g=+U.rowspan)>1||v>1)&&E.push({s:{r:h,c:p},e:{r:h+(g||1)-1,c:p+v-1}});var I=U.t||U["data-t"]||"";if(!w.length){p+=v;continue}if(w=VF(w),y.s.r>h&&(y.s.r=h),y.e.r<h&&(y.e.r=h),y.s.c>p&&(y.s.c=p),y.e.c<p&&(y.e.c=p),!w.length){p+=v;continue}var C={t:"s",v:w};t.raw||!w.trim().length||I=="s"||(w==="TRUE"?C={t:"b",v:!0}:w==="FALSE"?C={t:"b",v:!1}:isNaN(Cl(w))?isNaN(Zp(w).getDate())||(C={t:"d",v:Ii(w)},t.cellDates||(C={t:"n",v:jr(C.v)}),C.z=t.dateNF||an[14]):C={t:"n",v:Cl(w)}),t.dense?(i[h]||(i[h]=[]),i[h][p]=C):i[ln({r:h,c:p})]=C,p+=v}}}}return i["!ref"]=bn(y),E.length&&(i["!merges"]=E),i}function sle(n,e,t,i){for(var r=n["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var l=0,u=0,h=0;h<r.length;++h)if(!(r[h].s.r>t||r[h].s.c>s)&&!(r[h].e.r<t||r[h].e.c<s)){if(r[h].s.r<t||r[h].s.c<s){l=-1;break}l=r[h].e.r-r[h].s.r+1,u=r[h].e.c-r[h].s.c+1;break}if(!(l<0)){var p=ln({r:t,c:s}),g=i.dense?(n[t]||[])[s]:n[p],v=g&&g.v!=null&&(g.h||lw(g.w||(Au(g),g.w)||""))||"",y={};l>1&&(y.rowspan=l),u>1&&(y.colspan=u),i.editable?v='<span contenteditable="true">'+v+"</span>":g&&(y["data-t"]=g&&g.t||"z",g.v!=null&&(y["data-v"]=g.v),g.z!=null&&(y["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+g.l.Target+'">'+v+"</a>")),y.id=(i.id||"sjs")+"-"+p,a.push(wt("td",v,y))}}var E="<tr>";return E+a.join("")+"</tr>"}var ole='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',lle="</body></html>";function cle(n,e){var t=n.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return Qf(dN(t[0],e),e);var i=Pw();return t.forEach(function(r,a){Bw(i,dN(r,e),"Sheet"+(a+1))}),i}function ule(n,e,t){var i=[];return i.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function xB(n,e){var t=e||{},i=t.header!=null?t.header:ole,r=t.footer!=null?t.footer:lle,a=[i],s=ks(n["!ref"]);t.dense=Array.isArray(n),a.push(ule(n,s,t));for(var l=s.s.r;l<=s.e.r;++l)a.push(sle(n,s,l,t));return a.push("</table>"+r),a.join("")}function yB(n,e,t){var i=t||{},r=0,a=0;if(i.origin!=null)if(typeof i.origin=="number")r=i.origin;else{var s=typeof i.origin=="string"?Zi(i.origin):i.origin;r=s.r,a=s.c}var l=e.getElementsByTagName("tr"),u=Math.min(i.sheetRows||1e7,l.length),h={s:{r:0,c:0},e:{r,c:a}};if(n["!ref"]){var p=ks(n["!ref"]);h.s.r=Math.min(h.s.r,p.s.r),h.s.c=Math.min(h.s.c,p.s.c),h.e.r=Math.max(h.e.r,p.e.r),h.e.c=Math.max(h.e.c,p.e.c),r==-1&&(h.e.r=r=p.e.r+1)}var g=[],v=0,y=n["!rows"]||(n["!rows"]=[]),E=0,T=0,S=0,A=0,R=0,w=0;for(n["!cols"]||(n["!cols"]=[]);E<l.length&&T<u;++E){var D=l[E];if(pN(D)){if(i.display)continue;y[T]={hidden:!0}}var P=D.children;for(S=A=0;S<P.length;++S){var F=P[S];if(!(i.display&&pN(F))){var U=F.hasAttribute("data-v")?F.getAttribute("data-v"):F.hasAttribute("v")?F.getAttribute("v"):VF(F.innerHTML),I=F.getAttribute("data-z")||F.getAttribute("z");for(v=0;v<g.length;++v){var C=g[v];C.s.c==A+a&&C.s.r<T+r&&T+r<=C.e.r&&(A=C.e.c+1-a,v=-1)}w=+F.getAttribute("colspan")||1,((R=+F.getAttribute("rowspan")||1)>1||w>1)&&g.push({s:{r:T+r,c:A+a},e:{r:T+r+(R||1)-1,c:A+a+(w||1)-1}});var L={t:"s",v:U},k=F.getAttribute("data-t")||F.getAttribute("t")||"";U!=null&&(U.length==0?L.t=k||"z":i.raw||U.trim().length==0||k=="s"||(U==="TRUE"?L={t:"b",v:!0}:U==="FALSE"?L={t:"b",v:!1}:isNaN(Cl(U))?isNaN(Zp(U).getDate())||(L={t:"d",v:Ii(U)},i.cellDates||(L={t:"n",v:jr(L.v)}),L.z=i.dateNF||an[14]):L={t:"n",v:Cl(U)})),L.z===void 0&&I!=null&&(L.z=I);var G="",ee=F.getElementsByTagName("A");if(ee&&ee.length)for(var ve=0;ve<ee.length&&!(ee[ve].hasAttribute("href")&&(G=ee[ve].getAttribute("href"),G.charAt(0)!="#"));++ve);G&&G.charAt(0)!="#"&&(L.l={Target:G}),i.dense?(n[T+r]||(n[T+r]=[]),n[T+r][A+a]=L):n[ln({c:A+a,r:T+r})]=L,h.e.c<A+a&&(h.e.c=A+a),A+=w}}++T}return g.length&&(n["!merges"]=(n["!merges"]||[]).concat(g)),h.e.r=Math.max(h.e.r,T-1+r),n["!ref"]=bn(h),T>=u&&(n["!fullref"]=bn((h.e.r=l.length-E+T-1+r,h))),n}function _B(n,e){var t=e||{},i=t.dense?[]:{};return yB(i,n,e)}function fle(n,e){return Qf(_B(n,e),e)}function pN(n){var e="",t=hle(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function hle(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function dle(n){var e=n.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(i,r){return Array(parseInt(r,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=Zn(e.replace(/<[^>]*>/g,""));return[t]}var mN={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function EB(n,e){var t=e||{},i=cw(n),r=[],a,s,l={name:""},u="",h=0,p,g,v={},y=[],E=t.dense?[]:{},T,S,A={value:""},R="",w=0,D=[],P=-1,F=-1,U={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,C={},L=[],k={},G=0,ee=0,ve=[],pe=1,W=1,K=[],ie={Names:[]},ne={},j=["",""],le=[],H={},q="",V=0,Q=!1,ge=!1,Ae=0;for(nx.lastIndex=0,i=i.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");T=nx.exec(i);)switch(T[3]=T[3].replace(/_.*$/,"")){case"table":case"工作表":T[1]==="/"?(U.e.c>=U.s.c&&U.e.r>=U.s.r?E["!ref"]=bn(U):E["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=U.e.r&&(E["!fullref"]=E["!ref"],U.e.r=t.sheetRows-1,E["!ref"]=bn(U)),L.length&&(E["!merges"]=L),ve.length&&(E["!rows"]=ve),p.name=p.名称||p.name,typeof JSON<"u"&&JSON.stringify(p),y.push(p.name),v[p.name]=E,ge=!1):T[0].charAt(T[0].length-2)!=="/"&&(p=hn(T[0],!1),P=F=-1,U.s.r=U.s.c=1e7,U.e.r=U.e.c=0,E=t.dense?[]:{},L=[],ve=[],ge=!0);break;case"table-row-group":T[1]==="/"?--I:++I;break;case"table-row":case"行":if(T[1]==="/"){P+=pe,pe=1;break}if(g=hn(T[0],!1),g.行号?P=g.行号-1:P==-1&&(P=0),pe=+g["number-rows-repeated"]||1,pe<10)for(Ae=0;Ae<pe;++Ae)I>0&&(ve[P+Ae]={level:I});F=-1;break;case"covered-table-cell":T[1]!=="/"&&++F,t.sheetStubs&&(t.dense?(E[P]||(E[P]=[]),E[P][F]={t:"z"}):E[ln({r:P,c:F})]={t:"z"}),R="",D=[];break;case"table-cell":case"数据":if(T[0].charAt(T[0].length-2)==="/")++F,A=hn(T[0],!1),W=parseInt(A["number-columns-repeated"]||"1",10),S={t:"z",v:null},A.formula&&t.cellFormula!=!1&&(S.f=uN(Zn(A.formula))),(A.数据类型||A["value-type"])=="string"&&(S.t="s",S.v=Zn(A["string-value"]||""),t.dense?(E[P]||(E[P]=[]),E[P][F]=S):E[ln({r:P,c:F})]=S),F+=W-1;else if(T[1]!=="/"){++F,R="",w=0,D=[],W=1;var Ee=pe?P+pe-1:P;if(F>U.e.c&&(U.e.c=F),F<U.s.c&&(U.s.c=F),P<U.s.r&&(U.s.r=P),Ee>U.e.r&&(U.e.r=Ee),A=hn(T[0],!1),le=[],H={},S={t:A.数据类型||A["value-type"],v:null},t.cellFormula)if(A.formula&&(A.formula=Zn(A.formula)),A["number-matrix-columns-spanned"]&&A["number-matrix-rows-spanned"]&&(G=parseInt(A["number-matrix-rows-spanned"],10)||0,ee=parseInt(A["number-matrix-columns-spanned"],10)||0,k={s:{r:P,c:F},e:{r:P+G-1,c:F+ee-1}},S.F=bn(k),K.push([k,S.F])),A.formula)S.f=uN(A.formula);else for(Ae=0;Ae<K.length;++Ae)P>=K[Ae][0].s.r&&P<=K[Ae][0].e.r&&F>=K[Ae][0].s.c&&F<=K[Ae][0].e.c&&(S.F=K[Ae][1]);switch((A["number-columns-spanned"]||A["number-rows-spanned"])&&(G=parseInt(A["number-rows-spanned"],10)||0,ee=parseInt(A["number-columns-spanned"],10)||0,k={s:{r:P,c:F},e:{r:P+G-1,c:F+ee-1}},L.push(k)),A["number-columns-repeated"]&&(W=parseInt(A["number-columns-repeated"],10)),S.t){case"boolean":S.t="b",S.v=Ni(A["boolean-value"]);break;case"float":S.t="n",S.v=parseFloat(A.value);break;case"percentage":S.t="n",S.v=parseFloat(A.value);break;case"currency":S.t="n",S.v=parseFloat(A.value);break;case"date":S.t="d",S.v=Ii(A["date-value"]),t.cellDates||(S.t="n",S.v=jr(S.v)),S.z="m/d/yy";break;case"time":S.t="n",S.v=zQ(A["time-value"])/86400,t.cellDates&&(S.t="d",S.v=BS(S.v)),S.z="HH:MM:SS";break;case"number":S.t="n",S.v=parseFloat(A.数据数值);break;default:if(S.t==="string"||S.t==="text"||!S.t)S.t="s",A["string-value"]!=null&&(R=Zn(A["string-value"]),D=[]);else throw new Error("Unsupported value type "+S.t)}}else{if(Q=!1,S.t==="s"&&(S.v=R||"",D.length&&(S.R=D),Q=w==0),ne.Target&&(S.l=ne),le.length>0&&(S.c=le,le=[]),R&&t.cellText!==!1&&(S.w=R),Q&&(S.t="z",delete S.v),(!Q||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=P))for(var Ce=0;Ce<pe;++Ce){if(W=parseInt(A["number-columns-repeated"]||"1",10),t.dense)for(E[P+Ce]||(E[P+Ce]=[]),E[P+Ce][F]=Ce==0?S:Li(S);--W>0;)E[P+Ce][F+W]=Li(S);else for(E[ln({r:P+Ce,c:F})]=S;--W>0;)E[ln({r:P+Ce,c:F+W})]=Li(S);U.e.c<=F&&(U.e.c=F)}W=parseInt(A["number-columns-repeated"]||"1",10),F+=W-1,W=0,S={},R="",D=[]}ne={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(T[1]==="/"){if((a=r.pop())[0]!==T[3])throw"Bad state: "+a}else T[0].charAt(T[0].length-2)!=="/"&&r.push([T[3],!0]);break;case"annotation":if(T[1]==="/"){if((a=r.pop())[0]!==T[3])throw"Bad state: "+a;H.t=R,D.length&&(H.R=D),H.a=q,le.push(H)}else T[0].charAt(T[0].length-2)!=="/"&&r.push([T[3],!1]);q="",V=0,R="",w=0,D=[];break;case"creator":T[1]==="/"?q=i.slice(V,T.index):V=T.index+T[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(T[1]==="/"){if((a=r.pop())[0]!==T[3])throw"Bad state: "+a}else T[0].charAt(T[0].length-2)!=="/"&&r.push([T[3],!1]);R="",w=0,D=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(T[1]==="/"){if(C[l.name]=u,(a=r.pop())[0]!==T[3])throw"Bad state: "+a}else T[0].charAt(T[0].length-2)!=="/"&&(u="",l=hn(T[0],!1),r.push([T[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(r[r.length-1][0]){case"time-style":case"date-style":s=hn(T[0],!1),u+=mN[T[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(r[r.length-1][0]){case"time-style":case"date-style":s=hn(T[0],!1),u+=mN[T[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(T[0].slice(-2)==="/>")break;if(T[1]==="/")switch(r[r.length-1][0]){case"number-style":case"date-style":case"time-style":u+=i.slice(h,T.index);break}else h=T.index+T[0].length;break;case"named-range":s=hn(T[0],!1),j=uA(s["cell-range-address"]);var Ne={Name:s.name,Ref:j[0]+"!"+j[1]};ge&&(Ne.Sheet=y.length),ie.Names.push(Ne);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(r[r.length-1][0])>-1)break;if(T[1]==="/"&&(!A||!A["string-value"])){var st=dle(i.slice(w,T.index));R=(R.length>0?R+`
`:"")+st[0]}else hn(T[0],!1),w=T.index+T[0].length;break;case"s":break;case"database-range":if(T[1]==="/")break;try{j=uA(hn(T[0])["target-range-address"]),v[j[0]]["!autofilter"]={ref:j[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(T[1]!=="/"){if(ne=hn(T[0],!1),!ne.href)break;ne.Target=Zn(ne.href),delete ne.href,ne.Target.charAt(0)=="#"&&ne.Target.indexOf(".")>-1?(j=uA(ne.Target.slice(1)),ne.Target="#"+j[0]+"!"+j[1]):ne.Target.match(/^\.\.[\\\/]/)&&(ne.Target=ne.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(T[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(t.WTF)throw new Error(T)}}var se={Sheets:v,SheetNames:y,Workbook:ie};return t.bookSheets&&delete se.Sheets,se}function gN(n,e){e=e||{},Po(n,"META-INF/manifest.xml")&&zJ(Rr(n,"META-INF/manifest.xml"),e);var t=ro(n,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var i=EB(Ti(t),e);return Po(n,"meta.xml")&&(i.Props=fP(Rr(n,"meta.xml"))),i}function vN(n,e){return EB(n,e)}var ple=function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+tx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return vr+e}}(),xN=function(){var n=function(a){return gi(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,i=function(a,s,l){var u=[];u.push('      <table:table table:name="'+gi(s.SheetNames[l])+`" table:style-name="ta1">
`);var h=0,p=0,g=ks(a["!ref"]||"A1"),v=a["!merges"]||[],y=0,E=Array.isArray(a);if(a["!cols"])for(p=0;p<=g.e.c;++p)u.push("        <table:table-column"+(a["!cols"][p]?' table:style-name="co'+a["!cols"][p].ods+'"':"")+`></table:table-column>
`);var T="",S=a["!rows"]||[];for(h=0;h<g.s.r;++h)T=S[h]?' table:style-name="ro'+S[h].ods+'"':"",u.push("        <table:table-row"+T+`></table:table-row>
`);for(;h<=g.e.r;++h){for(T=S[h]?' table:style-name="ro'+S[h].ods+'"':"",u.push("        <table:table-row"+T+`>
`),p=0;p<g.s.c;++p)u.push(e);for(;p<=g.e.c;++p){var A=!1,R={},w="";for(y=0;y!=v.length;++y)if(!(v[y].s.c>p)&&!(v[y].s.r>h)&&!(v[y].e.c<p)&&!(v[y].e.r<h)){(v[y].s.c!=p||v[y].s.r!=h)&&(A=!0),R["table:number-columns-spanned"]=v[y].e.c-v[y].s.c+1,R["table:number-rows-spanned"]=v[y].e.r-v[y].s.r+1;break}if(A){u.push(t);continue}var D=ln({r:h,c:p}),P=E?(a[h]||[])[p]:a[D];if(P&&P.f&&(R["table:formula"]=gi(Lre(P.f)),P.F&&P.F.slice(0,D.length)==D)){var F=ks(P.F);R["table:number-matrix-columns-spanned"]=F.e.c-F.s.c+1,R["table:number-matrix-rows-spanned"]=F.e.r-F.s.r+1}if(!P){u.push(e);continue}switch(P.t){case"b":w=P.v?"TRUE":"FALSE",R["office:value-type"]="boolean",R["office:boolean-value"]=P.v?"true":"false";break;case"n":w=P.w||String(P.v||0),R["office:value-type"]="float",R["office:value"]=P.v||0;break;case"s":case"str":w=P.v==null?"":P.v,R["office:value-type"]="string";break;case"d":w=P.w||Ii(P.v).toISOString(),R["office:value-type"]="date",R["office:date-value"]=Ii(P.v).toISOString(),R["table:style-name"]="ce1";break;default:u.push(e);continue}var U=n(w);if(P.l&&P.l.Target){var I=P.l.Target;I=I.charAt(0)=="#"?"#"+Ure(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),U=wt("text:a",U,{"xlink:href":I.replace(/&/g,"&amp;")})}u.push("          "+wt("table:table-cell",wt("text:p",U,{}),R)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},r=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var l=0;s.SheetNames.map(function(h){return s.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var p=0;p<h["!cols"].length;++p)if(h["!cols"][p]){var g=h["!cols"][p];if(g.width==null&&g.wpx==null&&g.wch==null)continue;Vf(g),g.ods=l;var v=h["!cols"][p].wpx+"px";a.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+v+`"/>
`),a.push(`  </style:style>
`),++l}}});var u=0;s.SheetNames.map(function(h){return s.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var p=0;p<h["!rows"].length;++p)if(h["!rows"][p]){h["!rows"][p].ods=u;var g=h["!rows"][p].hpx+"px";a.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),a.push(`  </style:style>
`),++u}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,l){var u=[vr],h=tx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=tx({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(u.push("<office:document"+h+p+`>
`),u.push(uP().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+h+`>
`),r(u,s),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var g=0;g!=s.SheetNames.length;++g)u.push(i(s.Sheets[s.SheetNames[g]],s,g));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),l.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}}();function SB(n,e){if(e.bookType=="fods")return xN(n,e);var t=aw(),i="",r=[],a=[];return i="mimetype",Cn(t,i,"application/vnd.oasis.opendocument.spreadsheet"),i="content.xml",Cn(t,i,xN(n,e)),r.push([i,"text/xml"]),a.push([i,"ContentFile"]),i="styles.xml",Cn(t,i,ple(n,e)),r.push([i,"text/xml"]),a.push([i,"StylesFile"]),i="meta.xml",Cn(t,i,vr+uP()),r.push([i,"text/xml"]),a.push([i,"MetadataFile"]),i="manifest.rdf",Cn(t,i,GJ(a)),r.push([i,"application/rdf+xml"]),i="META-INF/manifest.xml",Cn(t,i,VJ(r)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Bd(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function yb(n){return typeof TextDecoder<"u"?new TextDecoder().decode(n):Ti(Zf(n))}function mle(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):io(_c(n))}function gle(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var i=0;i<e.length;++i)if(n[t+i]!=e[i])continue e;return!0}return!1}function Gf(n){var e=n.reduce(function(r,a){return r+a.length},0),t=new Uint8Array(e),i=0;return n.forEach(function(r){t.set(r,i),i+=r.length}),t}function yN(n){return n-=n>>1&1431655765,n=(n&858993459)+(n>>2&858993459),(n+(n>>4)&252645135)*16843009>>>24}function vle(n,e){for(var t=(n[e+15]&127)<<7|n[e+14]>>1,i=n[e+14]&1,r=e+13;r>=e;--r)i=i*256+n[r];return(n[e+15]&128?-i:i)*Math.pow(10,t-6176)}function xle(n,e,t){var i=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,r=t/Math.pow(10,i-6176);n[e+15]|=i>>7,n[e+14]|=(i&127)<<1;for(var a=0;r>=1;++a,r/=256)n[e+a]=r&255;n[e+15]|=t>=0?0:128}function cx(n,e){var t=e?e[0]:0,i=n[t]&127;e:if(n[t++]>=128&&(i|=(n[t]&127)<<7,n[t++]<128||(i|=(n[t]&127)<<14,n[t++]<128)||(i|=(n[t]&127)<<21,n[t++]<128)||(i+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(i+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(i+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),i}function di(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function sr(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function ii(n){for(var e=[],t=[0];t[0]<n.length;){var i=t[0],r=cx(n,t),a=r&7;r=Math.floor(r/8);var s=0,l;if(r==0)break;switch(a){case 0:{for(var u=t[0];n[t[0]++]>=128;);l=n.slice(u,t[0])}break;case 5:s=4,l=n.slice(t[0],t[0]+s),t[0]+=s;break;case 1:s=8,l=n.slice(t[0],t[0]+s),t[0]+=s;break;case 2:s=cx(n,t),l=n.slice(t[0],t[0]+s),t[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(r," at offset ").concat(i))}var h={data:l,type:a};e[r]==null?e[r]=[h]:e[r].push(h)}return e}function ga(n){var e=[];return n.forEach(function(t,i){t.forEach(function(r){r.data&&(e.push(di(i*8+r.type)),r.type==2&&e.push(di(r.data.length)),e.push(r.data))})}),Gf(e)}function Dw(n,e){return(n==null?void 0:n.map(function(t){return e(t.data)}))||[]}function Lo(n){for(var e,t=[],i=[0];i[0]<n.length;){var r=cx(n,i),a=ii(n.slice(i[0],i[0]+r));i[0]+=r;var s={id:sr(a[1][0].data),messages:[]};a[2].forEach(function(l){var u=ii(l.data),h=sr(u[3][0].data);s.messages.push({meta:u,data:n.slice(i[0],i[0]+h)}),i[0]+=h}),(e=a[3])!=null&&e[0]&&(s.merge=sr(a[3][0].data)>>>0>0),t.push(s)}return t}function yp(n){var e=[];return n.forEach(function(t){var i=[];i[1]=[{data:di(t.id),type:0}],i[2]=[],t.merge!=null&&(i[3]=[{data:di(+!!t.merge),type:0}]);var r=[];t.messages.forEach(function(s){r.push(s.data),s.meta[3]=[{type:0,data:di(s.data.length)}],i[2].push({data:ga(s.meta),type:2})});var a=ga(i);e.push(di(a.length)),e.push(a),r.forEach(function(s){return e.push(s)})}),Gf(e)}function yle(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],i=cx(e,t),r=[];t[0]<e.length;){var a=e[t[0]]&3;if(a==0){var s=e[t[0]++]>>2;if(s<60)++s;else{var l=s-59;s=e[t[0]],l>1&&(s|=e[t[0]+1]<<8),l>2&&(s|=e[t[0]+2]<<16),l>3&&(s|=e[t[0]+3]<<24),s>>>=0,s++,t[0]+=l}r.push(e.slice(t[0],t[0]+s)),t[0]+=s;continue}else{var u=0,h=0;if(a==1?(h=(e[t[0]]>>2&7)+4,u=(e[t[0]++]&224)<<3,u|=e[t[0]++]):(h=(e[t[0]++]>>2)+1,a==2?(u=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(u=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),r=[Gf(r)],u==0)throw new Error("Invalid offset 0");if(u>r[0].length)throw new Error("Invalid offset beyond length");if(h>=u)for(r.push(r[0].slice(-u)),h-=u;h>=r[r.length-1].length;)r.push(r[r.length-1]),h-=r[r.length-1].length;r.push(r[0].slice(-u,-u+h))}}var p=Gf(r);if(p.length!=i)throw new Error("Unexpected length: ".concat(p.length," != ").concat(i));return p}function Uo(n){for(var e=[],t=0;t<n.length;){var i=n[t++],r=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(yle(i,n.slice(t,t+r))),t+=r}if(t!==n.length)throw new Error("data is not a valid framed stream!");return Gf(e)}function _p(n){for(var e=[],t=0;t<n.length;){var i=Math.min(n.length-t,268435455),r=new Uint8Array(4);e.push(r);var a=di(i),s=a.length;e.push(a),i<=60?(s++,e.push(new Uint8Array([i-1<<2]))):i<=256?(s+=2,e.push(new Uint8Array([240,i-1&255]))):i<=65536?(s+=3,e.push(new Uint8Array([244,i-1&255,i-1>>8&255]))):i<=16777216?(s+=4,e.push(new Uint8Array([248,i-1&255,i-1>>8&255,i-1>>16&255]))):i<=4294967296&&(s+=5,e.push(new Uint8Array([252,i-1&255,i-1>>8&255,i-1>>16&255,i-1>>>24&255]))),e.push(n.slice(t,t+i)),s+=i,r[0]=0,r[1]=s&255,r[2]=s>>8&255,r[3]=s>>16&255,t+=i}return Gf(e)}function _le(n,e,t,i){var r=Bd(n),a=r.getUint32(4,!0),s=(i>1?12:8)+yN(a&(i>1?3470:398))*4,l=-1,u=-1,h=NaN,p=new Date(2001,0,1);a&512&&(l=r.getUint32(s,!0),s+=4),s+=yN(a&(i>1?12288:4096))*4,a&16&&(u=r.getUint32(s,!0),s+=4),a&32&&(h=r.getFloat64(s,!0),s+=8),a&64&&(p.setTime(p.getTime()+r.getFloat64(s,!0)*1e3),s+=8);var g;switch(n[2]){case 0:break;case 2:g={t:"n",v:h};break;case 3:g={t:"s",v:e[u]};break;case 5:g={t:"d",v:p};break;case 6:g={t:"b",v:h>0};break;case 7:g={t:"n",v:h/86400};break;case 8:g={t:"e",v:0};break;case 9:if(l>-1)g={t:"s",v:t[l]};else if(u>-1)g={t:"s",v:e[u]};else if(!isNaN(h))g={t:"n",v:h};else throw new Error("Unsupported cell type ".concat(n.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(n.slice(0,4)))}return g}function Ele(n,e,t){var i=Bd(n),r=i.getUint32(8,!0),a=12,s=-1,l=-1,u=NaN,h=NaN,p=new Date(2001,0,1);r&1&&(u=vle(n,a),a+=16),r&2&&(h=i.getFloat64(a,!0),a+=8),r&4&&(p.setTime(p.getTime()+i.getFloat64(a,!0)*1e3),a+=8),r&8&&(l=i.getUint32(a,!0),a+=4),r&16&&(s=i.getUint32(a,!0),a+=4);var g;switch(n[1]){case 0:break;case 2:g={t:"n",v:u};break;case 3:g={t:"s",v:e[l]};break;case 5:g={t:"d",v:p};break;case 6:g={t:"b",v:h>0};break;case 7:g={t:"n",v:h/86400};break;case 8:g={t:"e",v:0};break;case 9:if(s>-1)g={t:"s",v:t[s]};else throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(r&31," : ").concat(n.slice(0,4)));break;case 10:g={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(r&31," : ").concat(n.slice(0,4)))}return g}function hA(n,e){var t=new Uint8Array(32),i=Bd(t),r=12,a=0;switch(t[0]=5,n.t){case"n":t[1]=2,xle(t,r,n.v),a|=1,r+=16;break;case"b":t[1]=6,i.setFloat64(r,n.v?1:0,!0),a|=2,r+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,i.setUint32(r,e.indexOf(n.v),!0),a|=8,r+=4;break;default:throw"unsupported cell type "+n.t}return i.setUint32(8,a,!0),t.slice(0,r)}function dA(n,e){var t=new Uint8Array(32),i=Bd(t),r=12,a=0;switch(t[0]=3,n.t){case"n":t[2]=2,i.setFloat64(r,n.v,!0),a|=32,r+=8;break;case"b":t[2]=6,i.setFloat64(r,n.v?1:0,!0),a|=32,r+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,i.setUint32(r,e.indexOf(n.v),!0),a|=16,r+=4;break;default:throw"unsupported cell type "+n.t}return i.setUint32(4,a,!0),t.slice(0,r)}function Sle(n,e,t){switch(n[0]){case 0:case 1:case 2:case 3:return _le(n,e,t,n[0]);case 5:return Ele(n,e,t);default:throw new Error("Unsupported payload version ".concat(n[0]))}}function Ua(n){var e=ii(n);return cx(e[1][0].data)}function _N(n,e){var t=ii(e.data),i=sr(t[1][0].data),r=t[3],a=[];return(r||[]).forEach(function(s){var l=ii(s.data),u=sr(l[1][0].data)>>>0;switch(i){case 1:a[u]=yb(l[3][0].data);break;case 8:{var h=n[Ua(l[9][0].data)][0],p=ii(h.data),g=n[Ua(p[1][0].data)][0],v=sr(g.meta[1][0].data);if(v!=2001)throw new Error("2000 unexpected reference to ".concat(v));var y=ii(g.data);a[u]=y[3].map(function(E){return yb(E.data)}).join("")}break}}),a}function Tle(n,e){var t,i,r,a,s,l,u,h,p,g,v,y,E,T,S=ii(n),A=sr(S[1][0].data)>>>0,R=sr(S[2][0].data)>>>0,w=((i=(t=S[8])==null?void 0:t[0])==null?void 0:i.data)&&sr(S[8][0].data)>0||!1,D,P;if((a=(r=S[7])==null?void 0:r[0])!=null&&a.data&&e!=0)D=(l=(s=S[7])==null?void 0:s[0])==null?void 0:l.data,P=(h=(u=S[6])==null?void 0:u[0])==null?void 0:h.data;else if((g=(p=S[4])==null?void 0:p[0])!=null&&g.data&&e!=1)D=(y=(v=S[4])==null?void 0:v[0])==null?void 0:y.data,P=(T=(E=S[3])==null?void 0:E[0])==null?void 0:T.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var F=w?4:1,U=Bd(D),I=[],C=0;C<D.length/2;++C){var L=U.getUint16(C*2,!0);L<65535&&I.push([C,L])}if(I.length!=R)throw"Expected ".concat(R," cells, found ").concat(I.length);var k=[];for(C=0;C<I.length-1;++C)k[I[C][0]]=P.subarray(I[C][1]*F,I[C+1][1]*F);return I.length>=1&&(k[I[I.length-1][0]]=P.subarray(I[I.length-1][1]*F)),{R:A,cells:k}}function Ale(n,e){var t,i=ii(e.data),r=(t=i==null?void 0:i[7])!=null&&t[0]?sr(i[7][0].data)>>>0>0?1:0:-1,a=Dw(i[5],function(s){return Tle(s,r)});return{nrows:sr(i[4][0].data)>>>0,data:a.reduce(function(s,l){return s[l.R]||(s[l.R]=[]),l.cells.forEach(function(u,h){if(s[l.R][h])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(h));s[l.R][h]=u}),s},[])}}function ble(n,e,t){var i,r=ii(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(sr(r[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(r[6][0].data));if(a.e.c=(sr(r[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(r[7][0].data));t["!ref"]=bn(a);var s=ii(r[4][0].data),l=_N(n,n[Ua(s[4][0].data)][0]),u=(i=s[17])!=null&&i[0]?_N(n,n[Ua(s[17][0].data)][0]):[],h=ii(s[3][0].data),p=0;h[1].forEach(function(g){var v=ii(g.data),y=n[Ua(v[2][0].data)][0],E=sr(y.meta[1][0].data);if(E!=6002)throw new Error("6001 unexpected reference to ".concat(E));var T=Ale(n,y);T.data.forEach(function(S,A){S.forEach(function(R,w){var D=ln({r:p+A,c:w}),P=Sle(R,l,u);P&&(t[D]=P)})}),p+=T.nrows})}function Mle(n,e){var t=ii(e.data),i={"!ref":"A1"},r=n[Ua(t[2][0].data)],a=sr(r[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return ble(n,r[0],i),i}function wle(n,e){var t,i=ii(e.data),r={name:(t=i[1])!=null&&t[0]?yb(i[1][0].data):"",sheets:[]},a=Dw(i[2],Ua);return a.forEach(function(s){n[s].forEach(function(l){var u=sr(l.meta[1][0].data);u==6e3&&r.sheets.push(Mle(n,l))})}),r}function Rle(n,e){var t=Pw(),i=ii(e.data),r=Dw(i[1],Ua);if(r.forEach(function(a){n[a].forEach(function(s){var l=sr(s.meta[1][0].data);if(l==2){var u=wle(n,s);u.sheets.forEach(function(h,p){Bw(t,h,p==0?u.name:u.name+"_"+p,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function pA(n){var e,t,i,r,a={},s=[];if(n.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),n.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var h;try{h=Uo(u.content)}catch(g){return console.log("?? "+u.content.length+" "+(g.message||g))}var p;try{p=Lo(h)}catch(g){return console.log("## "+(g.message||g))}p.forEach(function(g){a[g.id]=g.messages,s.push(g.id)})}}),!s.length)throw new Error("File has no messages");var l=((r=(i=(t=(e=a==null?void 0:a[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:i[1])==null?void 0:r[0].data)&&sr(a[1][0].meta[1][0].data)==1&&a[1][0];if(l||s.forEach(function(u){a[u].forEach(function(h){var p=sr(h.meta[1][0].data)>>>0;if(p==1)if(!l)l=h;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return Rle(a,l)}function Cle(n,e,t){var i,r,a,s;if(!((i=n[6])!=null&&i[0])||!((r=n[7])!=null&&r[0]))throw"Mutation only works on post-BNC storages!";var l=((s=(a=n[8])==null?void 0:a[0])==null?void 0:s.data)&&sr(n[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var u=0,h=Bd(n[7][0].data),p=0,g=[],v=Bd(n[4][0].data),y=0,E=[],T=0;T<e.length;++T){if(e[T]==null){h.setUint16(T*2,65535,!0),v.setUint16(T*2,65535);continue}h.setUint16(T*2,p,!0),v.setUint16(T*2,y,!0);var S,A;switch(typeof e[T]){case"string":S=hA({t:"s",v:e[T]},t),A=dA({t:"s",v:e[T]},t);break;case"number":S=hA({t:"n",v:e[T]},t),A=dA({t:"n",v:e[T]},t);break;case"boolean":S=hA({t:"b",v:e[T]},t),A=dA({t:"b",v:e[T]},t);break;default:throw new Error("Unsupported value "+e[T])}g.push(S),p+=S.length,E.push(A),y+=A.length,++u}for(n[2][0].data=di(u);T<n[7][0].data.length/2;++T)h.setUint16(T*2,65535,!0),v.setUint16(T*2,65535,!0);return n[6][0].data=Gf(g),n[3][0].data=Gf(E),u}function Ole(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var i=ks(t["!ref"]);i.s.r=i.s.c=0;var r=!1;i.e.c>9&&(r=!0,i.e.c=9),i.e.r>49&&(r=!0,i.e.r=49),r&&console.error("The Numbers writer is currently limited to ".concat(bn(i)));var a=YE(t,{range:i,header:1}),s=["~Sh33tJ5~"];a.forEach(function(q){return q.forEach(function(V){typeof V=="string"&&s.push(V)})});var l={},u=[],h=Jt.read(e.numbers,{type:"base64"});h.FileIndex.map(function(q,V){return[q,h.FullPaths[V]]}).forEach(function(q){var V=q[0],Q=q[1];if(V.type==2&&V.name.match(/\.iwa/)){var ge=V.content,Ae=Uo(ge),Ee=Lo(Ae);Ee.forEach(function(Ce){u.push(Ce.id),l[Ce.id]={deps:[],location:Q,type:sr(Ce.messages[0].meta[1][0].data)}})}}),u.sort(function(q,V){return q-V});var p=u.filter(function(q){return q>1}).map(function(q){return[q,di(q)]});h.FileIndex.map(function(q,V){return[q,h.FullPaths[V]]}).forEach(function(q){var V=q[0];if(q[1],!!V.name.match(/\.iwa/)){var Q=Lo(Uo(V.content));Q.forEach(function(ge){ge.messages.forEach(function(Ae){p.forEach(function(Ee){ge.messages.some(function(Ce){return sr(Ce.meta[1][0].data)!=11006&&gle(Ce.data,Ee[1])})&&l[Ee[0]].deps.push(ge.id)})})})}});for(var g=Jt.find(h,l[1].location),v=Lo(Uo(g.content)),y,E=0;E<v.length;++E){var T=v[E];T.id==1&&(y=T)}var S=Ua(ii(y.messages[0].data)[1][0].data);for(g=Jt.find(h,l[S].location),v=Lo(Uo(g.content)),E=0;E<v.length;++E)T=v[E],T.id==S&&(y=T);for(S=Ua(ii(y.messages[0].data)[2][0].data),g=Jt.find(h,l[S].location),v=Lo(Uo(g.content)),E=0;E<v.length;++E)T=v[E],T.id==S&&(y=T);for(S=Ua(ii(y.messages[0].data)[2][0].data),g=Jt.find(h,l[S].location),v=Lo(Uo(g.content)),E=0;E<v.length;++E)T=v[E],T.id==S&&(y=T);var A=ii(y.messages[0].data);{A[6][0].data=di(i.e.r+1),A[7][0].data=di(i.e.c+1);var R=Ua(A[46][0].data),w=Jt.find(h,l[R].location),D=Lo(Uo(w.content));{for(var P=0;P<D.length&&D[P].id!=R;++P);if(D[P].id!=R)throw"Bad ColumnRowUIDMapArchive";var F=ii(D[P].messages[0].data);F[1]=[],F[2]=[],F[3]=[];for(var U=0;U<=i.e.c;++U){var I=[];I[1]=I[2]=[{type:0,data:di(U+420690)}],F[1].push({type:2,data:ga(I)}),F[2].push({type:0,data:di(U)}),F[3].push({type:0,data:di(U)})}F[4]=[],F[5]=[],F[6]=[];for(var C=0;C<=i.e.r;++C)I=[],I[1]=I[2]=[{type:0,data:di(C+726270)}],F[4].push({type:2,data:ga(I)}),F[5].push({type:0,data:di(C)}),F[6].push({type:0,data:di(C)});D[P].messages[0].data=ga(F)}w.content=_p(yp(D)),w.size=w.content.length,delete A[46];var L=ii(A[4][0].data);{L[7][0].data=di(i.e.r+1);var k=ii(L[1][0].data),G=Ua(k[2][0].data);w=Jt.find(h,l[G].location),D=Lo(Uo(w.content));{if(D[0].id!=G)throw"Bad HeaderStorageBucket";var ee=ii(D[0].messages[0].data);for(C=0;C<a.length;++C){var ve=ii(ee[2][0].data);ve[1][0].data=di(C),ve[4][0].data=di(a[C].length),ee[2][C]={type:ee[2][0].type,data:ga(ve)}}D[0].messages[0].data=ga(ee)}w.content=_p(yp(D)),w.size=w.content.length;var pe=Ua(L[2][0].data);w=Jt.find(h,l[pe].location),D=Lo(Uo(w.content));{if(D[0].id!=pe)throw"Bad HeaderStorageBucket";for(ee=ii(D[0].messages[0].data),U=0;U<=i.e.c;++U)ve=ii(ee[2][0].data),ve[1][0].data=di(U),ve[4][0].data=di(i.e.r+1),ee[2][U]={type:ee[2][0].type,data:ga(ve)};D[0].messages[0].data=ga(ee)}w.content=_p(yp(D)),w.size=w.content.length;var W=Ua(L[4][0].data);(function(){for(var q=Jt.find(h,l[W].location),V=Lo(Uo(q.content)),Q,ge=0;ge<V.length;++ge){var Ae=V[ge];Ae.id==W&&(Q=Ae)}var Ee=ii(Q.messages[0].data);{Ee[3]=[];var Ce=[];s.forEach(function(se,vt){Ce[1]=[{type:0,data:di(vt)}],Ce[2]=[{type:0,data:di(1)}],Ce[3]=[{type:2,data:mle(se)}],Ee[3].push({type:2,data:ga(Ce)})})}Q.messages[0].data=ga(Ee);var Ne=yp(V),st=_p(Ne);q.content=st,q.size=q.content.length})();var K=ii(L[3][0].data);{var ie=K[1][0];delete K[2];var ne=ii(ie.data);{var j=Ua(ne[2][0].data);(function(){for(var q=Jt.find(h,l[j].location),V=Lo(Uo(q.content)),Q,ge=0;ge<V.length;++ge){var Ae=V[ge];Ae.id==j&&(Q=Ae)}var Ee=ii(Q.messages[0].data);{delete Ee[6],delete K[7];var Ce=new Uint8Array(Ee[5][0].data);Ee[5]=[];for(var Ne=0,st=0;st<=i.e.r;++st){var se=ii(Ce);Ne+=Cle(se,a[st],s),se[1][0].data=di(st),Ee[5].push({data:ga(se),type:2})}Ee[1]=[{type:0,data:di(i.e.c+1)}],Ee[2]=[{type:0,data:di(i.e.r+1)}],Ee[3]=[{type:0,data:di(Ne)}],Ee[4]=[{type:0,data:di(i.e.r+1)}]}Q.messages[0].data=ga(Ee);var vt=yp(V),J=_p(vt);q.content=J,q.size=q.content.length})()}ie.data=ga(ne)}L[3][0].data=ga(K)}A[4][0].data=ga(L)}y.messages[0].data=ga(A);var le=yp(v),H=_p(le);return g.content=H,g.size=g.content.length,h}function TB(n){return function(t){for(var i=0;i!=n.length;++i){var r=n[i];t[r[0]]===void 0&&(t[r[0]]=r[1]),r[2]==="n"&&(t[r[0]]=Number(t[r[0]]))}}}function Iw(n){TB([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(n)}function Lw(n){TB([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function Nle(n){return Bn.WS.indexOf(n)>-1?"sheet":n==Bn.CS?"chart":n==Bn.DS?"dialog":n==Bn.MS?"macro":n&&n.length?n:"sheet"}function Dle(n,e){if(!n)return 0;try{n=e.map(function(i){return i.id||(i.id=i.strRelID),[i.name,n["!id"][i.id].Target,Nle(n["!id"][i.id].Type)]})}catch{return null}return!n||n.length===0?null:n}function Ile(n,e,t,i,r,a,s,l,u,h,p,g){try{a[i]=Ev(ro(n,t,!0),e);var v=Rr(n,e),y;switch(l){case"sheet":y=toe(v,e,r,u,a[i],h,p,g);break;case"chart":if(y=noe(v,e,r,u,a[i],h,p,g),!y||!y["!drawel"])break;var E=tv(y["!drawel"].Target,e),T=ix(E),S=Hne(ro(n,E,!0),Ev(ro(n,T,!0),E)),A=tv(S,E),R=ix(A);y=Cse(ro(n,A,!0),A,u,Ev(ro(n,R,!0),A),h,y);break;case"macro":y=ioe(v,e,r,u,a[i],h,p,g);break;case"dialog":y=roe(v,e,r,u,a[i],h,p,g);break;default:throw new Error("Unrecognized sheet type "+l)}s[i]=y;var w=[];a&&a[i]&&or(a[i]).forEach(function(D){var P="";if(a[i][D].Type==Bn.CMNT){P=tv(a[i][D].Target,e);var F=loe(Rr(n,P,!0),P,u);if(!F||!F.length)return;aN(y,F,!1)}a[i][D].Type==Bn.TCMNT&&(P=tv(a[i][D].Target,e),w=w.concat(Xne(Rr(n,P,!0),u)))}),w&&w.length&&aN(y,w,!0,u.people||[])}catch(D){if(u.WTF)throw D}}function Do(n){return n.charAt(0)=="/"?n.slice(1):n}function Lle(n,e){if(pm(),e=e||{},Iw(e),Po(n,"META-INF/manifest.xml")||Po(n,"objectdata.xml"))return gN(n,e);if(Po(n,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof pA<"u"){if(n.FileIndex)return pA(n);var t=Jt.utils.cfb_new();return M4(n).forEach(function(ve){Cn(t,ve,WQ(n,ve))}),pA(t)}throw new Error("Unsupported NUMBERS file")}if(!Po(n,"[Content_Types].xml"))throw Po(n,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Po(n,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var i=M4(n),r=BJ(ro(n,"[Content_Types].xml")),a=!1,s,l;if(r.workbooks.length===0&&(l="xl/workbook.xml",Rr(n,l,!0)&&r.workbooks.push(l)),r.workbooks.length===0){if(l="xl/workbook.bin",!Rr(n,l,!0))throw new Error("Could not find workbook");r.workbooks.push(l),a=!0}r.workbooks[0].slice(-3)=="bin"&&(a=!0);var u={},h={};if(!e.bookSheets&&!e.bookProps){if(Sv=[],r.sst)try{Sv=ooe(Rr(n,Do(r.sst)),r.sst,e)}catch(ve){if(e.WTF)throw ve}e.cellStyles&&r.themes.length&&(u=soe(ro(n,r.themes[0].replace(/^\//,""),!0)||"",r.themes[0],e)),r.style&&(h=aoe(Rr(n,Do(r.style)),r.style,u,e))}r.links.map(function(ve){try{var pe=Ev(ro(n,ix(Do(ve))),ve);return uoe(Rr(n,Do(ve)),pe,ve,e)}catch{}});var p=eoe(Rr(n,Do(r.workbooks[0])),r.workbooks[0],e),g={},v="";r.coreprops.length&&(v=Rr(n,Do(r.coreprops[0]),!0),v&&(g=fP(v)),r.extprops.length!==0&&(v=Rr(n,Do(r.extprops[0]),!0),v&&WJ(v,g,e)));var y={};(!e.bookSheets||e.bookProps)&&r.custprops.length!==0&&(v=ro(n,Do(r.custprops[0]),!0),v&&(y=jJ(v,e)));var E={};if((e.bookSheets||e.bookProps)&&(p.Sheets?s=p.Sheets.map(function(pe){return pe.name}):g.Worksheets&&g.SheetNames.length>0&&(s=g.SheetNames),e.bookProps&&(E.Props=g,E.Custprops=y),e.bookSheets&&typeof s<"u"&&(E.SheetNames=s),e.bookSheets?E.SheetNames:e.bookProps))return E;s={};var T={};e.bookDeps&&r.calcchain&&(T=coe(Rr(n,Do(r.calcchain)),r.calcchain));var S=0,A={},R,w;{var D=p.Sheets;g.Worksheets=D.length,g.SheetNames=[];for(var P=0;P!=D.length;++P)g.SheetNames[P]=D[P].name}var F=a?"bin":"xml",U=r.workbooks[0].lastIndexOf("/"),I=(r.workbooks[0].slice(0,U+1)+"_rels/"+r.workbooks[0].slice(U+1)+".rels").replace(/^\//,"");Po(n,I)||(I="xl/_rels/workbook."+F+".rels");var C=Ev(ro(n,I,!0),I.replace(/_rels.*/,"s5s"));(r.metadata||[]).length>=1&&(e.xlmeta=foe(Rr(n,Do(r.metadata[0])),r.metadata[0],e)),(r.people||[]).length>=1&&(e.people=Yne(Rr(n,Do(r.people[0])),e)),C&&(C=Dle(C,p.Sheets));var L=Rr(n,"xl/worksheets/sheet.xml",!0)?1:0;e:for(S=0;S!=g.Worksheets;++S){var k="sheet";if(C&&C[S]?(R="xl/"+C[S][1].replace(/[\/]?xl\//,""),Po(n,R)||(R=C[S][1]),Po(n,R)||(R=I.replace(/_rels\/.*$/,"")+C[S][1]),k=C[S][2]):(R="xl/worksheets/sheet"+(S+1-L)+"."+F,R=R.replace(/sheet0\./,"sheet.")),w=R.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(S!=e.sheets)continue e;break;case"string":if(g.SheetNames[S].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var G=!1,ee=0;ee!=e.sheets.length;++ee)typeof e.sheets[ee]=="number"&&e.sheets[ee]==S&&(G=1),typeof e.sheets[ee]=="string"&&e.sheets[ee].toLowerCase()==g.SheetNames[S].toLowerCase()&&(G=1);if(!G)continue e}}Ile(n,R,w,g.SheetNames[S],S,A,s,k,e,p,u,h)}return E={Directory:r,Workbook:p,Props:g,Custprops:y,Deps:T,Sheets:s,SheetNames:g.SheetNames,Strings:Sv,Styles:h,Themes:u,SSF:Li(an)},e&&e.bookFiles&&(n.files?(E.keys=i,E.files=n.files):(E.keys=[],E.files={},n.FullPaths.forEach(function(ve,pe){ve=ve.replace(/^Root Entry[\/]/,""),E.keys.push(ve),E.files[ve]=n.FileIndex[pe]}))),e&&e.bookVBA&&(r.vba.length>0?E.vbaraw=Rr(n,Do(r.vba[0]),!0):r.defaults&&r.defaults.bin===eie&&(E.vbaraw=Rr(n,"xl/vbaProject.bin",!0))),E}function Ule(n,e){var t=e||{},i="Workbook",r=Jt.find(n,i);try{if(i="/!DataSpaces/Version",r=Jt.find(n,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);if(fte(r.content),i="/!DataSpaces/DataSpaceMap",r=Jt.find(n,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);var a=dte(r.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+i);if(i="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",r=Jt.find(n,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);var s=pte(r.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+i);if(i="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",r=Jt.find(n,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);gte(r.content)}catch{}if(i="/EncryptionInfo",r=Jt.find(n,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);var l=vte(r.content);if(i="/EncryptedPackage",r=Jt.find(n,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],r.content,t.password||"",t);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],r.content,t.password||"",t);throw new Error("File is password-protected")}function Fle(n,e){return e.bookType=="ods"?SB(n,e):e.bookType=="numbers"?Ole(n,e):e.bookType=="xlsb"?Ple(n,e):Ble(n,e)}function Ple(n,e){Np=1024,n&&!n.SSF&&(n.SSF=Li(an)),n&&n.SSF&&(pm(),US(n.SSF),e.revssf=PS(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Tv?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",i=ZP.indexOf(e.bookType)>-1,r=yw();Lw(e=e||{});var a=aw(),s="",l=0;if(e.cellXfs=[],Jf(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),s="docProps/core.xml",Cn(a,s,hP(n.Props,e)),r.coreprops.push(s),mi(e.rels,2,s,Bn.CORE_PROPS),s="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var u=[],h=0;h<n.SheetNames.length;++h)(n.Workbook.Sheets[h]||{}).Hidden!=2&&u.push(n.SheetNames[h]);n.Props.SheetNames=u}for(n.Props.Worksheets=n.Props.SheetNames.length,Cn(a,s,mP(n.Props)),r.extprops.push(s),mi(e.rels,3,s,Bn.EXT_PROPS),n.Custprops!==n.Props&&or(n.Custprops||{}).length>0&&(s="docProps/custom.xml",Cn(a,s,gP(n.Custprops)),r.custprops.push(s),mi(e.rels,4,s,Bn.CUST_PROPS)),l=1;l<=n.SheetNames.length;++l){var p={"!id":{}},g=n.Sheets[n.SheetNames[l-1]],v=(g||{})["!type"]||"sheet";switch(v){case"chart":default:s="xl/worksheets/sheet"+l+"."+t,Cn(a,s,doe(l-1,s,e,n,p)),r.sheets.push(s),mi(e.wbrels,-1,"worksheets/sheet"+l+"."+t,Bn.WS[0])}if(g){var y=g["!comments"],E=!1,T="";y&&y.length>0&&(T="xl/comments"+l+"."+t,Cn(a,T,goe(y,T)),r.comments.push(T),mi(p,-1,"../comments"+l+"."+t,Bn.CMNT),E=!0),g["!legacy"]&&E&&Cn(a,"xl/drawings/vmlDrawing"+l+".vml",qP(l,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&Cn(a,ix(s),Up(p))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+t,Cn(a,s,moe(e.Strings,s,e)),r.strs.push(s),mi(e.wbrels,-1,"sharedStrings."+t,Bn.SST)),s="xl/workbook."+t,Cn(a,s,hoe(n,s)),r.workbooks.push(s),mi(e.rels,1,s,Bn.WB),s="xl/theme/theme1.xml",Cn(a,s,bw(n.Themes,e)),r.themes.push(s),mi(e.wbrels,-1,"theme/theme1.xml",Bn.THEME),s="xl/styles."+t,Cn(a,s,poe(n,s,e)),r.styles.push(s),mi(e.wbrels,-1,"styles."+t,Bn.STY),n.vbaraw&&i&&(s="xl/vbaProject.bin",Cn(a,s,n.vbaraw),r.vba.push(s),mi(e.wbrels,-1,"vbaProject.bin",Bn.VBA)),s="xl/metadata."+t,Cn(a,s,voe(s)),r.metadata.push(s),mi(e.wbrels,-1,"metadata."+t,Bn.XLMETA),Cn(a,"[Content_Types].xml",cP(r,e)),Cn(a,"_rels/.rels",Up(e.rels)),Cn(a,"xl/_rels/workbook."+t+".rels",Up(e.wbrels)),delete e.revssf,delete e.ssf,a}function Ble(n,e){Np=1024,n&&!n.SSF&&(n.SSF=Li(an)),n&&n.SSF&&(pm(),US(n.SSF),e.revssf=PS(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Tv?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",i=ZP.indexOf(e.bookType)>-1,r=yw();Lw(e=e||{});var a=aw(),s="",l=0;if(e.cellXfs=[],Jf(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),s="docProps/core.xml",Cn(a,s,hP(n.Props,e)),r.coreprops.push(s),mi(e.rels,2,s,Bn.CORE_PROPS),s="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var u=[],h=0;h<n.SheetNames.length;++h)(n.Workbook.Sheets[h]||{}).Hidden!=2&&u.push(n.SheetNames[h]);n.Props.SheetNames=u}n.Props.Worksheets=n.Props.SheetNames.length,Cn(a,s,mP(n.Props)),r.extprops.push(s),mi(e.rels,3,s,Bn.EXT_PROPS),n.Custprops!==n.Props&&or(n.Custprops||{}).length>0&&(s="docProps/custom.xml",Cn(a,s,gP(n.Custprops)),r.custprops.push(s),mi(e.rels,4,s,Bn.CUST_PROPS));var p=["SheetJ5"];for(e.tcid=0,l=1;l<=n.SheetNames.length;++l){var g={"!id":{}},v=n.Sheets[n.SheetNames[l-1]],y=(v||{})["!type"]||"sheet";switch(y){case"chart":default:s="xl/worksheets/sheet"+l+"."+t,Cn(a,s,oB(l-1,e,n,g)),r.sheets.push(s),mi(e.wbrels,-1,"worksheets/sheet"+l+"."+t,Bn.WS[0])}if(v){var E=v["!comments"],T=!1,S="";if(E&&E.length>0){var A=!1;E.forEach(function(R){R[1].forEach(function(w){w.T==!0&&(A=!0)})}),A&&(S="xl/threadedComments/threadedComment"+l+"."+t,Cn(a,S,Wne(E,p,e)),r.threadedcomments.push(S),mi(g,-1,"../threadedComments/threadedComment"+l+"."+t,Bn.TCMNT)),S="xl/comments"+l+"."+t,Cn(a,S,KP(E)),r.comments.push(S),mi(g,-1,"../comments"+l+"."+t,Bn.CMNT),T=!0}v["!legacy"]&&T&&Cn(a,"xl/drawings/vmlDrawing"+l+".vml",qP(l,v["!comments"])),delete v["!comments"],delete v["!legacy"]}g["!id"].rId1&&Cn(a,ix(s),Up(g))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+t,Cn(a,s,FP(e.Strings,e)),r.strs.push(s),mi(e.wbrels,-1,"sharedStrings."+t,Bn.SST)),s="xl/workbook."+t,Cn(a,s,hB(n)),r.workbooks.push(s),mi(e.rels,1,s,Bn.WB),s="xl/theme/theme1.xml",Cn(a,s,bw(n.Themes,e)),r.themes.push(s),mi(e.wbrels,-1,"theme/theme1.xml",Bn.THEME),s="xl/styles."+t,Cn(a,s,XP(n,e)),r.styles.push(s),mi(e.wbrels,-1,"styles."+t,Bn.STY),n.vbaraw&&i&&(s="xl/vbaProject.bin",Cn(a,s,n.vbaraw),r.vba.push(s),mi(e.wbrels,-1,"vbaProject.bin",Bn.VBA)),s="xl/metadata."+t,Cn(a,s,jP()),r.metadata.push(s),mi(e.wbrels,-1,"metadata."+t,Bn.XLMETA),p.length>1&&(s="xl/persons/person.xml",Cn(a,s,jne(p)),r.people.push(s),mi(e.wbrels,-1,"persons/person.xml",Bn.PEOPLE)),Cn(a,"[Content_Types].xml",cP(r,e)),Cn(a,"_rels/.rels",Up(e.rels)),Cn(a,"xl/_rels/workbook."+t+".rels",Up(e.wbrels)),delete e.revssf,delete e.ssf,a}function Uw(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=oo(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function kle(n,e){return Jt.find(n,"EncryptedPackage")?Ule(n,e):gB(n,e)}function zle(n,e){var t,i=n,r=e||{};return r.type||(r.type=Ln&&Buffer.isBuffer(n)?"buffer":"base64"),t=BF(i,r),Lle(t,r)}function AB(n,e){var t=0;e:for(;t<n.length;)switch(n.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return vb(n.slice(t),e);default:break e}return Qp.to_workbook(n,e)}function Vle(n,e){var t="",i=Uw(n,e);switch(e.type){case"base64":t=oo(n);break;case"binary":t=n;break;case"buffer":t=n.toString("binary");break;case"array":t=Ld(n);break;default:throw new Error("Unrecognized type "+e.type)}return i[0]==239&&i[1]==187&&i[2]==191&&(t=Ti(t)),e.type="binary",AB(t,e)}function Hle(n,e){var t=n;return e.type=="base64"&&(t=oo(t)),t=lb.utils.decode(1200,t.slice(2),"str"),e.type="binary",AB(t,e)}function Gle(n){return n.match(/[^\x00-\x7F]/)?_c(n):n}function mA(n,e,t,i){return i?(t.type="string",Qp.to_workbook(n,t)):Qp.to_workbook(e,t)}function _b(n,e){ew();var t=e||{};if(typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer)return _b(new Uint8Array(n),(t=Li(t),t.type="array",t));typeof Uint8Array<"u"&&n instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var i=n,r=[0,0,0,0],a=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),Pp={},t.dateNF&&(Pp.dateNF=t.dateNF),t.type||(t.type=Ln&&Buffer.isBuffer(n)?"buffer":"base64"),t.type=="file"&&(t.type=Ln?"buffer":"binary",i=PQ(n),typeof Uint8Array<"u"&&!Ln&&(t.type="array")),t.type=="string"&&(a=!0,t.type="binary",t.codepage=65001,i=Gle(n)),t.type=="array"&&typeof Uint8Array<"u"&&n instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),l=new Uint8Array(s);if(l.foo="bar",!l.foo)return t=Li(t),t.type="array",_b(tw(i),t)}switch((r=Uw(i,t))[0]){case 208:if(r[1]===207&&r[2]===17&&r[3]===224&&r[4]===161&&r[5]===177&&r[6]===26&&r[7]===225)return kle(Jt.read(i,t),t);break;case 9:if(r[1]<=8)return gB(i,t);break;case 60:return vb(i,t);case 73:if(r[1]===73&&r[2]===42&&r[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(r[1]===68)return qee(i,t);break;case 84:if(r[1]===65&&r[2]===66&&r[3]===76)return LP.to_workbook(i,t);break;case 80:return r[1]===75&&r[2]<9&&r[3]<9?zle(i,t):mA(n,i,t,a);case 239:return r[3]===60?vb(i,t):mA(n,i,t,a);case 255:if(r[1]===254)return Hle(i,t);if(r[1]===0&&r[2]===2&&r[3]===0)return Md.to_workbook(i,t);break;case 0:if(r[1]===0&&(r[2]>=2&&r[3]===0||r[2]===0&&(r[3]===8||r[3]===9)))return Md.to_workbook(i,t);break;case 3:case 131:case 139:case 140:return gb.to_workbook(i,t);case 123:if(r[1]===92&&r[2]===114&&r[3]===116)return VP.to_workbook(i,t);break;case 10:case 13:case 32:return Vle(i,t);case 137:if(r[1]===80&&r[2]===78&&r[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return jee.indexOf(r[0])>-1&&r[2]<=12&&r[3]<=31?gb.to_workbook(i,t):mA(n,i,t,a)}function bB(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Rx(e.file,Jt.write(n,{type:Ln?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Jt.write(n,e)}function Xle(n,e){var t=Li(e||{}),i=Fle(n,t);return Wle(i,t)}function Wle(n,e){var t={},i=Ln?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=i;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=i;break;default:throw new Error("Unrecognized type "+e.type)}var r=n.FullPaths?Jt.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof r=="string"){if(e.type=="binary"||e.type=="base64")return r;r=new Uint8Array(LS(r))}return e.password&&typeof encrypt_agile<"u"?bB(encrypt_agile(r,e.password),e):e.type==="file"?Rx(e.file,r):e.type=="string"?Ti(r):r}function Yle(n,e){var t=e||{},i=Goe(n,t);return bB(i,t)}function gc(n,e,t){t||(t="");var i=t+n;switch(e.type){case"base64":return Jv(_c(i));case"binary":return _c(i);case"string":return n;case"file":return Rx(e.file,i,"utf8");case"buffer":return Ln?bu(i,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(i):gc(i,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function jle(n,e){switch(e.type){case"base64":return Jv(n);case"binary":return n;case"string":return n;case"file":return Rx(e.file,n,"binary");case"buffer":return Ln?bu(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function __(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",i=0;i<n.length;++i)t+=String.fromCharCode(n[i]);return e.type=="base64"?Jv(t):e.type=="string"?Ti(t):t;case"file":return Rx(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function MB(n,e){ew(),kse(n);var t=Li(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var i=MB(n,t);return t.type="array",LS(i)}var r=0;if(t.sheet&&(typeof t.sheet=="number"?r=t.sheet:r=n.SheetNames.indexOf(t.sheet),!n.SheetNames[r]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return gc(Foe(n,t),t);case"slk":case"sylk":return gc(IP.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"htm":case"html":return gc(xB(n.Sheets[n.SheetNames[r]],t),t);case"txt":return jle(wB(n.Sheets[n.SheetNames[r]],t),t);case"csv":return gc(Fw(n.Sheets[n.SheetNames[r]],t),t,"\uFEFF");case"dif":return gc(LP.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"dbf":return __(gb.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"prn":return gc(Qp.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"rtf":return gc(VP.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"eth":return gc(UP.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"fods":return gc(SB(n,t),t);case"wk1":return __(Md.sheet_to_wk1(n.Sheets[n.SheetNames[r]],t),t);case"wk3":return __(Md.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),__(vB(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),Yle(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Xle(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function qle(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function Kle(n,e,t){var i={};return i.type="file",i.file=e,qle(i),MB(n,i)}function Zle(n,e,t,i,r,a,s,l){var u=mr(t),h=l.defval,p=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),g=!0,v=r===1?[]:{};if(r!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:t,enumerable:!1})}catch{v.__rowNum__=t}else v.__rowNum__=t;if(!s||n[t])for(var y=e.s.c;y<=e.e.c;++y){var E=s?n[t][y]:n[i[y]+u];if(E===void 0||E.t===void 0){if(h===void 0)continue;a[y]!=null&&(v[a[y]]=h);continue}var T=E.v;switch(E.t){case"z":if(T==null)break;continue;case"e":T=T==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+E.t)}if(a[y]!=null){if(T==null)if(E.t=="e"&&T===null)v[a[y]]=null;else if(h!==void 0)v[a[y]]=h;else if(p&&T===null)v[a[y]]=null;else continue;else v[a[y]]=p&&(E.t!=="n"||E.t==="n"&&l.rawNumbers!==!1)?T:Au(E,T,l);T!=null&&(g=!1)}}return{row:v,isempty:g}}function YE(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},i=0,r=1,a=[],s=0,l="",u={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},p=h.range!=null?h.range:n["!ref"];switch(h.header===1?i=1:h.header==="A"?i=2:Array.isArray(h.header)?i=3:h.header==null&&(i=0),typeof p){case"string":u=Jn(p);break;case"number":u=Jn(n["!ref"]),u.s.r=p;break;default:u=p}i>0&&(r=0);var g=mr(u.s.r),v=[],y=[],E=0,T=0,S=Array.isArray(n),A=u.s.r,R=0,w={};S&&!n[A]&&(n[A]=[]);var D=h.skipHidden&&n["!cols"]||[],P=h.skipHidden&&n["!rows"]||[];for(R=u.s.c;R<=u.e.c;++R)if(!(D[R]||{}).hidden)switch(v[R]=Ki(R),t=S?n[A][R]:n[v[R]+g],i){case 1:a[R]=R-u.s.c;break;case 2:a[R]=v[R];break;case 3:a[R]=h.header[R-u.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),l=s=Au(t,null,h),T=w[s]||0,!T)w[s]=1;else{do l=s+"_"+T++;while(w[l]);w[s]=T,w[l]=1}a[R]=l}for(A=u.s.r+r;A<=u.e.r;++A)if(!(P[A]||{}).hidden){var F=Zle(n,u,A,v,i,a,S,h);(F.isempty===!1||(i===1?h.blankrows!==!1:h.blankrows))&&(y[E++]=F.row)}return y.length=E,y}var EN=/"/g;function Qle(n,e,t,i,r,a,s,l){for(var u=!0,h=[],p="",g=mr(t),v=e.s.c;v<=e.e.c;++v)if(i[v]){var y=l.dense?(n[t]||[])[v]:n[i[v]+g];if(y==null)p="";else if(y.v!=null){u=!1,p=""+(l.rawNumbers&&y.t=="n"?y.v:Au(y,null,l));for(var E=0,T=0;E!==p.length;++E)if((T=p.charCodeAt(E))===r||T===a||T===34||l.forceQuotes){p='"'+p.replace(EN,'""')+'"';break}p=="ID"&&(p='"ID"')}else y.f!=null&&!y.F?(u=!1,p="="+y.f,p.indexOf(",")>=0&&(p='"'+p.replace(EN,'""')+'"')):p="";h.push(p)}return l.blankrows===!1&&u?null:h.join(s)}function Fw(n,e){var t=[],i=e??{};if(n==null||n["!ref"]==null)return"";var r=Jn(n["!ref"]),a=i.FS!==void 0?i.FS:",",s=a.charCodeAt(0),l=i.RS!==void 0?i.RS:`
`,u=l.charCodeAt(0),h=new RegExp((a=="|"?"\\|":a)+"+$"),p="",g=[];i.dense=Array.isArray(n);for(var v=i.skipHidden&&n["!cols"]||[],y=i.skipHidden&&n["!rows"]||[],E=r.s.c;E<=r.e.c;++E)(v[E]||{}).hidden||(g[E]=Ki(E));for(var T=0,S=r.s.r;S<=r.e.r;++S)(y[S]||{}).hidden||(p=Qle(n,r,S,g,s,u,a,i),p!=null&&(i.strip&&(p=p.replace(h,"")),(p||i.blankrows!==!1)&&t.push((T++?l:"")+p)));return delete i.dense,t.join("")}function wB(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=Fw(n,e);return t}function Jle(n){var e="",t,i="";if(n==null||n["!ref"]==null)return[];var r=Jn(n["!ref"]),a="",s=[],l,u=[],h=Array.isArray(n);for(l=r.s.c;l<=r.e.c;++l)s[l]=Ki(l);for(var p=r.s.r;p<=r.e.r;++p)for(a=mr(p),l=r.s.c;l<=r.e.c;++l)if(e=s[l]+a,t=h?(n[p]||[])[l]:n[e],i="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;i=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)i=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)i=""+t.v;else if(t.t=="b")i=t.v?"TRUE":"FALSE";else if(t.w!==void 0)i="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?i="'"+t.v:i=""+t.v}}u[u.length]=e+"="+i}return u}function RB(n,e,t){var i=t||{},r=+!i.skipHeader,a=n||{},s=0,l=0;if(a&&i.origin!=null)if(typeof i.origin=="number")s=i.origin;else{var u=typeof i.origin=="string"?Zi(i.origin):i.origin;s=u.r,l=u.c}var h,p={s:{c:0,r:0},e:{c:l,r:s+e.length-1+r}};if(a["!ref"]){var g=Jn(a["!ref"]);p.e.c=Math.max(p.e.c,g.e.c),p.e.r=Math.max(p.e.r,g.e.r),s==-1&&(s=g.e.r+1,p.e.r=s+e.length-1+r)}else s==-1&&(s=0,p.e.r=e.length-1+r);var v=i.header||[],y=0;e.forEach(function(T,S){or(T).forEach(function(A){(y=v.indexOf(A))==-1&&(v[y=v.length]=A);var R=T[A],w="z",D="",P=ln({c:l+y,r:s+S+r});h=ux(a,P),R&&typeof R=="object"&&!(R instanceof Date)?a[P]=R:(typeof R=="number"?w="n":typeof R=="boolean"?w="b":typeof R=="string"?w="s":R instanceof Date?(w="d",i.cellDates||(w="n",R=jr(R)),D=i.dateNF||an[14]):R===null&&i.nullError&&(w="e",R=0),h?(h.t=w,h.v=R,delete h.w,delete h.R,D&&(h.z=D)):a[P]=h={t:w,v:R},D&&(h.z=D))})}),p.e.c=Math.max(p.e.c,l+v.length-1);var E=mr(s);if(r)for(y=0;y<v.length;++y)a[Ki(y+l)+E]={t:"s",v:v[y]};return a["!ref"]=bn(p),a}function $le(n,e){return RB(null,n,e)}function ux(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var i=Zi(e);return n[i.r]||(n[i.r]=[]),n[i.r][i.c]||(n[i.r][i.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?ux(n,ln(e)):ux(n,ln({r:e,c:t||0}))}function ece(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Pw(){return{SheetNames:[],Sheets:{}}}function Bw(n,e,t,i){var r=1;if(!t)for(;r<=65535&&n.SheetNames.indexOf(t="Sheet"+r)!=-1;++r,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(i&&n.SheetNames.indexOf(t)>=0){var a=t.match(/(^.*?)(\d+)$/);r=a&&+a[2]||0;var s=a&&a[1]||t;for(++r;r<=65535&&n.SheetNames.indexOf(t=s+r)!=-1;++r);}if(fB(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function tce(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var i=ece(n,e);switch(n.Workbook.Sheets[i]||(n.Workbook.Sheets[i]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[i].Hidden=t}function nce(n,e){return n.z=e,n}function CB(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function ice(n,e,t){return CB(n,"#"+e,t)}function rce(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function ace(n,e,t,i){for(var r=typeof e!="string"?e:Jn(e),a=typeof e=="string"?e:bn(e),s=r.s.r;s<=r.e.r;++s)for(var l=r.s.c;l<=r.e.c;++l){var u=ux(n,s,l);u.t="n",u.F=a,delete u.v,s==r.s.r&&l==r.s.c&&(u.f=t,i&&(u.D=!0))}return n}var E_={encode_col:Ki,encode_row:mr,encode_cell:ln,encode_range:bn,decode_col:dw,decode_row:hw,split_cell:mJ,decode_cell:Zi,decode_range:ks,format_cell:Au,sheet_add_aoa:nP,sheet_add_json:RB,sheet_add_dom:yB,aoa_to_sheet:mm,json_to_sheet:$le,table_to_sheet:_B,table_to_book:fle,sheet_to_csv:Fw,sheet_to_txt:wB,sheet_to_json:YE,sheet_to_html:xB,sheet_to_formulae:Jle,sheet_to_row_object_array:YE,sheet_get_cell:ux,book_new:Pw,book_append_sheet:Bw,book_set_sheet_visibility:tce,cell_set_number_format:nce,cell_set_hyperlink:CB,cell_set_internal_link:ice,cell_add_comment:rce,sheet_set_array_formula:ace,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},D_={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var sce=D_.exports,SN;function oce(){return SN||(SN=1,function(n,e){((t,i)=>{n.exports=i()})(sce,function t(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},r,a=!i.document&&!!i.postMessage,s=i.IS_PAPA_WORKER||!1,l={},u=0,h={};function p(I){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(C){var L=P(C);L.chunkSize=parseInt(L.chunkSize),C.step||C.chunk||(L.chunkSize=null),this._handle=new T(L),(this._handle.streamer=this)._config=L}).call(this,I),this.parseChunk=function(C,L){var k=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<k){let ee=this._config.newline;ee||(G=this._config.quoteChar||'"',ee=this._handle.guessLineEndings(C,G)),C=[...C.split(ee).slice(k)].join(ee)}this.isFirstChunk&&U(this._config.beforeFirstChunk)&&(G=this._config.beforeFirstChunk(C))!==void 0&&(C=G),this.isFirstChunk=!1,this._halted=!1;var k=this._partialLine+C,G=(this._partialLine="",this._handle.parse(k,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(C=G.meta.cursor,k=(this._finished||(this._partialLine=k.substring(C-this._baseIndex),this._baseIndex=C),G&&G.data&&(this._rowCount+=G.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)i.postMessage({results:G,workerId:h.WORKER_ID,finished:k});else if(U(this._config.chunk)&&!L){if(this._config.chunk(G,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=G=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(G.data),this._completeResults.errors=this._completeResults.errors.concat(G.errors),this._completeResults.meta=G.meta),this._completed||!k||!U(this._config.complete)||G&&G.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||G&&G.meta.paused||this._nextChunk(),G}this._halted=!0},this._sendError=function(C){U(this._config.error)?this._config.error(C):s&&this._config.error&&i.postMessage({workerId:h.WORKER_ID,error:C,finished:!1})}}function g(I){var C;(I=I||{}).chunkSize||(I.chunkSize=h.RemoteChunkSize),p.call(this,I),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(L){this._input=L,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(C=new XMLHttpRequest,this._config.withCredentials&&(C.withCredentials=this._config.withCredentials),a||(C.onload=F(this._chunkLoaded,this),C.onerror=F(this._chunkError,this)),C.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var L,k=this._config.downloadRequestHeaders;for(L in k)C.setRequestHeader(L,k[L])}var G;this._config.chunkSize&&(G=this._start+this._config.chunkSize-1,C.setRequestHeader("Range","bytes="+this._start+"-"+G));try{C.send(this._config.downloadRequestBody)}catch(ee){this._chunkError(ee.message)}a&&C.status===0&&this._chunkError()}},this._chunkLoaded=function(){C.readyState===4&&(C.status<200||400<=C.status?this._chunkError():(this._start+=this._config.chunkSize||C.responseText.length,this._finished=!this._config.chunkSize||this._start>=(L=>(L=L.getResponseHeader("Content-Range"))!==null?parseInt(L.substring(L.lastIndexOf("/")+1)):-1)(C),this.parseChunk(C.responseText)))},this._chunkError=function(L){L=C.statusText||L,this._sendError(new Error(L))}}function v(I){(I=I||{}).chunkSize||(I.chunkSize=h.LocalChunkSize),p.call(this,I);var C,L,k=typeof FileReader<"u";this.stream=function(G){this._input=G,L=G.slice||G.webkitSlice||G.mozSlice,k?((C=new FileReader).onload=F(this._chunkLoaded,this),C.onerror=F(this._chunkError,this)):C=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var G=this._input,ee=(this._config.chunkSize&&(ee=Math.min(this._start+this._config.chunkSize,this._input.size),G=L.call(G,this._start,ee)),C.readAsText(G,this._config.encoding));k||this._chunkLoaded({target:{result:ee}})},this._chunkLoaded=function(G){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(G.target.result)},this._chunkError=function(){this._sendError(C.error)}}function y(I){var C;p.call(this,I=I||{}),this.stream=function(L){return C=L,this._nextChunk()},this._nextChunk=function(){var L,k;if(!this._finished)return L=this._config.chunkSize,C=L?(k=C.substring(0,L),C.substring(L)):(k=C,""),this._finished=!C,this.parseChunk(k)}}function E(I){p.call(this,I=I||{});var C=[],L=!0,k=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(G){this._input=G,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&C.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),C.length?this.parseChunk(C.shift()):L=!0},this._streamData=F(function(G){try{C.push(typeof G=="string"?G:G.toString(this._config.encoding)),L&&(L=!1,this._checkIsFinished(),this.parseChunk(C.shift()))}catch(ee){this._streamError(ee)}},this),this._streamError=F(function(G){this._streamCleanUp(),this._sendError(G)},this),this._streamEnd=F(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=F(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function T(I){var C,L,k,G,ee=Math.pow(2,53),ve=-ee,pe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,W=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,K=this,ie=0,ne=0,j=!1,le=!1,H=[],q={data:[],errors:[],meta:{}};function V(Ee){return I.skipEmptyLines==="greedy"?Ee.join("").trim()==="":Ee.length===1&&Ee[0].length===0}function Q(){if(q&&k&&(Ae("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+h.DefaultDelimiter+"'"),k=!1),I.skipEmptyLines&&(q.data=q.data.filter(function(se){return!V(se)})),ge()){let se=function(vt,J){U(I.transformHeader)&&(vt=I.transformHeader(vt,J)),H.push(vt)};var st=se;if(q)if(Array.isArray(q.data[0])){for(var Ee=0;ge()&&Ee<q.data.length;Ee++)q.data[Ee].forEach(se);q.data.splice(0,1)}else q.data.forEach(se)}function Ce(se,vt){for(var J=I.header?{}:[],Ze=0;Ze<se.length;Ze++){var Ie=Ze,Re=se[Ze],Re=((Pe,ut)=>($e=>(I.dynamicTypingFunction&&I.dynamicTyping[$e]===void 0&&(I.dynamicTyping[$e]=I.dynamicTypingFunction($e)),(I.dynamicTyping[$e]||I.dynamicTyping)===!0))(Pe)?ut==="true"||ut==="TRUE"||ut!=="false"&&ut!=="FALSE"&&(($e=>{if(pe.test($e)&&($e=parseFloat($e),ve<$e&&$e<ee))return 1})(ut)?parseFloat(ut):W.test(ut)?new Date(ut):ut===""?null:ut):ut)(Ie=I.header?Ze>=H.length?"__parsed_extra":H[Ze]:Ie,Re=I.transform?I.transform(Re,Ie):Re);Ie==="__parsed_extra"?(J[Ie]=J[Ie]||[],J[Ie].push(Re)):J[Ie]=Re}return I.header&&(Ze>H.length?Ae("FieldMismatch","TooManyFields","Too many fields: expected "+H.length+" fields but parsed "+Ze,ne+vt):Ze<H.length&&Ae("FieldMismatch","TooFewFields","Too few fields: expected "+H.length+" fields but parsed "+Ze,ne+vt)),J}var Ne;q&&(I.header||I.dynamicTyping||I.transform)&&(Ne=1,!q.data.length||Array.isArray(q.data[0])?(q.data=q.data.map(Ce),Ne=q.data.length):q.data=Ce(q.data,0),I.header&&q.meta&&(q.meta.fields=H),ne+=Ne)}function ge(){return I.header&&H.length===0}function Ae(Ee,Ce,Ne,st){Ee={type:Ee,code:Ce,message:Ne},st!==void 0&&(Ee.row=st),q.errors.push(Ee)}U(I.step)&&(G=I.step,I.step=function(Ee){q=Ee,ge()?Q():(Q(),q.data.length!==0&&(ie+=Ee.data.length,I.preview&&ie>I.preview?L.abort():(q.data=q.data[0],G(q,K))))}),this.parse=function(Ee,Ce,Ne){var st=I.quoteChar||'"',st=(I.newline||(I.newline=this.guessLineEndings(Ee,st)),k=!1,I.delimiter?U(I.delimiter)&&(I.delimiter=I.delimiter(Ee),q.meta.delimiter=I.delimiter):((st=((se,vt,J,Ze,Ie)=>{var Re,Pe,ut,$e;Ie=Ie||[",","	","|",";",h.RECORD_SEP,h.UNIT_SEP];for(var yt=0;yt<Ie.length;yt++){for(var kt,ce=Ie[yt],Y=0,Oe=0,ze=0,Qe=(ut=void 0,new A({comments:Ze,delimiter:ce,newline:vt,preview:10}).parse(se)),He=0;He<Qe.data.length;He++)J&&V(Qe.data[He])?ze++:(kt=Qe.data[He].length,Oe+=kt,ut===void 0?ut=kt:0<kt&&(Y+=Math.abs(kt-ut),ut=kt));0<Qe.data.length&&(Oe/=Qe.data.length-ze),(Pe===void 0||Y<=Pe)&&($e===void 0||$e<Oe)&&1.99<Oe&&(Pe=Y,Re=ce,$e=Oe)}return{successful:!!(I.delimiter=Re),bestDelimiter:Re}})(Ee,I.newline,I.skipEmptyLines,I.comments,I.delimitersToGuess)).successful?I.delimiter=st.bestDelimiter:(k=!0,I.delimiter=h.DefaultDelimiter),q.meta.delimiter=I.delimiter),P(I));return I.preview&&I.header&&st.preview++,C=Ee,L=new A(st),q=L.parse(C,Ce,Ne),Q(),j?{meta:{paused:!0}}:q||{meta:{paused:!1}}},this.paused=function(){return j},this.pause=function(){j=!0,L.abort(),C=U(I.chunk)?"":C.substring(L.getCharIndex())},this.resume=function(){K.streamer._halted?(j=!1,K.streamer.parseChunk(C,!0)):setTimeout(K.resume,3)},this.aborted=function(){return le},this.abort=function(){le=!0,L.abort(),q.meta.aborted=!0,U(I.complete)&&I.complete(q),C=""},this.guessLineEndings=function(se,st){se=se.substring(0,1048576);var st=new RegExp(S(st)+"([^]*?)"+S(st),"gm"),Ne=(se=se.replace(st,"")).split("\r"),st=se.split(`
`),se=1<st.length&&st[0].length<Ne[0].length;if(Ne.length===1||se)return`
`;for(var vt=0,J=0;J<Ne.length;J++)Ne[J][0]===`
`&&vt++;return vt>=Ne.length/2?`\r
`:"\r"}}function S(I){return I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function A(I){var C=(I=I||{}).delimiter,L=I.newline,k=I.comments,G=I.step,ee=I.preview,ve=I.fastMode,pe=null,W=!1,K=I.quoteChar==null?'"':I.quoteChar,ie=K;if(I.escapeChar!==void 0&&(ie=I.escapeChar),(typeof C!="string"||-1<h.BAD_DELIMITERS.indexOf(C))&&(C=","),k===C)throw new Error("Comment character same as delimiter");k===!0?k="#":(typeof k!="string"||-1<h.BAD_DELIMITERS.indexOf(k))&&(k=!1),L!==`
`&&L!=="\r"&&L!==`\r
`&&(L=`
`);var ne=0,j=!1;this.parse=function(le,H,q){if(typeof le!="string")throw new Error("Input must be a string");var V=le.length,Q=C.length,ge=L.length,Ae=k.length,Ee=U(G),Ce=[],Ne=[],st=[],se=ne=0;if(!le)return Y();if(ve||ve!==!1&&le.indexOf(K)===-1){for(var vt=le.split(L),J=0;J<vt.length;J++){if(st=vt[J],ne+=st.length,J!==vt.length-1)ne+=L.length;else if(q)return Y();if(!k||st.substring(0,Ae)!==k){if(Ee){if(Ce=[],$e(st.split(C)),Oe(),j)return Y()}else $e(st.split(C));if(ee&&ee<=J)return Ce=Ce.slice(0,ee),Y(!0)}}return Y()}for(var Ze=le.indexOf(C,ne),Ie=le.indexOf(L,ne),Re=new RegExp(S(ie)+S(K),"g"),Pe=le.indexOf(K,ne);;)if(le[ne]===K)for(Pe=ne,ne++;;){if((Pe=le.indexOf(K,Pe+1))===-1)return q||Ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ce.length,index:ne}),kt();if(Pe===V-1)return kt(le.substring(ne,Pe).replace(Re,K));if(K===ie&&le[Pe+1]===ie)Pe++;else if(K===ie||Pe===0||le[Pe-1]!==ie){Ze!==-1&&Ze<Pe+1&&(Ze=le.indexOf(C,Pe+1));var ut=yt((Ie=Ie!==-1&&Ie<Pe+1?le.indexOf(L,Pe+1):Ie)===-1?Ze:Math.min(Ze,Ie));if(le.substr(Pe+1+ut,Q)===C){st.push(le.substring(ne,Pe).replace(Re,K)),le[ne=Pe+1+ut+Q]!==K&&(Pe=le.indexOf(K,ne)),Ze=le.indexOf(C,ne),Ie=le.indexOf(L,ne);break}if(ut=yt(Ie),le.substring(Pe+1+ut,Pe+1+ut+ge)===L){if(st.push(le.substring(ne,Pe).replace(Re,K)),ce(Pe+1+ut+ge),Ze=le.indexOf(C,ne),Pe=le.indexOf(K,ne),Ee&&(Oe(),j))return Y();if(ee&&Ce.length>=ee)return Y(!0);break}Ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ce.length,index:ne}),Pe++}}else if(k&&st.length===0&&le.substring(ne,ne+Ae)===k){if(Ie===-1)return Y();ne=Ie+ge,Ie=le.indexOf(L,ne),Ze=le.indexOf(C,ne)}else if(Ze!==-1&&(Ze<Ie||Ie===-1))st.push(le.substring(ne,Ze)),ne=Ze+Q,Ze=le.indexOf(C,ne);else{if(Ie===-1)break;if(st.push(le.substring(ne,Ie)),ce(Ie+ge),Ee&&(Oe(),j))return Y();if(ee&&Ce.length>=ee)return Y(!0)}return kt();function $e(ze){Ce.push(ze),se=ne}function yt(ze){var Qe=0;return Qe=ze!==-1&&(ze=le.substring(Pe+1,ze))&&ze.trim()===""?ze.length:Qe}function kt(ze){return q||(ze===void 0&&(ze=le.substring(ne)),st.push(ze),ne=V,$e(st),Ee&&Oe()),Y()}function ce(ze){ne=ze,$e(st),st=[],Ie=le.indexOf(L,ne)}function Y(ze){if(I.header&&!H&&Ce.length&&!W){var Qe=Ce[0],He=Object.create(null),St=new Set(Qe);let it=!1;for(let xt=0;xt<Qe.length;xt++){let bt=Qe[xt];if(He[bt=U(I.transformHeader)?I.transformHeader(bt,xt):bt]){let Je,At=He[bt];for(;Je=bt+"_"+At,At++,St.has(Je););St.add(Je),Qe[xt]=Je,He[bt]++,it=!0,(pe=pe===null?{}:pe)[Je]=bt}else He[bt]=1,Qe[xt]=bt;St.add(bt)}it&&console.warn("Duplicate headers found and renamed."),W=!0}return{data:Ce,errors:Ne,meta:{delimiter:C,linebreak:L,aborted:j,truncated:!!ze,cursor:se+(H||0),renamedHeaders:pe}}}function Oe(){G(Y()),Ce=[],Ne=[]}},this.abort=function(){j=!0},this.getCharIndex=function(){return ne}}function R(I){var C=I.data,L=l[C.workerId],k=!1;if(C.error)L.userError(C.error,C.file);else if(C.results&&C.results.data){var G={abort:function(){k=!0,w(C.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(U(L.userStep)){for(var ee=0;ee<C.results.data.length&&(L.userStep({data:C.results.data[ee],errors:C.results.errors,meta:C.results.meta},G),!k);ee++);delete C.results}else U(L.userChunk)&&(L.userChunk(C.results,G,C.file),delete C.results)}C.finished&&!k&&w(C.workerId,C.results)}function w(I,C){var L=l[I];U(L.userComplete)&&L.userComplete(C),L.terminate(),delete l[I]}function D(){throw new Error("Not implemented.")}function P(I){if(typeof I!="object"||I===null)return I;var C,L=Array.isArray(I)?[]:{};for(C in I)L[C]=P(I[C]);return L}function F(I,C){return function(){I.apply(C,arguments)}}function U(I){return typeof I=="function"}return h.parse=function(I,C){var L=(C=C||{}).dynamicTyping||!1;if(U(L)&&(C.dynamicTypingFunction=L,L={}),C.dynamicTyping=L,C.transform=!!U(C.transform)&&C.transform,!C.worker||!h.WORKERS_SUPPORTED)return L=null,h.NODE_STREAM_INPUT,typeof I=="string"?(I=(k=>k.charCodeAt(0)!==65279?k:k.slice(1))(I),L=new(C.download?g:y)(C)):I.readable===!0&&U(I.read)&&U(I.on)?L=new E(C):(i.File&&I instanceof File||I instanceof Object)&&(L=new v(C)),L.stream(I);(L=(()=>{var k;return!!h.WORKERS_SUPPORTED&&(k=(()=>{var G=i.URL||i.webkitURL||null,ee=t.toString();return h.BLOB_URL||(h.BLOB_URL=G.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ee,")();"],{type:"text/javascript"})))})(),(k=new i.Worker(k)).onmessage=R,k.id=u++,l[k.id]=k)})()).userStep=C.step,L.userChunk=C.chunk,L.userComplete=C.complete,L.userError=C.error,C.step=U(C.step),C.chunk=U(C.chunk),C.complete=U(C.complete),C.error=U(C.error),delete C.worker,L.postMessage({input:I,config:C,workerId:L.id})},h.unparse=function(I,C){var L=!1,k=!0,G=",",ee=`\r
`,ve='"',pe=ve+ve,W=!1,K=null,ie=!1,ne=((()=>{if(typeof C=="object"){if(typeof C.delimiter!="string"||h.BAD_DELIMITERS.filter(function(H){return C.delimiter.indexOf(H)!==-1}).length||(G=C.delimiter),typeof C.quotes!="boolean"&&typeof C.quotes!="function"&&!Array.isArray(C.quotes)||(L=C.quotes),typeof C.skipEmptyLines!="boolean"&&typeof C.skipEmptyLines!="string"||(W=C.skipEmptyLines),typeof C.newline=="string"&&(ee=C.newline),typeof C.quoteChar=="string"&&(ve=C.quoteChar),typeof C.header=="boolean"&&(k=C.header),Array.isArray(C.columns)){if(C.columns.length===0)throw new Error("Option columns is empty");K=C.columns}C.escapeChar!==void 0&&(pe=C.escapeChar+ve),C.escapeFormulae instanceof RegExp?ie=C.escapeFormulae:typeof C.escapeFormulae=="boolean"&&C.escapeFormulae&&(ie=/^[=+\-@\t\r].*$/)}})(),new RegExp(S(ve),"g"));if(typeof I=="string"&&(I=JSON.parse(I)),Array.isArray(I)){if(!I.length||Array.isArray(I[0]))return j(null,I,W);if(typeof I[0]=="object")return j(K||Object.keys(I[0]),I,W)}else if(typeof I=="object")return typeof I.data=="string"&&(I.data=JSON.parse(I.data)),Array.isArray(I.data)&&(I.fields||(I.fields=I.meta&&I.meta.fields||K),I.fields||(I.fields=Array.isArray(I.data[0])?I.fields:typeof I.data[0]=="object"?Object.keys(I.data[0]):[]),Array.isArray(I.data[0])||typeof I.data[0]=="object"||(I.data=[I.data])),j(I.fields||[],I.data||[],W);throw new Error("Unable to serialize unrecognized input");function j(H,q,V){var Q="",ge=(typeof H=="string"&&(H=JSON.parse(H)),typeof q=="string"&&(q=JSON.parse(q)),Array.isArray(H)&&0<H.length),Ae=!Array.isArray(q[0]);if(ge&&k){for(var Ee=0;Ee<H.length;Ee++)0<Ee&&(Q+=G),Q+=le(H[Ee],Ee);0<q.length&&(Q+=ee)}for(var Ce=0;Ce<q.length;Ce++){var Ne=(ge?H:q[Ce]).length,st=!1,se=ge?Object.keys(q[Ce]).length===0:q[Ce].length===0;if(V&&!ge&&(st=V==="greedy"?q[Ce].join("").trim()==="":q[Ce].length===1&&q[Ce][0].length===0),V==="greedy"&&ge){for(var vt=[],J=0;J<Ne;J++){var Ze=Ae?H[J]:J;vt.push(q[Ce][Ze])}st=vt.join("").trim()===""}if(!st){for(var Ie=0;Ie<Ne;Ie++){0<Ie&&!se&&(Q+=G);var Re=ge&&Ae?H[Ie]:Ie;Q+=le(q[Ce][Re],Ie)}Ce<q.length-1&&(!V||0<Ne&&!se)&&(Q+=ee)}}return Q}function le(H,q){var V,Q;return H==null?"":H.constructor===Date?JSON.stringify(H).slice(1,25):(Q=!1,ie&&typeof H=="string"&&ie.test(H)&&(H="'"+H,Q=!0),V=H.toString().replace(ne,pe),(Q=Q||L===!0||typeof L=="function"&&L(H,q)||Array.isArray(L)&&L[q]||((ge,Ae)=>{for(var Ee=0;Ee<Ae.length;Ee++)if(-1<ge.indexOf(Ae[Ee]))return!0;return!1})(V,h.BAD_DELIMITERS)||-1<V.indexOf(G)||V.charAt(0)===" "||V.charAt(V.length-1)===" ")?ve+V+ve:V)}},h.RECORD_SEP="",h.UNIT_SEP="",h.BYTE_ORDER_MARK="\uFEFF",h.BAD_DELIMITERS=["\r",`
`,'"',h.BYTE_ORDER_MARK],h.WORKERS_SUPPORTED=!a&&!!i.Worker,h.NODE_STREAM_INPUT=1,h.LocalChunkSize=10485760,h.RemoteChunkSize=5242880,h.DefaultDelimiter=",",h.Parser=A,h.ParserHandle=T,h.NetworkStreamer=g,h.FileStreamer=v,h.StringStreamer=y,h.ReadableStreamStreamer=E,i.jQuery&&((r=i.jQuery).fn.parse=function(I){var C=I.config||{},L=[];return this.each(function(ee){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var ve=0;ve<this.files.length;ve++)L.push({file:this.files[ve],inputElem:this,instanceConfig:r.extend({},C)})}),k(),this;function k(){if(L.length===0)U(I.complete)&&I.complete();else{var ee,ve,pe,W,K=L[0];if(U(I.before)){var ie=I.before(K.file,K.inputElem);if(typeof ie=="object"){if(ie.action==="abort")return ee="AbortError",ve=K.file,pe=K.inputElem,W=ie.reason,void(U(I.error)&&I.error({name:ee},ve,pe,W));if(ie.action==="skip")return void G();typeof ie.config=="object"&&(K.instanceConfig=r.extend(K.instanceConfig,ie.config))}else if(ie==="skip")return void G()}var ne=K.instanceConfig.complete;K.instanceConfig.complete=function(j){U(ne)&&ne(j,K.file,K.inputElem),G()},h.parse(K.file,K.instanceConfig)}}function G(){L.splice(0,1),k()}}),s&&(i.onmessage=function(I){I=I.data,h.WORKER_ID===void 0&&I&&(h.WORKER_ID=I.workerId),typeof I.input=="string"?i.postMessage({workerId:h.WORKER_ID,results:h.parse(I.input,I.config),finished:!0}):(i.File&&I.input instanceof File||I.input instanceof Object)&&(I=h.parse(I.input,I.config))&&i.postMessage({workerId:h.WORKER_ID,results:I,finished:!0})}),(g.prototype=Object.create(p.prototype)).constructor=g,(v.prototype=Object.create(p.prototype)).constructor=v,(y.prototype=Object.create(y.prototype)).constructor=y,(E.prototype=Object.create(p.prototype)).constructor=E,h})}(D_)),D_.exports}var lce=oce();const TN=jE(lce);class S_{static async importArticles(e){var i;const t=(i=e.name.split(".").pop())==null?void 0:i.toLowerCase();if(t==="csv")return this.importFromCSV(e);if(t==="xlsx"||t==="xls")return this.importFromExcel(e);throw new Error("Format de fichier non supporté. Utilisez CSV ou Excel (.xlsx, .xls)")}static async importFromCSV(e){return new Promise((t,i)=>{TN.parse(e,{header:!0,skipEmptyLines:!0,complete:r=>{try{const a=this.extractArticlesFromData(r.data);t(a)}catch(a){i(a)}},error:r=>{i(new Error(`Erreur lors de la lecture du CSV: ${r.message}`))}})})}static async importFromExcel(e){return new Promise((t,i)=>{const r=new FileReader;r.onload=a=>{var s;try{const l=new Uint8Array((s=a.target)==null?void 0:s.result),u=_b(l,{type:"array"}),h=u.SheetNames[0],p=u.Sheets[h],g=E_.sheet_to_json(p,{header:1}),v=this.extractArticlesFromRows(g);t(v)}catch(l){i(new Error(`Erreur lors de la lecture du fichier Excel: ${l instanceof Error?l.message:"Erreur inconnue"}`))}},r.onerror=()=>{i(new Error("Erreur lors de la lecture du fichier"))},r.readAsArrayBuffer(e)})}static extractArticlesFromData(e){const t=[];for(const i of e){const r=i.article||i.libelle||i.designation||i.nom||i.produit;r&&typeof r=="string"&&r.trim()&&t.push(r.trim())}if(t.length===0)throw new Error('Aucun article trouvé. Vérifiez que votre fichier contient une colonne "article", "libelle", "designation", "nom" ou "produit"');return t}static extractArticlesFromRows(e){const t=[];if(e.length===0)throw new Error("Le fichier est vide");const i=this.hasHeaders(e[0])?1:0;for(let r=i;r<e.length;r++){const a=e[r];if(a&&a.length>0){for(const s of a)if(s&&typeof s=="string"&&s.trim()){t.push(s.trim());break}}}if(t.length===0)throw new Error("Aucun article trouvé dans le fichier");return t}static hasHeaders(e){if(!e||e.length===0)return!1;const t=["article","libelle","designation","nom","produit","description"],i=String(e[0]).toLowerCase();return t.some(r=>i.includes(r))}static exportToExcel(e,t="attribution_secteurs"){const i=e.map(u=>({Article:u.article,"Code Secteur":u.secteurCode,"Libellé Secteur":u.secteurLibelle,Confiance:`${Math.round(u.confidence*100)}%`,Raisonnement:u.reasoning||""})),r=E_.json_to_sheet(i),a=[{wch:40},{wch:15},{wch:30},{wch:12},{wch:50}];r["!cols"]=a;const s=E_.book_new();E_.book_append_sheet(s,r,"Attribution Secteurs");const l=new Date().toISOString().slice(0,10);Kle(s,`${t}_${l}.xlsx`)}static exportToCSV(e,t="attribution_secteurs"){const i=e.map(l=>({Article:l.article,"Code Secteur":l.secteurCode,"Libellé Secteur":l.secteurLibelle,Confiance:`${Math.round(l.confidence*100)}%`,Raisonnement:l.reasoning||""})),r=TN.unparse(i,{delimiter:";",header:!0}),a=new Blob([r],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");if(s.download!==void 0){const l=URL.createObjectURL(a);s.setAttribute("href",l),s.setAttribute("download",`${t}_${new Date().toISOString().slice(0,10)}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}}static validateFile(e){var a;const t=["csv","xlsx","xls"],i=(a=e.name.split(".").pop())==null?void 0:a.toLowerCase();if(!i||!t.includes(i))return!1;const r=10*1024*1024;return e.size<=r}}const cce=({onBack:n,secteurStructure:e})=>{const[t,i]=De.useState("single"),[r,a]=De.useState(""),[s,l]=De.useState(null),[u,h]=De.useState([]),[p,g]=De.useState(!1),[v,y]=De.useState(0),[E,T]=De.useState(null),[S,A]=De.useState(null),R=De.useRef(null),w=ob.getInstance(),D=async()=>{if(!r.trim()){T("Veuillez saisir un libellé d'article");return}g(!0),T(null),y(0);try{y(50);const C=await w.attributeSecteur(r.trim(),e),L={article:r.trim(),secteurCode:C.secteurCode,secteurLibelle:C.secteurLibelle,confidence:C.confidence,reasoning:C.reasoning};h([L]),y(100),A("Attribution réalisée avec succès !")}catch(C){T(C instanceof Error?C.message:"Erreur lors de l'attribution")}finally{g(!1)}},P=C=>{var k;const L=(k=C.target.files)==null?void 0:k[0];if(L){if(!S_.validateFile(L)){T("Format de fichier non supporté ou fichier trop volumineux (max 10MB). Utilisez CSV ou Excel.");return}l(L),T(null)}},F=async()=>{if(!s){T("Veuillez sélectionner un fichier");return}g(!0),T(null),y(0),h([]);try{y(10);const C=await S_.importArticles(s);if(C.length===0)throw new Error("Aucun article trouvé dans le fichier");if(C.length>100)throw new Error("Maximum 100 articles par lot. Veuillez diviser votre fichier.");y(20);const L=[],k=C.length;for(let G=0;G<C.length;G++){const ee=C[G];try{const pe=await w.attributeSecteur(ee,e);L.push({article:ee,secteurCode:pe.secteurCode,secteurLibelle:pe.secteurLibelle,confidence:pe.confidence,reasoning:pe.reasoning})}catch(pe){L.push({article:ee,secteurCode:"ERROR",secteurLibelle:"ERREUR DE TRAITEMENT",confidence:0,reasoning:pe instanceof Error?pe.message:"Erreur inconnue"})}const ve=20+(G+1)/k*70;y(ve),h([...L])}y(100),A(`Traitement terminé ! ${L.filter(G=>G.secteurCode!=="ERROR").length}/${k} articles traités avec succès.`)}catch(C){T(C instanceof Error?C.message:"Erreur lors du traitement du lot")}finally{g(!1)}},U=C=>{if(u.length===0){T("Aucun résultat à exporter");return}try{C==="xlsx"?S_.exportToExcel(u):S_.exportToCSV(u),A(`Export ${C.toUpperCase()} réalisé avec succès !`)}catch{T("Erreur lors de l'export")}},I=C=>C>=.8?"default":C>=.6?"secondary":"destructive";return Be.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:Be.jsxs("div",{className:"container mx-auto px-4 py-8",children:[Be.jsxs("div",{className:"mb-8",children:[Be.jsxs(sd,{variant:"ghost",onClick:n,className:"mb-4",children:[Be.jsx(jZ,{className:"mr-2 h-4 w-4"}),"Retour"]}),Be.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Attribution Automatique des Secteurs"}),Be.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Classifiez vos articles selon la structure CYRUS avec l'IA"})]}),E&&Be.jsxs(o4,{className:"mb-6 border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20",children:[Be.jsx(KZ,{className:"h-4 w-4 text-red-600"}),Be.jsx(l4,{className:"text-red-800 dark:text-red-200",children:E})]}),S&&Be.jsxs(o4,{className:"mb-6 border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20",children:[Be.jsx(QZ,{className:"h-4 w-4 text-green-600"}),Be.jsx(l4,{className:"text-green-800 dark:text-green-200",children:S})]}),Be.jsxs(AZ,{value:t,onValueChange:C=>i(C),children:[Be.jsxs(bZ,{className:"grid w-full grid-cols-2",children:[Be.jsx(i4,{value:"single",children:"Article Unique"}),Be.jsx(i4,{value:"batch",children:"Traitement en Lot"})]}),Be.jsx(r4,{value:"single",className:"space-y-6",children:Be.jsxs(o_,{children:[Be.jsxs(J2,{children:[Be.jsx($2,{children:"Attribution d'un Article"}),Be.jsx(eA,{children:"Saisissez le libellé d'un article pour l'attribuer automatiquement à son secteur"})]}),Be.jsxs(l_,{className:"space-y-4",children:[Be.jsxs("div",{className:"space-y-2",children:[Be.jsx("label",{htmlFor:"article",className:"text-sm font-medium",children:"Libellé de l'article"}),Be.jsx(YK,{id:"article",placeholder:"Ex: Lait entier 1L Bio...",value:r,onChange:C=>a(C.target.value),className:"min-h-[80px]"})]}),Be.jsx(sd,{onClick:D,disabled:p||!r.trim(),className:"w-full",children:p?Be.jsxs(Be.Fragment,{children:[Be.jsx(h4,{className:"mr-2 h-4 w-4 animate-spin"}),"Attribution en cours..."]}):"Attribuer le secteur"})]})]})}),Be.jsx(r4,{value:"batch",className:"space-y-6",children:Be.jsxs(o_,{children:[Be.jsxs(J2,{children:[Be.jsx($2,{children:"Traitement en Lot"}),Be.jsx(eA,{children:"Importez un fichier CSV ou Excel contenant vos articles (max 100 articles)"})]}),Be.jsxs(l_,{className:"space-y-4",children:[Be.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[Be.jsx(tQ,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),Be.jsxs("div",{className:"space-y-2",children:[Be.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Glissez votre fichier ici ou cliquez pour parcourir"}),Be.jsx("p",{className:"text-xs text-gray-500",children:"Formats supportés: CSV, Excel (.xlsx, .xls) - Max 10MB"})]}),Be.jsx("input",{ref:R,type:"file",accept:".csv,.xlsx,.xls",onChange:P,className:"hidden"}),Be.jsx(sd,{variant:"outline",onClick:()=>{var C;return(C=R.current)==null?void 0:C.click()},className:"mt-4",children:"Sélectionner un fichier"})]}),s&&Be.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[Be.jsxs("span",{className:"text-sm text-blue-800 dark:text-blue-200",children:[s.name," (",(s.size/1024).toFixed(1)," KB)"]}),Be.jsx(sd,{variant:"ghost",size:"sm",onClick:()=>l(null),children:"Supprimer"})]}),Be.jsx(sd,{onClick:F,disabled:p||!s,className:"w-full",children:p?Be.jsxs(Be.Fragment,{children:[Be.jsx(h4,{className:"mr-2 h-4 w-4 animate-spin"}),"Traitement en cours..."]}):"Démarrer le traitement"})]})]})})]}),p&&Be.jsx(o_,{className:"mt-6",children:Be.jsx(l_,{className:"pt-6",children:Be.jsxs("div",{className:"space-y-2",children:[Be.jsxs("div",{className:"flex justify-between text-sm",children:[Be.jsx("span",{children:"Progression"}),Be.jsxs("span",{children:[Math.round(v),"%"]})]}),Be.jsx(FZ,{value:v,className:"w-full"})]})})}),u.length>0&&Be.jsxs(o_,{className:"mt-6",children:[Be.jsx(J2,{children:Be.jsxs("div",{className:"flex justify-between items-center",children:[Be.jsxs("div",{children:[Be.jsx($2,{children:"Résultats"}),Be.jsxs(eA,{children:[u.length," article(s) traité(s)"]})]}),Be.jsxs("div",{className:"space-x-2",children:[Be.jsxs(sd,{variant:"outline",size:"sm",onClick:()=>U("csv"),disabled:p,children:[Be.jsx(f4,{className:"mr-2 h-4 w-4"}),"CSV"]}),Be.jsxs(sd,{variant:"outline",size:"sm",onClick:()=>U("xlsx"),disabled:p,children:[Be.jsx(f4,{className:"mr-2 h-4 w-4"}),"Excel"]})]})]})}),Be.jsx(l_,{children:Be.jsx("div",{className:"overflow-x-auto",children:Be.jsxs(BZ,{children:[Be.jsx(kZ,{children:Be.jsxs(c4,{children:[Be.jsx(Yg,{children:"Article"}),Be.jsx(Yg,{children:"Code Secteur"}),Be.jsx(Yg,{children:"Libellé Secteur"}),Be.jsx(Yg,{children:"Confiance"}),Be.jsx(Yg,{children:"Raisonnement"})]})}),Be.jsx(zZ,{children:u.map((C,L)=>Be.jsxs(c4,{children:[Be.jsx(jg,{className:"font-medium max-w-xs",children:Be.jsx("div",{className:"truncate",title:C.article,children:C.article})}),Be.jsx(jg,{children:Be.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-sm",children:C.secteurCode})}),Be.jsx(jg,{className:"max-w-xs",children:Be.jsx("div",{className:"truncate",title:C.secteurLibelle,children:C.secteurLibelle})}),Be.jsx(jg,{children:Be.jsxs(wZ,{variant:I(C.confidence),children:[Math.round(C.confidence*100),"%"]})}),Be.jsx(jg,{className:"max-w-xs",children:Be.jsx("div",{className:"truncate",title:C.reasoning,children:C.reasoning})})]},L))})]})})})]})]})})},uce=`
Structure CYRUS - Secteurs Commerciaux:

201 GEANT CASINO

01 MARCHE
  010 BOUCHERIE
    101 STAND TRADITIONNEL
      101 BOEUF LOCAL
      102 BOEUF IMPORT
      103 VEAU LOCAL
      104 VEAU IMPORT
      105 AGNEAU LOCAL
      106 AGNEAU IMPORT
      107 VOLAILLES
      108 PORC
      109 PREPARATIONS
      110 ABATS
      111 AUTRES VIANDES
    102 LIBRE SERVICE
      201 BOEUF LOCAL
      202 BOEUF IMPORT
      203 VEAU LOCAL
      204 VEAU IMPORT
      205 AGNEAU LOCAL
      206 AGNEAU IMPORT
      207 VOLAILLES
      208 PORC
      209 PREPARATIONS
      210 ABATS
      211 AUTRES VIANDES
      212 SAUCISSE
    103 EMBALLAGES BOUCHERIES
      301 EMBALLAGES
      302 FICELLE A ROTIR

  011 FRUITS ET LEGUMES
    111 FRUITS
      101 FRUITS LOCAUX
      102 FRUITS IMPORTS
    112 LEGUMES
      201 LEGUMES LOCAUX
      202 LEGUMES IMPORTS
    113 VRAC EPICE/FRUIT SEC
      301 EPICES VRAC
      302 FRUITS SECS VRAC
    114 FLEURS ET PLANTES
      401 FLEURS LOCALES
      402 FLEURS IMPORTS
      403 PLANTES LOCALES
      404 PLANTES IMPORTS
      405 FLEURS/PLANTE CONSENTMENT
    115 LS FRUITS
      501 LS PREPARATION
    116 EMBALLAGES FRUITS LEGUMES
      601 EMBALLAGES

  012 BOULANGERIE + PATISSERIE
    121 BOULANGERIE
      101 BOULANGERIE
    122 VIENNOISERIE
      201 VIENNOISERIE
    123 PATISSERIE
      301 PATISSERIE
    124 CHOCOLATS
      401 CHOCOLATS
    125 PREPARATIONS
      501 PREPARATIONS
    126 PATISSERIE SECHE
      601 PATISSERIE SECHE
    127 PATISSERIES DIVERS
      701 PATISSERIES DIVERS
    128 EMBALLAGES PATISSERIES
      801 EMBALLAGES

  013 POINT CHAUD + ROTISSERIE
    131 ROTISSOIRE
    132 PREPARATIONS FROIDES
    133 PREPARATIONS CHAUDES
    134 PREPARATIONS FOURNISSEURS
    135 EMBALL POINT CHAUD+ROTISS

  014 CHARCUTERIE COUPE
    141 CHARCUTERIE COUPE
      101 CHARCUTERIE COUPE
      102 HALAL IMPORT
    142 VOLAILLE
      201 VOLAILLE
    143 BOEUF
      301 BOEUF
    144 OLIVES ET CONDIMENTS
      401 OLIVES ET CONDIMENTS
    145 LS CHARCUTERIE COUPE
      501 LS CHARCUTERIE COUPE
      502 LS OLIVE
      601 LS PREPARATIONS
    146 PORC
      601 PORC
    147 VEAU
      701 VEAU
    148 EMBALLAGES CHARCUT COUPE
      801 EMBALLAGES

  015 FROMAGE A LA COUPE
    151 ORIGINE FRANCE
      101 ORIGINE FRANCE
    152 LS FRAICHE DECOUPE
      201 LS FRAICHE DECOUPE
    153 ORIGINE LOCALE
      301 ORIGINE LOCALE
    154 PREPARATIONS
      401 PREPARATIONS
    155 EMBALLAGES FROMAGE COUPE
      501 EMBALLAGES

  016 MAREE
    161 POISSONS
      101 LOCAL
      102 IMPORT
    162 COQUILLAGES ET CRUSTACES
      201 LOCAL
      202 IMPORT
    163 LS MAREE
      301 LOCAL
      302 LS PREPARATIONS
    164 SURGELES
      401 IMPORT
    165 EMBALLAGES MAREE
      501 EMBALLAGES

  017 TRAITEUR
    171 STAND TRADITIONNEL
      101 CONDIMENTS ET OLIVES
    172 LIBRE SERVICE
      201 A REUTILISER
      202 A REUTILISER
      203 A REUTILISER
      204 A REUTILISER
      205 A REUTILISER
      206 A REUTILISER
      207 A REUTILISER
    173 PREPARATIONS
      301 PREPARATIONS FROIDES
      302 PREPARATIONS CHAUDES

02 FRAIS INDUSTRIEL
  020 PRODUITS FRAIS LACTES
    201 PRODUIT FR.LAITIER LS BIO
      101 LAITCONSOMMATION BIO
      102 FROMAGE BIOLOGIQUE
      103 PAIN DE MIE ET PAINS BIO
      104 BEURRE & MARGARINES BIO
      105 OEUFS BIOLOGIQUES
      106 DESSERTS ULTRA FRAIS BIO
      107 LAIT FRAIS BIOLOGIQUE
      108 CREME FRAICHE BIOLOGIQUE
      109 YAOURTS BIOLOGIQUES
    202 LAIT DE CONSOMMATION
      201 LAIT 1/2 ECREME
      202 LAIT ECREME
      203 LAIT ENTIER
      204 LAIT DE CHEVRE
      205 LAIT DE SOJA
      206 LAIT AROMATISE/PETIT DEJ.
      207 LAIT ENFANT
      208 LAIT FRAIS
    203 OEUFS
      301 OEUFS FRAIS
      302 OEUFS DE CAILLE
    204 DESSERTS ULTRA-FRAIS
      401 LIEGEOIS
      402 GELIFIES
      403 SPECIALITES
      404 ENTREMETS
      405 DESSERTS ALLEGES
      406 CREMES DESSERTS
      407 MOUSSES
    205 CREMES ET SAUCES FRAICHES
      501 CREME FRAICHE LEGERE
      502 CREME FRAICHE ENTIERE
    206 YAOURTS
      601 YAOURTS ALLEGES
      602 YAOURTS AUX FRUITS
      603 YAOURTS A BOIRE
      604 YAOURTS SPECIALITES
      605 SOJA
      606 YAOURTS ET DESSERTS BEBE
      607 YAOURTS NATURE
      608 YAOURTS POTS VERRE
      609 YAOURTS AROMATISES
      610 YAOURTS BIFIDUS
    207 FROMAGE ULTRA FRAIS
      701 FROMAGES FRAIS BLANC
      702 FROMAGE FRAIS CAMPAGNE
      703 FAISSELLES ET SPECIALITES
      704 FROMAGE PETITS SUISSES
    208 FROMAGE LIBRE SERVICE
      801 PATE MOLLE CROUTE FLEURIE
      802 PATES PRESSEES CUITES
      803 PATES PRESSEES NON CUITES
      804 PATE MOLLE A CROUTE LAVEE
      805 PATES PERSILLEES
      806 PIK & MIX
      807 FROMAGE ENFANT & GRIGNOTA
      808 FROMAGE FONDU
      809 CHEVRES ET BREBIS
    209 BEURRES
      901 MINI BEURRIERS
      902 BEURRE DOUX
      903 BEURRES 1/2 SEL/GROS SEL

  021 CHARCUTERIE-TRAITEUR
    211 SAUCISSERIE
      101 SAUCISSERIE
    212 SAUCISSERIE HALAL
      201 SAUCISSERIE HALAL
    213 PLAT CUISINE/ETHNIQUE LS
      301 PLATS CUISINE/ETHNIQUE LS
    214 PLATS CUISINES HALAL LS
      401 PLATS CUISINES HALAL LS
    215 SAUCISSONS SECS
      501 SAUCISSONS SECS
    216 SALAISON MARITIME
      601 SAUMON/TRUITE FUMEE
      602 TRATINABLE DE LA MER
      603 BLINIS
      604 AUTRE SAL.MARITIME
    217 CHARCUTERIE CUITE LS
      701 CHARCUTERIE CUITE LS
    218 CHARCUTERIE CUIT HALAL LS
      801 CHARCUTERIE CUIT HALAL LS

  022 SURGELES
    221 PIZZAS SURGELEES
      101 PIZZAS ET CALZONE
    222 PIZZAS SURGELEES HALAL
      201 PIZZAS SURGELEES HALAL
    223 BIO SURGELE
      301 BIO SURGELE
      302 CRUSTACE MOLL. BIO SURGEL
      303 ENTREES BIO SURGELE
      304 GLACES BIO SURGELE
      305 LEGUMES BIO SURGELE
      306 PIZZAS BIO SURGELE
      307 PLATS CUISINE BIO SURGELE
      308 POMME-TERRE BIO SURGELE
    224 POISSONS SURGELES
      401 POISSONS SURGELES
      402 FILETS ET MORCEAUX
      403 POISSONS PANES
    225 GLACES
      501 BATONNETS
      502 BACS
      503 CONES
      504 GLACES ARTISANALS
      505 GLACONS A RAFRAICHIR
      506 POTS INDIVIDUELS
      507 SPECIALITES A PARTAGER
      508 SPECIALITES INDIVIDUELLES

03 EPICERIE
  030 EPICERIE SUCREE
    301 PRODUITS SALES APERITIFS
      101 BISCUITS APERITIFS
      102 GRAINES
      103 POP CORN
      104 AUTRES
    302 CHIPS
      201 CHIPS NATURE
      202 CHIPS AROMATISEES
      203 AUTRES
      204 TUILES
    303 BISCUITS SUCRES
      301 SEC
      302 PETITS DEJEUNERS
      303 FRUITES
      304 COOKIES
      305 CHOCOLATES
      306 GOUTERS
    311 CAFES . CHICOREES
      101 CAFES GRAINS
      102 CAFES MOULUS
      103 CAFE + ADJONCTION
      104 SOLUBLES PURS
      105 DOSETTES / CAPSULES
      106 CHICOREE
      107 CAPPUCCINO
    312 PETITS DEJEUNER CACAO
      201 POUDRES INSTANTANEES
      202 INSTANTANES GRANULES
      203 CACAO PUR
      204 MALTES
      205 DOSETTES
      206 AUTRES
    313 THE - INFUSIONS
      301 THE
      302 INFUSION ET TISANES
      303 DOSETTES/CAPSULES
      304 AUTRES
    314 DESSERT AIDE PATISSIERE
      401 DESSERTS A PREPARER
      402 DESSERT PRETS A CONSOMMER
      403 LEVURES ET SUCRES
      404 AIDES A LA PATISSERIE
    315 SUCRES
      501 CLASSIQUE
      502 SPECIALITES
      503 ALLEGES
      504 EDULCORANTS
      505 SIROP D'AGAVE
    316 FRUITS AU SIROP
      601 MACEDOINES
      602 ABRICOTS
      603 PECHES
      604 ANANAS
      605 AUTRES
      606 INDIVIDUELS
      607 COCKTAILS
      608 LYCHEES
      609 MANGUE
      610 POIRES
    317 FRUITS SEC
      701 FRUITS SEC
    318 CHOCOLATS EN TABLETTES
      801 PATISSIER
      802 TABLETTE LAIT/BLC MENAGE
      803 TABLETTE PATISSIER
      804 TABLETTE LAIT/BLC DEGUSTA
      805 TABLETTE NOIR MENAGE
      806 TABLETTE NOIR DEGUSTATION
      807 PRODUITS BIOLOGIQUES
      808 AUTRES
    319 CONFISERIE DE CHOCOLAT
      901 BARRES BISCUITEES
      902 LUDIQUES ENFANTS
      903 ROCHERS CHOCO/ACCOMP.CAFE
      904 BOITAGES PERMANENTS
      905 PRODUITS BIOLOGIQUES
      906 BARRES FONDANTES

  031 EPICERIE SALEE
    313 PATES ALIMENTAIRES
      301 PATES QS QUOTIDIENNES
      302 PATES AUX OEUFS
      303 PATES QS FESTIVES
    314 LEGUMES SECS-RIZ-CEREALES
      401 LEGUMES SECS
      402 RIZ
      403 AUTRES CEREALES
      404 SEMOULES
      405 GRAINES A COUSCOUS
    315 POTAGES & CROUTONS
      501 CROUTONS
      502 POTAGES
      503 POTAGE DESHYDRATE SACHET
    316 CONDIMENTS & SAUCES
      601 LEGUMES CONDIMENTAIRES
      602 KETCHUP
      603 SAUCES FROIDES
      604 DIVERS
      605 CORNICHONS
      606 OLIVES
      607 MOUTARDES
      608 MAYONNAISES
    317 SAUCES CHAUDES
      701 PULPE/PUREE/COULIS/CONC.
      702 SAUCES BASE TOMATES
      703 SAUCES HORS TOMATES
    318 EPICES POIVRES SELS
      801 EPICES HERBES ET AROMATES
      802 SELS
      803 POIVRE
      804 ACCOMPAGNEMENT SALADE
    319 AIDES CULINAIRES
      901 LIANTS ET CHAPELURES
      902 BOUILLONS ET ASS.CHAUDS
      903 ASSAISONNEMENTS FROIDS
      904 DIVERS
    321 HUILES
      101 HUILES SANTE
      102 PRODUITS BIOLOGIQUES
      103 ARACHIDE
      104 TOURNESOL
      105 OLIVE ET POMASSE
      106 SPECIALITES
      107 MELANGES
    322 VINAIGRES ET VINAIGRETTES
      201 VINAIGRES
      202 VINAIGRES GASTRONOMIQUES
      203 SAUCE SALADE/VINAIGRETTE
    323 CONSERVES DE LEGUMES
      301 MELANGES DE LEGUMES
      302 ASPERGES
      303 CHAMPIGNONS DE PARIS
      304 CHAMPIGNONS SYLVESTRES
      305 LEGUMES DIVERS
      306 GERMES DE SOJA
      307 LEGUMES SECS
      308 LEGUMES CUISINES
      309 MAIS
      310 AUTRES
      311 PETITS POIS CUISINES
      312 POIS ET CAROTTES
      313 HARIC.VERTS BEURRE MT
      314 FLAGEOLETS
      315 TOMATE ENTIERE ET PELEE
    324 CONSERVES DE POISSONS
      401 SARDINES
      402 SALADES MARINIERES
      403 THONS
      404 MAQUEREAUX
      405 TARTINABLES
      406 CRUSTACES ET MOLLUSQUES
      407 AUTRES POISSONS
    325 CONSERVES DE VIANDES
      501 VIANDES EN CONSERVES
      502 FOIE GRAS ET DERIVES
      503 SALADES DE VIANDE
      504 PATES
      505 RILLETTES
      506 CONFITS DE FOIE
      507 SAUCISSE COCKTAIL/HOT DOG

04 LIQUIDES
  040 VINS/ALCOOLS
    401 ALCOOLS
      101 FLASKS ET MIGNONETTES
      102 GINS
      103 TEQUILAS
      104 VODKAS
      105 AUTRES ALCOOLS
    402 RHUMS
      201 RHUMS BLANCS
      202 RHUMS BRUNS ET VIEUX
      203 RHUMS ARRANGES
    403 WHISKIE SCOTCH ET BOURBON
      301 BLEND
      302 BOURBONS
      303 SINGLE & PURE MALT
      304 WHISKIES DU MONDE
    404 APERITIFS ET DIGESTIFS
      401 A BASE DE FRUITS
      402 A BASE DE PLANTES
      403 ANISES
      404 COGNACS ET ARMAGNACS
      405 CREMES DE FRUITS
      406 PORTOS ET VINS CUITS
      407 PREMIX PUNCHS & COCKTAILs
      408 APERITIFS SANS ALCOOL
      409 VINS DOUX NATURELS
      410 AUTRE APERITIF/DIGESTIF
    405 BIERES ET PANACHES
      501 BIERES
      502 BIERES AROMATISEES
      503 BIERES DU MONDE
      504 BIERES FUTS
      505 CAVE A BIERES
      506 BIERES SANS ALCOOL
      507 PANACHES
    406 CIDRES
      601 CIDRES BRUTS
      602 CIDRES DOUX
      603 CIDRES ROSES
      604 CIDRES AROMATISES

  041 LIQUIDES
    411 LIMONADES SODAS EXTRAIT
      101 LIMONADES
      102 BOISSON AUX FRUIT GAZEUSE
      103 BOISSON AUX FRUITS PLATES
      104 BOISSONS ENERGETIQUES
      105 BOISSONS A BASE DE THE
      106 CLEAR LIMES
      107 SODA AU EXTRAIT DE PLANTE
      108 COLAS
      109 SODA AU EXTRAIT DE FRUIT
      110 BOISSONS ENFANT
    412 JUS DE FRUITS
      201 PUR JUS DE FRUITS
      202 JUS DE FRUITS CONCENTRE
      203 NECTAR DE FRUITS
      204 JUS LEGUMES
    413 SIROPS ET CONCENTRES
      301 SIROPS BIDONS
      302 SIROPS BOUTEILLE
      303 CONCENTRES NON SUCRES
      304 AUTRES
      305 SIROP COCKTAIL
      306 BIO
    414 EAUX
      401 EAUX DE SOURCE PLATES
      402 EAUX GAZEUSES AROMATISEES
      403 PRODUITS REGIONAUX
      404 EAUX MINERALES PLATES
      405 EAUX MINERALES GAZEUSES
      406 EAUX PLATES AROMATISEES
      407 BOISSONS FONCTIONNELLES

05 D.H.P.
  050 PARFUMERIE
    501 RASAGE ET SOINS HOMME
      101 OUTILS DE RASAGE
      102 LAMES DE RASOIRS
      103 PRODUITS AVANT RASAGE
      104 PRODUITS APRES RASAGES
    502 DENTAIRE
      201 DENTIFRICES
      202 SOINS DENTAIRES
      203 NETTOYANT APPAR. DENTAIRE
      204 BROSSES DENTS ENFANTS
      205 BROSSES DENTS ADULTES
      206 ACCESSOIRES
    503 ACCESSOIRES DE TOILETTE
      301 ACCESSOIRES CHEVEUX
      302 ACCESSOIRES SALLE DE BAIN
      303 ACCESSOIRES MAQUILLAGE
      304 ACCESOIRE MANUC./PEDICURE
      305 ACCESSOIRES AUTRES
    504 COLORATION
      401 COLORATION LONGUE DUREE
      402 COLORATION TEMPORAIRE
      403 COLORATION TON SUR TON
      404 DIVERS
      405 COLORATION HOMME
    505 MAQUILLAGE
      501 MAQUILLAGE DES YEUX
      502 MAQUILLAGE ONGLES
      503 MAQUILLAGE DES LEVRES
      504 MAQUILLAGE VISAGE
    506 COTON
      601 COTON A DEMAQUILLER
      602 COTON PREDECOUPE
      603 COTONS TIGES
    507 HYGIENE CORPORELLE
      701 SAVONS DE TOILETTE
      702 BAINS
      703 DOUCHES
    508 SHAMPOOINGS/A.SHAMP/SOINS
      801 SHAMPOOINGS
      802 APRES SHAMPOOINGS ET SOIN
      803 LOTIONS CAPILLAIRES
    509 PARFUMERIE ALCOOLIQUE
      901 EAU DE COLOGNE
      902 EAU DE TOILETTE MASCULINE
      903 EAU DE TOILETTE FEMININE
      904 EAU DE TOILETTE ENFANT
      905 AUTRE
      906 PARFUM ARAB
    511 COIFFANTS
      101 FIXATEURS
      102 LAQUES
      103 PRODUIT PERMANENT-DIVERS
    512 DEODORANTS
      201 DEODORANTS FEMMES
      202 DEODORANTS HOMMES
      203 DEODORANTS AUTRES
    513 SOLAIRES
      301 AUTOBRONZANTS
      302 PRODUITS SOLAIRES ENFANTS
      303 PRODUITS SOLAIRES ADULTES
      304 APRES SOLEIL
      305 AUTRES PRODUITS SOLAIRES

  051 DROGUERIE HYGIENE
    512 VAISSELLE
      201 PRODUITS LAVE VAISSELLE
      202 VAISSELLE MAINS
    513 SPARTERIE BROSSERIE/MENAG
      301 SPARTERIE TAPIS BROSSE
      302 BROSSERIE BALAIS
      303 GANTS DE MENAGE
      304 EPONGES
      305 CHIFFONS
      306 ESSUIE TOUT
      307 SERPILIERE
    514 HYGIENE BEBE
      401 CHANGES BEBE
      402 CULOTTES
      403 AUTRES CHANGES BEBE
      404 ENURESIE
      405 TOILETTE BEBE
    515 PAPIERS
      501 ESSUIE TOUT UNI
      502 ESSUIE TOUT DECORE
      503 ROULEAUX
      504 PAQUETS
      505 AUTRES
    516 MOUCHOIRS
      601 BOITE
      602 ETUIS
      603 NETTOYANTS OPTIQUES
    518 PRDT WC/DESODORIS./JAVEL
      801 ENTRETIEN WC
      802 FOSSES SEPTIQUES
      803 DEBOUCHEURS
      804 CANALISATION
      805 DESODORISANTS
      806 JAVEL
    521 HYGIENE INTIME
      101 SERVIETTES
      102 PROTEGE-SLIPS
      103 TAMPONS
      104 INCONTINENCE
      105 TOILETTE INTIME
    523 ENTRETIEN DU LINGE
      301 LESSIVES LIQUIDES
      302 LESSIVES POUDRES
      303 DOSETTES
    524 PRODUITS D'ENTRETIEN
      401 CUIRS CHAUSSURES
      402 COMBUSTIBLES
      403 NETTOYANTS SPECIFIQUE SOL
      404 NETTOYANTS SPEC. MEUBLE
      405 NETTOYANT-GLACES-VITRES
      406 NETTOY.MENAG.MULTI USAGES
      407 NETTOYANT MENAGER SPEC.
    525 ASSOUPLISSANTS
      501 CLASSIQUES DILUES
      502 DOSES TABLETTES
      503 CLASSIQUES BERLINGOT
      504 ECO-RECHARGES
      505 ULTRAS
      506 VOILE SECHE-LINGE

06 TEXTILE
  060 FEMME
    601 VTEMENT DE NUIT FEMME
      101 CHEMISE DE NUIT
      102 PYJAMA
      103 NUISETTE
      104 ROBE DE CHAMBRE
    602 CONFECTION FEMME
      201 DEBARDEUR
      202 2 POLO
      203 T-SHIRT
      204 SWEATER / PULLOVER
      205 CARDIGAN / ENSEMBLE
      206 VESTE
      207 AUTRES
    603 CHEMISIER FEMME
      301 CHEMISE DE SOIREE
      302 CHEMISIER
    604 PANTALON FEMME
      401 JEANS
      402 PANTALON DECONTRACTE
      403 SALOPETTE
      404 BERMUDA
      405 SHORT
      406 LEGGING
    605 ENSEMBLE FEMME
      501 ENSEMBLE PANTALON
      502 ENSEMBLE SHORT
      503 ENSEMBLE JUPE
      504 ENSEMBLE ROBE
    606 ROBE/JUPE FEMME
      601 JUPE
      602 ROBE
    607 VTEMENT SPORT/PLAGE FEMME
      701 VETEMENT DE SPORT
      702 VETEMENT DE PLAGE
    609 SOUS-VETEMENT FEMME
      901 MAILLOT DE CORPS
      902 T-SHIRT
      903 STRING
      904 SLIP
      905 CALECON
      906 GAINE
      907 SOUTIEN-GORGE
      908 SOUS-VETEMENT LOCAL
      909 CHAUSSETTE CLASSIC
      910 CHAUSSETTE DECONTRACTE
      911 CHAUSSETTE SPORT
      912 CUISSARDE
      913 COLLANT
    611 ACCESSOIRES
      101 CEINTURE FEMME
      102 FOULARD&CHALES
      103 PARAPLUIE
      104 ARTICLES CUIR FEMME
      105 CHAPEAU FEMME
      106 GANTS FEMME
      107 BIJOUTERIE FANTAISI FEMME
      108 LUNETTES FEMME

  061 HOMME
    611 VTEMENT NUIT HOMME
      101 PYJAMA
      102 ROBE DE CHAMBRE
    612 CONFECTION HOMME
      201 POLO
      202 T-SHIRT
      203 SWEATER
      204 PULLOVER
      205 CARDIGAN
      206 VESTE
    613 CHEMISE HOMME
      301 CHEMISE CLASSIQUE
      302 CHEMISE DECONTRACTEE
    614 PANTALON HOMME
      401 JEANS
      402 PANTALON DECONTRACTE
      403 SALOPETTE
      404 BERMUDA
      405 SHORT
    615 VTEMENT SPORT/PLAGE HOMME
      501 VETEMENT DE SPORT
      502 VETEMENT DE PLAGE
    617 ACCESSOIRES HOMMES
      701 CEINTURE HOMME
      702 PARAPLUIE HOMME
      703 CUIR HOMME
      704 CHAPEAU HOMME
      705 GANTS HOMME
      706 BRETELLES
      707 CRAVATE HOMME
      708 FOULARD HOMME
      709 LUNETTES DE SOLEIL HOMME
      710 BIJOU HOMME
      711 GOLDAS MAN
    618 SOUS-VETEMENT HOMMES
      801 T-SHIRT
      802 SLIP
      803 BOXER SHORT
      804 SOUS-VETEMENT LOCAL
    619 CHAUSSETTES HOMMES
      901 CHAUSSETTES CLASSIQUE
      902 CHAUSSETTE DECONTRACTE
      903 CHAUSSETTE SPORT

  062 BEBE ENFANTS
    621 VTEMENT NUIT/INTER. 0-18M
      101 VETEMENT DE NUIT
      102 VETMENT DE NUIT INTERIEUR
      103 SS VETMENT BEBE / LAYETTE
    622 CONFECTION GARCON 0-18M
      201 POLO / T-SHIRT
      202 SWEATER
      203 CARDIGAN
    623 CHEMISE GARCON 0-18M
      301 CHEMISE UNIE
      302 CHEMISE IMPRIMEE
    624 PANTALON GARCON 0-18M
      401 JEANS
      402 PANTALON
      403 SALOPETTE
      404 BERMUDA
      405 SHORT
    625 ENSEMBLE GARCON 0-18M
      501 ENSEMBLE PANTALON
      502 ENSEMBLE SALOPETTE
      503 ENSEMBLE BERMUDA
      504 ENSEMBLE SHORT
    626 VTEMENT SPORT/PLAGE 0-18M
      601 VETEMENT DE SPORT
      602 VETEMENT DE PLAGE
    627 CONFECTION FILLE 0-18M
      701 POLO / T-SHIRT
      702 SWEATER / PULLOVER
      703 CARDIGAN / JACKET
    628 CHEMISE/BLOUSE FILE 0-18M
      801 SHIRT
      802 BLOUSE
    629 PANTALON FILLE 0-18M
      901 JEANS
      902 TROUSER
      903 DUNGAREE
      904 BERMUDA
      905 SHORT
      906 LEGGING
    631 ENSEMBLE FILLE 0-18M
      101 SET PANTALON
      102 SET SALOPPETTE
      103 SET BERMUDA
      104 SET SHORT
      105 SET JUPE
      106 SET ROBE
    632 ROBE/JUPE FILLE 0-18M
      201 JUPE
      202 ROBE
    633 VTEMENT SPORT/PLAGE 0-18M
      301 VETEMENT DE SPORT
      302 VETEMENT PLAGE
    634 CHAUSSETTES BEBE
      401 CHAUSSETTE BB BOY 0-18M
      402 CHAUSSETTE BB FILLE 0-18M

  064 CHAUSSURES
    641 CHAUSSURE ENFANT 0-2Y
    642 CHAUSSURE FILLE 3-16Y
    643 CHAUSSURE GARCON 3-16Y
    644 CHAUSSURE FEMME
    645 CHAUSSURE HOMME

07 BAZAR
  070 MENAGE
    701 VAISSELLE
      101 AMUSE BOUCHE ET MINIATURE
      102 PORCELAINE BLANCHE
      103 PORCELAINE DECOREE
      104 FAIENCE ET COULEUR
      105 ARDOISE
      106 SERVICE DE TABLE
      107 PLATS DE SERVICE
      108 AUTRES
      109 MELAMINE
      110 COUVERTS DE TABLE
      111 MENAGERES
    702 USTENSILES DE CUISINE
      201 COUTELLERIE DE CUISINE
      202 SET COUTEAUX
      203 GADGETS
      204 CISEAUX
      205 PLANCHE A DECOUPER
      206 CONDIMENTS
      207 PREPARATION
      208 BALANCE ET MINUTEUR
      209 GADGET INDIEN
      210 ISOTHERME
      211 PLASTIC DE TABLE
      212 PLATEAUX
      213 ARTICLE EVIERS
      214 AUTRES
      215 ARTICLES BOIS
    703 VERRERIE
      301 ASSIETTES ET COUPES
      302 VERRES
      303 VERRE APERO
      304 CARAFES - BOUTEILLES
      305 SEAU A GLACE
      306 BONBONNIERES
      307 VERRE CRISTAL
      308 SERVICE VERRE/ACCESOIRE
      309 CADEAUX
    704 CAFE/PETIT DEJEUNER
      401 TASSES
      402 MUGS
      403 BOLS
      404 CAFETIERE/THEIERE
      405 SERVICE A CAFE/THE
      406 AUTRES
      407 THERMOS/BTEILLE ISOTHERME
    705 CUISSON
      501 POELE
      502 FAITOUT
      503 CASSEROLE
      504 KADAI / WOKS
      505 AUTOCUISEUR - COCOTTES
      506 PLAT A FOUR
      507 SILICONE
      508 ARTICLES MICRO ONDES
      509 ACCESSOIRES - AUTRES
      511 SET DE CUISSON

  071 SPORTS
    711 SPORTS PLEIN AIR
      101 RAQUETTE TENNIS
      102 RAQUETTE SQUASH
      103 RAQUETTES BADMINGTON
      104 BALLONS ET ACCESSOIRES
      105 TENNIS DE TABLE
      106 ROLLER
      107 SET ROLLER
      108 SKATE ACCESSOIRES
      109 AUTRES SPORTS
      110 FITNESS LEGER
      111 FITNESS
      112 FITNESS ACCESSOIRES
      113 AUTRES FITNESS
      114 FLECHETTES
      115 FOOTBALL
      116 BASKETBALL
      117 VOLLEYBALL
      118 ACCESSOIRES SPORT EQUIPE
      119 AUTRES
    712 SPORTS AQUATIQUES
      201 LUNETTE PISCINE/BONNET
      202 MASK ET TUBA
      203 PALMES
      204 SET PLONGEE
      205 COMBINAISON PLONGEE
      206 ACCESSOIRES PLONGEES
      207 PISCINE/ACCESSOIRES
      208 BODYBOARD/SURF
      209 PLANCHE A VOILE/KITE
    713 PECHE
      301 CANNES A PECHE
      302 MOULINETS
      303 LIGNES/PLOMB
      304 LEURRES/HAMECON
      305 ACCESSOIRES PECHES

  072 BRICOLAGE/AUTO
    721 ACCESSOIRE AUTO INTERIEUR
      101 ANTENNES
      102 HOUSSE DE SIEGE/COUSSIN
      103 TAPIS DE SOL
      104 PROTECTION VOLANT
      105 DESODORISANTS
      106 PARE SOLEIL
      107 GADGETS
    722 ACCESSOIRE AUTO EXTERIEUR
      201 JERRICAN
      202 GALERIE DE TOIT/COFFRE
      203 MIRRORS
      204 ESSUIE GLASSES
      205 PROTEGE ROUE
      206 HOUSSE DE VOITURE
      207 DECORATION
      208 PROTECTION
      209 ACCESSOIRES
      210 SANGLE DE REMORQUAGE
      211 COMPRESSEUR/POMPES
      212 CABLE DE DEMARRAGE
      213 PNEUS
      214 AUTRES
    726 OUTILLAGE
      601 OUTILS
      602 KIT OUTILS
      603 VISSERIE/CLOU
      604 CORDES/CADENAS
      605 BOITE A OUTILS/RANGEMENT
      606 METRE
      607 CARTOUCHE
      608 FILTRE A EAU
      609 PROTECTION
      610 AUTRES

  079 JOUETS/CYCLES
    791 JOUET BEBE
      101 BOIS
      102 PELUCHE
      103 EDUCATIF
      104 EVEIL
      105 MOTRICITE
      106 AUTRES
    792 JOUET FILLE
      201 POUPON
      202 POUSSETTES ET ACCESSOIRES
      203 POUPEE
      204 POUPEE MANNEQUIN
      205 ACCESOIRE POUPEE MANEQUIN
      206 CUISINE
      207 BEAUTE
      208 IMITATION
      209 THEMATIQUES
      210 AUTRES
      211 FIGURINES
    793 JOUET GARCON
      301 ARMES
      302 BRICOLAGE
      303 ROBOT
      304 DRAGON DINOSAURE
      305 INTERVENTION
      306 VOITURE MINIATURE
      307 VOITURE TELECOMMANDEE
      308 ROAD RACING DIE CAST
      309 FIGURINES
      310 AUTRES
      311 VOITURE TLCDE REGARGEABLE
      312 AVION / HELICOPTERE
      313 ACCESSOIRES FIGURINES
      314 VEHICULE A FRICTION
      315 BATEAU RADIO COMMANDE
      316 EXTREME HOBBY
      317 THEMATIQUES
    794 JOUET MIXTE
      401 JEU DE SOCIETE
      402 PUZZLES
      403 PATE A MODELER
      404 LOISIRS CREATIFS
      405 PELUCHE
      406 CONSTRUCTION
      407 LCD GAMES
      408 TV GAMES
      409 EDUCATIONAL COMPUTERS
      410 MUSIC
      411 HEAVY TOYS
      412 OTHERS
      413 JEUX EDUCATIF
      414 MUSIC
      415 HALLOWEEN
      416 YO-YO
      417 CHARACTER WATCHES
      418 COSTUMES
    795 JEUX D ETE
      501 PISCINE
      502 ACCESSOIRES DE PISCINE
      503 ARTICLES GONFLABLES
      504 JEUX DE PLAGE
      505 MOBILER GONFLABLE
      506 PISTOLET A EAU
      507 JEU DE PLEIN AIR
      508 BALLE BALLON
      509 AUTRES
      510 JEUX D'EAU
    797 VELO/ENGINS MOTORISES
      701 VELO ENFANT
      702 VELO HOMME
      703 VELO FEMME
      704 ACCESSOIRES
      705 TROTTEUR
      706 SCOOTER TERRESTRE
      707 SCOOTER MARINE
      708 QUAD

08 BAZAR LOURD
  080 PETIT ELECTROMENAGER
    801 PETIT DEJEUNER
      101 CAFETIERE
      102 CAFETIERE EXPRESSO
      103 MOULIN A CAFE
      104 BOUILLOIRE
      105 GRILLE PAIN
      106 TOASTER
    802 PREPARATION CULINAIRE
      201 PRESSE AGRUMES
      202 ROBOT ALIMENTAIRE
      203 CUISEUR VAPEUR
      204 FRITEUSE
      205 MACHINE A PAIN
      206 MIXEUR FRUIT
      207 GRILL BARBECUE
      208 HACHOIR
      209 CUISEUR VAPEUR
      210 MIXER
      211 DOMINO GAS
      212 PLAQUE CHAUFFANTE
      213 BRULEUR GAS
      214 ACCESSOIRES ELECTRIQUES
    803 FOUR MICRO ONDES
      301 MICRO ONDES 15/20L
      302 MICRO ONDES 25/30L
      303 MINI FOUR <20L
      304 MINI FOUR>20L
    804 ENTRETIEN DU LINGE
      401 FER DE VOYAGE
      402 FER SEC
      403 FER VAPEUR
      404 CENTRALE VAPEUR
      405 MACHINE A COUDRE
    805 BEAUTE/SOINS DU CORPS
      501 SECHE CHEVEUX/LISSEUR
      502 SOINS DENTAIRE
      503 MASSAGE
      504 EPILATEUR
      505 AUTRES
      506 THERMOMETRE
      507 TENSIONMETRE
      508 SOINS DU VISAGE
      509 SOINS DES ONGLES
    806 RASOIRS
      601 RASOIRS HOMME
      602 EPILATION FEMME
      603 TONDEUSE
      604 EBARBEUSE
      605 EPILATEUR NEZ
    807 ENTRETIEN DU SOL
      701 ASPIRATEUR
      702 ASPIRATEUR EAU/POUSSIERE
      703 ASPIRATEUR CIREUR
      704 ASPIRATEUR A MAIN

  081 GROS ELECTROMENAGER
    811 LAVE LINGE/ SECHE LINGE
      101 TOP LOAD TWIN TUB
      102 MAL TOP AUTO
      103 MAL FRONTAL
      104 SECHE LINGE
      105 MAL SECHANTE
    812 LAVE VAISSELLE
      201 LAVE VAISSELLE
    813 REFRIGERATEUR
      301 FRIGO UP TO 59 LITRES
      302 FRIGO 60 A 99 LITRES
      303 FRIGO 100 A 149 LITRES
      304 FRIGO 150 A 240 LITRES
      305 FRIGO 241 A 330LITRES
      306 FRIGO 331 A 449 LITRES
      307 FRIGO 450 A 549 LITRES
      308 FRIGO 550 A 619 LITRES
      309 FRIGO 610 A 699 LITRES
      310 FRIGO 700 A 799 LITRES
      311 FRIGO 800 ET >
      312 FRIGO 23 CU FT
      313 FRIGO INTEGRE
      314 CAVE A VIN
      315 FRIGO DOUBLE PORTE
    814 CONGELATEUR
      401 CONGELATEUR BAHUT
      402 CONGELATEUR ARMOIRE
    815 CUISINIERE
      501 CUISINIERE GAS
      502 CUISINIERE ELECTRIQUE
      503 CUISINIERE MIXTE
    816 AIR CONDITIONNE
      601 CLIM FENETRE 1.5 TON
      602 CLIM FENETRE 2.0 TON
      603 SPLIT AC
      604 PORTABLE A/C

  082 INFORMATIQUE
    822 TELEPHONIE
      201 TELEPHONE AVEC FIL
      202 TELEPHONE A-FIL/REPONDEUR
      203 TELEPHONE SANS FIL
      204 TELEPHONE S-FIL/REPONDEUR
      205 DECT TELEPHONES
      206 REPONDEUR
      207 ACCESSOIRES TELEPHONE
      208 TELEPHONE MOBILE
      209 MOBILE PHONE
      210 SMART PHONE
      211 ACCESSOIRES MOBILE
      212 MOBILE ACCES/NON-ORIGINAL
    823 CONSOLES JEUX
      301 SONY PLAYSTATION
      302 MICROSOFT
      303 NINTENDO
      304 ACCESOIR SONY PLAYSTATION
      305 ACCESSOIRES MICROSOFT
      306 ACCESSOIRES NINTENDO
    824 INFORMATIQUE
      401 ORDINATEUR DE BUREAU
      402 LAPTOPS
      403 NET BOOKS
      404 PDA
      405 PDA ACCESSORIES
      406 IMPRIMANTES
      407 IMPRIMANTE MULTIFONCTION
      408 ECRANS
      409 CLAVIERS
      410 SCANNERS
      411 ACCESSOIRES LAPTOP
      412 IMPRIMANTE JET D'ENCRE
      413 IMPRIMANTE LASER
      414 TABLETTES
      415 ACCESSOIRES TABLETTES
    825 CALCULATRICE
      501 STANDARD
      502 SCIENTIFIC
      503 FINANCIAL
      504 AGENDA ELECTRONIC
      505 TRADUCTEUR
      506 DICTIONNAIRE
      507 ACCESSOIRES

  083 TELEVISION
    831 TELEVISION
      101 TV PLASMA
      102 TV LCD
      103 TV COMBO
      104 TV LED
      105 PROJECTEUR
    832 ACCESSOIRES
      201 CABLES
      202 MEUBLE TV
      203 TELECOMMANDE
      204 ANTENNE
      205 SACS
      206 BATTERIES
      207 ADAPTATEURS
      208 MISCELLANEOUS
    833 CAMERA VIDEO
      301 CAMESCOPE VHS-C
      302 CAMESCOPE 8MM
      303 CAMESCOPE DIGITAL
      304 PROJECTEUR
      305 HARD DISK RECORDER
    834 LECTEUR VIDEO
      401 LECTEUR DVD
      402 LECTEUR DVD ENREGISTREUR

  084 HIFI & SON
    841 PETIT SON
      101 RADIO POCKET
      102 ONDES COURTES RADIO
      103 CLOCK RADIO
      104 RADIO CASSETTE
    842 AUTO RADIO
      201 AUTO RADIO K7
      202 AUTO RADIO CD
      203 AMPLIFICATEUR
      204 CD CHANGER
      205 KIT AUTO RADIO
      206 HAUT PARLEURS
    843 MP3/MP4
      301 MP-3 /MP4/ IPOD
      302 ACCESOIRE MP3/MP4/IPOD
      303 DOCK STATION
    844 HIFI SYSTEMS
      401 MICRO SYSTEM
      402 MIDI SYSTEM
      403 MINI SYSTEM
      404 VIDEO SYSTEM
      405 HOME THEATER

  085 PHOTO
    851 CAMERA
      101 DIGITAL CAMERA
      102 CAMERA BOITIER DIGITAL
    852 APPAREIL DE VISION
      201 JUMELLES
      202 PROJECTEURS
      203 TELESCOPES
      204 OBJECTIFS
    853 ACCESSOIRES PHOTO
      301 TREPIED
      302 SAC
      303 FLASH
      304 OBJECTIFS
      305 BATTERIES
      306 CARTE MEMOIRE
      307 CADRE PHOTO DIGITAL
      308 KIT DE NETTOYAGE
      309 FILTRE PHOTO
`;function fce(){return uce}function hce(){const[n,e]=De.useState("hero"),t=fce(),i=()=>{e("app")},r=()=>{e("hero")};return n==="hero"?Be.jsx(aK,{onGetStarted:i}):Be.jsx(cce,{onBack:r,secteurStructure:t})}Mk.createRoot(document.getElementById("root")).render(Be.jsx(De.StrictMode,{children:Be.jsx(hce,{})}));
